(this["webpackJsonpgdevelop-ide"]=this["webpackJsonpgdevelop-ide"]||[]).push([[1],Array(295).concat([function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return c}));n(17);var r=n(8),a=8,o=function(e){return Object(r.jsx)("div",{id:e.id,style:{display:"flex",marginTop:e.noMargin?0:a,marginBottom:e.noMargin?0:a,alignItems:e.alignItems,justifyContent:e.justifyContent,flex:e.expand?1:void 0,overflow:e.overflow,minHeight:e.useFullHeight?"0":void 0},children:e.children})},i=function(e){return Object(r.jsx)("div",{id:e.id,style:{display:"flex",marginLeft:e.noMargin?0:a,marginRight:e.noMargin?0:a,flexDirection:"column",alignItems:e.alignItems||"stretch",justifyContent:e.justifyContent,flex:e.expand?1:void 0,minHeight:e.useFullHeight?"0":void 0,minWidth:e.noOverflowParent?0:void 0},children:e.children})},s=function(){return Object(r.jsx)("span",{style:{width:a,height:a,flexShrink:0}})},c=function(){return Object(r.jsx)("span",{style:{width:24,height:24,flexShrink:0}})}},function(e,t,n){"use strict";var r=n(3),a=n(18),o=n(17),i=n(2590),s=n(8),c=["children","style","size","color","align","noShrink","noMargin","allowSelection","allowBrowserAutoTranslate","displayInlineAsSpan","displayAsListItem"],u=function(e){switch(e){case"bold-title":return"h1";case"title":return"h2";case"section-title":return"h3";case"block-title":return"h4";case"sub-title":return"h5";case"body2":return"body2";case"body-small":return"caption";default:return"body1"}},l=function(e){switch(e){case"error":return"error";case"primary":default:return"textPrimary";case"secondary":return"textSecondary";case"inherit":return"inherit"}},d=o.forwardRef((function(e,t){var n=e.children,o=e.style,d=e.size,b=e.color,p=e.align,j=e.noShrink,h=e.noMargin,f=e.allowSelection,g=e.allowBrowserAutoTranslate,m=void 0===g||g,O=e.displayInlineAsSpan,v=e.displayAsListItem,x=Object(a.a)(e,c);return Object(s.jsx)(i.a,Object(r.a)(Object(r.a)({variant:u(d),ref:t,translate:m?"yes":"no",color:l(b),component:O?"span":v?"li":void 0,style:Object(r.a)(Object(r.a)({},o),{},{display:O?"inline-block":v?"list-item":void 0,flexShrink:j?0:void 0,marginTop:h?0:6,marginBottom:h?0:6,userSelect:f?"text":void 0,cursor:f?"text":void 0}),align:p||"inherit"},x),{},{children:n}))}));t.a=d},function(e,t,n){"use strict";n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return b})),n.d(t,"a",(function(){return p}));var r=n(3),a=n(17),o=n(295),i=n(309),s=n(8),c={flexShrink:0},u={container:{flex:1,display:"flex",alignItems:"flex-start"},filledTextFieldWithLabelRightButtonMargins:Object(r.a)(Object(r.a)({},c),{},{marginTop:15,marginLeft:8}),filledTextFieldWithoutLabelRightButtonMargins:Object(r.a)(Object(r.a)({},c),{},{marginTop:6,marginLeft:8}),standardTextFieldWithLabelRightButtonMargins:Object(r.a)(Object(r.a)({},c),{},{marginTop:17,marginLeft:8}),standardTextFieldWithoutLabelRightButtonMargins:Object(r.a)(Object(r.a)({},c),{},{marginTop:0,marginLeft:8})},l=function(e){var t=e.margin,n=e.noFloatingLabelText,r=e.renderTextField,a=e.renderButton;return Object(s.jsxs)("div",{style:u.container,children:[r(),a("none"===t?n?u.standardTextFieldWithoutLabelRightButtonMargins:u.standardTextFieldWithLabelRightButtonMargins:n?u.filledTextFieldWithoutLabelRightButtonMargins:u.filledTextFieldWithLabelRightButtonMargins)]})},d=function(e){var t=e.id,n=e.alignItems,r=e.justifyContent,i=e.expand,c=e.noMargin,u=e.children,l=e.useLargeSpacer,d=e.overflow,b=!0;return Object(s.jsx)(o.c,{id:t,alignItems:n,justifyContent:r,expand:i,noMargin:c,overflow:d,children:a.Children.map(u,(function(e,t){if(!e)return null;var n=!b;return b=!1,Object(s.jsxs)(a.Fragment,{children:[n&&(l?Object(s.jsx)(o.b,{}):Object(s.jsx)(o.d,{})),e]})}))})},b=function(e){var t=e.id,n=e.alignItems,r=e.justifyContent,a=e.expand,o=e.noMargin,c=e.noColumnMargin,u=e.width,l=e.useLargeSpacer,b=e.children,j=Object(i.b)();return"small"===(u||j)?Object(s.jsx)(p,{id:t,noMargin:o||c,expand:!0,useLargeSpacer:l,children:b}):Object(s.jsx)(d,{id:t,alignItems:n,justifyContent:r,expand:a,noMargin:o,useLargeSpacer:l,children:b})},p=function(e){var t=e.id,n=e.alignItems,r=e.justifyContent,i=e.expand,c=e.noMargin,u=e.children,l=e.noOverflowParent,d=e.useFullHeight,b=e.useLargeSpacer,p=!0;return Object(s.jsx)(o.a,{id:t,alignItems:n,justifyContent:r,expand:i,noMargin:c,noOverflowParent:l,useFullHeight:d,children:a.Children.map(u,(function(e,t){if(!e)return null;var n=!p;return p=!1,Object(s.jsxs)(a.Fragment,{children:[n&&(b?Object(s.jsx)(o.b,{}):Object(s.jsx)(o.d,{})),e]})}))})}},function(e,t,n){"use strict";var r=n(3),a=n(18),o=n(17),i=n(2578),s=n(295),c=n(8),u=["label","primary","leftIcon","rightIcon","keyboardFocused","disabled","id"],l=o.forwardRef((function(e,t){var n=e.label,o=e.primary,l=e.leftIcon,d=e.rightIcon,b=e.keyboardFocused,p=e.disabled,j=e.id,h=Object(a.a)(e,u);return Object(c.jsxs)(i.a,Object(r.a)(Object(r.a)({variant:"outlined",size:"small",color:o?"secondary":"default",autoFocus:b,focusRipple:!0,disabled:p,id:j},h),{},{ref:t,children:[l,l&&Object(c.jsx)(s.d,{}),n?Object(c.jsx)("span",{children:n}):null,d&&Object(c.jsx)(s.d,{}),d]}))}));t.a=l},,,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return P})),n.d(t,"a",(function(){return F}));var r=n(1),a=n(3),o=n(17),i=n(2597),s=n(2600),c=n(2603),u=n(2602),l=n(309),d=n(317),b=n.n(d),p=n(39),j=n(330),h=n(297),f=n(305),g=n(296),m=n(611),O=n(310),v=n(295),x=n(306),y=n(12),C=n.n(y),k=n(314),w=n(26),T=n(468),E=n(8),S=C()("electron"),P=function(e){var t=e.backgroundColor,n=Object(k.a)();Object(w.c)({onChanged:n});var r=navigator.windowControlsOverlay;return S||r&&r.visible?Object(E.jsx)("div",{className:"title-bar-draggable-part",style:{height:38,backgroundColor:t,flexShrink:0}}):null},I={dialogContainer:{display:"flex",flexDirection:"column",flex:1,overflowY:"auto"},dialogContent:{overflowX:"hidden",paddingLeft:0,paddingRight:0},flexColumnBody:{display:"flex",flexDirection:"column"},flexBody:{display:"flex"},titleContainer:{paddingBottom:16,textAlign:"left"},fixedContentContainer:{paddingBottom:8},actionsContainer:{paddingTop:24,paddingBottom:0,paddingLeft:0,paddingRight:0},actionsContainerWithSecondaryActions:{display:"flex",justifyContent:"space-between"},fullHeightModal:{minHeight:"calc(100% - 64px)"}},A=Object(i.a)((function(e){return{paper:{"&:before":{content:'""',height:60,background:"repeating-linear-gradient(110deg, ".concat(e.palette.error.dark,", ").concat(e.palette.error.dark," 25px, ").concat(e.palette.error.main," 25px, ").concat(e.palette.error.main," 40px)")}}}})),D=Object(i.a)({root:{"&::-webkit-scrollbar":{width:11},"&::-webkit-scrollbar-track":{background:"rgba(0, 0, 0, 0.04)",borderRadius:6},"&::-webkit-scrollbar-thumb":{border:"3px solid rgba(0, 0, 0, 0)",backgroundClip:"padding-box",borderRadius:6}}}),F=f.a;t.c=function(e){var t=e.onApply,n=e.secondaryActions,i=e.isDangerous,d=e.actions,f=e.open,y=e.onRequestClose,C=e.maxWidth,k=e.title,w=e.fixedContent,S=e.children,F=e.flexColumnBody,M=e.flexBody,_=e.fullHeight,L=e.id,R=e.cannotBeDismissed,N=e.exceptionallyStillAllowRenderingInstancesEditors,B=e.noMobileFullScreen,U=o.useContext(p.a),H=o.useContext(x.a),W=U.values.backdropClickBehavior,z=Object(l.b)(),V=d&&d.filter(Boolean).length>0||n&&n.filter(Boolean).length>0,G="small"===z&&!B,Z=A(),Y=D(),q=o.useMemo((function(){return Object(E.jsxs)(o.Fragment,{children:[n&&Object(E.jsx)(h.b,{noMargin:!0,children:n},"secondary-actions"),d&&Object(E.jsx)(h.b,{noMargin:!0,children:d},"actions")]})}),[d,n]),X=F?I.flexColumnBody:M?I.flexBody:{},J={paddingTop:k?0:16,paddingBottom:V?0:24},K=Object(a.a)(Object(a.a)(Object(a.a)({},I.dialogContent),X),J),Q=Object(a.a)(Object(a.a)({},I.dialogContainer),{},{margin:G?8:"".concat(16,"px ").concat(24,"px ").concat(24,"px ").concat(24,"px")}),$=o.useCallback((function(e,n){if(!R)if("escapeKeyDown"===n)y&&y();else if("backdropClick"===n)if("cancel"===W)y&&y();else if("apply"===W)t?t():y&&y();else if("nothing"===W)return}),[y,t,W,R]),ee=o.useCallback((function(e){if(Object(j.c)(e))return $(e,"escapeKeyDown"),void e.stopPropagation();if(t&&Object(j.f)(e)){e.stopPropagation();var n=document.activeElement;n&&n.blur(),t()}}),[$,t]);return Object(E.jsxs)(s.a,{classes:i?Z:void 0,open:f,onClose:$,fullWidth:!0,fullScreen:G,className:b()(Object(r.a)({"safe-area-aware-container":G},T.b,N)),PaperProps:{id:L,style:Object(a.a)({backgroundColor:H.dialog.backgroundColor},_?I.fullHeightModal:{})},maxWidth:void 0!==C?C:"md",disableBackdropClick:!1,onKeyDown:ee,children:[G&&Object(E.jsx)(P,{backgroundColor:H.titlebar.backgroundColor}),Object(E.jsxs)("div",{style:Q,children:[k&&Object(E.jsx)("div",{style:I.titleContainer,children:Object(E.jsxs)(v.c,{noMargin:!0,justifyContent:"space-between",children:[Object(E.jsx)(g.a,{noMargin:!0,size:"section-title",children:k}),y&&!R&&Object(E.jsx)(O.a,{onClick:y,size:"small",disabled:R,children:Object(E.jsx)(m.a,{})})]})}),w&&Object(E.jsx)("div",{style:I.fixedContentContainer,children:w}),Object(E.jsx)(u.a,{classes:Y,style:K,children:S}),V&&Object(E.jsx)(c.a,{style:Object(a.a)(Object(a.a)({},I.actionsContainer),n?I.actionsContainerWithSecondaryActions:{}),children:q})]})]})}},,function(e,t,n){"use strict";var r=n(3),a=n(18),o=n(17),i=n(2578),s=n(295),c=n(8),u=["label","primary","icon","disabled","style"],l=o.forwardRef((function(e,t){var n=e.label,o=e.primary,l=e.icon,d=e.disabled,b=e.style,p=Object(a.a)(e,u);return Object(c.jsxs)(i.a,Object(r.a)(Object(r.a)({variant:"contained",size:"small",disableElevation:!0,color:o?"primary":"default",focusRipple:!0,disabled:d,style:b||!n?Object(r.a)({minWidth:n?void 0:0},b):void 0},p),{},{ref:t,children:[l,!!l&&!!n&&Object(c.jsx)(s.d,{}),n?Object(c.jsx)("span",{children:n}):null]}))}));t.a=l},function(e,t,n){"use strict";var r=n(17),a=n(89),o=r.createContext(a.a.gdevelopTheme);t.a=o},function(e,t){var n=function(e,t,n){for(var r=[],a=e;a<t;a++)r.push(n(a));return r};e.exports={mapFor:n,mapReverseFor:function(e,t,n){for(var r=[],a=t-1;a>=e;a--)r.push(n(a));return r},mapVector:function(e,t){return n(0,e.size(),(function(n){return t(e.at(n),n)}))}}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));n(17);var r=n(314),a=n(909),o=function(e){return(0,e.children)(i())},i=function(){return Object(a.a)(Object(r.a)()),"undefined"===typeof window?"medium":window.innerWidth<750||window.innerHeight<350?"small":window.innerWidth<1150?"medium":"large"}},function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n(3),a=n(18),o=n(6),i=n(5),s=n(10),c=n(11),u=n(17),l=n(2592),d=n(2593),b=n(9),p=n(718),j=n(917),h=n(8),f=["tooltip","acceleratorString","color","style"],g=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e=this.props,t=e.tooltip,n=e.acceleratorString,o=e.color,i=e.style,s=Object(a.a)(e,f),c=Object(h.jsx)(l.a,Object(r.a)(Object(r.a)({},s),{},{style:i,color:o||"secondary"}));return t&&!this.props.disabled?Object(h.jsx)(b.I18n,{children:function(e){var r=e.i18n;return Object(h.jsx)(d.a,{title:r._(t)+(n?" "+Object(p.a)(n):""),placement:"bottom",enterDelay:j.a,children:c})}}):c}}]),n}(u.Component)},function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return m}));var r=n(3),a=n(34),o=n(17),i=n(9),s=n(403),c=n.n(s),u=n(2592),l=n(2715),d=n(2596),b=n(345),p=n(363),j=n(467),h=n(8),f=function(e){return{variant:"none"===e.margin?"standard":"filled",margin:"none"===e.margin?"none":"dense",hiddenLabel:"none"!==e.margin&&!e.floatingLabelText}},g=o.forwardRef((function(e,t){var n=o.useRef(null),s=o.useRef(null),g=o.useState(!1),m=Object(a.a)(g,2),O=m[0],v=m[1],x=function(t){var r=n.current;r&&(r.focus(),t&&"end"===t.caretPosition&&e.value&&r.setSelectionRange(e.value.toString().length,e.value.toString().length))},y=function(){n.current&&n.current.blur()},C=function(){return n.current?n.current:null},k=function(){return s.current?s.current.clientWidth:null};o.useImperativeHandle(t,(function(){return{focus:x,blur:y,getInputNode:C,getFieldWidth:k}}));var w=e.onChange||void 0,T=e.helperMarkdownText?Object(h.jsx)(b.a,{source:e.helperMarkdownText}):null,E=Object(p.c)(),S=!!e.autoFocus&&("desktopAndMobileDevices"===e.autoFocus||E);return Object(h.jsx)(i.I18n,{children:function(t){var a=t.i18n;return Object(h.jsx)(l.a,Object(r.a)(Object(r.a)({ref:s,color:"secondary",type:void 0!==e.type?"password"===e.type?O?"text":"password":e.type:void 0,value:void 0!==e.value?e.value:void 0,defaultValue:void 0!==e.defaultValue?e.defaultValue:void 0,onChange:w?function(e){return w(e,e.target.value)}:void 0,error:!!e.errorText,helperText:e.errorText||T,disabled:e.disabled,required:e.required,InputLabelProps:{shrink:!!e.floatingLabelFixed||void 0},label:e.floatingLabelText,name:e.name,placeholder:e.hintText?e.hintText:e.translatableHintText?a._(e.translatableHintText):void 0,id:e.id,autoFocus:S,multiline:e.multiline,rows:e.rows,rowsMax:e.rowsMax},f(e)),{},{fullWidth:e.fullWidth,InputProps:{disableUnderline:void 0!==e.underlineShow&&!e.underlineShow,style:{fontSize:e.style?e.style.fontSize:void 0,fontStyle:e.style?e.style.fontStyle:void 0},readOnly:e.readOnly,inputProps:Object(r.a)({onKeyPress:e.onKeyPress,onKeyUp:e.onKeyUp,onKeyDown:e.onKeyDown,onClick:e.onClick,maxLength:e.maxLength,max:e.max,min:e.min,step:e.step,style:e.inputStyle},Object(j.a)(e.dataset)),endAdornment:void 0!==e.type&&"password"===e.type?Object(h.jsx)(d.a,{position:"end",children:Object(h.jsx)(u.a,{size:"small",onClick:function(){return v(!O)},children:Object(h.jsx)(c.a,{})})}):e.endAdornment?Object(h.jsx)(d.a,{position:"end",children:e.endAdornment}):void 0},style:e.style?{width:e.style.width||void 0,flex:e.style.flex||void 0,top:e.style.top||void 0}:void 0,onFocus:e.onFocus,onBlur:e.onBlur,inputRef:n,spellCheck:"false"}))}})}));t.b=g;var m=0},function(e,t,n){"use strict";var r=n(3),a=n(17),o=n(952),i=n.n(o),s=n(507),c=n.n(s),u=n(729),l=n.n(u),d=n(295),b=n(296),p=n(306),j=n(297),h=n(612),f=n.n(h),g=n(310),m=n(327),O=n(8),v={icon:{width:28,height:28,marginRight:10,marginLeft:10},topRightHideButton:{position:"absolute",right:0,top:0},paper:{position:"relative"},hideIcon:{width:16,height:16},content:{flex:1}};t.a=function(e){var t=e.kind,n=e.children,o=e.onHide,s=e.renderRightButton,u=e.renderLeftIcon,h=a.useContext(p.a);return Object(O.jsxs)(m.a,{variant:"outlined",style:v.paper,background:"dark",children:[Object(O.jsx)(d.a,{expand:!0,children:Object(O.jsx)(d.c,{expand:!0,children:Object(O.jsxs)(j.c,{alignItems:"center",justifyContent:"space-between",noMargin:!0,expand:!0,children:[Object(O.jsxs)(d.c,{noMargin:!0,alignItems:"center",children:[u?Object(O.jsxs)(a.Fragment,{children:[u(),Object(O.jsx)(d.d,{})]}):Object(O.jsxs)(a.Fragment,{children:["info"===t&&Object(O.jsx)(i.a,{style:v.icon}),"warning"===t&&Object(O.jsx)(c.a,{style:Object(r.a)(Object(r.a)({},v.icon),{},{color:h.message.warning})}),"error"===t&&Object(O.jsx)(l.a,{style:Object(r.a)(Object(r.a)({},v.icon),{},{color:h.message.error})})]}),Object(O.jsx)(b.a,{style:v.content,children:n})]}),s&&s()]})})}),o&&Object(O.jsx)("div",{style:v.topRightHideButton,children:Object(O.jsx)(g.a,{"aria-label":"hide",onClick:function(){return o()},size:"small",children:Object(O.jsx)(f.a,{style:v.hideIcon})})})]})}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(34),a=n(17);function o(){var e=a.useState(),t=Object(r.a)(e,2)[1];return a.useCallback((function(){return t({})}),[])}},,function(e,t,n){"use strict";var r=n(3),a=(n(17),n(347)),o=n(8),i={display:"flex",alignItems:"center",justifyContent:"center",flex:1,padding:10};t.a=function(e){return Object(o.jsx)("div",{style:Object(r.a)(Object(r.a)({},i),e.style),children:Object(o.jsx)(a.a,{style:e.messageStyle,children:e.children})})}},,function(e,t,n){"use strict";var r=n(9),a=(n(17),n(386)),o=n(957),i=n.n(o),s=n(26),c=n(470),u=n(309),l=n(613),d=n(8);t.a=function(e){var t=Object(u.b)();if(!e.helpPagePath)return null;var n=Object(c.a)(e.helpPagePath,e.anchor);if(!n)return null;return"small"!==t?Object(d.jsx)(a.a,{onClick:function(){e.helpPagePath&&s.b.openExternalURL(n)},target:"_blank",label:e.label||Object(d.jsx)(r.Trans,{id:"Help"}),icon:Object(d.jsx)(i.a,{})}):Object(d.jsx)(l.a,{size:"small",helpPagePath:e.helpPagePath})}},function(e,t,n){"use strict";n.d(t,"b",(function(){return s}));var r=n(2),a=n(0),o=n.n(a),i=n(17),s=(n(23),{authenticated:!1,firebaseUser:null,profile:null,loginState:null,badges:null,cloudProjects:null,cloudProjectsFetchingErrorLabel:null,receivedAssetPacks:null,receivedAssetShortHeaders:null,subscription:null,usages:null,limits:null,onLogout:function(){var e=Object(r.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onLogin:function(){},onForgotPassword:function(){var e=Object(r.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onEdit:function(){},onChangeEmail:function(){},onCreateAccount:function(){},onBadgesChanged:function(){var e=Object(r.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onCloudProjectsChanged:function(){var e=Object(r.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onRefreshUserProfile:function(){var e=Object(r.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onRefreshFirebaseProfile:function(){var e=Object(r.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onSubscriptionUpdated:function(){var e=Object(r.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onPurchaseSuccessful:function(){var e=Object(r.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onSendEmailVerification:function(){var e=Object(r.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onOpenEmailVerificationDialog:function(){},onAcceptGameStatsEmail:function(){var e=Object(r.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getAuthorizationHeader:function(){return Promise.reject(new Error("Unimplemented"))}}),c=i.createContext(s);t.a=c},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(6),a=n(5),o=n(451),i=n(12),s=n.n(i),c=s()("electron"),u=s()("path"),l=function(){function e(){Object(r.a)(this,e),this.projectCache={}}return Object(a.a)(e,[{key:"_getProjectCache",value:function(e){var t=this.projectCache[e.ptr];return t||(this.projectCache[e.ptr]={})}},{key:"getCachedUrl",value:function(e,t){return this._getProjectCache(e)[t]}},{key:"cacheUrl",value:function(e,t){return this._getProjectCache(e)[t]=t}},{key:"burstUrl",value:function(e,t){delete this._getProjectCache(e)[t]}},{key:"cacheLocalFileUrl",value:function(e,t,n,r){var a=this._getProjectCache(e);return a[t]=r?n:"".concat(n,"?cache=").concat(Date.now())}}]),e}(),d=function(){function e(){Object(r.a)(this,e)}return Object(a.a)(e,null,[{key:"burstUrlsCacheForResources",value:function(t,n){var r=t.getResourcesManager();n.forEach((function(n){r.hasResource(n)&&e._cache.burstUrl(t,r.getResource(n).getFile())}))}},{key:"burstAllUrlsCache",value:function(){e._cache=new l}},{key:"getFullUrl",value:function(t,n,r){var a=r.isResourceForPixi,i=r.disableCacheBurst;if(c&&function(e){return!(e.startsWith("http://")||e.startsWith("https://")||e.startsWith("ftp://")||e.startsWith("blob:")||e.startsWith("data:"))}(n)){var s=e._cache.getCachedUrl(t,n);if(s)return s;var l=t.getProjectFile(),d=u.dirname(l),b=u.resolve(d,n).replace(/\\/g,"/");return console.info("Caching resolved local filename:",b),this._cache.cacheLocalFileUrl(t,n,"file://"+b,!!i)}var p=Object(o.a)(n);a&&(p=function(e,t,n){if(e.startsWith("data:")||e.startsWith("blob:"))return e;var r=-1===e.indexOf("?")?"?":"&";return e+r+t+"="+n}(p,"gdUsage","pixi"));var j=e._cache.getCachedUrl(t,p);return j||(console.info("Caching resolved url:",p),this._cache.cacheUrl(t,p))}},{key:"getResourceFullUrl",value:function(t,n,r){if(t.getResourcesManager().hasResource(n)){var a=t.getResourcesManager().getResource(n).getFile();return e.getFullUrl(t,a,r)}return n}}]),e}();d._cache=new l},function(e,t,n){"use strict";var r=n(17),a=n(9),o=n(306),i=n(8);t.a=function(e){var t=r.useContext(o.a);return Object(i.jsx)(a.I18n,{children:function(n){var r=n.i18n;return Object(i.jsx)("option",{value:e.value,disabled:e.disabled,style:{color:t.text.color.primary,backgroundColor:t.palette.canvasColor},children:e.primaryTextIsUserDefined?e.primaryText:r._(e.primaryText)})}})}},function(e,t,n){"use strict";var r=n(3),a=n(17),o=n(9),i=n(2715),s=n(311),c=n(345),u=n(2597),l=n(8),d=function(e){return e.stopPropagation()},b=a.forwardRef((function(e,t){var n=a.useRef(null),b=function(){n.current&&n.current.focus()};a.useImperativeHandle(t,(function(){return{focus:b}}));var p,j=(p=e.textAlign,Object(u.a)({root:{textAlign:p||"left",cursor:"default"}})()),h=e.onChange||void 0,f=!0,g=a.Children.map(e.children,(function(e){return null!==e&&e.props?e.props.value:null}));g?f=0!==g.filter((function(t){return t===e.value})).length:console.error("SelectField has been passed no or invalid children. Only SelectOption and null are supported.");var m=f?e.value:"",O=e.helperMarkdownText?Object(l.jsx)(c.a,{source:e.helperMarkdownText}):null;return Object(l.jsx)(o.I18n,{children:function(t){var a=t.i18n;return Object(l.jsxs)(i.a,Object(r.a)(Object(r.a)({id:e.id,select:!0,color:"secondary"},Object(s.a)(e)),{},{disabled:e.disabled,fullWidth:e.fullWidth,label:e.floatingLabelText,helperText:O,value:m,onClick:e.stopPropagationOnClick?d:void 0,onChange:h?function(e){h(e,-1,e.target.value)}:void 0,InputProps:{style:e.inputStyle,disableUnderline:!!e.disableUnderline},InputLabelProps:{shrink:!0},SelectProps:{native:!0,classes:j},style:e.style,inputRef:n,children:[f?null:Object(l.jsx)("option",{value:"",disabled:!0,children:e.translatableHintText?a._(e.translatableHintText):a._({id:"Choose an option"})}),e.children]}))}})}));t.a=b},function(e,t,n){"use strict";var r=n(3),a=(n(17),n(364)),o=n(8),i={display:"flex",alignItems:"center",justifyContent:"center",flex:1,padding:10};t.a=function(e){return Object(o.jsx)("div",{style:Object(r.a)(Object(r.a)({},i),e.style),children:Object(o.jsx)(a.a,{size:40})})}},function(e,t,n){"use strict";var r=n(3),a=n(18),o=n(34),i=n(17),s=n(311),c=n(8),u=["value","onChange","commitOnBlur","onFocus","onBlur","type"],l=i.forwardRef((function(e,t){var n=i.useState(!1),l=Object(o.a)(n,2),d=l[0],b=l[1],p=i.useState(null),j=Object(o.a)(p,2),h=j[0],f=j[1],g=i.useRef(null),m=function(e){f(e)},O=function(e,t){var n=x();n&&(n.selectionStart=e,n.selectionEnd=t)},v=function(){g.current&&g.current.focus()},x=function(){if(g.current)return g.current.getInputNode()},y=function(){if(g.current)return g.current.getFieldWidth()};i.useImperativeHandle(t,(function(){return{focus:v,getInputNode:x,forceSetSelection:O,forceSetValue:m,getFieldWidth:y}}));var C=e.value,k=e.onChange,w=e.commitOnBlur,T=e.onFocus,E=e.onBlur,S=e.type,P=Object(a.a)(e,u);return Object(c.jsx)(s.b,Object(r.a)(Object(r.a)({},P),{},{type:S||"text",ref:g,value:d?h:C,onFocus:function(e){b(!0),f(C),T&&T(e)},onChange:function(e,t){f(t),w||k(t)},onBlur:function(e){k(e.currentTarget.value),b(!1),f(null),E&&E(e)}}))}));t.a=l},,,function(e,t,n){"use strict";var r=n(3),a=n(17),o=n(2584),i=n(306),s=n(8);t.a=function(e){var t=e.children,n=e.background,c=e.elevation,u=e.variant,l=e.style,d=e.square,b=a.useContext(i.a),p="dark"===n?b.paper.backgroundColor.dark:"medium"===n?b.paper.backgroundColor.medium:b.paper.backgroundColor.light;return Object(s.jsx)(o.a,{variant:u,elevation:c||0,style:Object(r.a)({backgroundColor:p},l),square:!!d,children:t})}},,,function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"g",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"f",(function(){return s})),n.d(t,"h",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return l}));var r=function(e){return"Escape"===e.key},a=function(e){return"Enter"===e.key&&!e.shiftKey},o=function(e){return e.shiftKey&&"Enter"===e.key},i=function(e){return"Enter"===e.key||" "===e.key},s=function(e){return(e.metaKey||e.ctrlKey)&&"Enter"===e.key},c=function(e){return e.metaKey||e.ctrlKey},u=function(e){return"Tab"===e.key&&!e.shiftKey},l=function(e){return"Tab"===e.key&&e.shiftKey}},function(e,t,n){"use strict";var r=n(3),a=n(17),o=n(94),i=n.n(o),s=n(8),c={flex:1};t.a=a.forwardRef((function(e,t){var n=e.children,o=e.autoHideScrollbar,u=e.style,l=e.onScroll,d=a.useRef(null);a.useImperativeHandle(t,(function(){return{getScrollPosition:function(){var e=d.current;if(!e)return 0;var t=e.getBoundingClientRect().top;return e.scrollTop+t},scrollTo:function(e){var t=d.current;if(t){var n=i.a.findDOMNode(e);if(n instanceof HTMLElement){var r=n.getBoundingClientRect().top,a=t.getBoundingClientRect().top;t.scrollTop+=r-a}else console.error("Tried to scroll to something that is not a HTMLElement")}},scrollToPosition:function(e){var t=d.current;if(t){var n=t.getBoundingClientRect().top;t.scrollTop=e-n}},scrollToBottom:function(){var e=d.current;e&&(e.scrollTop=e.scrollHeight)}}}));var b=a.useCallback((function(){if(l){var e=d.current;if(e){var t=e.getBoundingClientRect().top;l(e.scrollTop+t)}}}),[l]);return Object(s.jsx)("div",{style:Object(r.a)(Object(r.a)({},c),{},{overflowY:o?"auto":"scroll"},u),onScroll:b,ref:d,children:n})}))},,,,,function(e,t,n){"use strict";n.d(t,"c",(function(){return M})),n.d(t,"d",(function(){return _})),n.d(t,"b",(function(){return R})),n.d(t,"a",(function(){return N}));var r=n(3),a=n(34),o=n(17),i=n(2585),s=n(2580),c=n(2588),u=n(2589),l=n(2605),d=n(955),b=n.n(d),p=n(508),j=n.n(p),h=n(2592),f=n(730),g=n.n(f),m=n(469),O=n.n(m),v=n(1420),x=n.n(v),y=n(350),C=n(2593),k=n(328),w=n.n(k),T=n(954),E=n.n(T),S=n(467),P=n(552),I=n(2607),A=n(405),D=n(8),F=!0,M=32,_=29,L={listItemText:{margin:"1px 0",wordBreak:"break-word"},listWithGap:{display:"flex",alignItems:"flex-start",gap:10,flexDirection:"column"},noLeftPaddingListItem:{paddingLeft:0}},R=o.forwardRef((function(e,t){var n=o.useState(!!e.initiallyOpen),d=Object(a.a)(n,2),p=d[0],f=d[1],m=o.useRef(null),v=o.useCallback((function(){m.current&&m.current.open()}),[m]),k=Object(P.a)(v),T=function(){return e.displayReloadButton?Object(D.jsx)(l.a,{children:Object(D.jsx)(C.a,{title:e.reloadButtonTooltip,children:Object(D.jsx)(h.a,{size:"small",edge:"end","aria-label":"reload",onClick:e.onReload,children:Object(D.jsx)(g.a,{})})})}):e.buildMenuTemplate?e.displayMenuButton?Object(D.jsx)(l.a,{children:Object(D.jsx)(y.a,{ref:m,element:Object(D.jsx)(h.a,{size:"small",edge:"end","aria-label":"menu",children:Object(D.jsx)(A.a,{style:{color:e.rightIconColor}})}),buildMenuTemplate:e.buildMenuTemplate})}):Object(D.jsx)(y.a,{ref:m,element:Object(D.jsx)("div",{}),buildMenuTemplate:e.buildMenuTemplate}):e.displayLinkButton?Object(D.jsx)(l.a,{children:Object(D.jsx)(h.a,{size:"small",edge:"end","aria-label":"open link",onClick:e.onOpenLink,children:Object(D.jsx)(O.a,{style:{color:e.rightIconColor}})})}):e.displayRemoveButton?Object(D.jsx)(l.a,{children:Object(D.jsx)(h.a,{size:"small",edge:"end","aria-label":"remove",onClick:e.onRemove,children:Object(D.jsx)(x.a,{style:{color:e.rightIconColor}})})}):null},M=e.noPadding?L.noLeftPaddingListItem:void 0,_=e.renderNestedItems;if(_){var R=void 0===e.open?p:e.open,N=function(){f(!R),e.onClick&&e.onClick()};return Object(D.jsxs)(o.Fragment,{children:[Object(D.jsxs)(s.a,Object(r.a)(Object(r.a)({button:!e.disableButtonBehaviorForParentItem,dense:F,disableRipple:!0,onClick:N,disabled:e.disabled,style:Object(r.a)(Object(r.a)({},M),e.style),ref:t,id:e.id},Object(S.a)(e.data)),{},{children:[e.leftIcon&&Object(D.jsx)(c.a,{children:e.leftIcon}),Object(D.jsx)(u.a,{style:L.listItemText,primary:e.primaryText,secondary:e.secondaryText,className:e.disableAutoTranslate?"notranslate":""}),e.autoGenerateNestedIndicator?R?Object(D.jsx)(l.a,{children:Object(D.jsx)(h.a,{size:"small",edge:"end","aria-label":"collapse",onClick:N,children:Object(D.jsx)(b.a,{})})}):Object(D.jsx)(l.a,{children:Object(D.jsx)(h.a,{size:"small",edge:"end","aria-label":"expand",onClick:N,children:Object(D.jsx)(j.a,{})})}):null,T()]})),Object(D.jsx)(I.a,{in:R,timeout:"auto",unmountOnExit:!0,children:Object(D.jsx)(i.a,{component:"div",disablePadding:!0,style:Object(r.a)({paddingLeft:16},e.nestedListStyle),dense:F,children:_()})})]})}return Object(D.jsxs)(s.a,Object(r.a)(Object(r.a)(Object(r.a)({button:!0,dense:F,disableRipple:!0,ContainerComponent:"div",onClick:e.onClick,onDoubleClick:e.onDoubleClick,disabled:e.disabled,selected:e.selected,style:Object(r.a)(Object(r.a)({},M),e.style),onContextMenu:e.buildMenuTemplate?v:void 0},k),{},{alignItems:2===e.secondaryTextLines?"flex-start":void 0,ref:t,id:e.id},Object(S.a)(e.data)),{},{children:[e.leftIcon&&Object(D.jsx)(c.a,{style:{marginTop:0},children:e.leftIcon}),Object(D.jsx)(u.a,{style:L.listItemText,primary:e.primaryText,secondary:e.secondaryText,className:e.disableAutoTranslate?"notranslate":""}),T(),e.displayAddIcon&&Object(D.jsx)(w.a,{style:{color:e.rightIconColor}}),e.displaySearchIcon&&Object(D.jsx)(E.a,{style:{color:e.rightIconColor}})]}))})),N=function(e){var t=Object(r.a)({},e.style);return e.useGap&&(t=Object(r.a)(Object(r.a)({},t),L.listWithGap)),Object(D.jsx)(i.a,{style:t,dense:F,children:e.children})}},,function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return i}));var r=e.gd;function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"serializeTo",n=new r.SerializerElement;e[t](n);var a=JSON.parse(r.Serializer.toJSON(n));return n.delete(),a}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"serializeTo",n=new r.SerializerElement;e[t](n);var a=r.Serializer.toJSON(n);return n.delete(),a}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"unserializeFrom",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,o=r.Serializer.fromJSObject(t);a?e[n](a,o):e[n](o),o.delete()}}).call(this,n(25))},,function(e,t,n){"use strict";var r=n(3),a=(n(17),n(2597)),o=n(2598),i=n(2613),s=n(2725),c=n(2595),u=n(8),l=Object(a.a)({root:{marginLeft:9,marginRight:9,marginTop:0,marginBottom:0,padding:0}}),d=Object(a.a)({root:{display:"block"}});t.a=function(e){var t=e.onCheck,n=l(),a=d(),b=Object(u.jsx)(s.a,{className:n.root,disabled:e.disabled,checked:e.checked,onChange:t?function(e){return t(e,e.target.checked)}:void 0,icon:e.uncheckedIcon,checkedIcon:e.checkedIcon,style:e.label?void 0:e.style});return e.label?Object(u.jsxs)(i.a,{classes:a,children:[Object(u.jsx)(o.a,{control:b,label:e.label,style:Object(r.a)(Object(r.a)({},e.style),{},{cursor:"default"})}),e.tooltipOrHelperText&&Object(u.jsx)(c.a,{children:e.tooltipOrHelperText})]}):b}},,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(1),a=n(17),o=n(1311),i=n.n(o),s=n(9),c=n(306),u=n(317),l=n.n(u),d=n(8),b=function(e){var t,n=a.useContext(c.a),o=a.useMemo((function(){return t=e.isStandaloneText||!1,n=e.allowParagraphs||!1,{a:function(e){return e.href?Object(d.jsx)("a",{href:e.href,target:"_blank",rel:"noopener noreferrer",children:e.children}):e.children},p:function(e){return t||n?Object(d.jsx)("p",{children:e.children}):e.children}};var t,n}),[e.isStandaloneText,e.allowParagraphs]),u=Object(d.jsx)(s.I18n,{children:function(t){var n=t.i18n;return Object(d.jsx)(i.a,{components:o,children:e.translatableSource?n._(e.translatableSource):e.source})}}),b=l()((t={"gd-markdown":!0},Object(r.a)(t,n.markdownRootClassName,!0),Object(r.a)(t,"standalone-text-container",e.isStandaloneText),t));return e.isStandaloneText?Object(d.jsx)("div",{className:b,children:u}):Object(d.jsx)("span",{className:b,children:u})}},,function(e,t,n){"use strict";var r=n(3),a=n(17),o=n(2590),i=n(306),s=n(8);t.a=function(e){var t=a.useContext(i.a);return Object(s.jsx)(o.a,{variant:"body2",align:"center",component:"div",style:Object(r.a)({opacity:.6,textShadow:"1px 1px 0px ".concat(t.emptyMessage.shadowColor),userSelect:e.allowSelection?"text":void 0,cursor:e.allowSelection?"text":void 0},e.style),title:e.tooltipText,children:e.children})}},function(e,t,n){"use strict";var r=n(9),a=(n(17),n(295)),o=n(305),i=n(316),s=n(297),c=n(8);t.a=function(e){var t=e.onRetry,n=e.children;return Object(c.jsx)(a.a,{expand:!0,alignItems:"center",justifyContent:"center",children:Object(c.jsx)(a.c,{noMargin:!0,children:Object(c.jsxs)(s.a,{noMargin:!0,alignItems:"center",children:[Object(c.jsx)(i.a,{children:n}),Object(c.jsx)(a.c,{noMargin:!0,children:t&&Object(c.jsx)(o.a,{primary:!0,label:Object(c.jsx)(r.Trans,{id:"Retry"}),onClick:t})})]})})})}},function(e,t,n){"use strict";n.d(t,"s",(function(){return r})),n.d(t,"t",(function(){return a})),n.d(t,"j",(function(){return o})),n.d(t,"o",(function(){return i})),n.d(t,"p",(function(){return s})),n.d(t,"h",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"v",(function(){return d})),n.d(t,"u",(function(){return b})),n.d(t,"m",(function(){return p})),n.d(t,"k",(function(){return j})),n.d(t,"l",(function(){return h})),n.d(t,"n",(function(){return f})),n.d(t,"d",(function(){return g})),n.d(t,"f",(function(){return m})),n.d(t,"g",(function(){return O})),n.d(t,"e",(function(){return v})),n.d(t,"b",(function(){return x})),n.d(t,"i",(function(){return y})),n.d(t,"q",(function(){return C})),n.d(t,"r",(function(){return k}));var r="selectable",a="selected",o="icon",i="large-selectable",s="large-selected",c="executable-event-container",u="actions-container",l="conditions-container",d="sub-instructions-container",b="small-width-container",p="instruction-parameter",j="instruction-invalid-parameter",h="instruction-missing-parameter",f="instruction-warning-parameter",g="disabled-text",m="events-tree",O="with-search-results",v="drop-indicator",x="cant-drop-indicator",y="move-handle",C="link-container",k="name-and-icon-container"},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(3),a=n(18),o=n(6),i=n(5),s=n(7),c=n(10),u=n(11),l=n(17),d=n(94),b=n.n(d),p=n(497),j=n(8),h=["element","buildMenuTemplate","openMenuWithSecondaryClick","passExtraProps"],f=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).open=function(){var t=Object(s.a)(e)._contextMenu;if(t){var n=b.a.findDOMNode(e._wrappedElement);if(n instanceof HTMLElement){var r=n.getBoundingClientRect();t.open(Math.round(r.left+r.width/2),Math.round(r.top+r.height))}}},e}return Object(i.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.element,o=t.buildMenuTemplate,i=t.openMenuWithSecondaryClick,s=t.passExtraProps,c=Object(a.a)(t,h);return Object(j.jsxs)(l.Fragment,{children:[l.cloneElement(n,Object(r.a)(Object(r.a)({onContextMenu:this.open},i?{}:{onClick:this.open}),{},{ref:function(t){return e._wrappedElement=t}},s?c:{})),Object(j.jsx)(p.a,{ref:function(t){return e._contextMenu=t},buildMenuTemplate:o})]})}}]),n}(l.Component)},,function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var r=n(3),a=n(17),o=n(2719),i=n(2604),s=n(2597),c=n(309),u=n(306),l=n(8),d={tabs:{borderTopLeftRadius:5,borderTopRightRadius:5},tab:{flexGrow:1},selectedTab:{borderTopLeftRadius:5,borderTopRightRadius:5},tabIndicator:{height:3},tabScrollButton:{display:"none"}},b=Object(s.a)({wrapper:{display:"block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}});function p(e){var t=b();return Object(l.jsx)(i.a,Object(r.a)({classes:t},e))}function j(e){var t=e.value,n=e.onChange,i=e.options,s=e.variant,b=Object(c.b)(),j=a.useContext(u.a),h="small"===b&&i.length>=3||"medium"===b&&i.length>=5||"large"===b&&i.length>=7,f=h?"scrollable":"fullWidth";return Object(l.jsx)(o.a,{variant:s||f,textColor:"primary",value:t,onChange:function(e,t){return n(t)},scrollButtons:s||h?"on":"off",style:d.tabs,TabIndicatorProps:{style:Object(r.a)(Object(r.a)({},d.tabIndicator),{},{backgroundColor:j.tabs.indicator.backgroundColor})},TabScrollButtonProps:{style:d.tabScrollButton},children:i.map((function(e,n){var a=e.value===t,o=i.findIndex((function(e){return e.value===t})),s=0!==n&&(n-o>=2||o-n>=1);return Object(l.jsx)(p,{value:e.value,disabled:e.disabled,label:e.label,id:e.id,tabIndex:n,style:Object(r.a)(Object(r.a)({},d.tab),a?d.selectedTab:s?{borderLeft:"1px solid ".concat(j.tabs.separator.color)}:{})},n)}))})}},,function(e,t,n){"use strict";(function(e){n.d(t,"c",(function(){return b})),n.d(t,"g",(function(){return p})),n.d(t,"b",(function(){return j})),n.d(t,"d",(function(){return h})),n.d(t,"a",(function(){return f})),n.d(t,"j",(function(){return g})),n.d(t,"i",(function(){return m})),n.d(t,"k",(function(){return O})),n.d(t,"f",(function(){return v})),n.d(t,"h",(function(){return x})),n.d(t,"e",(function(){return y}));var r=n(3),a=n(320),o=n(12),i=n.n(o),s=n(95),c=n(748),u=i()("fs"),l=i()("path"),d=e.gd,b=function(e,t){var n=a.a.getResourceFullUrl(e,t,{}).substring(7);return-1!==n.indexOf("?cache=")&&(n=n.substring(0,n.lastIndexOf("?cache="))),n},p=function(e,t){var n=l.dirname(e.getProjectFile());return t.includes(n)},j=function(e,t,n){if(!u||!l)return Promise.resolve(t);var r=l.dirname(e.getProjectFile());return Promise.all(t.map((function(t){if(p(e,t))return n.set(t,t),t;var a=l.basename(t),o=l.extname(a),i=l.basename(a,o),c=Object(s.a)(i,(function(e){var t=l.join(r,e)+o;return u.existsSync(t)})),d=l.join(r,c+o);return new Promise((function(e){u.copyFile(t,d,(function(r){return r?(n.set(t,t),e(t)):(n.set(d,t),e(d))}))}))})))},h=function(e,t){if(!e.getResourcesManager().hasResource(t))return"";if(!u)return"";var n=e.getResourcesManager().getResource(t).getFile();if(x(n))return"";var r=l.resolve(l.dirname(e.getProjectFile()),n);return u.existsSync(r)?p(e,r)?"":"warning":"error"},f=function(e,t){t instanceof d.ImageResource&&t.setSmooth("nearest"!==e.getScaleMode())},g=function(e,t){var n=Object(c.a)(t),r=new d.ResourcesRenamer(n);n.delete(),e.exposeResources(r),r.delete()},m=function(e){var t=e.getMetadata();if(t)try{var n=JSON.parse(t);if(n&&"object"===typeof n)return{localFilePath:n.localFilePath&&"string"===typeof n.localFilePath?n.localFilePath:null,extension:n.extension&&"string"===typeof n.extension?n.extension:null}}catch(r){console.warn("Malformed metadata for resource with name "+e.getName()+" - ignoring it.")}return{localFilePath:null,extension:null}},O=function(e,t){var n=e.getMetadata();try{var a=n?JSON.parse(n):{};return void e.setMetadata(JSON.stringify(Object(r.a)(Object(r.a)({},a),t)))}catch(o){}e.setMetadata(JSON.stringify(t))},v=function(e){return e.startsWith("http://")||e.startsWith("https://")||e.startsWith("ftp://")},x=function(e){return e.startsWith("http://")||e.startsWith("https://")||e.startsWith("ftp://")||e.startsWith("blob:")||e.startsWith("data:")},y=function(e){return e.startsWith("blob:")}}).call(this,n(25))},,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return L}));var r=n(3),a=n(6),o=n(5),i=n(10),s=n(11),c=n(17),u=n(2594),l=n(620),d=n.n(l),b=n(1918),p=n.n(b),j=n(305),h=n(324),f=n(307),g=n(1906),m=n(1911),O=n(1136),v=n(820),x=n(1912),y=n(102),C=n.n(y),k=n(2611),w=n(297),T=n(1913),E=n(1916),S=n(1917),P=n(309),I=n(330),A=n(327),D=n(8),F=e.gd,M={container:{display:"flex",alignItems:"flex-start"},textFieldContainer:{flex:1,minWidth:200},textFieldAndHightlightContainer:{position:"relative"},expressionSelectorPopoverContentSmall:{display:"flex",maxHeight:250},expressionSelectorPopoverContent:{display:"flex",maxHeight:350},input:{fontFamily:'"Lucida Console", Monaco, monospace',lineHeight:1.4},backgroundHighlightingWithFloatingLabel:{marginTop:22,paddingLeft:12,paddingRight:12,boxSizing:"border-box"},backgroundHighlightingInline:{marginTop:0,paddingLeft:0,paddingRight:0},backgroundHighlightingInlineWithFloatingLabel:{marginTop:22,paddingLeft:0,paddingRight:0}},_=function(e,t,n,r,a){var o=new F.ExpressionValidator(F.JsPlatform.get(),t,n,r);a.visit(o);var i=o.getErrors(),s=Object(f.mapVector)(i,(function(e){return{begin:e.getStartPosition(),end:e.getEndPosition()+1,message:e.getMessage(),type:"error"}})),c=Math.max(0,s.length-10),u=s.length>1,l=(c>0?s.slice(0,10):s).map((function(e,t){return(u?"[".concat(t+1,"] "):"")+e.message})).join(" ");return o.delete(),{errorText:l,errorHighlights:s}},L=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(a.a)(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i)))._field=null,e._fieldElementWidth=null,e._inputElement=null,e.state={popoverOpen:!1,parametersDialogOpen:!1,selectedExpressionInfo:null,validatedValue:e.props.value,errorText:null,errorHighlights:[],autocompletions:Object(E.a)()},e.focus=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e._field&&(e._field.focus(),t&&e._inputElement&&e._inputElement.setSelectionRange(0,e.props.value.toString().length),e._enqueueValidation())},e._openExpressionPopover=function(){e.setState({popoverOpen:!0})},e._handleFocus=function(e){e.preventDefault()},e._handleRequestClose=function(){e.setState({popoverOpen:!1})},e._handleChange=function(t){e.setState({validatedValue:t},(function(){return e._enqueueValidation()}))},e._handleBlur=function(t){var n=t.currentTarget.value;e.props.onChange&&e.props.onChange(n),e.setState({validatedValue:n},(function(){e._enqueueValidation.cancel(),e._doValidation(),e.setState({autocompletions:Object(E.a)()})}))},e._shouldOpenParametersDialog=function(e){return Object(O.b)(e.metadata)},e._handleExpressionChosen=function(t){var n={popoverOpen:!1};e._shouldOpenParametersDialog(t)?n=Object(r.a)(Object(r.a)({},n),{},{parametersDialogOpen:!0,selectedExpressionInfo:t}):e.insertExpression(t,[]),e.setState(n)},e.insertExpression=function(t,n){if(e._inputElement){var r=e.props,a=r.globalObjectsContainer,o=r.objectsContainer,i=r.expressionType,s=r.value,c=e._inputElement.selectionStart,u=new F.ExpressionParser2,l=u.parseExpression(s.substr(0,c)+"fakeIdentifier"+s.substr(c)).get(),d=F.ExpressionNodeLocationFinder.getNodeAtPosition(l,c+"fakeIdentifier".length-1),b=F.ExpressionTypeFinder.getType(F.JsPlatform.get(),a,o,i,d),p="number"===t.metadata.getReturnType()&&"string"===b,j=Object(v.a)(t,n,{shouldConvertToString:p});u.delete();var h=s.substr(0,c)+j+s.substr(c);e.props.onChange&&e.props.onChange(h),e.setState({validatedValue:h},(function(){return e._enqueueValidation()})),setTimeout((function(){e._field&&e._field.focus(),setTimeout((function(){e._inputElement&&e._inputElement.setSelectionRange(c,c+j.length)}),5)}),5)}},e._onExpressionAutocompletionsScroll=function(){e.state.autocompletions.renderEverything||e.setState({autocompletions:Object(E.e)(e.state.autocompletions)})},e._insertAutocompletion=function(t){if(!t.isExact){var n=e._inputElement?e._inputElement.selectionStart:0,r=e.state.validatedValue,a="FullExpression"===t.kind?{expression:t.completion,caretLocation:t.completion.length}:Object(T.b)({expression:r,caretLocation:n},{completion:t.completion,replacementStartPosition:t.replacementStartPosition,replacementEndPosition:t.replacementEndPosition,addParenthesis:t.addParenthesis,addDot:t.addDot,addParameterSeparator:t.addParameterSeparator,addNamespaceSeparator:t.addNamespaceSeparator,hasVisibleParameters:t.hasVisibleParameters,shouldConvertToString:"Expression"===t.kind?t.shouldConvertToString:null}),o=a.expression,i=a.caretLocation;e._field&&e._field.forceSetValue(o),e.props.onChange&&e.props.onChange(o),e.setState({validatedValue:o},(function(){e._enqueueValidation(),e._field&&e._field.forceSetSelection(i,i)}))}},e._enqueueValidation=C()((function(){e._doValidation()}),250),e._doValidation=function(){var t=e.props,n=t.project,r=t.globalObjectsContainer,a=t.objectsContainer,o=t.expressionType,i=t.scope,s=t.onGetAdditionalAutocompletions,c=t.onExtractAdditionalErrors;if(!n)return null;var u=e.state.validatedValue,l=new F.ExpressionParser2,d=l.parseExpression(u).get(),b=_(F.JsPlatform.get(),r,a,o,d),p=b.errorText,j=b.errorHighlights,h=[c?c(u,d):null,p].filter(Boolean).join(" - ");if(u.length>0&&" "===u.charAt(u.length-1))e.setState((function(e){return{errorText:h,errorHighlights:j,autocompletions:Object(E.a)()}}));else{var f=e._inputElement?e._inputElement.selectionStart:0,g=F.ExpressionCompletionFinder.getCompletionDescriptionsFor(F.JsPlatform.get(),r,a,o,d,f-1),m=Object(T.a)({gd:F,project:n,globalObjectsContainer:r,objectsContainer:a,scope:i},g),O=s?s(u).concat(m):m;l.delete(),e.setState((function(e){return{errorText:h,errorHighlights:j,autocompletions:Object(E.f)(e.autocompletions,O)}}))}},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this._field&&(this._fieldElementWidth=this._field.getFieldWidth(),this._inputElement=this._field?this._field.getInputNode():null)}},{key:"render",value:function(){var e=this,t=this.props,n=t.value,a=t.expressionType,o=t.parameterMetadata,i=t.project,s=t.scope,l=t.globalObjectsContainer,b=t.objectsContainer,f=t.parameterRenderingService,O=o?o.getDescription():this.props.isInline?void 0:"-",v=o?o.getLongDescription():void 0,y={width:this._fieldElementWidth||"auto",marginLeft:-5,zIndex:d.a.tooltip+100},C=this.props.isInline?O?M.backgroundHighlightingInlineWithFloatingLabel:M.backgroundHighlightingInline:M.backgroundHighlightingWithFloatingLabel;return Object(D.jsxs)(c.Fragment,{children:[Object(D.jsx)(w.d,{margin:this.props.isInline?"none":"dense",renderTextField:function(){return Object(D.jsxs)("div",{style:M.textFieldContainer,children:[Object(D.jsxs)("div",{style:M.textFieldAndHightlightContainer,children:[Object(D.jsx)(x.a,{value:e.state.validatedValue,style:Object(r.a)(Object(r.a)({},M.input),C),highlights:e.state.errorHighlights}),Object(D.jsx)(h.a,{id:e.props.id,margin:e.props.isInline?"none":"dense",value:n,floatingLabelText:O,helperMarkdownText:v,hintText:"string"===a?'""':void 0,inputStyle:M.input,onChange:e._handleChange,onBlur:e._handleBlur,ref:function(t){return e._field=t},onFocus:e._handleFocus,errorText:e.state.errorText,onClick:function(){return e._enqueueValidation()},onKeyDown:function(t){var n=Object(E.d)(e.state.autocompletions,{event:t,onUpdateAutocompletions:e._enqueueValidation,onInsertAutocompletion:e._insertAutocompletion});if(e.setState({autocompletions:n}),Object(I.c)(t)||Object(I.f)(t)||Object(I.g)(t)){var r=t.currentTarget.value;e.props.onChange&&e.props.onChange(r)}},multiline:!0,fullWidth:!0})]}),e._inputElement&&e.state.popoverOpen&&Object(D.jsx)(k.a,{onClickAway:e._handleRequestClose,children:Object(D.jsx)(u.a,{style:y,open:e.state.popoverOpen,anchorEl:e._inputElement,placement:"bottom",disablePortal:!0,children:Object(D.jsx)(P.a,{children:function(t){return Object(D.jsx)(A.a,{style:"small"===t?M.expressionSelectorPopoverContentSmall:M.expressionSelectorPopoverContent,background:"light",children:Object(D.jsx)(g.a,{selectedType:"",onChoose:function(t,n){e._handleExpressionChosen(n)},expressionType:a,focusOnMount:!0,scope:s})})}})})}),e._inputElement&&!e.state.popoverOpen&&f&&Object(D.jsx)(S.a,{project:i,anchorEl:e._inputElement,expressionAutocompletions:Object(E.c)(e.state.autocompletions),remainingCount:Object(E.b)(e.state.autocompletions),selectedCompletionIndex:e.state.autocompletions.selectedCompletionIndex,onScroll:e._onExpressionAutocompletionsScroll,onChoose:function(t){e._insertAutocompletion(t),setTimeout(e.focus,50)},parameterRenderingService:f})]})},renderButton:function(t){return Object(D.jsxs)(c.Fragment,{children:[!e.props.isInline&&e.props.renderExtraButton&&e.props.renderExtraButton({style:t}),!e.props.isInline&&Object(D.jsx)(j.a,{id:"open-".concat(a,"-expression-popover-button"),icon:Object(D.jsx)(p.a,{}),label:"string"===a?'"ABC"':"number"===a?"123":"",primary:!0,style:t,onClick:e._openExpressionPopover})]})}}),this.state.parametersDialogOpen&&this.state.selectedExpressionInfo&&Object(D.jsx)(m.a,{project:i,scope:s,globalObjectsContainer:l,objectsContainer:b,expressionMetadata:this.state.selectedExpressionInfo.metadata,onDone:function(t){e.state.selectedExpressionInfo&&(e.insertExpression(e.state.selectedExpressionInfo,t),e.setState({parametersDialogOpen:!1,selectedExpressionInfo:null}))},onRequestClose:function(){e.setState({parametersDialogOpen:!1,selectedExpressionInfo:null})},parameterRenderingService:f})]})}}]),n}(c.Component)}).call(this,n(25))},function(e,t,n){"use strict";var r=n(3),a=(n(17),n(327)),o=n(8),i={container:{display:"flex",flexDirection:"column"},maxWidth:{maxWidth:"100%"}};t.a=function(e){return Object(o.jsx)(a.a,{square:!0,style:Object(r.a)(Object(r.a)({},i.container),{},{height:e.noFullHeight?void 0:"100%",width:e.width?e.width:void 0,flex:e.noExpand?void 0:1},e.maxWidth?i.maxWidth:void 0),background:"dark",children:e.children})}},,,,function(e,t,n){"use strict";var r=n(34),a=n(3),o=n(17),i=n.n(o),s=n(2720),c=n(310),u=n(311),l=n(2607),d=n(2715),b=n(2584),p=n(296),j=n(732),h=n.n(j),f=n(2723),g=n(350),m=n(613),O=n(363),v=n(330),x=n(295),y=n(731),C=n(9),k=n(905),w=n(8),T=i.a.memo((function(e){return Object(w.jsx)(k.a,Object(a.a)(Object(a.a)({},e),{},{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",children:Object(w.jsx)("path",{d:"M5.33335 1.66669C3.30831 1.66669 1.66669 3.30831 1.66669 5.33335C1.66669 7.35841 3.30831 9.00002 5.33335 9.00002C7.35841 9.00002 9.00002 7.35841 9.00002 5.33335C9.00002 3.30831 7.35841 1.66669 5.33335 1.66669ZM0.666687 5.33335C0.666687 2.75602 2.75602 0.666687 5.33335 0.666687C7.9107 0.666687 10 2.75603 10 5.33335C10 6.44191 9.61349 7.46019 8.96786 8.26076L11.1869 10.4798C11.3822 10.6751 11.3822 10.9916 11.1869 11.1869C10.9916 11.3822 10.6751 11.3822 10.4798 11.1869L8.26076 8.96786C7.46019 9.61349 6.44191 10 5.33335 10C2.75603 10 0.666687 7.9107 0.666687 5.33335Z",fillRule:"evenodd",clipRule:"evenodd",fill:"currentColor"})}))})),E=n(611),S=n(306),P=n(471),I=n(467),A=n(423),D=function(){},F=o.forwardRef((function(e,t){var n=e.id,i=e.disabled,j=e.placeholder,k=e.onChange,F=e.onRequestSearch,M=e.value,_=e.aspect,L=e.tagsHandler,R=e.tags,N=e.buildMenuTemplate,B=e.helpPagePath,U=e.autoFocus;o.useImperativeHandle(t,(function(){return{focus:H,blur:W}}));var H=function(){ne.current&&ne.current.focus()},W=function(){ne.current&&ne.current.blur()},z=o.useState(!1),V=Object(r.a)(z,2),G=V[0],Z=V[1],Y=o.useContext(S.a),q=o.useState(M),X=Object(r.a)(q,2),J=X[0],K=X[1],Q=o.useState(M),$=Object(r.a)(Q,2),ee=$[0],te=$[1],ne=o.useRef(null),re=!!J&&J.length>0,ae=function(e){var t=e.nonEmpty,n=e.disabled,r=e.theme,o=e.aspect,i=e.focused,s=e.hasHelpPage,c=n?.38:1;return{root:{height:30,display:"flex",flex:1,justifyContent:"space-between",backgroundColor:n?r.searchBar.backgroundColor.disabled:r.searchBar.backgroundColor.default,borderRadius:"integrated-search-bar"===o?0:4},iconButtonClose:{style:{opacity:c,visibility:t&&!n?"visible":"hidden",transition:"visibility 0s linear 0.1s"}},iconButtonSearch:{container:{padding:"5px 10px"},iconStyle:{fontSize:18,opacity:i?1:.5,transition:"opacity 200ms cubic-bezier(0.4, 0.0, 0.2, 1)"}},iconButtonFilter:{style:{opacity:c,transform:t?"translateX(0)":"translateX(".concat(30,"px)"),transition:"transform 200ms cubic-bezier(0.4, 0.0, 0.2, 1)"}},iconButtonHelp:{style:{opacity:c,transform:t?"translateX(0)":"translateX(".concat(30,"px)"),transition:"transform 200ms cubic-bezier(0.4, 0.0, 0.2, 1)"}},inputStyle:Object(a.a)({padding:0,color:n?r.searchBar.textColor.disabled:t&&i?r.searchBar.textColor.focused:r.searchBar.textColor.default},A.a),searchContainer:{position:"relative",display:"flex",width:"100%"},inputContainer:{margin:"auto 4px",flex:1},popperContainer:{left:"-".concat(43,"px"),right:"-".concat(s?66:33,"px"),position:"absolute",zIndex:1}}}({nonEmpty:re,disabled:!!i,theme:Y,aspect:_,focused:G,hasHelpPage:!!B}),oe=function(e){var t=e.theme,n=e.disabled,r=(e.nonEmpty,e.focused);return Object(s.a)({root:{border:"1px solid ".concat(r?t.searchBar.borderColor.focused:"transparent"),"&:hover":{border:!r&&!n&&"1px solid ".concat(t.searchBar.borderColor.hovered)}}})()}({theme:Y,disabled:!!i,nonEmpty:re,focused:G}),ie=Object(P.a)(k||D,250),se=o.useCallback((function(e){K(e),ie(e)}),[ie,K]),ce=o.useCallback((function(e){K(e),k&&k(e)}),[k,K]);o.useEffect((function(){K(M)}),[M]);var ue=Object(O.c)(),le=!!U&&("desktopAndMobileDevices"===U||ue),de=o.useRef(L?L.chosenTags.size:0);o.useEffect((function(){le&&L&&0===L.chosenTags.size&&de.current>0&&H()}),[L,le]);var be=function(){Z(!1),J&&""!==J.trim()||ce("")},pe=function(){Z(!0)},je=function(e){se(e.target.value)},he=function(){ce(""),H()},fe=function(e){Object(v.g)(e)&&F(J)},ge=function(e,t,n){"select-option"===n?(L&&L.add(t||""),ce(""),te("")):ce(t||"")},me=function(e,t,n){"reset"===n?(ce(""),te("")):se(t||"")};return Object(w.jsx)(C.I18n,{children:function(e){var t=e.i18n;return Object(w.jsxs)(x.a,{noMargin:!0,children:[Object(w.jsx)(x.c,{noMargin:!0,children:Object(w.jsxs)(b.a,{classes:oe,style:ae.root,children:[Object(w.jsx)("div",{style:ae.iconButtonSearch.container,children:Object(w.jsx)(T,{style:ae.iconButtonSearch.iconStyle})}),Object(w.jsx)("div",Object(a.a)(Object(a.a)({style:ae.searchContainer},Object(I.a)({searchBarContainer:"true"})),{},{children:Object(w.jsx)("div",{style:ae.inputContainer,children:R?Object(w.jsx)(f.a,{id:n,options:R,freeSolo:!0,fullWidth:!0,defaultValue:"",inputValue:J,value:ee,onChange:ge,onInputChange:me,onKeyPress:fe,onBlur:be,onFocus:pe,getOptionDisabled:function(e){return e.disabled||!!L&&!!L.chosenTags.has(e)},getOptionSelected:function(e,t){return!!L&&L.chosenTags.has(e)},PopperComponent:function(e){return Object(w.jsx)("div",{style:ae.popperContainer,children:e.children})},renderOption:function(e){return Object(w.jsx)(p.a,{noMargin:!0,children:e})},renderInput:function(e){return Object(w.jsx)(d.a,Object(a.a)(Object(a.a)({margin:"none"},e),{},{autoFocus:le,inputRef:ne,InputProps:Object(a.a)(Object(a.a)({},e.InputProps),{},{disableUnderline:!0,endAdornment:null,placeholder:t._(j||{id:"Search"}),style:ae.inputStyle})}))}}):Object(w.jsx)(u.b,{id:n,margin:"none",dataset:{searchBar:"true"},translatableHintText:j||{id:"Search"},onBlur:be,value:J,onChange:je,onKeyUp:fe,fullWidth:!0,underlineShow:!1,disabled:i,ref:ne,inputStyle:ae.inputStyle,onFocus:pe,autoFocus:U})})})),N&&Object(w.jsx)(g.a,{element:Object(w.jsx)(c.a,{style:ae.iconButtonFilter.style,disabled:i,size:"small",children:Object(w.jsx)(h.a,{})}),buildMenuTemplate:N}),B&&Object(w.jsx)(m.a,{disabled:i,helpPagePath:B,style:ae.iconButtonHelp.style,size:"small"}),Object(w.jsx)(c.a,{onClick:he,style:ae.iconButtonClose.style,disabled:i,size:"small",children:Object(w.jsx)(E.a,{})})]})}),L&&Object(w.jsx)(l.a,{in:L.chosenTags.size>0,children:Object(w.jsx)(y.a,{tags:Array.from(L.chosenTags),onRemove:function(e){1===L.chosenTags.size&&H(),L.remove(e)}})})]})}})}));t.a=F},,function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s}));n(17);var r=n(309),a=!1;"undefined"!==typeof window&&window.addEventListener("touchstart",(function e(){console.info("Touch detected, considering the screen as touch enabled."),a=!0,window.removeEventListener("touchstart",e,!1)}),!1);var o=function(e){return(0,e.children)(i())},i=function(){return"undefined"===typeof window?"normal":a?"touch":"normal"},s=function(){var e="touch"===i(),t=Object(r.b)();return"large"===t||"medium"===t&&!e}},function(e,t,n){"use strict";n(17);var r=n(2608),a=n(8);t.a=function(e){return Object(a.jsx)(r.a,{color:"secondary",style:e.style,size:e.size,disableShrink:e.disableShrink,variant:"determinate"===e.variant?"static":e.variant,value:e.value})}},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6),a=n(5),o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;Object(r.a)(this,e),this.left=t,this.top=n,this.right=a,this.bottom=o}return Object(a.a)(e,[{key:"set",value:function(e){var t=e.left,n=e.top,r=e.right,a=e.bottom;this.left=t,this.top=n,this.right=r,this.bottom=a}},{key:"setThroughCenter",value:function(e){var t=e.centerX,n=e.centerY,r=e.width,a=e.height;this.set({left:t-r/2,top:n-a/2,right:t+r/2,bottom:n+a/2})}},{key:"setRectangle",value:function(e){this.left=e.left,this.top=e.top,this.right=e.right,this.bottom=e.bottom}},{key:"width",value:function(){return this.right-this.left}},{key:"height",value:function(){return this.bottom-this.top}},{key:"centerX",value:function(){return(this.left+this.right)/2}},{key:"centerY",value:function(){return(this.top+this.bottom)/2}},{key:"union",value:function(e){e.left<this.left&&(this.left=e.left),e.top<this.top&&(this.top=e.top),e.right>this.right&&(this.right=e.right),e.bottom>this.bottom&&(this.bottom=e.bottom)}},{key:"containsPoint",value:function(e,t){return this.left<=e&&this.right>e&&this.bottom>t&&this.top<=t}},{key:"toCSSPosition",value:function(){return{top:this.top,left:this.left,width:this.width(),height:this.height()}}},{key:"toString",value:function(){return"["+this.left+" -> "+this.right+" ; "+this.top+" -> "+this.bottom+"]"}}],[{key:"fromDOMRect",value:function(e){return new this(e.left,e.top,e.right,e.bottom)}}]),e}()},,function(e,t,n){"use strict";n(17);var r=n(364),a=n(8),o={progress:{marginRight:8,verticalAlign:"middle"}};t.a=function(e){var t=e.children,n=e.isLoading;return Object(a.jsxs)("span",{children:[n&&Object(a.jsx)(r.a,{size:18,style:o.progress}),t]})}},function(e,t,n){"use strict";n.d(t,"e",(function(){return j})),n.d(t,"k",(function(){return h})),n.d(t,"d",(function(){return f})),n.d(t,"b",(function(){return g})),n.d(t,"l",(function(){return m})),n.d(t,"i",(function(){return O})),n.d(t,"j",(function(){return v})),n.d(t,"c",(function(){return x})),n.d(t,"f",(function(){return y})),n.d(t,"g",(function(){return C})),n.d(t,"n",(function(){return k})),n.d(t,"m",(function(){return w})),n.d(t,"h",(function(){return T})),n.d(t,"a",(function(){return P}));var r=n(2),a=n(34),o=n(0),i=n.n(o),s=n(40),c=n.n(s),u=n(35),l=n(1024),d=n.n(l),b=n(431),p=c.a.create({baseURL:u.b.baseUrl}),j=function(e,t){return!t.gdevelopVersion||d()(e,t.gdevelopVersion,{includePrerelease:!0})},h=function(e){var t=e.environment;return p.get("/asset",{params:{environment:t}}).then((function(e){return e.data})).then((function(e){var t=e.assetShortHeadersUrl,n=e.filtersUrl,r=e.assetPacksUrl;if(!t||!n||!r)throw new Error("Unexpected response from the resource endpoint.");return Promise.all([p.get(t).then((function(e){return e.data})),p.get(n).then((function(e){return e.data})),p.get(r).then((function(e){return e.data}))]).then((function(e){var t=Object(a.a)(e,3);return{publicAssetShortHeaders:t[0],publicFilters:t[1],publicAssetPacks:t[2]}}))}))},f=function(){var e=Object(r.a)(i.a.mark((function e(t,n){var r,a,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.environment,e.next=3,p.get("/asset/".concat(t.id),{params:{environment:r}});case 3:if((a=e.sent).data.assetUrl){e.next=6;break}throw new Error("Unexpected response from the asset endpoint.");case 6:return e.next=8,p.get(a.data.assetUrl);case 8:return o=e.sent,e.abrupt("return",o.data);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),g=function(){var e=Object(r.a)(i.a.mark((function e(t,n,r){var a,o,s,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.environment,a=t.assetPackId){e.next=4;break}throw new Error("The asset does not have a private asset pack id.");case 4:return o="".concat(u.i.baseUrl,"/").concat(a,"/").concat(t.id,".json"),s=Object(b.a)(o,n),e.next=8,p.get(s);case 8:return c=e.sent,e.abrupt("return",c.data);case 10:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),m=function(e){var t=e.environment;return p.get("/resource",{params:{environment:t}}).then((function(e){return e.data})).then((function(e){var t=e.resourcesUrl,n=e.filtersUrl;if(!t||!n)throw new Error("Unexpected response from the resource endpoint.");return Promise.all([p.get(t).then((function(e){return e.data})),p.get(n).then((function(e){return e.data}))]).then((function(e){var t=Object(a.a)(e,2);return{resources:t[0],filters:t[1]}}))}))},O=function(e){var t=e.environment;return p.get("/author",{params:{environment:t}}).then((function(e){return e.data})).then((function(e){var t=e.authorsUrl;if(!t)throw new Error("Unexpected response from author endpoint.");return p.get(t)})).then((function(e){return e.data}))},v=function(e){var t=e.environment;return p.get("/license",{params:{environment:t}}).then((function(e){return e.data})).then((function(e){var t=e.licensesUrl;if(!t)throw new Error("Unexpected response from license endpoint.");return p.get(t)})).then((function(e){return e.data}))},x=function(){var e=Object(r.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.get("/asset-pack/".concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(e){return e.tags.some((function(e){return"pixel art"===e.toLowerCase()}))},C=function(e){var t=e.previewImageUrls[0];return!!t&&Object(b.e)(t)},k=function(){var e=Object(r.a)(i.a.mark((function e(t,n){var r,a,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.userId,e.next=3,t();case 3:return a=e.sent,e.next=6,p.get("/asset-short-header",{headers:{Authorization:a},params:{userId:r}});case 6:return o=e.sent,e.abrupt("return",o.data);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),w=function(){var e=Object(r.a)(i.a.mark((function e(t,n){var r,a,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.userId,e.next=3,t();case 3:return a=e.sent,e.next=6,p.get("/asset-pack",{headers:{Authorization:a},params:{userId:r}});case 6:return o=e.sent,e.abrupt("return",o.data);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),T=function(e){return e.startsWith(u.l)||e.startsWith(u.m)},E=function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},S=new RegExp("(".concat(E(u.l),"|").concat(E(u.m),")\\/public-resources\\/(.*)\\/([a-z0-9]{64})_(.*)")),P=function(e){var t=S.exec(e);if(!t)throw new Error("The URL is not a valid public asset resource URL: "+e);return t[4]}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return H})),n.d(t,"b",(function(){return W})),n.d(t,"l",(function(){return Y})),n.d(t,"c",(function(){return q})),n.d(t,"k",(function(){return K})),n.d(t,"d",(function(){return Q})),n.d(t,"f",(function(){return $})),n.d(t,"e",(function(){return ee})),n.d(t,"p",(function(){return te})),n.d(t,"n",(function(){return ne})),n.d(t,"j",(function(){return re})),n.d(t,"o",(function(){return ae})),n.d(t,"g",(function(){return oe})),n.d(t,"m",(function(){return ce})),n.d(t,"h",(function(){return le})),n.d(t,"i",(function(){return de}));var r=n(2),a=n(0),o=n.n(a),i=n(40),s=n.n(i),c=n(35),u=n(476),l=n.n(u),d=n(10),b=n(11),p=n(5),j=n(6),h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function f(e,t,n,r){var a,o,i,s=t||[0],c=(n=n||0)>>>3,u=-1===r?3:0;for(a=0;a<e.length;a+=1)o=(i=a+c)>>>2,s.length<=o&&s.push(0),s[o]|=e[a]<<8*(u+r*(i%4));return{value:s,binLen:8*e.length+n}}function g(e,t,n){switch(t){case"UTF8":case"UTF16BE":case"UTF16LE":break;default:throw new Error("encoding must be UTF8, UTF16BE, or UTF16LE")}switch(e){case"HEX":return function(e,t,r){return function(e,t,n,r){var a,o,i,s;if(0!=e.length%2)throw new Error("String of HEX type must be in byte increments");var c=t||[0],u=(n=n||0)>>>3,l=-1===r?3:0;for(a=0;a<e.length;a+=2){if(o=parseInt(e.substr(a,2),16),isNaN(o))throw new Error("String of HEX type contains invalid characters");for(i=(s=(a>>>1)+u)>>>2;c.length<=i;)c.push(0);c[i]|=o<<8*(l+r*(s%4))}return{value:c,binLen:4*e.length+n}}(e,t,r,n)};case"TEXT":return function(e,r,a){return function(e,t,n,r,a){var o,i,s,c,u,l,d,b,p=0,j=n||[0],h=(r=r||0)>>>3;if("UTF8"===t)for(d=-1===a?3:0,s=0;s<e.length;s+=1)for(i=[],128>(o=e.charCodeAt(s))?i.push(o):2048>o?(i.push(192|o>>>6),i.push(128|63&o)):55296>o||57344<=o?i.push(224|o>>>12,128|o>>>6&63,128|63&o):(s+=1,o=65536+((1023&o)<<10|1023&e.charCodeAt(s)),i.push(240|o>>>18,128|o>>>12&63,128|o>>>6&63,128|63&o)),c=0;c<i.length;c+=1){for(u=(l=p+h)>>>2;j.length<=u;)j.push(0);j[u]|=i[c]<<8*(d+a*(l%4)),p+=1}else for(d=-1===a?2:0,b="UTF16LE"===t&&1!==a||"UTF16LE"!==t&&1===a,s=0;s<e.length;s+=1){for(o=e.charCodeAt(s),!0===b&&(o=(c=255&o)<<8|o>>>8),u=(l=p+h)>>>2;j.length<=u;)j.push(0);j[u]|=o<<8*(d+a*(l%4)),p+=2}return{value:j,binLen:8*p+r}}(e,t,r,a,n)};case"B64":return function(e,t,r){return function(e,t,n,r){var a,o,i,s,c,u,l=0,d=t||[0],b=(n=n||0)>>>3,p=-1===r?3:0,j=e.indexOf("=");if(-1===e.search(/^[a-zA-Z0-9=+/]+$/))throw new Error("Invalid character in base-64 string");if(e=e.replace(/=/g,""),-1!==j&&j<e.length)throw new Error("Invalid '=' found in base-64 string");for(a=0;a<e.length;a+=4){for(s=e.substr(a,4),i=0,o=0;o<s.length;o+=1)i|=h.indexOf(s.charAt(o))<<18-6*o;for(o=0;o<s.length-1;o+=1){for(c=(u=l+b)>>>2;d.length<=c;)d.push(0);d[c]|=(i>>>16-8*o&255)<<8*(p+r*(u%4)),l+=1}}return{value:d,binLen:8*l+n}}(e,t,r,n)};case"BYTES":return function(e,t,r){return function(e,t,n,r){var a,o,i,s,c=t||[0],u=(n=n||0)>>>3,l=-1===r?3:0;for(o=0;o<e.length;o+=1)a=e.charCodeAt(o),i=(s=o+u)>>>2,c.length<=i&&c.push(0),c[i]|=a<<8*(l+r*(s%4));return{value:c,binLen:8*e.length+n}}(e,t,r,n)};case"ARRAYBUFFER":try{new ArrayBuffer(0)}catch(r){throw new Error("ARRAYBUFFER not supported by this environment")}return function(e,t,r){return function(e,t,n,r){return f(new Uint8Array(e),t,n,r)}(e,t,r,n)};case"UINT8ARRAY":try{new Uint8Array(0)}catch(r){throw new Error("UINT8ARRAY not supported by this environment")}return function(e,t,r){return f(e,t,r,n)};default:throw new Error("format must be HEX, TEXT, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}}function m(e,t,n,r){switch(e){case"HEX":return function(e){return function(e,t,n,r){var a,o,i="0123456789abcdef",s="",c=t/8,u=-1===n?3:0;for(a=0;a<c;a+=1)o=e[a>>>2]>>>8*(u+n*(a%4)),s+=i.charAt(o>>>4&15)+i.charAt(15&o);return r.outputUpper?s.toUpperCase():s}(e,t,n,r)};case"B64":return function(e){return function(e,t,n,r){var a,o,i,s,c,u="",l=t/8,d=-1===n?3:0;for(a=0;a<l;a+=3)for(s=a+1<l?e[a+1>>>2]:0,c=a+2<l?e[a+2>>>2]:0,i=(e[a>>>2]>>>8*(d+n*(a%4))&255)<<16|(s>>>8*(d+n*((a+1)%4))&255)<<8|c>>>8*(d+n*((a+2)%4))&255,o=0;o<4;o+=1)u+=8*a+6*o<=t?h.charAt(i>>>6*(3-o)&63):r.b64Pad;return u}(e,t,n,r)};case"BYTES":return function(e){return function(e,t,n){var r,a,o="",i=t/8,s=-1===n?3:0;for(r=0;r<i;r+=1)a=e[r>>>2]>>>8*(s+n*(r%4))&255,o+=String.fromCharCode(a);return o}(e,t,n)};case"ARRAYBUFFER":try{new ArrayBuffer(0)}catch(a){throw new Error("ARRAYBUFFER not supported by this environment")}return function(e){return function(e,t,n){var r,a=t/8,o=new ArrayBuffer(a),i=new Uint8Array(o),s=-1===n?3:0;for(r=0;r<a;r+=1)i[r]=e[r>>>2]>>>8*(s+n*(r%4))&255;return o}(e,t,n)};case"UINT8ARRAY":try{new Uint8Array(0)}catch(a){throw new Error("UINT8ARRAY not supported by this environment")}return function(e){return function(e,t,n){var r,a=t/8,o=-1===n?3:0,i=new Uint8Array(a);for(r=0;r<a;r+=1)i[r]=e[r>>>2]>>>8*(o+n*(r%4))&255;return i}(e,t,n)};default:throw new Error("format must be HEX, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}}var O=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],v=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428],x=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function y(e){var t={outputUpper:!1,b64Pad:"=",outputLen:-1},n=e||{},r="Output length must be a multiple of 8";if(t.outputUpper=n.outputUpper||!1,n.b64Pad&&(t.b64Pad=n.b64Pad),n.outputLen){if(n.outputLen%8!=0)throw new Error(r);t.outputLen=n.outputLen}else if(n.shakeLen){if(n.shakeLen%8!=0)throw new Error(r);t.outputLen=n.shakeLen}if("boolean"!=typeof t.outputUpper)throw new Error("Invalid outputUpper formatting option");if("string"!=typeof t.b64Pad)throw new Error("Invalid b64Pad formatting option");return t}var C=Object(p.a)((function e(t,n){Object(j.a)(this,e),this.t=t,this.i=n}));function k(e,t){var n;return t<32?(n=32-t,new C(e.t>>>t|e.i<<n,e.i>>>t|e.t<<n)):(n=64-t,new C(e.i>>>t|e.t<<n,e.t>>>t|e.i<<n))}function w(e,t){return new C(e.t>>>t,e.i>>>t|e.t<<32-t)}function T(e,t,n){return new C(e.t&t.t^e.t&n.t^t.t&n.t,e.i&t.i^e.i&n.i^t.i&n.i)}function E(e){var t=k(e,28),n=k(e,34),r=k(e,39);return new C(t.t^n.t^r.t,t.i^n.i^r.i)}function S(e,t){var n,r;n=(65535&e.i)+(65535&t.i);var a=(65535&(r=(e.i>>>16)+(t.i>>>16)+(n>>>16)))<<16|65535&n;return n=(65535&e.t)+(65535&t.t)+(r>>>16),r=(e.t>>>16)+(t.t>>>16)+(n>>>16),new C((65535&r)<<16|65535&n,a)}function P(e,t,n,r){var a,o;a=(65535&e.i)+(65535&t.i)+(65535&n.i)+(65535&r.i);var i=(65535&(o=(e.i>>>16)+(t.i>>>16)+(n.i>>>16)+(r.i>>>16)+(a>>>16)))<<16|65535&a;return a=(65535&e.t)+(65535&t.t)+(65535&n.t)+(65535&r.t)+(o>>>16),o=(e.t>>>16)+(t.t>>>16)+(n.t>>>16)+(r.t>>>16)+(a>>>16),new C((65535&o)<<16|65535&a,i)}function I(e,t,n,r,a){var o,i;o=(65535&e.i)+(65535&t.i)+(65535&n.i)+(65535&r.i)+(65535&a.i);var s=(65535&(i=(e.i>>>16)+(t.i>>>16)+(n.i>>>16)+(r.i>>>16)+(a.i>>>16)+(o>>>16)))<<16|65535&o;return o=(65535&e.t)+(65535&t.t)+(65535&n.t)+(65535&r.t)+(65535&a.t)+(i>>>16),i=(e.t>>>16)+(t.t>>>16)+(n.t>>>16)+(r.t>>>16)+(a.t>>>16)+(o>>>16),new C((65535&i)<<16|65535&o,s)}function A(e){var t=k(e,19),n=k(e,61),r=w(e,6);return new C(t.t^n.t^r.t,t.i^n.i^r.i)}function D(e){var t=k(e,1),n=k(e,8),r=w(e,7);return new C(t.t^n.t^r.t,t.i^n.i^r.i)}function F(e){var t=k(e,14),n=k(e,18),r=k(e,41);return new C(t.t^n.t^r.t,t.i^n.i^r.i)}var M=[new C(O[0],3609767458),new C(O[1],602891725),new C(O[2],3964484399),new C(O[3],2173295548),new C(O[4],4081628472),new C(O[5],3053834265),new C(O[6],2937671579),new C(O[7],3664609560),new C(O[8],2734883394),new C(O[9],1164996542),new C(O[10],1323610764),new C(O[11],3590304994),new C(O[12],4068182383),new C(O[13],991336113),new C(O[14],633803317),new C(O[15],3479774868),new C(O[16],2666613458),new C(O[17],944711139),new C(O[18],2341262773),new C(O[19],2007800933),new C(O[20],1495990901),new C(O[21],1856431235),new C(O[22],3175218132),new C(O[23],2198950837),new C(O[24],3999719339),new C(O[25],766784016),new C(O[26],2566594879),new C(O[27],3203337956),new C(O[28],1034457026),new C(O[29],2466948901),new C(O[30],3758326383),new C(O[31],168717936),new C(O[32],1188179964),new C(O[33],1546045734),new C(O[34],1522805485),new C(O[35],2643833823),new C(O[36],2343527390),new C(O[37],1014477480),new C(O[38],1206759142),new C(O[39],344077627),new C(O[40],1290863460),new C(O[41],3158454273),new C(O[42],3505952657),new C(O[43],106217008),new C(O[44],3606008344),new C(O[45],1432725776),new C(O[46],1467031594),new C(O[47],851169720),new C(O[48],3100823752),new C(O[49],1363258195),new C(O[50],3750685593),new C(O[51],3785050280),new C(O[52],3318307427),new C(O[53],3812723403),new C(O[54],2003034995),new C(O[55],3602036899),new C(O[56],1575990012),new C(O[57],1125592928),new C(O[58],2716904306),new C(O[59],442776044),new C(O[60],593698344),new C(O[61],3733110249),new C(O[62],2999351573),new C(O[63],3815920427),new C(3391569614,3928383900),new C(3515267271,566280711),new C(3940187606,3454069534),new C(4118630271,4000239992),new C(116418474,1914138554),new C(174292421,2731055270),new C(289380356,3203993006),new C(460393269,320620315),new C(685471733,587496836),new C(852142971,1086792851),new C(1017036298,365543100),new C(1126000580,2618297676),new C(1288033470,3409855158),new C(1501505948,4234509866),new C(1607167915,987167468),new C(1816402316,1246189591)];function _(e){return"SHA-384"===e?[new C(3418070365,v[0]),new C(1654270250,v[1]),new C(2438529370,v[2]),new C(355462360,v[3]),new C(1731405415,v[4]),new C(41048885895,v[5]),new C(3675008525,v[6]),new C(1203062813,v[7])]:[new C(x[0],4089235720),new C(x[1],2227873595),new C(x[2],4271175723),new C(x[3],1595750129),new C(x[4],2917565137),new C(x[5],725511199),new C(x[6],4215389547),new C(x[7],327033209)]}function L(e,t){var n,r,a,o,i,s,c,u,l,d,b,p,j,h,f,g=[];for(n=t[0],r=t[1],a=t[2],o=t[3],i=t[4],s=t[5],c=t[6],u=t[7],b=0;b<80;b+=1)b<16?(p=2*b,g[b]=new C(e[p],e[p+1])):g[b]=P(A(g[b-2]),g[b-7],D(g[b-15]),g[b-16]),l=I(u,F(i),(h=s,f=c,new C((j=i).t&h.t^~j.t&f.t,j.i&h.i^~j.i&f.i)),M[b],g[b]),d=S(E(n),T(n,r,a)),u=c,c=s,s=i,i=S(o,l),o=a,a=r,r=n,n=S(l,d);return t[0]=S(n,t[0]),t[1]=S(r,t[1]),t[2]=S(a,t[2]),t[3]=S(o,t[3]),t[4]=S(i,t[4]),t[5]=S(s,t[5]),t[6]=S(c,t[6]),t[7]=S(u,t[7]),t}var R=function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(e,r,a){var o;if(Object(j.a)(this,n),"SHA-384"!==e&&"SHA-512"!==e)throw new Error("Chosen SHA variant is not supported");var i=a||{};return(o=t.call(this,e,r,a)).S=o.k,o.N=!0,o.C=-1,o.g=g(o.o,o.h,o.C),o.H=L,o.L=function(e){return e.slice()},o.M=_,o.I=function(t,n,r,a){return function(e,t,n,r,a){for(var o,i=31+(t+129>>>10<<5),s=t+n;e.length<=i;)e.push(0);for(e[t>>>5]|=128<<24-t%32,e[i]=4294967295&s,e[i-1]=s/4294967296|0,o=0;o<e.length;o+=32)r=L(e.slice(o,o+32),r);return"SHA-384"===a?[r[0].t,r[0].i,r[1].t,r[1].i,r[2].t,r[2].i,r[3].t,r[3].i,r[4].t,r[4].i,r[5].t,r[5].i]:[r[0].t,r[0].i,r[1].t,r[1].i,r[2].t,r[2].i,r[3].t,r[3].i,r[4].t,r[4].i,r[5].t,r[5].i,r[6].t,r[6].i,r[7].t,r[7].i]}(t,n,r,a,e)},o.B=_(e),o.m=1024,o.v="SHA-384"===e?384:512,o.Y=!1,i.hmacKey&&o.X(function(e,t,n,r){var a="hmacKey must include a value and format";if(!t)throw new Error(a);if(void 0===t.value||!t.format)throw new Error(a);return g(t.format,t.encoding||"UTF8",n)(t.value)}(0,i.hmacKey,o.C)),o}return Object(p.a)(n)}(function(){function e(t,n,r){Object(j.a)(this,e);var a=r||{};if(this.o=n,this.h=a.encoding||"UTF8",this.numRounds=a.numRounds||1,isNaN(this.numRounds)||this.numRounds!==parseInt(this.numRounds,10)||1>this.numRounds)throw new Error("numRounds must a integer >= 1");this.u=t,this.l=[],this.A=0,this.p=!1,this.R=0,this.U=!1,this.T=[],this.F=[]}return Object(p.a)(e,[{key:"update",value:function(e){var t,n=0,r=this.m>>>5,a=this.g(e,this.l,this.A),o=a.binLen,i=a.value,s=o>>>5;for(t=0;t<s;t+=r)n+this.m<=o&&(this.B=this.H(i.slice(t,t+r),this.B),n+=this.m);return this.R+=n,this.l=i.slice(n>>>5),this.A=o%this.m,this.p=!0,this}},{key:"getHash",value:function(e,t){var n,r,a=this.v,o=y(t);if(this.Y){if(-1===o.outputLen)throw new Error("Output length must be specified in options");a=o.outputLen}var i=m(e,a,this.C,o);if(this.U&&this.S)return i(this.S(o));for(r=this.I(this.l.slice(),this.A,this.R,this.L(this.B),a),n=1;n<this.numRounds;n+=1)this.Y&&a%32!=0&&(r[r.length-1]&=16777215>>>24-a%32),r=this.I(r,a,0,this.M(this.u),a);return i(r)}},{key:"setHMACKey",value:function(e,t,n){if(!this.N)throw new Error("Variant does not support HMAC");if(this.p)throw new Error("Cannot set MAC key after calling update");var r=g(t,(n||{}).encoding||"UTF8",this.C);this.X(r(e))}},{key:"X",value:function(e){var t,n=this.m>>>3,r=n/4-1;if(1!==this.numRounds)throw new Error("Cannot set numRounds with MAC");if(this.U)throw new Error("MAC key already set");for(n<e.binLen/8&&(e.value=this.I(e.value,e.binLen,0,this.M(this.u),this.v));e.value.length<=r;)e.value.push(0);for(t=0;t<=r;t+=1)this.T[t]=909522486^e.value[t],this.F[t]=1549556828^e.value[t];this.B=this.H(this.T,this.B),this.R=this.m,this.U=!0}},{key:"getHMAC",value:function(e,t){var n=y(t);return m(e,this.v,this.C,n)(this.k())}},{key:"k",value:function(){var e;if(!this.U)throw new Error("Cannot call getHMAC without first setting MAC key");var t=this.I(this.l.slice(),this.A,this.R,this.L(this.B),this.v);return e=this.H(this.F,this.M(this.u)),e=this.I(t,this.v,this.m,e,this.v)}}]),e}()),N=function(e){crypto&&crypto.subtle&&crypto.subtle.digest("SHA-512",e).then((function(e){return Array.from(new Uint8Array(e)).map((function(e){return e.toString(16).padStart(2,"0")})).join("").substr(0,64)})),console.warn("crypto.subtle is not available in this environment - using jsSHA instead.");var t=new R("SHA-512","ARRAYBUFFER");t.update(e);var n=t.getHash("HEX");return Promise.resolve(n.substr(0,64))},B=function(){var e=Object(r.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var r=new FileReader;r.onload=function(t){var r=t.target?t.target.result:null;r instanceof ArrayBuffer?e(N(r)):n(new Error("Error reading file (arraybuffer issue)."))},r.onerror=function(){n(new Error("Error reading file (errored)."))},r.onabort=function(){n(new Error("Error reading file (aborted)."))},r.readAsArrayBuffer(t)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=n(101),H=50,W=15e6,z=s.a.create({baseURL:c.k.baseUrl,withCredentials:!Object(U.g)()}),V=s.a.create({baseURL:c.j.baseUrl}),G=s.a.create({baseURL:c.j.baseUrl,withCredentials:!Object(U.g)()}),Z=null,Y=function(){return Z},q=function(e){if(!Z)return e;var t=-1===e.indexOf("?")?"?":"&";return e+t+"gd_resource_token="+encodeURIComponent(Z)},X=function(){var e=Object(r.a)(o.a.mark((function e(t,n,r){var a,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r();case 3:return a=e.sent,e.abrupt("return",a);case 7:if(e.prev=7,e.t0=e.catch(0),!e.t0.response||403!==e.t0.response.status){e.next=16;break}return e.next=12,K(t,n);case 12:return e.next=14,r();case 14:return i=e.sent,e.abrupt("return",i);case 16:throw e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),J=function(e){var t=e,n=e.indexOf("?");n>=0&&(t=e.substring(0,n));var r=t.lastIndexOf("/")+1,a=t.indexOf(".zip");return e.substring(r,a)},K=function(){var e=Object(r.a)(o.a.mark((function e(t,n){var r,a,i,s,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.getAuthorizationHeader,a=t.firebaseUser){e.next=3;break}return e.abrupt("return",!1);case 3:return i=a.uid,e.next=6,r();case 6:return s=e.sent,e.next=9,G.get("/project/".concat(n,"/action/authorize"),{headers:{Authorization:s},params:{userId:i},validateStatus:function(e){return!0}});case 9:return c=e.sent,Object(U.g)()&&c.data&&"string"===typeof c.data.gd_resource_jwt&&(o=c.data.gd_resource_jwt,Z=o),e.abrupt("return",c.status>=200&&c.status<400);case 12:case"end":return e.stop()}var o}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Q=function(){var e=Object(r.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(U.g)()){e.next=4;break}Z=null,e.next=6;break;case 4:return e.next=6,G.get("/action/clear-authorization");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=Object(r.a)(o.a.mark((function e(t,n){var r,a,i,s,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.getAuthorizationHeader,a=t.firebaseUser){e.next=3;break}return e.abrupt("return",null);case 3:return i=a.uid,e.next=6,r();case 6:return s=e.sent,e.next=9,V.post("/project",n,{headers:{Authorization:s},params:{userId:i}});case 9:return c=e.sent,e.abrupt("return",c.data);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ee=function(){var e=Object(r.a)(o.a.mark((function e(t,n,r){var a,i,s,c,u,l,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.getAuthorizationHeader,i=t.firebaseUser){e.next=3;break}return e.abrupt("return");case 3:return s=i.uid,e.next=6,a();case 6:return c=e.sent,e.next=9,ie(t,n);case 9:if(u=e.sent){e.next=12;break}return e.abrupt("return");case 12:return l=J(u),e.next=15,X(t,n,(function(){return z.post(q(u),r,{headers:{"content-type":"application/zip"}})}));case 15:return e.next=17,V.post("/project/".concat(n,"/action/commit"),{newVersion:l},{headers:{Authorization:c},params:{userId:s}});case 17:return d=e.sent,e.abrupt("return",d.data);case 19:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),te=function(){var e=Object(r.a)(o.a.mark((function e(t,n,a,i){var s,u,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se(t,n,a);case 2:return s=e.sent,u=Array(s.length),d=0,e.next=7,l.a.withConcurrency(10).for(s).process(function(){var e=Object(r.a)(o.a.mark((function e(r){var a,l,b,p,j;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.resourceFile,l=r.presignedUrl,b=r.index,e.prev=1,e.next=4,X(t,n,(function(){return z.post(q(l),a,{headers:{"content-type":a.type}})}));case 4:p="".concat(c.k.baseUrl).concat(l),j=p.substr(0,p.indexOf("?")),u[b]={error:null,resourceFile:a,url:j},e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),u[b]={error:e.t0,resourceFile:a,url:null};case 12:i(++d,s.length);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}());case 7:return e.abrupt("return",u);case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),ne=function(){var e=Object(r.a)(o.a.mark((function e(t,n){var r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:return r=e.sent,e.next=5,V.get("project",{headers:{Authorization:r},params:{userId:n}});case 5:return a=e.sent,e.abrupt("return",a.data);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),re=function(){var e=Object(r.a)(o.a.mark((function e(t,n){var r,a,i,s,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.getAuthorizationHeader,a=t.firebaseUser){e.next=3;break}return e.abrupt("return");case 3:return i=a.uid,e.next=6,r();case 6:return s=e.sent,e.next=9,V.get("/project/".concat(n),{headers:{Authorization:s},params:{userId:i}});case 9:return c=e.sent,e.abrupt("return",c.data);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ae=function(){var e=Object(r.a)(o.a.mark((function e(t,n,r){var a,i,s,c,u,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.getAuthorizationHeader,i=t.firebaseUser){e.next=3;break}return e.abrupt("return");case 3:return s={name:r.name?r.name.slice(0,H):void 0,gameId:r.gameId},c=i.uid,e.next=7,a();case 7:return u=e.sent,e.next=10,V.patch("/project/".concat(n),s,{headers:{Authorization:u},params:{userId:c}});case 10:return l=e.sent,e.abrupt("return",l.data);case 12:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),oe=function(){var e=Object(r.a)(o.a.mark((function e(t,n){var r,a,i,s,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.getAuthorizationHeader,a=t.firebaseUser){e.next=3;break}return e.abrupt("return");case 3:return i=a.uid,e.next=6,r();case 6:return s=e.sent,e.next=9,V.delete("/project/".concat(n),{headers:{Authorization:s},params:{userId:i}});case 9:return c=e.sent,e.abrupt("return",c.data);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ie=function(){var e=Object(r.a)(o.a.mark((function e(t,n){var r,a,i,s,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.getAuthorizationHeader,a=t.firebaseUser){e.next=3;break}return e.abrupt("return");case 3:return i=a.uid,e.next=6,r();case 6:return s=e.sent,e.next=9,V.post("/project/".concat(n,"/action/create-presigned-urls"),{resources:["newProjectVersion"]},{headers:{Authorization:s},params:{userId:i}});case 9:if((c=e.sent).data&&c.data[0]){e.next=12;break}return e.abrupt("return");case 12:return e.abrupt("return",c.data[0]);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),se=function(){var e=Object(r.a)(o.a.mark((function e(t,n,a){var i,s,c,u,l,d,b;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.getAuthorizationHeader,s=t.firebaseUser){e.next=3;break}throw new Error("User is not authenticated.");case 3:return c=s.uid,e.next=6,i();case 6:return u=e.sent,e.next=9,Promise.all(a.map(function(){var e=Object(r.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t.name,e.t1=t.size,e.next=4,B(t);case 4:return e.t2=e.sent,e.abrupt("return",{type:"project-resource",filename:e.t0,size:e.t1,sha512TruncatedTo256:e.t2});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 9:return l=e.sent,e.next=12,V.post("/project/".concat(n,"/action/create-presigned-urls"),{requestedResources:l},{headers:{Authorization:u},params:{userId:c}});case 12:if((d=e.sent).data&&Array.isArray(d.data)){e.next=15;break}throw new Error("Response does not contain pre-signed urls for upload.");case 15:return b=d.data.map((function(e,t){return{resourceFile:a[t],presignedUrl:e,index:t}})),e.abrupt("return",b);case 17:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),ce=function(){var e=Object(r.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.currentVersion){e.next=2;break}throw new Error("Opening of project without current version not handled");case 2:return e.next=4,z.get(q("/".concat(t.id,"/versions/").concat(t.currentVersion,".zip")),{responseType:"blob"});case 4:return n=e.sent,e.abrupt("return",n.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var ue=new RegExp("".concat(c.k.baseUrl.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"\\/(.*)\\/resources\\/(.*\\/)*([a-zA-Z0-9]+)-([^\\?\\n\\r]+)")),le=function(e){if(e.startsWith(c.k.baseUrl)){var t=ue.exec(e);if(t)return t[4]}return-1!==e.lastIndexOf("/")?e.substring(e.lastIndexOf("/")+1):e},de=function(e){if(e.startsWith(c.k.baseUrl)){var t=ue.exec(e);if(t)return t[1]}return null}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return k})),n.d(t,"b",(function(){return w}));var r=n(34),a=n(18),o=n(3),i=n(17),s=n(9),c=n(2715),u=(n(394),n(2588)),l=n(2589),d=n(345),b=n(2723),p=n(2580),j=n(311),h=n(2597),f=n(620),g=n.n(f),m=n(330),O=n(423),v=n(327),x=n(8),y=["InputProps","inputProps","InputLabelProps"],C=["InputProps","inputProps"],k=function(e){return Object(x.jsx)(v.a,Object(o.a)(Object(o.a)({},e),{},{background:"light"}))},w={container:{position:"relative",width:"100%"},listItem:{padding:0,margin:0},listItemText:{margin:"1px 0"}},T=Object(h.a)({option:{cursor:"default"},listbox:{padding:0,margin:0},input:{width:"auto",flexGrow:1},inputRoot:{flexWrap:"wrap"},popper:{zIndex:g.a.tooltip+100}}),E=function(e){return function(t,n){if(t.type&&"separator"===t.type)return Object(x.jsx)(p.a,{divider:!0,disableGutters:!0,component:"div",style:w.listItem});var r=t.translatableValue?e._(t.translatableValue):t.value;return Object(x.jsxs)(p.a,{dense:!0,component:"div",style:w.listItem,children:[t.renderIcon&&Object(x.jsx)(u.a,{children:t.renderIcon()}),Object(x.jsx)(l.a,{style:w.listItemText,primary:Object(x.jsx)("div",{title:r,style:O.a,children:r})})]})}},S=function(e){return"separator"===e.type};t.c=i.forwardRef((function(e,t){var n=i.useRef(null),u=Object(i.useState)(null),l=Object(r.a)(u,2),p=l[0],h=l[1],f=Object(i.useState)(!1),g=Object(r.a)(f,2),O=g[0],v=g[1],P=T();i.useImperativeHandle(t,(function(){return{focus:function(){var t=n.current;t&&(t.focus(),t.setSelectionRange(0,e.value.toString().length))},forceInputValueTo:function(e){null!==p&&h(e)}}}));var I=null!==p?p:e.value,A=e.helperMarkdownText?Object(x.jsx)(d.a,{source:e.helperMarkdownText}):null,D=function(t,n,r){h(n),O||v(!0),e.commitOnInputChange&&e.onChange(n)};return Object(x.jsx)(s.I18n,{children:function(t){var r=t.i18n;return Object(x.jsx)(b.a,{freeSolo:!0,classes:P,onChange:function(t,r){null!==r&&n.current&&(!function(e,t,n){"separator"!==t.type&&(t.onClick?t.onClick():(e.value=t.value,n.onChoose?n.onChoose(t.value):n.onChange(t.value),n.onApply?n.onApply():n.onRequestClose&&n.onRequestClose()))}(n.current,r,e),h(null),v(!1))},open:O,style:Object(o.a)(Object(o.a)({},e.style),w.container),inputValue:I,value:I,onInputChange:D,PaperComponent:k,options:e.dataSource,renderOption:E(r),getOptionDisabled:S,getOptionLabel:function(e){return function(e,t){return e.value?e.value:t}(e,I)},filterOptions:function(e,t){return function(e,t,n){var r=n.toLowerCase(),a=e.filter((function(e){return"separator"===e.type||!e.text||-1!==e.text.toLowerCase().indexOf(r)}));if(!a.filter((function(e){return"separator"!==e.type&&(e.value||e.translatableValue)})).length)return[];for(;void 0!==a[a.length-1]&&void 0!==a[a.length-1].type;)a.pop();for(;void 0!==a[0]&&void 0!==a[0].type;)a.shift();return a}(e,0,I)},id:e.id,renderInput:function(t){var i=function(e,t){var n=e.InputProps,r=e.inputProps,i=(e.InputLabelProps,Object(a.a)(e,y));return Object(o.a)(Object(o.a)({},i),{},{InputProps:Object(o.a)(Object(o.a)({},n),{},{className:null,endAdornment:null,style:t.inputStyle}),inputProps:Object(o.a)(Object(o.a)({},r),{},{className:null,disabled:t.disabled,onKeyDown:function(e){Object(m.c)(e)?t.onRequestClose&&t.onRequestClose():Object(m.f)(e)?(t.onChange(e.currentTarget.value),t.onApply?t.onApply():t.onRequestClose&&t.onRequestClose()):Object(m.g)(e)&&t.onChange(e.currentTarget.value)}})})}(t,e),s=i.InputProps,u=i.inputProps,l=Object(a.a)(i,C);return Object(x.jsx)(c.a,Object(o.a)(Object(o.a)(Object(o.a)({color:"secondary",InputProps:Object(o.a)(Object(o.a)({},s),{},{placeholder:"string"===typeof e.hintText?e.hintText:r._(e.hintText)}),inputProps:Object(o.a)(Object(o.a)({},u),{},{onClick:e.onClick,onFocus:function(e){v(!0),n.current&&(n.current.selectionStart=n.current.value.length)},onBlur:function(t){h(null),v(!1),e.onChange(t.currentTarget.value),e.onBlur&&e.onBlur(t)},onMouseDown:function(e){n.current&&!n.current.value.length&&v(!O)}})},l),Object(j.a)(e)),{},{style:e.textFieldStyle,label:e.floatingLabelText,inputRef:n,disabled:e.disabled,error:!!e.errorText,helperText:A||e.errorText,fullWidth:e.fullWidth}))}})}})}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(3),a=(n(17),n(8)),o=function(e,t,n){if(e.startsWith("data:")||e.startsWith("blob:"))return e;var r=-1===e.indexOf("?")?"?":"&";return e+r+t+"="+n},i=function(e){return Object(a.jsx)("img",Object(r.a)(Object(r.a)({},e),{},{src:e.src?o(e.src,"gdUsage","img"):void 0}))}},function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"f",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"i",(function(){return u})),n.d(t,"l",(function(){return l})),n.d(t,"k",(function(){return d})),n.d(t,"j",(function(){return b})),n.d(t,"d",(function(){return p})),n.d(t,"a",(function(){return j})),n.d(t,"g",(function(){return h})),n.d(t,"h",(function(){return f})),n.d(t,"e",(function(){return g}));n(34);var r=n(40),a=n.n(r),o=n(35),i=function(e,t){switch(e){case"action":return t._({id:"Action"});case"adventure":return t._({id:"Adventure"});case"shooter":return t._({id:"Shooter"});case"platformer":return t._({id:"Platformer"});case"rpg":return t._({id:"RPG"});case"horror":return t._({id:"Horror"});case"strategy":return t._({id:"Strategy"});case"puzzle":return t._({id:"Puzzle"});case"racing":return t._({id:"Racing"});case"simulation":return t._({id:"Simulation"});case"sport":return t._({id:"Sport"});case"story-rich":return t._({id:"Story-Rich"});case"survival":return t._({id:"Survival"});case"building":return t._({id:"Building"});case"multiplayer":return t._({id:"Multiplayer"});case"leaderboard":return t._({id:"Leaderboard"});case"educational":return t._({id:"Educational"});default:return(n=e)?n[0].toUpperCase()+n.substr(1):""}var n},s=function(e){if(!e)return null;var t=e.cachedCurrentSlug;return t?o.g.getGameUrlWithSlug(t.username,t.gameSlug):o.g.getGameUrl(e.id)},c=function(e){return e.map((function(e){return{userId:e,level:"owner"}}))},u=function(e,t,n){var r=n.gameId,i=n.gameName,s=n.authorName,c=n.templateSlug;return e().then((function(e){return a.a.post("".concat(o.e.baseUrl,"/game/").concat(r),{gameName:i,authorName:s,templateSlug:c},{params:{userId:t},headers:{Authorization:e}})})).then((function(e){return e.data}))},l=function(e,t,n,r){var i=r.gameName,s=r.categories,c=r.authorName,u=r.publicWebBuildId,l=r.description,d=r.playWithKeyboard,b=r.playWithGamepad,p=r.playWithMobile,j=r.orientation,h=r.thumbnailUrl,f=r.discoverable,g=r.acceptsBuildComments,m=r.acceptsGameComments,O=r.displayAdsOnGamePage;return e().then((function(e){return a.a.patch("".concat(o.e.baseUrl,"/game/").concat(n),{gameName:i,categories:s,authorName:c,publicWebBuildId:u,description:l,playWithKeyboard:d,playWithGamepad:b,playWithMobile:p,orientation:j,thumbnailUrl:h,discoverable:f,acceptsBuildComments:g,acceptsGameComments:m,displayAdsOnGamePage:O},{params:{userId:t},headers:{Authorization:e}})})).then((function(e){return e.data}))},d=function(e,t,n,r){return e().then((function(e){return a.a.post("".concat(o.e.baseUrl,"/game/action/set-acls"),{gameId:n,newAcls:r},{params:{userId:t},headers:{Authorization:e}})})).then((function(e){return e.data}))},b=function(e,t,n,r,i){return e().then((function(e){return a.a.post("".concat(o.e.baseUrl,"/game/action/set-slug"),{gameId:n,userSlug:r,gameSlug:i},{params:{userId:t},headers:{Authorization:e}})})).then((function(e){return e.data}))},p=function(e,t,n){return e().then((function(e){return a.a.get("".concat(o.e.baseUrl,"/game/").concat(n),{params:{userId:t},headers:{Authorization:e}})})).then((function(e){return e.data}))},j=function(e,t,n){return e().then((function(e){return a.a.delete("".concat(o.e.baseUrl,"/game/").concat(n),{params:{userId:t},headers:{Authorization:e}})})).then((function(e){return e.data}))},h=function(e,t){return e().then((function(e){return a.a.get("".concat(o.e.baseUrl,"/game"),{params:{userId:t},headers:{Authorization:e}})})).then((function(e){return e.data}))},f=function(e){return a.a.get("".concat(o.e.baseUrl,"/public-game/").concat(e)).then((function(e){return e.data}))},g=function(){return a.a.get("".concat(o.e.baseUrl,"/game-category")).then((function(e){return e.data}))}},function(e,t,n){"use strict";n.d(t,"f",(function(){return l})),n.d(t,"i",(function(){return d})),n.d(t,"g",(function(){return b})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return j})),n.d(t,"a",(function(){return h})),n.d(t,"e",(function(){return f})),n.d(t,"h",(function(){return g})),n.d(t,"j",(function(){return m})),n.d(t,"d",(function(){return O}));var r=n(40),a=n.n(r),o=n(782),i=n(35),s=n(411),c=n(479),u=function(e){var t=e.gameName,n=e.gameVersion;try{var r=/[./\\[\]<>&$@=;:+,?^{}%#~|'"*]/g;return"".concat(t.slice(0,50).replace(r,"_"),"-").concat(n.slice(0,15).replace(r,"_"))}catch(a){return console.warn("An error happened when computing game extensionless filename:",a),"game"}},l=function(e,t){return e&&e[t]?"s3Key"===t?e.gameId?i.g.getInstantBuildUrl(e.id):"https://games.gdevelop-app.com/".concat(e[t],"/index.html"):"https://builds.gdevelop-app.com/".concat(e[t]):null},d=function(e,t){var n=e.getResourcesManager(),r=e.getPlatformSpecificAssets().get("liluo","thumbnail");if(!n.hasResource(r))return"";var a=n.getResource(r).getFile(),o=Object(c.basename)(a);if(!o)return"";var i="https://games.gdevelop-app.com/game-".concat(t,"/").concat(o);return encodeURI(i)},b=function(){var e="game-archive-"+Object(o.a)(),t="application/zip",n=e+"/game-archive.zip";return Object(s.g)({uploadType:"build",key:n,contentType:t}).then((function(e){return{signedUrl:e.signedUrl,contentType:t,key:n}}))},p=function(e,t,n,r,o,s){return e().then((function(e){return a.a.post("".concat(i.c.baseUrl,"/build"),null,{params:{userId:t,key:n,type:"electron-build",targets:r.join(","),gameId:o,filename:u(s)},headers:{Authorization:e}})})).then((function(e){return e.data}))},j=function(e,t,n,r,o){return e().then((function(e){return a.a.post("".concat(i.c.baseUrl,"/build"),null,{params:{userId:t,key:n,type:"web-build",targets:"s3",gameId:r},headers:{Authorization:e}})})).then((function(e){return e.data}))},h=function(e,t,n,r,o,s,c){return e().then((function(e){return a.a.post("".concat(i.c.baseUrl,"/build"),JSON.stringify({signing:{keystore:o}}),{params:{userId:t,key:n,type:"cordova-build",targets:r.join(","),gameId:s,filename:u(c)},headers:{Authorization:e}})})).then((function(e){return e.data}))},f=function(e,t,n){return e().then((function(e){return a.a.get("".concat(i.c.baseUrl,"/build/").concat(n),{params:{userId:t},headers:{Authorization:e}})})).then((function(e){return e.data}))},g=function(e,t,n){return e().then((function(e){return a.a.get("".concat(i.c.baseUrl,"/build"),{params:{userId:t,gameId:n},headers:{Authorization:e}})})).then((function(e){return e.data}))},m=function(e,t,n,r){var o=r.name,s=r.description;return e().then((function(e){return a.a.patch("".concat(i.c.baseUrl,"/build/").concat(n),{name:o,description:s},{params:{userId:t},headers:{Authorization:e}})})).then((function(e){return e.data}))},O=function(e,t,n){return e().then((function(e){return a.a.delete("".concat(i.c.baseUrl,"/build/").concat(n),{params:{userId:t},headers:{Authorization:e}})})).then((function(e){return e.data}))}},function(e,t,n){"use strict";(function(e){var r=n(1886),a=n(1896),o=n(1897),i=n(1898),s=n(1128),c=n(1899),u=n(1900),l=n(1901),d=n(1902),b=n(399),p=n(320),j=n(416),h=n(329),f=n(12),g=n.n(f),m=n(66),O=g()("path"),v=g()("electron"),x=e.gd;e.PIXI=h,e.GlobalPIXIModule={PIXI:h};var y={},C={renderers:{unknownObjectType:r.a,Sprite:a.a,"TiledSpriteObject::TiledSprite":o.a,"PanelSpriteObject::PanelSprite":i.a,"TextObject::Text":s.a,"PrimitiveDrawing::Drawer":c.a,"TextEntryObject::TextEntry":u.a,"ParticleSystem::ParticleEmitter":l.a},getThumbnail:function(e,t){var n=t.getType();return this.renderers.hasOwnProperty(n)?this.renderers[n].getThumbnail(e,p.a,t):e.hasEventsBasedObject(n)?d.a.getThumbnail(e,p.a,t):this.renderers.unknownObjectType.getThumbnail(e,p.a,t)},createNewInstanceRenderer:function(e,t,n,r,a){var o=r.getType();return this.renderers.hasOwnProperty(o)?new this.renderers[o](e,t,n,r,a,b.a):e.hasEventsBasedObject(o)?new d.a(e,t,n,r,a,b.a):(console.warn("Object with type ".concat(o," has no instance renderer registered. Please use registerInstanceRenderer to register your renderer.")),new this.renderers.unknownObjectType(e,t,n,r,a,b.a))},registerInstanceRenderer:function(e,t){t.getThumbnail?this.renderers.hasOwnProperty(e)?console.warn('Tried to register renderer for object "'.concat(e,'", but a renderer already exists.')):this.renderers[e]=t:console.warn('Tried to register renderer for object "'.concat(e,'", but getThumbnail is not defined.'))},registerModule:function(e,t){y[e]=t},requireModule:function(t,n){if(v&&O){var r=O.join(t,n),a=g()("module");if(!a._load)throw new Error('module._load does not exist. This is possibly a change in Node.js that is breaking the custom loader, in ObjectsRenderingService.requireModule, that is injected to expose Pixi.js to extensions using "require".');var o=a._load,i={"pixi.js-legacy":h,"pixi.js":h,"@pixi/core":h,"@pixi/display":h,"@pixi/constants":h,"@pixi/sprite":h,"@pixi/math":h,"@pixi/utils":h,"@pixi/graphics":h};a._load=function(e,t,n){var a=i[e];return a||(0===e.indexOf("./")||e===r?o(e,t,n):(console.error('A module ("'.concat(e,'") was required from ').concat(r,' but is not an allowed module or a relative file path starting with "./". null will be returned instead.')),console.warn("Allowed modules are: ",Object.keys(i)),console.warn("Please use only allowed modules or a reference a local file."),null))};var s=null;try{s=e.require(r)}catch(c){console.error('Unable to load module "'.concat(n,'". Only files located in ').concat(t," are supported. Exception was:"),c),s=null}return a._load=o,s}return y[n]?y[n]:(console.error('Unable to load module "'.concat(n,'". Are you sure you registered it using ObjectsRenderingService.registerModule? This is mandatory for the web-app to have the file bundled.')),null)},rgbOrHexToHexNumber:m.g,gd:x,PIXI:h,RenderedInstance:j.a};t.a=C}).call(this,n(25))},,,,,,,function(e,t,n){"use strict";n(17);var r=n(39),a=n(312),o=n(26),i=n(8);t.a=function(e){var t=e.identifier,n=e.kind,s=e.children;return Object(i.jsx)(r.a.Consumer,{children:function(e){var r=e.values,c=e.showAlertMessage;return!r.hiddenAlertMessages[t]&&Object(i.jsx)(a.a,{kind:n,children:s,onHide:function(){o.b.showConfirmDialog("Are you sure you want to hide this hint? You won't see it again, unless you re-activate it from the preferences.")&&c(t,!1)}})}})}},function(e,t,n){"use strict";var r=n(3),a=n(18),o=n(17),i=n(2578),s=n(295),c=n(8),u=["label","primary","icon","keyboardFocused","disabled","id","allowBrowserAutoTranslate"],l=o.forwardRef((function(e,t){var n=e.label,o=e.primary,l=e.icon,d=e.keyboardFocused,b=e.disabled,p=e.id,j=e.allowBrowserAutoTranslate,h=void 0===j||j,f=Object(a.a)(e,u);return Object(c.jsxs)(i.a,Object(r.a)(Object(r.a)({variant:"text",size:"small",translate:h?"yes":"no",color:o?"secondary":"default",autoFocus:d,focusRipple:!0,disabled:b,id:p},f),{},{ref:t,children:[l,l&&Object(c.jsx)(s.d,{}),n?Object(c.jsx)("span",{children:n}):null]}))}));t.a=l},function(e,t,n){"use strict";n.d(t,"a",(function(){return A}));var r=n(19),a=n(2),o=n(6),i=n(5),s=n(10),c=n(11),u=n(0),l=n.n(u),d=n(17),b=n(374),p=n(1502),j=n.n(p),h=n(328),f=n.n(h),g=n(749),m=n.n(g),O=(n(320),n(354)),v=n(717),x=n(297),y=n(310),C=n(305),k=n(298),w=n(9),T=n(295),E=n(60),S=n(991),P=n(8),I={textFieldStyle:{display:"flex",flex:1}},A=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var r;Object(o.a)(this,n),(r=t.call(this,e))._addFrom=function(){var e=Object(a.a)(l.a.mark((function e(t){var n,a,o,i,s,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t){e.next=3;break}return e.abrupt("return");case 3:return n=r.props,a=n.project,o=n.resourceManagementProps,e.next=6,o.onChooseResource({initialSourceName:t.name,multiSelection:!1,resourceKind:r.props.resourceKind});case 6:if((i=e.sent).length){e.next=9;break}return e.abrupt("return");case 9:return s=i[0],Object(O.a)(a,s),a.getResourcesManager().addResource(s),r._loadFrom(a.getResourcesManager()),c=s.getName(),r._onChangeResourceName(c),r._autoComplete&&r._autoComplete.forceInputValueTo(c),i.forEach((function(e){return e.delete()})),e.next=19,o.onFetchNewlyAddedResources();case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(0),console.error("Unable to choose a resource",e.t0);case 24:case"end":return e.stop()}}),e,null,[[0,21]])})));return function(t){return e.apply(this,arguments)}}(),r._onResetResourceName=function(){r.setState({resourceName:"",notExistingError:!1},(function(){r.props.onChange&&r.props.onChange(r.state.resourceName)}))},r._onChangeResourceName=function(e){if(""!==e){var t=-1===r.allResourcesNames.indexOf(e);t||r.props.onChange&&r.props.onChange(e),r.setState({resourceName:e,notExistingError:t})}else r._onResetResourceName()},r._editWith=function(){var e=Object(a.a)(l.a.mark((function e(t,n){var a,o,i,s,c,u,d,b,p;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.props,o=a.project,i=a.resourcesLoader,s=a.resourceManagementProps,c=r.state.resourceName,u=o.getResourcesManager(),d=u.getResource(c),e.prev=4,r.setState({externalEditorOpened:!0}),e.next=8,n.edit({project:o,i18n:t,getStorageProvider:s.getStorageProvider,resourceManagementProps:s,resourceNames:[c],extraOptions:{existingMetadata:d.getMetadata(),singleFrame:!0,fps:0,name:c,isLooping:!1}});case 8:if(b=e.sent,r.setState({externalEditorOpened:!1}),b){e.next=12;break}return e.abrupt("return");case 12:if((p=b.resources).length){e.next=15;break}return e.abrupt("return");case 15:i.burstUrlsCacheForResources(o,[p[0].name]),r.props.onChange(p[0].name),r._loadFrom(u),r.forceUpdate(),e.next=26;break;case 21:e.prev=21,e.t0=e.catch(4),r.setState({externalEditorOpened:!1}),console.error("An exception was thrown when launching or reading resources from the external editor:",e.t0),Object(E.a)({message:"There was an error while using the external editor. Try with another resource and if this persists, please report this as a bug.",rawError:e.t0,errorId:"external-editor-error"});case 26:case"end":return e.stop()}}),e,null,[[4,21]])})));return function(t,n){return e.apply(this,arguments)}}(),r.state={notExistingError:!1,resourceName:e.initialResourceName||"",externalEditorOpened:!1};var i=e.project;return i&&r._loadFrom(i.getResourcesManager()),r}return Object(i.a)(n,[{key:"focus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._autoComplete&&this._autoComplete.focus(e)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.initialResourceName!==this.props.initialResourceName&&this.setState({resourceName:e.initialResourceName||""})}},{key:"_getResourceSourceItems",value:function(){var e=this,t=this.props.resourceManagementProps,n=t.resourceSources||[],a=t.getStorageProvider();return[].concat(Object(r.a)(n.filter((function(t){return t.kind===e.props.resourceKind})).filter((function(e){var t=e.onlyForStorageProvider;return!t||t===a.internalName})).map((function(t){return{text:"",value:"",translatableValue:t.displayName,renderIcon:function(){return Object(P.jsx)(f.a,{})},onClick:function(){return e._addFrom(t)}}}))),[{type:"separator"}])}},{key:"_loadFrom",value:function(e){var t=this;if(this.allResourcesNames=e.getAllResourceNames().toJSArray(),this.props.resourceKind){var n=this.allResourcesNames.filter((function(n){return e.getResource(n).getKind()===t.props.resourceKind}));this.props.fallbackResourceKind&&n.push.apply(n,Object(r.a)(this.allResourcesNames.filter((function(n){return e.getResource(n).getKind()===t.props.fallbackResourceKind})))),this.allResourcesNames=n}var a=this._getResourceSourceItems(),o=this.allResourcesNames.map((function(e){return{text:e,value:e}}));this.autoCompleteData=[].concat(Object(r.a)(a),Object(r.a)(o))}},{key:"render",value:function(){var e=this,t=this.state.notExistingError?"This resource does not exist in the game":null,n=this.props.resourceManagementProps.resourceExternalEditors.filter((function(t){return t.kind===e.props.resourceKind}));return Object(P.jsx)(w.I18n,{children:function(r){var a=r.i18n;return Object(P.jsxs)(x.c,{noMargin:!0,expand:!0,alignItems:"center",children:[Object(P.jsx)(T.a,{expand:!0,noMargin:!0,children:Object(P.jsxs)(x.b,{expand:!0,noMargin:!0,children:[Object(P.jsx)(b.c,{style:e.props.style,textFieldStyle:I.textFieldStyle,floatingLabelText:e.props.floatingLabelText,helperMarkdownText:e.props.helperMarkdownText,hintText:e.props.hintText,openOnFocus:!0,dataSource:e.autoCompleteData||[],value:e.state.resourceName,onChange:e._onChangeResourceName,errorText:t,fullWidth:e.props.fullWidth,margin:e.props.margin,onRequestClose:e.props.onRequestClose,onApply:e.props.onApply,ref:function(t){return e._autoComplete=t}}),e.props.canBeReset&&Object(P.jsx)(y.a,{size:"small",onClick:function(){e._onResetResourceName()},children:Object(P.jsx)(j.a,{})})]})}),Object(P.jsx)(C.a,{label:e.state.resourceName?Object(P.jsx)(w.Trans,{id:"Replace"}):Object(P.jsx)(w.Trans,{id:"Choose a file"}),onClick:function(){e._autoComplete&&e._autoComplete.focus()},primary:!0}),1===n.length&&Object(P.jsx)(k.a,{leftIcon:Object(P.jsx)(m.a,{fontSize:"small"}),label:a._(e.state.resourceName?n[0].editDisplayName:n[0].createDisplayName),onClick:function(){return e._editWith(a,n[0])}}),n.length>1?Object(P.jsx)(v.a,{icon:Object(P.jsx)(m.a,{fontSize:"small"}),label:a._(e.state.resourceName?n[0].editDisplayName:n[0].createDisplayName),onClick:function(){return e._editWith(a,n[0])},buildMenuTemplate:function(t){return n.map((function(n){return{label:t._(e.state.resourceName?n.editDisplayName:n.createDisplayName),click:function(){return e._editWith(t,n)}}}))}}):null,e.state.externalEditorOpened&&Object(P.jsx)(S.a,{})]})}})}}]),n}(d.Component)},function(e,t,n){"use strict";function r(e,t,n){return t&&t.hasObjectNamed(n)?t.getObject(n):e.hasObjectNamed(n)?e.getObject(n):null}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"c",(function(){return c}));var r=e.gd,a=function(e){var t=e.instructionMetadata,n=e.instruction,a=e.expressionMetadata,o=e.expression,i=e.parameterIndex;if(void 0===i||null==i)return null;var s=null;if(t&&n){var c=r.ParameterMetadataTools.getObjectParameterIndexFor(t.getParameters(),i);c>=0&&c<n.getParametersCount()&&(s=n.getParameter(c).getPlainString())}else if(a&&o){var u=r.ParameterMetadataTools.getObjectParameterIndexFor(a.getParameters(),i);u>=0&&u<o.getParametersCount()&&(s=o.getParameter(u))}return s},o=function(e,t){var n=r.ParameterMetadataTools.getObjectParameterIndexFor(e,t);return n<0||n>=e.size()?"":e.at(n).getExtraInfo()},i=function(e){var t=e.instruction,n=e.expression,r=e.parameterIndex;if(void 0===r||null==r)return null;if(t){if(r>=1&&r<t.getParametersCount())return t.getParameter(r-1).getPlainString()}else if(n&&r>=1&&r<n.getParametersCount())return n.getParameter(r-1);return null},s=function(e){if(!e)return null;var t=e.trim();return t.length>=2&&'"'===t[0]&&'"'===t[t.length-1]?t.substr(1,t.length-2):null},c=function(e){if(!e)return[];try{return JSON.parse(e.getExtraInfo()).map((function(e){return{kind:"Text",completion:'"'.concat(e,'"')}}))}catch(t){console.error("The parameter seems misconfigured, as an array of choices could not be extracted - verify that your properly wrote a list of choices in JSON format. Full exception is:",t)}return[]}}).call(this,n(25))},,,,function(e,t,n){"use strict";var r=n(17),a=n(2606),o=n(306),i=n(2597),s=n(8);t.a=function(e){var t,n,c=r.useContext(o.a),u=(t=c,n=!!e.disabled,Object(i.a)({root:{color:t.link.color.default,textDecoration:"underline","&:hover":{color:n?void 0:t.link.color.hover,cursor:n?"default":"pointer"},"&:focus":{color:n?void 0:t.link.color.hover}}})());return Object(s.jsx)(a.a,{color:"secondary",href:e.href,onClick:function(t){t.preventDefault(),e.disabled||e.onClick()},classes:u,children:e.children})}},function(e,t,n){"use strict";var r=n(17),a=n.n(r),o=n(375),i=n(306),s=n(8);function c(e){var t=a.a.useContext(i.a),n=t.palette.type,r=e.src,c=e.tooltip,u=e.disabled,l=e.isGDevelopIcon,d=e.cssAnimation,b=e.useExactIconSize,p=void 0!==e.iconWidth?e.iconWidth:e.iconSize,j=void 0!==e.iconHeight?e.iconHeight:e.iconSize,h=p>40?16:0,f=r.startsWith("data:image/svg+xml")||r.includes("_black"),g=void 0;"dark"===n&&f?g="grayscale(1) invert(1)":l&&!f&&(g=u?"grayscale(100%)":t.gdevelopIconsCSSFilter);var m={maxWidth:b?void 0:p,maxHeight:b?void 0:j,width:b?p:void 0,height:b?j:void 0,verticalAlign:"middle",animation:d,filter:g};return Object(s.jsx)("div",{style:{width:p,height:j,lineHeight:"".concat(j,"px"),textAlign:"center",paddingRight:h},children:l?Object(s.jsx)("img",{title:c,alt:c,src:r,style:m}):Object(s.jsx)(o.a,{title:c,alt:c,src:r,style:m})})}var u=a.a.memo(c);t.a=u},,function(e,t,n){"use strict";var r=n(17),a={eventsFunctionsExtensionsError:null,loadProjectEventsFunctionsExtensions:function(){return Promise.reject(new Error("Use a provider"))},unloadProjectEventsFunctionsExtensions:function(){},reloadProjectEventsFunctionsExtensions:function(){return Promise.reject(new Error("Use a provider"))},unloadProjectEventsFunctionsExtension:function(){},getEventsFunctionsExtensionWriter:function(){return null},getEventsFunctionsExtensionOpener:function(){return null},ensureLoadFinished:function(){return Promise.reject(new Error("Use a provider"))},getIncludeFileHashs:function(){return{}}},o=r.createContext(a);t.a=o},,,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return O}));var r=n(6),a=n(5),o=n(665),i=n.n(o),s=n(40),c=n.n(s),u=n(329),l=n(320),d=n(1894),b=n(451),p=e.gd,j={},h={},f={},g=u.Texture.from("res/error48.png"),m=function(e){return Object(b.b)(e)?"use-credentials":"anonymous"},O=function(){function e(){Object(r.a)(this,e)}return Object(a.a)(e,null,[{key:"_initializeTexture",value:function(e,t){"image"===e.getKind()&&(p.asImageResource(e).isSmooth()||(t.baseTexture.scaleMode=u.SCALE_MODES.NEAREST))}},{key:"loadTextures",value:function(t,n,r,a){var o=t.getResourcesManager(),i=u.Loader.shared;i.reset();var s={};n.forEach((function(e){if(o.hasResource(e)){var n=o.getResource(e);if("image"===n.getKind()){var r=l.a.getResourceFullUrl(t,e,{isResourceForPixi:!0});i.add({name:e,url:r,loadType:u.LoaderResource.LOAD_TYPE.IMAGE,crossOrigin:m(r)}),s[e]=n}}}));var c=Object.keys(s).length;if(c){var d=0,b=i.onProgress.add((function(){d++,r(d,c)}));i.load((function(t,n){for(var r in t.onProgress.detach(b),n)if(n.hasOwnProperty(r)){var i=o.getResource(r);if("image"!==i.getKind())continue;var s=n[r].texture;s&&(f[r]=s,e._initializeTexture(i,f[r]))}a()}))}else a()}},{key:"getPIXITexture",value:function(t,n){if(f[n])return f[n];if(!t.getResourcesManager().hasResource(n))return g;var r=t.getResourcesManager().getResource(n);if("image"!==r.getKind())return g;var a=l.a.getResourceFullUrl(t,n,{isResourceForPixi:!0});return f[n]=u.Texture.from(a,{resourceOptions:{crossorigin:m(a)}}),e._initializeTexture(r,f[n]),f[n]}},{key:"getPIXIVideoTexture",value:function(e,t){if(f[t])return f[t];if(!e.getResourcesManager().hasResource(t))return g;if("video"!==e.getResourcesManager().getResource(t).getKind())return g;var n=l.a.getResourceFullUrl(e,t,{disableCacheBurst:!0,isResourceForPixi:!0});return f[t]=u.Texture.from(n,{scaleMode:u.SCALE_MODES.LINEAR,resourceOptions:{autoPlay:!1,crossorigin:m(n)}}),f[t]}},{key:"loadFontFamily",value:function(e,t){if(h[t])return Promise.resolve(h[t]);var n=i()(t),r=null;e.getResourcesManager().hasResource(t)?"font"===e.getResourcesManager().getResource(t).getKind()&&(r=l.a.getResourceFullUrl(e,t,{isResourceForPixi:!0})):r=l.a.getFullUrl(e,t,{isResourceForPixi:!0});return r?Object(d.a)(n,r).then((function(e){return h[t]=n,n})):Promise.resolve("Arial")}},{key:"getFontFamily",value:function(e,t){return h[t]?h[t]:i()(t)}},{key:"getBitmapFontData",value:function(e,t){if(j[t])return Promise.resolve(j[t].data);if(!e.getResourcesManager().hasResource(t))return Promise.reject(new Error("Can't find resource called ".concat(t,".")));if("bitmapFont"!==e.getResourcesManager().getResource(t).getKind())return Promise.reject(new Error("The resource called ".concat(t," is not a bitmap font file. Require .fnt or .xml format.")));var n=l.a.getResourceFullUrl(e,t,{isResourceForPixi:!0});return n?c.a.get(n,{withCredentials:Object(b.b)(n)}).then((function(e){return j[t]=e,e.data})):Promise.reject(new Error("The resource called ".concat(t," was no found.\nThe default bitmap font will be used.")))}},{key:"getInvalidPIXITexture",value:function(){return g}},{key:"getResourceJsonData",value:function(e,t){if(!e.getResourcesManager().hasResource(t))return Promise.reject(new Error("Can't find resource called ".concat(t,".")));var n=e.getResourcesManager().getResource(t);if("json"!==n.getKind()&&"tilemap"!==n.getKind()&&"tileset"!==n.getKind())return Promise.reject(new Error("The resource called ".concat(t," is not a json file.")));var r=l.a.getResourceFullUrl(e,t,{isResourceForPixi:!0});return c.a.get(r,{withCredentials:Object(b.b)(r)}).then((function(e){return e.data}))}}]),e}()}).call(this,n(25))},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(3),a=(n(17),n(296)),o=n(8),i={display:"flex",alignItems:"center",paddingLeft:8,paddingRight:8},s={marginRight:4},c={marginLeft:4,marginRight:4},u=function(e){var t=e.children,n=e.firstChild;return Object(o.jsx)(a.a,{noShrink:!0,style:n?s:c,children:t})};t.b=function(e){var t=e.justifyContent,n=e.children,a=e.noPadding;return Object(o.jsx)("div",{style:Object(r.a)(Object(r.a)(Object(r.a)({},i),a?{padding:0}:{}),{},{height:32,justifyContent:t}),children:n})}},,,,function(e,t,n){"use strict";var r=n(17),a=n(2733),o=n(2597),i=n(8),s=Object(o.a)({root:{cursor:"default"},deleteIcon:{cursor:"default"}}),c=r.forwardRef((function(e,t){var n=r.useRef(null),o=function(){n.current&&n.current.focus()};return r.useImperativeHandle(t,(function(){return{focus:o}})),Object(i.jsx)(a.a,{label:e.label,icon:e.icon,size:e.size,variant:e.variant,avatar:e.avatar,style:e.style,onClick:e.onClick,onBlur:e.onBlur,onFocus:e.onFocus,onDelete:e.onDelete,classes:s(),className:e.disableAutoTranslate?"notranslate":"",ref:n})}));t.a=c},function(e,t,n){"use strict";var r=n(3),a=n(17),o=n.n(a),i=n(905),s=n(8);t.a=o.a.memo((function(e){return Object(s.jsxs)(i.a,Object(r.a)(Object(r.a)({},e),{},{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:[Object(s.jsx)("path",{d:"M8.66668 8.00002C8.66668 8.36822 8.36821 8.66669 8.00001 8.66669C7.63181 8.66669 7.33334 8.36822 7.33334 8.00002C7.33334 7.63182 7.63181 7.33335 8.00001 7.33335C8.36821 7.33335 8.66668 7.63182 8.66668 8.00002Z",fill:"currentColor"}),Object(s.jsx)("path",{d:"M8.66668 5.33335C8.66668 5.70154 8.36821 6.00002 8.00001 6.00002C7.63181 6.00002 7.33334 5.70154 7.33334 5.33335C7.33334 4.96517 7.63181 4.66669 8.00001 4.66669C8.36821 4.66669 8.66668 4.96517 8.66668 5.33335Z",fill:"currentColor"}),Object(s.jsx)("path",{d:"M8.66668 10.6667C8.66668 11.0349 8.36821 11.3334 8.00001 11.3334C7.63181 11.3334 7.33334 11.0349 7.33334 10.6667C7.33334 10.2985 7.63181 10 8.00001 10C8.36821 10 8.66668 10.2985 8.66668 10.6667Z",fill:"currentColor"})]}))}))},function(e,t,n){"use strict";var r=n(2),a=n(0),o=n.n(a),i=n(17),s={currentlyRunningInAppTutorial:null,startTutorial:function(){var e=Object(r.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),endTutorial:function(){},inAppTutorialShortHeaders:null,startStepIndex:0,startProjectData:{},inAppTutorialsFetchingError:null,fetchInAppTutorials:function(){var e=Object(r.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},c=i.createContext(s);t.a=c},,,function(e,t,n){"use strict";n(17);var r=n(2590),a=n(8),o={paddingLeft:8};t.a=function(e){var t=e.children;return t?Object(a.jsx)(r.a,{variant:"overline",style:o,children:t}):null}},function(e,t,n){"use strict";var r=n(3),a=n(34),o=n(17),i=n(311),s=n(517),c=n(66),u=n(8),l={container:{position:"relative",display:"inline-block"},picker:{position:"absolute",right:"8px",top:"19px"}};t.a=function(e){var t=e.fullWidth,n=e.disableAlpha,d=e.id,b=e.floatingLabelText,p=e.helperMarkdownText,j=e.onChange,h=e.color,f=e.alpha,g=e.disabled,m=o.useState(h),O=Object(a.a)(m,2),v=O[0],x=O[1],y=o.useState(n||void 0===f?1:f),C=Object(a.a)(y,2),k=C[0],w=C[1],T=o.useRef(null),E=function(e,t){x(e),w(t)},S=function(){var e=parseFloat(k);e<0&&(e=0),e>1&&(e=1),w(e),j(v,e)};return Object(u.jsxs)("div",{style:Object(r.a)(Object(r.a)({},l.container),{},{width:t?"100%":void 0}),children:[Object(u.jsx)(i.b,{id:d,fullWidth:n,style:n?void 0:{width:"70%"},floatingLabelText:b,floatingLabelFixed:!g,helperMarkdownText:p,type:"text",translatableHintText:g?null:{id:"R;G;B, like 100;200;180"},value:v,onChange:function(e){return E(e.target.value,k)},onBlur:S,ref:T,disabled:g}),!n&&Object(u.jsx)(i.b,{id:"".concat(d||"","-alpha"),floatingLabelText:"Alpha",floatingLabelFixed:!0,style:{width:"30%"},translatableHintText:{id:"Number between 0 and 1"},value:k.toString(),onChange:function(e,t){return E(v,parseFloat(t))},onBlur:S,ref:T,type:"number",step:.1,disabled:g}),Object(u.jsx)("div",{style:l.picker,children:Object(u.jsx)(s.a,{disableAlpha:n,onChangeComplete:function(e){var t=Object(c.f)(e.rgb),r=n?1:e.rgb.a;x(t),r&&w(r),j(t,r)},color:Object(c.i)(v,k),disabled:g})})]})}},function(e,t,n){"use strict";n.d(t,"h",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"k",(function(){return b})),n.d(t,"i",(function(){return p})),n.d(t,"j",(function(){return j})),n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return f})),n.d(t,"l",(function(){return g})),n.d(t,"g",(function(){return m})),n.d(t,"f",(function(){return O})),n.d(t,"e",(function(){return v})),n.d(t,"m",(function(){return x}));var r=n(2),a=n(0),o=n.n(a),i=n(40),s=n.n(i),c=n(35),u=function(){return[{planId:null,name:"GDevelop Free & Open-source",monthlyPriceInEuros:0,smallDescription:{id:"Use GDevelop for free, forever. We also give you access to these additional online services for free."},descriptionBullets:[{message:{id:"10 cloud projects with 50MB of resources per project and 2-days version history."}},{message:{id:"2 packagings per day for Android and for desktop."}},{message:{id:"3 leaderboards per game and 10 player feedback responses per game."}}]},{planId:"gdevelop_silver",name:"GDevelop Silver",monthlyPriceInEuros:4.99,smallDescription:{id:"Build more and faster."},descriptionBullets:[{message:{id:"50 cloud projects with 250MB of resources per project and 3-month version history."}},{message:{id:"10 packagings per day for Android and for desktop."}},{message:{id:"Unlimited leaderboards and unlimited player feedback responses."}},{message:{id:"Immerse your players by removing the GDevelop watermark or the GDevelop logo when the game loads."}}]},{planId:"gdevelop_gold",name:"GDevelop Gold",monthlyPriceInEuros:9.99,smallDescription:{id:"Experimented creators, ambitious games."},descriptionBullets:[{message:{id:"100 cloud projects with 500MB of resources per project and one-year version history."}},{message:{id:"100 packagings per day for Android and for desktop."}},{message:{id:"Unlimited leaderboards and unlimited player feedback responses."}},{message:{id:"Immerse your players by removing the GDevelop watermark or the GDevelop logo when the game loads."}}]}]},l=function(){return[{planId:"gdevelop_indie",name:"GDevelop Indie (Legacy)",monthlyPriceInEuros:2,smallDescription:{id:"Build more and faster."},descriptionBullets:[{message:{id:"50 cloud projects with 250MB of resources per project and 3-month version history."}},{message:{id:"10 packagings per day for Android and for desktop."}},{message:{id:"Unlimited leaderboards and unlimited player feedback responses."}}]},{planId:"gdevelop_pro",name:"GDevelop Pro (Legacy)",monthlyPriceInEuros:7,smallDescription:{id:"Experimented creators, ambitious games."},descriptionBullets:[{message:{id:"100 cloud projects with 500MB of resources per project and one-year version history."}},{message:{id:"70 packagings per day for Android and for desktop."}},{message:{id:"Unlimited leaderboards and unlimited player feedback responses."}},{message:{id:"Immerse your players by removing GDevelop logo when the game loads."}}]}]},d={planId:null,monthlyPriceInEuros:null,name:"GDevelop for businesses, game studios and professionals",smallDescription:{id:"Dedicated support, branding and solutions for engaging your players."},descriptionBullets:[]},b=function(e,t){return e().then((function(e){return s.a.get("".concat(c.p.baseUrl,"/usage"),{params:{userId:t},headers:{Authorization:e}})})).then((function(e){return e.data}))},p=function(e,t){return e().then((function(e){return s.a.get("".concat(c.p.baseUrl,"/limits"),{params:{userId:t},headers:{Authorization:e}})})).then((function(e){return e.data}))},j=function(e,t){return e().then((function(e){return s.a.get("".concat(c.p.baseUrl,"/subscription-v2"),{params:{userId:t},headers:{Authorization:e}})})).then((function(e){return e.data}))},h=function(e,t,n){return e().then((function(e){return s.a.post("".concat(c.p.baseUrl,"/subscription-v2"),n,{params:{userId:t},headers:{Authorization:e}})})).then((function(e){return e.data}))},f=function(e){return!!e.stripeSubscriptionId},g=function(e){return!!e&&!!e.planId&&(!e.redemptionCodeValidUntil||e.redemptionCodeValidUntil>Date.now())},m=function(e){return s.a.post("".concat(c.p.baseUrl,"/upload-options/signed-url"),e).then((function(e){return e.data}))},O=function(e,t){return e().then((function(e){return s.a.post("".concat(c.p.baseUrl,"/subscription-v2/action/redirect-to-portal"),{},{params:{userId:t},headers:{Authorization:e}})})).then((function(e){return e.data})).then((function(e){var t=e.sessionPortalUrl;if(!t||"string"!==typeof t)throw new Error("Could not find the session portal url.");return t}))},v=function(e,t,n){return"".concat(c.p.baseUrl,"/subscription-v2/action/redirect-to-checkout?planId=").concat(encodeURIComponent(e),"&userId=").concat(encodeURIComponent(t),"&customerEmail=").concat(encodeURIComponent(n))},x=function(){var e=Object(r.a)(o.a.mark((function e(t,n,r){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:return a=e.sent,e.next=5,s.a.post("".concat(c.p.baseUrl,"/redemption-code/action/redeem-code"),{code:r},{params:{userId:n},headers:{Authorization:a}});case 5:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()},,,,function(e,t,n){"use strict";(function(e){n.d(t,"h",(function(){return c})),n.d(t,"i",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"f",(function(){return b})),n.d(t,"g",(function(){return p})),n.d(t,"e",(function(){return j})),n.d(t,"a",(function(){return h})),n.d(t,"d",(function(){return f}));var r=n(307),a=n(432),o=n.n(a),i=n(509),s=e.gd,c=function(e){return function(t){return e&&t&&e.global===t.global&&e.group===t.group}},u=function(e){return function(t){return e&&t&&e.global===t.global&&e.object===t.object}},l=function(e,t,n){var a=n&&n.type||null,o=n&&n.names||null,i=a?function(n){return s.getTypeOfObject(e,t,n.getName(),!1)===a}:null,c=o?function(e){return o.includes(e.getName())}:null,u=Object(r.mapFor)(0,t.getObjectsCount(),(function(e){var n=t.getObjectAt(e);return i&&!i(n)||c&&!c(n)?null:n})).filter(Boolean).map((function(e){return{object:e,global:!1}})),l=e===t?[]:Object(r.mapFor)(0,e.getObjectsCount(),(function(t){var n=e.getObjectAt(t);return i&&!i(n)||c&&!c(n)?null:n})).filter(Boolean).map((function(e){return{object:e,global:!0}})),d=u.concat(l);return{containerObjectsList:u,projectObjectsList:l,allObjectsList:d}},d=function(e){var t=e.getCurrentPlatform().getAllPlatformExtensions();return o()(Object(r.mapFor)(0,t.size(),(function(e){var n=t.at(e);return n.getExtensionObjectsTypes().toJSArray().map((function(e){return n.getObjectMetadata(e)})).filter((function(e){return!e.isHidden()})).map((function(e){return{extension:n,objectMetadata:e,name:e.getName(),fullName:e.getFullName(),description:e.getDescription(),iconFilename:e.getIconFilename(),categoryFullName:e.getCategoryFullName()}}))})))},b=function(e,t){if(!t.length)return!0;var n=e.object.getTags();return Object(i.d)(n,t)},p=function(e,t){var n=t.searchText,r=t.selectedTags,a=t.hideExactMatches;return n||r.length?e.filter((function(e){return b(e,r)})).filter((function(e){var t=e.object.getName();if(!a||n!==t)return-1!==t.toLowerCase().indexOf(n.toLowerCase())})):e},j=function(e,t){var n=t.searchText,r=t.hideExactMatches;return n?e.filter((function(e){var t=e.group.getName();if(!r||t!==n)return-1!==t.toLowerCase().indexOf(n.toLowerCase())})):e},h=function(e){return Object(r.mapFor)(0,e.count(),(function(t){return e.getAt(t)}))},f=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a=function(r){return!n||s.getTypeOfObject(e,t,r.getName(),!1)===n},o=function(r){return!n||s.getTypeOfObject(e,t,r.getName(),!0)===n},i=Object(r.mapFor)(0,t.getObjectsCount(),(function(e){return t.getObjectAt(e)})).filter(a).map((function(e){return{object:e,global:!1}})),c=t.getObjectGroups(),u=h(c).filter(o).map((function(e){return{group:e,global:!1}})),l=e===t?[]:Object(r.mapFor)(0,e.getObjectsCount(),(function(t){return e.getObjectAt(t)})).filter(a).map((function(e){return{object:e,global:!0}})),d=e.getObjectGroups(),b=e===t?[]:h(d).filter(o).map((function(e){return{group:e,global:!0}})),p=i.concat(l),j=u.concat(b);return{containerObjectsList:i,projectObjectsList:l,allObjectsList:p,containerGroupsList:u,projectGroupsList:b,allGroupsList:j}}}).call(this,n(25))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6),a=n(5),o=(n(329),n(399),function(){function e(t,n,a,o,i,s){Object(r.a)(this,e),this._pixiObject=null,this._instance=a,this._associatedObjectConfiguration=o,this._pixiContainer=i,this._project=t,this._layout=n,this._pixiResourcesLoader=s,this.wasUsed=!0}return Object(a.a)(e,[{key:"update",value:function(){}},{key:"getPixiObject",value:function(){return this._pixiObject}},{key:"getInstance",value:function(){return this._instance}},{key:"onRemovedFromScene",value:function(){null!==this._pixiObject&&this._pixiContainer.removeChild(this._pixiObject)}},{key:"getOriginX",value:function(){return 0}},{key:"getOriginY",value:function(){return 0}},{key:"getCenterX",value:function(){return this._instance.hasCustomSize()?this._instance.getCustomWidth()/2:this.getDefaultWidth()/2}},{key:"getCenterY",value:function(){return this._instance.hasCustomSize()?this._instance.getCustomHeight()/2:this.getDefaultHeight()/2}},{key:"getDefaultWidth",value:function(){return 32}},{key:"getDefaultHeight",value:function(){return 32}}],[{key:"toRad",value:function(e){return e/180*3.14159}}]),e}())},function(e,t,n){var r=n(12),a=r("@electron/remote"),o=a?a.app:null,i=r("fs"),s=r("path"),c=r("process"),u=c&&/^darwin/.test(c.platform),l=function(e,t,n){return i.access(e,i.constants.R_OK,(function(r){r?n():t(e)}))};e.exports={findGDJS:function(){if(!s||!c||!i)return Promise.reject(new Error("Unsupported"));var e=o?o.getAppPath():c.cwd(),t=u?"../../../../":s.join("..",".."),n=s.join(e,t);return new Promise((function(t,r){var a=function(e){return t({gdjsRoot:e})},o=function(){return r(new Error("Could not find GDJS"))};l(s.join(n,"..","JsPlatform"),a,(function(){l(s.join(e,"..","GDJS"),a,(function(){var t=s.join(e,"..","..","app","resources","GDJS");l(t,a,o)}))}))}))}}},,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"}},function(e,t,n){"use strict";var r=n(3),a=n(17),o=n(960);t.a=function(){var e=a.useContext(o.a),t=e.showAlertDialog,n=e.showConfirmDialog,i=e.showConfirmDeleteDialog;return{showAlert:a.useCallback((function(e){return new Promise((function(n){t(Object(r.a)({callback:n},e))}))}),[t]),showConfirmation:a.useCallback((function(e){return new Promise((function(t){n(Object(r.a)({callback:t},e))}))}),[n]),showDeleteConfirmation:a.useCallback((function(e){return new Promise((function(t){i(Object(r.a)({callback:t},e))}))}),[i])}}},function(e,t,n){"use strict";n(17);var r=n(2597),a=n(2598),o=n(2613),i=n(2595),s=n(2725),c=n(2593),u=n(8),l=Object(r.a)({root:{cursor:"default"}}),d=Object(r.a)({root:{display:"block"}});t.a=function(e){var t=e.id,n=e.onCheck,r=e.disabled,b=e.checked,p=e.label,j=e.uncheckedIcon,h=e.checkedIcon,f=e.tooltipOrHelperText,g=l(),m=d(),O=Object(u.jsx)(s.a,{id:t,disabled:r,checked:b,onChange:n?function(e){return n(e,e.target.checked)}:void 0,icon:j,checkedIcon:h,color:"secondary"});return p?Object(u.jsxs)(o.a,{classes:m,children:[Object(u.jsx)(a.a,{control:O,label:p,classes:g}),f&&Object(u.jsx)(i.a,{children:f})]}):f&&!r?Object(u.jsx)(c.a,{title:f,children:O}):O}},,,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return d}));var r=n(19),a=n(24),o=n(307),i=n(1014),s=(n(17),n(8)),c=function(e,t,n,r,a){var o=t.getDescription(),c=function(t){var r=n(t).get(e).getLabel();return r||e.charAt(0).toUpperCase()+e.slice(1).split(/(?=[A-Z])/).join(" ")},u=function(){return o},l=t.getType().toLowerCase();if("number"===l)return{name:e,valueType:l,getValue:function(t){return parseFloat(n(t).get(e).getValue())||0},setValue:function(t,n){r(t,e,""+n)},getLabel:c,getDescription:u,getEndAdornment:function(t){var r=n(t).get(e).getMeasurementUnit();return{label:d(r),tooltipContent:Object(s.jsx)(i.a,{label:r.getLabel(),description:r.getDescription(),elementsWithWords:r.getElementsWithWords()})}}};if("string"===l||""===l)return{name:e,valueType:"string",getValue:function(t){return n(t).get(e).getValue()},setValue:function(t,n){r(t,e,n)},getLabel:c,getDescription:u};if("boolean"===l)return{name:e,valueType:l,getValue:function(t){return"true"===n(t).get(e).getValue()},setValue:function(t,n){r(t,e,n?"1":"0")},getLabel:c,getDescription:u};if("choice"===l){var b=t.getExtraInfo().toJSArray().map((function(e){return{value:e,label:e}}));return{name:e,valueType:"string",getChoices:function(){return b},getValue:function(t){return n(t).get(e).getValue()},setValue:function(t,n){r(t,e,n)},getLabel:c,getDescription:u}}if("behavior"===l){var p=t.getExtraInfo().size()>0?t.getExtraInfo().at(0):"";return{name:e,valueType:"string",getChoices:function(){return a&&""!==p?a.getAllBehaviorNames().toJSArray().map((function(e){return a.getBehavior(e).getTypeName()===p?e:null})).filter(Boolean).map((function(e){return{value:e,label:e}})):[]},getValue:function(t){return n(t).get(e).getValue()},setValue:function(t,n){r(t,e,n)},getLabel:c,getDescription:u}}if("resource"===l){var j=t.getExtraInfo().toJSArray(),h=j[0]||"",f=j[1]||"";return{name:e,valueType:"resource",resourceKind:h,fallbackResourceKind:f,getValue:function(t){return n(t).get(e).getValue()},setValue:function(t,n){r(t,e,n)},getLabel:c,getDescription:u}}return"color"===l?{name:e,valueType:"color",getValue:function(t){return n(t).get(e).getValue()},setValue:function(t,n){r(t,e,n)},getLabel:c,getDescription:u}:"textarea"===l?{name:e,valueType:"textarea",getValue:function(t){return n(t).get(e).getValue()},setValue:function(t,n){r(t,e,n)},getLabel:c,getDescription:u}:(console.error("A property with type=".concat(l," could not be mapped to a field. Ensure that this type is correct and understood by the IDE.")),null)},u=[["X","Y"],["Width","Height"],["Top","Bottom"],["Left","Right"],["Up","Down"],["Min","Max"],["Low","High"],["Color","Opacity"],["Horizontal","Vertical"],["Acceleration","Deceleration"],["Duration","Easing"]],l=["\u2070","\xb9","\xb2","\xb3","\u2074","\u2075"],d=function(e){return Object(o.mapFor)(0,e.getElementsCount(),(function(t){var n=e.getElementBaseUnit(t),r=e.getElementPower(t),a=Math.abs(r),o=r<0||a>1&&a<6;return n.getSymbol()+(r<0?"\u207b":"")+(o?l[a]:"")})).join(" \xb7 ")};t.a=function(e,t,n,i){var s=e.keys(),l=new Map,d=new Set;if(Object(o.mapFor)(0,s.size(),(function(r){var o=s.at(r),b=e.get(o);if(b.isHidden())return null;if(d.has(o))return null;var p=b.getGroup()||"",j=l.get(p);j||(j=[],l.set(p,j));var h,f=null,g=Object(a.a)(u);try{for(g.s();!(h=g.n()).done;){var m=h.value,O=m[0],v=m[1],x=null,y=null;if(o.includes(O)){var C=o.replace(O,v);e.has(C)&&(x=o,y=C)}else if(o.includes(v)){var k=o.replace(v,O);e.has(k)&&(x=k,y=o)}if(x&&y){var w=e.get(x),T=e.get(y);if(w.getGroup()===T.getGroup()){var E=c(x,w,t,n,i),S=c(y,T,t,n,i);E&&S&&(f={name:x+"-"+y,type:"row",children:[E,S]},d.add(x),d.add(y))}}}}catch(P){g.e(P)}finally{g.f()}f||(f=c(o,b,t,n,i)),f&&j.push(f)})),0===l.size)return[];var b=l.get("");return 1===l.size&&b?b:Object(r.a)(l.keys()).sort((function(e,t){return e.localeCompare(t)})).map((function(e){return{name:e,type:"column",title:e,children:l.get(e)||[]}}))}},function(e,t,n){"use strict";n.d(t,"f",(function(){return b})),n.d(t,"g",(function(){return p})),n.d(t,"h",(function(){return j})),n.d(t,"c",(function(){return h})),n.d(t,"a",(function(){return f})),n.d(t,"e",(function(){return g})),n.d(t,"b",(function(){return m})),n.d(t,"d",(function(){return O}));var r=n(2),a=n(0),o=n.n(a),i=n(40),s=n.n(i),c=n(479),u=n.n(c),l=n(35),d=s.a.create({baseURL:l.o.baseUrl}),b=function(){var e=Object(r.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.get("/asset-pack");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(r.a)(o.a.mark((function e(t){var n,r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.sellerId,r=t.productType,e.next=3,d.get("/user/".concat(n,"/product"),{params:{productType:r}});case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(r.a)(o.a.mark((function e(t,n){var r,a,i,s,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.userId,a=n.productType,i=n.role,e.next=3,t();case 3:return s=e.sent,e.next=6,d.get("/purchase",{params:{userId:r,productType:a,role:i},headers:{Authorization:s}});case 6:return c=e.sent,e.abrupt("return",c.data);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),h=function(){var e=Object(r.a)(o.a.mark((function e(t,n){var r,a,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.userId,e.next=3,t();case 3:return a=e.sent,e.next=6,d.post("/asset-pack/action/authorize",{},{headers:{Authorization:a},params:{userId:r}});case 6:return i=e.sent,e.abrupt("return",i.data);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),f=function(e,t){return-1!==e.indexOf("?")?"".concat(e,"&token=").concat(t):"".concat(e,"?token=").concat(encodeURIComponent(t))},g=function(e){return e.startsWith("https://private-assets.gdevelop.io/")||e.startsWith("https://private-assets-dev.gdevelop.io/")},m=function(e){var t=e.split("?")[0];return u.a.basename(t)},O=function(){var e=Object(r.a)(o.a.mark((function e(t,n){var r,a,i,s,c,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.stripePriceId,a=n.userId,i=n.customerEmail,s=n.password,e.next=3,t();case 3:return c=e.sent,e.next=6,d.post("/purchase/action/create-stripe-checkout-session",{stripePriceId:r,customerEmail:i,password:s},{headers:{Authorization:c},params:{userId:a}});case 6:if((u=e.sent).data){e.next=9;break}throw new Error("Could not create the checkout session.");case 9:if(u.data.sessionUrl){e.next=11;break}throw new Error("Could not find the session url.");case 11:return e.abrupt("return",u.data.sessionUrl);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},,function(e,t,n){"use strict";n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"f",(function(){return d})),n.d(t,"g",(function(){return b})),n.d(t,"e",(function(){return p})),n.d(t,"c",(function(){return j})),n.d(t,"b",(function(){return h})),n.d(t,"h",(function(){return m})),n.d(t,"j",(function(){return O})),n.d(t,"k",(function(){return v})),n.d(t,"i",(function(){return x}));var r=n(2),a=n(0),o=n.n(a),i=n(40),s=n.n(i),c=n(35),u="trivial_first-event",l="trivial_first-behavior",d="trivial_first-preview",b="trivial_first-web-export",p="trivial_first-extension",j="trivial_first-effect",h="trivial_first-debug",f=function(e,t){return e.map((function(e){return e.achievementId})).includes(t)},g=function(){var e=Object(r.a)(o.a.mark((function e(t,n){var r,a,i,u,l,d,b;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.badges,a=t.firebaseUser,i=t.getAuthorizationHeader,u=t.onBadgesChanged,r&&a){e.next=3;break}return e.abrupt("return",null);case 3:if(!f(r,n)){e.next=5;break}return e.abrupt("return",null);case 5:return l=a.uid,e.prev=6,e.next=9,i();case 9:return d=e.sent,e.next=12,s.a.post("".concat(c.q.baseUrl,"/user/").concat(l,"/badge"),{achievementId:n},{params:{userId:l},headers:{Authorization:d}});case 12:return b=e.sent,u(),e.abrupt("return",b.data);case 17:if(e.prev=17,e.t0=e.catch(6),!e.t0.response||409!==e.t0.response.status){e.next=23;break}console.warn("Badge already exists"),e.next=24;break;case 23:throw e.t0;case 24:case"end":return e.stop()}}),e,null,[[6,17]])})));return function(t,n){return e.apply(this,arguments)}}(),m=function(e,t,n){var r=e.badges;return r?f(r,t)?n:function(){try{g(e,t)}catch(i){console.error("Couldn't create badge ".concat(t,"; ").concat(i))}for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n.apply(null,a)}:n},O=function(){return s.a.get("".concat(c.q.baseUrl,"/achievement")).then((function(e){return e.data}))},v=function(){var e=Object(r.a)(o.a.mark((function e(t){var n,r,a,i,u,l,d,b;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.badges,r=t.firebaseUser,a=t.getAuthorizationHeader,i=t.onBadgesChanged,n&&r){e.next=3;break}return e.abrupt("return",null);case 3:if(0!==(u=n.filter((function(e){return!e.seen}))).length){e.next=6;break}return e.abrupt("return");case 6:return l=r.uid,e.prev=7,e.next=10,a();case 10:return d=e.sent,e.next=13,s.a.patch("".concat(c.q.baseUrl,"/user/").concat(l,"/badge"),u.map((function(e){return{achievementId:e.achievementId,seen:!0}})),{params:{userId:l},headers:{Authorization:d}});case 13:return b=e.sent,i(),e.abrupt("return",b.data);case 18:e.prev=18,e.t0=e.catch(7),console.error("Couldn't mark badges as seen: ".concat(e.t0));case 21:case"end":return e.stop()}}),e,null,[[7,18]])})));return function(t){return e.apply(this,arguments)}}(),x=function(e,t){return t.unlockedAt&&e.unlockedAt?t.unlockedAt-e.unlockedAt:e.unlockedAt&&!t.unlockedAt?-1:!e.unlockedAt&&t.unlockedAt?1:0}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var r=n(17),a=n(644),o=function(e,t,n){var o=r.useContext(a.b),i=n.handler;r.useEffect((function(){if(t)return o.registerCommand(e,{handler:i}),function(){return o.deregisterCommand(e)}}),[o,e,t,i])},i=function(e,t,n){var o=r.useContext(a.b),i=n.generateOptions;r.useEffect((function(){if(t)return o.registerCommand(e,{generateOptions:i}),function(){return o.deregisterCommand(e)}}),[o,e,t,i])}},,function(e,t,n){"use strict";var r=n(3),a=(n(17),n(2639)),o=n(8);t.a=function(e){return Object(o.jsx)(a.a,{color:"secondary",style:Object(r.a)({flex:1},e.style),variant:e.variant,value:e.value})}},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return Z})),n.d(t,"b",(function(){return Y}));var r=n(34),a=n(17),o=n.n(a),i=n(2),s=n(0),c=n.n(s),u=n(9),l=n(298),d=n(303),b=n(319),p=n(295),j=n(411),h=n(316),f=n(60),g=n(54),m=n(347),O=n(1636),v=n.n(O),x=n(296),y=n(519),C=n(364),k=n(8);function w(e){var t=e.onClose,n=e.authenticatedUser,r=!!n&&!!n.subscription&&!!n.subscription.planId;return Object(y.a)((function(){n.onRefreshUserProfile().catch((function(){}))}),r?null:3900),Object(k.jsx)(d.c,{title:Object(k.jsx)(u.Trans,{id:"Confirming your subscription"}),actions:[r?Object(k.jsx)(d.a,{label:Object(k.jsx)(u.Trans,{id:"Done!"}),primary:!0,onClick:t},"close"):Object(k.jsx)(l.a,{label:Object(k.jsx)(u.Trans,{id:"Cancel and close"}),primary:!1,onClick:t},"close")],onRequestClose:t,maxWidth:"sm",open:!0,children:r?Object(k.jsxs)(p.a,{noMargin:!0,children:[Object(k.jsx)(p.c,{children:Object(k.jsxs)(x.a,{children:[Object(k.jsx)(u.Trans,{id:"Thanks for getting a subscription and supporting GDevelop!"})," ","\ud83d\udc9c"]})}),Object(k.jsxs)(p.c,{justifyContent:"center",alignItems:"center",children:[Object(k.jsx)(v.a,{}),Object(k.jsx)(p.d,{}),Object(k.jsx)(x.a,{children:Object(k.jsx)("b",{children:Object(k.jsx)(u.Trans,{id:"Your new plan is now activated."})})})]}),Object(k.jsx)(p.d,{}),Object(k.jsx)(p.c,{justifyContent:"center",children:Object(k.jsx)(m.a,{children:Object(k.jsx)(u.Trans,{id:"Your account is upgraded, with the extra exports and online services. If you wish to change later, come back to your profile and choose another plan."})})})]}):Object(k.jsxs)(p.a,{noMargin:!0,children:[Object(k.jsx)(p.c,{children:Object(k.jsxs)(x.a,{children:[Object(k.jsx)(u.Trans,{id:"Thanks for getting a subscription and supporting GDevelop!"})," ","\ud83d\udc9c"," ",Object(k.jsx)("b",{children:Object(k.jsx)(u.Trans,{id:"Your browser will now open to enter your payment details."})})]})}),Object(k.jsxs)(p.c,{justifyContent:"center",alignItems:"center",children:[Object(k.jsx)(C.a,{size:20}),Object(k.jsx)(p.d,{}),Object(k.jsx)(x.a,{children:Object(k.jsx)(u.Trans,{id:"Waiting for the subscription confirmation..."})})]}),Object(k.jsx)(p.d,{}),Object(k.jsx)(p.c,{justifyContent:"center",children:Object(k.jsx)(m.a,{children:Object(k.jsx)(u.Trans,{id:"Once you're done, come back to GDevelop and your account will be upgraded automatically, unlocking the extra exports and online services."})})})]})})}var T=n(26),E=n(297),S=n(3),P=n(905),I=o.a.memo((function(e){return Object(k.jsxs)(P.a,Object(S.a)(Object(S.a)({},e),{},{viewBox:"0 0 17 16",style:{fill:"none"},children:[Object(k.jsx)("path",{d:"M10.6668 6.66663C11.035 6.66663 11.3334 6.36815 11.3334 5.99996C11.3334 5.63177 11.035 5.33329 10.6668 5.33329C10.2986 5.33329 10.0001 5.63177 10.0001 5.99996C10.0001 6.36815 10.2986 6.66663 10.6668 6.66663Z",fill:"currentColor"}),Object(k.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.32027 2.80616C8.41341 2.71663 8.53758 2.66663 8.66677 2.66663H13.5001C13.7762 2.66663 14.0001 2.89048 14.0001 3.16663V7.99996C14.0001 8.1329 13.9472 8.26037 13.853 8.35419L9.38864 12.8014C8.65615 13.531 7.46558 13.5111 6.758 12.7572L3.82881 9.63613C3.14175 8.90408 3.1713 7.75557 3.89511 7.05982L8.32027 2.80616ZM8.86811 3.66663L4.58811 7.78076C4.25911 8.09701 4.24567 8.61904 4.55797 8.95179L7.48713 12.0728C7.80876 12.4155 8.34992 12.4246 8.6829 12.0929L13.0001 7.79229V3.66663H8.86811Z",fill:"currentColor"})]}))})),A=n(424),D=n(324),F=n(369),M=n(1015),_=n(312),L=function(e){if(e){var t=Object(M.a)(e);if(t){if(404===t.status)return Object(k.jsx)(u.Trans,{id:"This code is not valid - verify you've entered it properly."});if("redemption-code/cannot-be-redeemed-anymore"===t.code)return Object(k.jsx)(u.Trans,{id:"This code was valid but can't be redeemed anymore. If this is unexpected, contact us or the code provider."});if("user-redeemed-code/already-redeemed-by-user"===t.code)return Object(k.jsx)(u.Trans,{id:"You already used this code - you can't reuse a code multiple times."})}return Object(k.jsx)(u.Trans,{id:"There was an unknown error when trying to apply the code. Double check the code, try again later or contact us if this persists."})}};function R(e){var t=e.onClose,n=e.authenticatedUser,a=o.a.useState(""),s=Object(r.a)(a,2),b=s[0],p=s[1],h=o.a.useState(!1),f=Object(r.a)(h,2),g=f[0],m=f[1],O=o.a.useState(null),v=Object(r.a)(O,2),x=v[0],y=v[1],C=function(){var e=Object(i.a)(c.a.mark((function e(){var r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m(!0),r=n.getAuthorizationHeader,a=n.profile,e.prev=2,a){e.next=5;break}throw new Error("User should be logged in");case 5:return e.next=7,Object(j.m)(r,a.id,b.trim().toLowerCase());case 7:t(!0),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),y(e.t0);case 13:return e.prev=13,m(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[2,10,13,16]])})));return function(){return e.apply(this,arguments)}}(),w=!!b&&!g,T=n.subscription;return Object(k.jsx)(u.I18n,{children:function(e){var n=e.i18n;return Object(k.jsx)(d.c,{title:Object(k.jsx)(u.Trans,{id:"Redeem a code"}),actions:[Object(k.jsx)(l.a,{label:Object(k.jsx)(u.Trans,{id:"Close"}),primary:!1,disabled:g,onClick:function(){return t(!1)}},"close"),Object(k.jsx)(F.a,{isLoading:g,children:Object(k.jsx)(d.a,{label:Object(k.jsx)(u.Trans,{id:"Redeem"}),disabled:!w,primary:!0,onClick:C},"redeem")})],cannotBeDismissed:g,onRequestClose:function(){return t(!1)},onApply:function(){w&&C()},maxWidth:"sm",open:!0,children:Object(k.jsx)("form",{onSubmit:function(e){e.preventDefault(),C()},autoComplete:"on",name:"redeemSubscriptionCoupon",children:Object(k.jsxs)(E.a,{noMargin:!0,children:[Object(k.jsx)(D.a,{value:b,onChange:p,translatableHintText:{id:"Enter your code here"},floatingLabelText:Object(k.jsx)(u.Trans,{id:"Redemption code"}),floatingLabelFixed:!0,errorText:L(x),autoFocus:"desktop"}),T&&T.planId?T.redemptionCodeValidUntil?T.redemptionCodeValidUntil>Date.now()?Object(k.jsx)(_.a,{kind:"warning",children:Object(k.jsx)(u.Trans,{id:"You currently have a subscription, applied thanks to a redemption code, valid until {0}. If you redeem another code, your existing subscription will be canceled and not redeemable anymore!",values:{0:n.date(T.redemptionCodeValidUntil)}})}):null:Object(k.jsx)(_.a,{kind:"info",children:Object(k.jsx)(u.Trans,{id:"You currently have a subscription. If you redeem a code, the existing subscription will be cancelled and replaced by the one given by the code."})}):null]})})})}})}var N=n(1016),B=n(305),U={descriptionText:{marginLeft:16,marginRight:16},bulletIcon:{width:20,height:20,marginRight:10},bulletText:{flex:1},diamondIcon:{width:90,height:90,flexShrink:0,objectFit:"contain"}},H={title:{id:"Cancel your subscription"},message:{id:"Are you sure you want to cancel your subscription?"},confirmButtonLabel:{id:"Cancel my subscription"},dismissButtonLabel:{id:"Go back"}},W={title:{id:"Update your subscription"},message:{id:"Are you sure you want to subscribe to this new plan? Your next payment will be pro-rated."},confirmButtonLabel:{id:"Update my subscription"},dismissButtonLabel:{id:"Go back"}},z={title:{id:"Update your subscription"},message:{id:"To get this new subscription, we need to cancel your existing one before you can pay for the new one. The change will be immediate but your payment will NOT be pro-rated (you will have to pay as for a new subscription)."},confirmButtonLabel:{id:"Cancel my subscription"},dismissButtonLabel:{id:"Go back"}},V={title:{id:"Update your subscription"},message:{id:"To get this new subscription, we need to cancel your existing one before you can pay for the new one. The change will be immediate. You will also lose your redeemed code."},confirmButtonLabel:{id:"Update my subscription"},dismissButtonLabel:{id:"Go back"}};function G(e){var t=e.open,n=e.onClose,o=e.analyticsMetadata,s=a.useState(!1),m=Object(r.a)(s,2),O=m[0],v=m[1],y=a.useState(!1),C=Object(r.a)(y,2),S=C[0],P=C[1],D=a.useState(!1),M=Object(r.a)(D,2),_=M[0],L=M[1],G=a.useContext(b.a),Z=Object(A.a)(),Y=Z.showConfirmation,q=Z.showAlert;a.useEffect((function(){t&&Object(g.A)(o)}),[t,o]);var X=function(){var e=Object(i.a)(c.a.mark((function e(t,n){var r,a,o,i,s,u,l,d;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=G.getAuthorizationHeader,a=G.subscription,(o=G.profile)&&a){e.next=3;break}return e.abrupt("return");case 3:if(Object(g.i)(n.planId),a.planId){e.next=8;break}return P(!0),T.b.openExternalURL(Object(j.e)(n.planId||"",o.id,o.email)),e.abrupt("return");case 8:if(i=n.planId){e.next=34;break}return e.next=12,Y(H);case 12:if(e.sent){e.next=15;break}return e.abrupt("return");case 15:return v(!0),e.prev=16,e.next=19,Object(j.c)(r,o.id,{planId:null});case 19:return e.next=21,G.onSubscriptionUpdated();case 21:q({title:{id:"Subscription cancelled"},message:{id:"Your subscription is now cancelled."}}),e.next=29;break;case 24:return e.prev=24,e.t0=e.catch(16),e.next=28,G.onSubscriptionUpdated();case 28:Object(f.a)({message:t._({id:"Your subscription could not be cancelled. Please try again later!"}),rawError:e.t0,errorId:"subscription-update-error"});case 29:return e.prev=29,v(!1),e.finish(29);case 32:e.next=79;break;case 34:if(s=!Object(j.b)(a),u=!!a.redemptionCodeValidUntil&&a.redemptionCodeValidUntil>Date.now(),l=!!a.redemptionCodeValidUntil&&a.redemptionCodeValidUntil<Date.now(),d=!s||l?W:u?V:z,!(s&&!l||u)){e.next=45;break}return e.next=42,Y(d);case 42:if(e.sent){e.next=45;break}return e.abrupt("return");case 45:if(s){e.next=63;break}return v(!0),e.prev=47,e.next=50,Object(j.c)(r,o.id,{planId:n.planId});case 50:return e.next=52,G.onSubscriptionUpdated();case 52:q({title:{id:"Subscription updated"},message:{id:"Congratulations, your new subscription is now active! You can now use the services unlocked with this plan."}}),e.next=58;break;case 55:e.prev=55,e.t1=e.catch(47),Object(f.a)({message:t._({id:"Your subscription could not be updated. Please try again later!"}),rawError:e.t1,errorId:"subscription-update-error"});case 58:return e.prev=58,v(!1),e.finish(58);case 61:e.next=79;break;case 63:return v(!0),e.prev=64,e.next=67,Object(j.c)(r,o.id,{planId:""});case 67:return e.next=69,G.onSubscriptionUpdated();case 69:e.next=74;break;case 71:e.prev=71,e.t2=e.catch(64),Object(f.a)({message:t._({id:"Your subscription could not be cancelled. Please try again later!"}),rawError:e.t2,errorId:"subscription-update-error"});case 74:return e.prev=74,v(!1),e.finish(74);case 77:P(!0),T.b.openExternalURL(Object(j.e)(i,o.id,o.email));case 79:case"end":return e.stop()}}),e,null,[[16,24,29,32],[47,55,58,61],[64,71,74,77]])})));return function(t,n){return e.apply(this,arguments)}}(),J=!G.subscription||!G.profile||O,K=Object(j.l)(G.subscription);return Object(k.jsx)(u.I18n,{children:function(e){var r=e.i18n;return Object(k.jsx)(d.c,{title:Object(k.jsx)(u.Trans,{id:"GDevelop Premium"}),actions:[Object(k.jsx)(l.a,{label:Object(k.jsx)(u.Trans,{id:"Close"}),primary:!1,onClick:n},"close")],secondaryActions:[Object(k.jsx)(l.a,{leftIcon:Object(k.jsx)(I,{}),label:Object(k.jsx)(u.Trans,{id:"Redeem a code"}),disabled:!G.authenticated||J,primary:!1,onClick:function(){return L(!0)}},"redeem-code")],onRequestClose:n,open:t,children:Object(k.jsxs)(E.a,{noMargin:!0,expand:!0,children:[Object(k.jsxs)(E.b,{noMargin:!0,alignItems:"center",children:[Object(k.jsx)("img",{src:"res/diamond.svg",style:U.diamondIcon,alt:""}),Object(k.jsx)(x.a,{children:Object(k.jsx)(u.Trans,{id:"Get a subscription to unlock more one-click exports and other exclusive features as a premium creator in our community. With a subscription, you're also supporting the development of GDevelop, which is an open-source software."})}),Object(k.jsx)(l.a,{style:{flexShrink:0},label:Object(k.jsx)(u.Trans,{id:"Read more"}),onClick:function(){return T.b.openExternalURL("https://gdevelop.io/pricing")}})]}),Object(j.h)().map((function(e){var t=!!G.subscription&&G.subscription.planId===e.planId,n=e.planId?t&&K?Object(k.jsx)(a.Fragment,{children:Object(k.jsx)(F.a,{isLoading:J,children:Object(k.jsx)(l.a,{disabled:J,label:Object(k.jsx)(u.Trans,{id:"Cancel your subscription"}),onClick:function(){return X(r,{planId:null})}})})},"cancel"):Object(k.jsx)(a.Fragment,{children:Object(k.jsx)(F.a,{isLoading:J,children:Object(k.jsx)(B.a,{primary:!0,disabled:J,label:Object(k.jsx)(u.Trans,{id:"Choose this plan"}),onClick:function(){return X(r,e)}})})},"upgrade"):null;return Object(k.jsx)(N.a,{plan:e,actions:[n],isPending:J,isHighlighted:t,background:"medium"},e.planId||"free")})),Object(k.jsx)(N.a,{plan:j.a,actions:Object(k.jsx)(B.a,{primary:!0,label:Object(k.jsx)(u.Trans,{id:"Learn more"}),onClick:function(){T.b.openExternalURL("https://gdevelop.io/pricing")}}),isPending:!1,isHighlighted:!1,background:"dark"}),Object(k.jsx)(p.a,{children:Object(k.jsx)(p.c,{children:Object(k.jsx)(h.a,{children:Object(k.jsx)(u.Trans,{id:"Subscriptions can be stopped at any time. GDevelop uses Stripe.com and PayPal for secure payment. No credit card data is stored by GDevelop: everything is managed by Stripe.com or PayPal secure infrastructure."})})})}),!G.authenticated&&"loggingIn"!==G.loginState&&Object(k.jsx)(d.c,{open:!0,title:Object(k.jsx)(u.Trans,{id:"Create a GDevelop account to continue"}),maxWidth:"sm",cannotBeDismissed:!0,secondaryActions:[Object(k.jsx)(l.a,{label:Object(k.jsx)(u.Trans,{id:"Maybe later"}),onClick:n},"later")],actions:[Object(k.jsx)(l.a,{label:Object(k.jsx)(u.Trans,{id:"Login"}),onClick:G.onLogin},"login"),Object(k.jsx)(d.a,{label:Object(k.jsx)(u.Trans,{id:"Create my account"}),primary:!0,onClick:G.onCreateAccount},"create-account")],children:Object(k.jsx)(x.a,{children:Object(k.jsx)(u.Trans,{id:"It is free and you will get access to online services: cloud projects, leaderboards, player feedbacks, cloud builds..."})})}),S&&Object(k.jsx)(w,{authenticatedUser:G,onClose:function(){P(!1),G.onSubscriptionUpdated()}}),_&&Object(k.jsx)(R,{authenticatedUser:G,onClose:function(){var e=Object(i.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(L(!1),!t){e.next=10;break}return e.prev=2,v(!0),e.next=6,G.onSubscriptionUpdated();case 6:return e.prev=6,v(!1),P(!0),e.finish(6);case 10:case"end":return e.stop()}}),e,null,[[2,,6,10]])})));return function(t){return e.apply(this,arguments)}}()})]})})}})}var Z=a.createContext({openSubscriptionDialog:function(){}}),Y=function(e){var t=e.children,n=a.useState(null),o=Object(r.a)(n,2),i=o[0],s=o[1];return Object(k.jsxs)(Z.Provider,{value:{openSubscriptionDialog:function(e){return s(e)}},children:[t,i&&Object(k.jsx)(G,{open:!0,onClose:function(){return s(null)},analyticsMetadata:i})]})}},function(e,t,n){"use strict";n.d(t,"c",(function(){return h})),n.d(t,"e",(function(){return f})),n.d(t,"d",(function(){return g})),n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return O}));var r=n(3),a=n(17),o=function(){var e=document.body,t=document.activeElement,n=document.querySelector("div.main-frame"),r=n&&n.contains(t);return!(t===e)&&!r},i=n(101),s=["CmdOrCtrl+KeyZ","CmdOrCtrl+KeyY","CmdOrCtrl+Shift+KeyZ","CmdOrCtrl+KeyX","CmdOrCtrl+KeyC","CmdOrCtrl+KeyV","CmdOrCtrl+KeyD","CmdOrCtrl+Shift+KeyV","CmdOrCtrl+KeyA","Delete","CmdOrCtrl+Shift+KeyI","F11","NumpadAdd","CmdOrCtrl+Equal","NumpadSubtract","CmdOrCtrl+Minus","CmdOrCtrl+KeyF"],c=n(39),u=n(551),l=function(){var e=document.activeElement;if(!e)return!1;return!!e.closest('textarea, input, [contenteditable="true"]')},d=n(108),b=n(12),p=n.n(b)()("electron"),j=function(e){return e?0===e.indexOf("Key")?"alphabet":0===e.indexOf("Digit")?"number":0===e.indexOf("F")?"fn-row":"NumpadAdd"===e||"NumpadSubtract"===e?"numpad-arith":"Equal"===e||"Minus"===e?"numrow-arith":"Tab"===e||"Space"===e?"other":null:null},h=function(e){var t=function(e){var t="";(e.ctrlKey||e.metaKey)&&(t+="CmdOrCtrl+"),e.shiftKey&&(t+="Shift+"),e.altKey&&(t+="Alt+");var n=e.code||"";return j(n)&&(t+=n),t}(e),n=function(e){var t=e.code||"",n=j(t);if(!n)return!1;var r=e.ctrlKey||e.metaKey,a=e.altKey;return!("other"===n&&!r&&!a)}(e),r=s.includes(t);return{shortcutString:t,isValid:n&&!r}},f=function(){var e=a.useContext(c.a).values.userShortcutMap;return Object(r.a)(Object(r.a)({},d.a),e)},g=function(e){var t=f();a.useEffect((function(){var n=function(n){var r=h(n);if(r.isValid){var a=Object.keys(t).find((function(e){return t[e]===r.shortcutString}));a&&(p&&u.b[a].handledByElectron||l()||(n.preventDefault(),o()||e(a)))}};return document.addEventListener("keydown",n),function(){return document.removeEventListener("keydown",n)}}),[e,t])},m=function(e){return e.split("+").map((function(e){return"CmdOrCtrl"===e?Object(i.e)()?"Cmd":"Ctrl":"Shift"===e||"Alt"===e?e:function(e){var t=j(e);return"alphabet"===t?e.slice(3):"number"===t?e.slice(5):"fn-row"===t?e:"numpad-arith"===t?"NumpadAdd"===e?"Num+":"Num-":"numrow-arith"===t?"Minus"===e?"-":"=":e}(e)})).join(" + ")},O=function(e){return e.split("+").map((function(e){return"CmdOrCtrl"===e||"Shift"===e||"Alt"===e?e:function(e){var t=j(e);return"alphabet"===t?e.slice(3):"number"===t?e.slice(5):"fn-row"===t?e:"numpad-arith"===t?"NumpadAdd"===e?"numadd":"numsub":"numrow-arith"===t?"Minus"===e?"-":"=":e}(e)})).join("+")}},,,,,,,function(e,t,n){"use strict";var r=n(17),a=n(2598),o=n(2599),i=n(2597),s=n(306),c=n(8),u=Object(i.a)({root:{cursor:"default"},labelPlacementStart:{marginLeft:0},label:{flex:1}});t.a=function(e){var t=e.label,n=e.toggled,l=e.onToggle,d=e.disabled,b=e.labelPosition,p=e.style,j=u(),h=function(e){var t=e.theme,n=e.toggled,r=e.disabled;return Object(i.a)({thumb:{backgroundColor:r?t.switch.thumbColor.disabled:n?t.switch.thumbColor.toggled:t.switch.thumbColor.default},track:{backgroundColor:r?t.switch.trackColor.disabled:n?t.switch.trackColor.toggled:t.switch.trackColor.default,opacity:"1 !important"}})()}({theme:r.useContext(s.a),toggled:n,disabled:!!d});return Object(c.jsx)(a.a,{control:Object(c.jsx)(o.a,{checked:n,onChange:function(e){return l(e,e.target.checked)},classes:h,color:"default"}),labelPlacement:"right"===b?"end":"start",label:t,disabled:d,classes:j,style:p})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(3),a=(n(17),n(407)),o=n(8),i=function(e){var t=Object(a.DragSource)(e,{canDrag:function(e,t){var n=t.getItem(),r=e.canDrag||null;return!r||r(n)},beginDrag:function(e){return e.beginDrag()},endDrag:function(e,t){e.endDrag&&e.endDrag()}},(function(e,t){return{connectDragSource:e.dragSource()}}))(Object(a.DropTarget)(e,{canDrop:function(e,t){var n=t.getItem();return n&&e.canDrop(n)},drop:function(e,t){t.didDrop()||e.drop()}},(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver({shallow:!0}),isOverLazy:t.isOver({shallow:!1}),canDrop:t.canDrop()}}))((function(e){return(0,e.children)({connectDragSource:e.connectDragSource,connectDropTarget:e.connectDropTarget,isOver:e.isOver,isOverLazy:e.isOverLazy,canDrop:e.canDrop})})));return function(e){return Object(o.jsx)(t,Object(r.a)({},e))}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d}));var r=n(6),a=n(5),o=n(12),i=n.n(o)()("electron"),s=i?i.clipboard:null,c="",u=function(e){return"GDEVELOP_"+e+"_CLIPBOARD_KIND-jsBdHbLy912y8Rc"},l=function(){function e(){Object(r.a)(this,e)}return Object(a.a)(e,null,[{key:"extractNumberProperty",value:function(e,t){if(!this.extractObject(e))return null;var n=e[t];return"number"!==typeof n?null:n}},{key:"extractStringProperty",value:function(e,t){if(!this.extractObject(e))return null;var n=e[t];return"string"!==typeof n?null:n}},{key:"extractBooleanProperty",value:function(e,t){if(!this.extractObject(e))return null;var n=e[t];return"boolean"!==typeof n?null:n}},{key:"extractObjectProperty",value:function(e,t){if(!this.extractObject(e))return null;var n=e[t];return this.extractObject(n)}},{key:"extractArrayProperty",value:function(e,t){if(!this.extractObject(e))return null;var n=e[t];return this.extractArray(n)}},{key:"extractObject",value:function(e){return null===e||void 0===e||"object"!==typeof e||Array.isArray(e)?null:e}},{key:"extractArray",value:function(e){return null!==e&&void 0!==e&&"object"===typeof e&&Array.isArray(e)?e:null}}]),e}(),d=function(){function e(){Object(r.a)(this,e)}return Object(a.a)(e,null,[{key:"set",value:function(e,t){var n=JSON.stringify({"000kind":u(e),content:t});s?s.writeText(n):c=n}},{key:"has",value:function(e){return 12===(s?s.readText():c).indexOf(u(e))}},{key:"get",value:function(t){if(!e.has(t))return null;var n="";n=s?s.readText():c;try{return JSON.parse(n).content}catch(r){return console.warn("The clipboard content is not valid JSON"),null}}}]),e}()},function(e,t,n){"use strict";var r=n(9),a=n(17),o=n(324),i=n(425),s=n(387),c=n(320),u=n(409),l=n(322),d=n(321),b=n(514),p=n.n(b),j=n(410),h=n(345),f=n(66),g=n(2595),m=n(2596),O=n(297),v=n(305),x=n(603),y=n(295),C=n(296),k=n(314),w=n(452),T=n(2593),E=n(8),S={columnContainer:{display:"flex",flexDirection:"column"},fieldContainer:{flex:1,display:"flex",flexDirection:"row",alignItems:"baseline"},field:{flex:1,width:"auto"},subHeader:{paddingLeft:0}},P=function(e){var t=e.instances,n=e.field;return"boolean"===typeof n.disabled?n.disabled:"function"===typeof n.disabled&&n.disabled(t)},I=function(e){var t=e.instances,n=e.field,r=e.defaultValue;if(!t[0])return console.log("getFieldValue was called with an empty list of instances (or containing undefined). This is a bug that should be fixed"),r;var a=n.getValue;if(!a)return null;for(var o=a(t[0]),i=1;i<t.length;++i)if(o!==a(t[i])){"undefined"!==typeof r&&(o=r);break}return o},A=function(e){var t=e.instances,n=e.field;return t[0]?n.getLabel?n.getLabel(t[0]):n.name:(console.log("PropertiesEditor._getFieldLabel was called with an empty list of instances (or containing undefined). This is a bug that should be fixed"),n.name)};t.a=function e(t){var n=t.onInstancesModified,b=t.instances,D=t.schema,F=t.mode,M=t.renderExtraDescriptionText,_=t.unsavedChanges,L=t.project,R=t.resourceManagementProps,N=Object(k.a)(),B=a.useCallback((function(e){_&&_.triggerUnsavedChanges(),n&&n(e),N()}),[_,n,N]),U=a.useCallback((function(e){if(b[0]){var t=[];return e.getDescription&&t.push(e.getDescription(b[0])),M&&e.getExtraDescription&&t.push(M(e.getExtraDescription(b[0]))),t.join("\n")||void 0}console.log("PropertiesEditor._getFieldDescription was called with an empty list of instances (or containing undefined). This is a bug that should be fixed")}),[b,M]),H=a.useCallback((function(e){if("PLEASE_ALSO_SHOW_EDIT_BUTTON_THANKS"===e.name)return null;if("boolean"===e.valueType){var t=e.setValue,n=U(e);return Object(E.jsx)(i.a,{label:n?Object(E.jsxs)(a.Fragment,{children:[Object(E.jsx)(y.c,{noMargin:!0,children:A({instances:b,field:e})}),Object(E.jsx)(g.a,{style:{display:"inline"},children:Object(E.jsx)(h.a,{source:n})})]}):A({instances:b,field:e}),checked:I({instances:b,field:e}),onCheck:function(e,n){b.forEach((function(e){return t(e,!!n)})),B(b)},disabled:P({instances:b,field:e})},e.name)}if("number"===e.valueType){var s=e.setValue,c=e.getEndAdornment,u=c&&c(b[0]);return Object(E.jsx)(o.a,{value:I({instances:b,field:e}),id:e.name,floatingLabelText:A({instances:b,field:e}),floatingLabelFixed:!0,helperMarkdownText:U(e),onChange:function(e){var t=parseFloat(e);isNaN(t)||(b.forEach((function(e){return s(e,t)})),B(b))},type:"number",style:S.field,disabled:P({instances:b,field:e}),endAdornment:u&&Object(E.jsx)(T.a,{title:u.tooltipContent,children:Object(E.jsx)(m.a,{position:"end",children:u.label})})},e.name)}if("color"===e.valueType){var l=e.setValue;return Object(E.jsx)(y.a,{expand:!0,noMargin:!0,children:Object(E.jsx)(j.a,{id:e.name,floatingLabelText:A({instances:b,field:e}),helperMarkdownText:U(e),disableAlpha:!0,fullWidth:!0,color:I({instances:b,field:e}),onChange:function(e){var t=0===e.length?"":Object(f.h)(e);b.forEach((function(e){return l(e,t)})),B(b)}},e.name)})}if("textarea"===e.valueType){var d=e.setValue;return Object(E.jsx)(o.a,{id:e.name,onChange:function(e){b.forEach((function(t){return d(t,e||"")})),B(b)},value:I({instances:b,field:e}),floatingLabelText:A({instances:b,field:e}),floatingLabelFixed:!0,helperMarkdownText:U(e),multiline:!0,style:S.field},e.name)}var x=e.onEditButtonBuildMenuTemplate,C=e.onEditButtonClick,k=e.setValue;return Object(E.jsx)(O.d,{renderTextField:function(){return Object(E.jsx)(o.a,{value:I({instances:b,field:e,defaultValue:"(Multiple values)"}),id:e.name,floatingLabelText:A({instances:b,field:e}),floatingLabelFixed:!0,helperMarkdownText:U(e),onChange:function(e){b.forEach((function(t){return k(t,e||"")})),B(b)},style:S.field,disabled:P({instances:b,field:e})})},renderButton:function(e){return C&&!x?Object(E.jsx)(v.a,{style:e,primary:!0,disabled:1!==b.length,icon:Object(E.jsx)(p.a,{}),label:Object(E.jsx)(r.Trans,{id:"Edit"}),onClick:C}):x?Object(E.jsx)(w.a,{style:e,primary:!0,disabled:1!==b.length,icon:Object(E.jsx)(p.a,{}),label:Object(E.jsx)(r.Trans,{id:"Edit"}),onClick:C,buildMenuTemplate:x}):null}},e.name)}),[b,U,B]),W=a.useCallback((function(e){if(e.getChoices&&e.getValue){var t=e.getChoices().map((function(e){var t=e.value,n=e.label,r=e.labelIsUserDefined;return Object(E.jsx)(d.a,{value:t,primaryText:n,primaryTextIsUserDefined:r},t)}));if("number"===e.valueType){var n=e.setValue;return Object(E.jsx)(l.a,{value:I({instances:b,field:e}),floatingLabelText:A({instances:b,field:e}),helperMarkdownText:U(e),onChange:function(e,t,r){b.forEach((function(e){return n(e,parseFloat(r)||0)})),B(b)},style:S.field,disabled:e.disabled,children:t},e.name)}if("string"===e.valueType){var r=e.setValue;return Object(E.jsx)(l.a,{value:I({instances:b,field:e,defaultValue:"(Multiple values)"}),floatingLabelText:A({instances:b,field:e}),helperMarkdownText:U(e),onChange:function(e,t,n){b.forEach((function(e){return r(e,n||"")})),B(b)},style:S.field,disabled:P({instances:b,field:e}),children:t},e.name)}}}),[b,B,U]),z=a.useCallback((function(e){var t=!1;if("onValuesDifferent"===e.disabled){var n="DIFFERENT_VALUES";t=I({instances:b,field:e,defaultValue:n})===n}return Object(E.jsx)(v.a,{fullWidth:!0,primary:!0,icon:Object(E.jsx)(p.a,{}),disabled:t,label:e.label,onClick:function(){e.onClick(b[0])}},"button-".concat(e.label))}),[b]),V="row"===F?function(e){return Object(E.jsx)(O.c,{noMargin:!0,children:e})}:function(e){return Object(E.jsx)(O.a,{noMargin:!0,children:e})},G=a.useCallback((function(e){var t=null;if(e.getValue){var n=I({instances:b,field:e,defaultValue:e.defaultValue||"Multiple Values"});n&&(t=n)}return t?Object(E.jsxs)(y.c,{alignItems:"baseline",children:[Object(E.jsx)(C.a,{displayInlineAsSpan:!0,children:e.name}),Object(E.jsx)(y.d,{}),Object(E.jsx)(C.a,{allowSelection:!0,displayInlineAsSpan:!0,size:"body2",children:"- ".concat(t)})]},"section-title-".concat(e.name)):Object(E.jsx)(y.c,{children:Object(E.jsx)(C.a,{displayInlineAsSpan:!0,children:e.name})},"section-title-".concat(e.name))}),[b]);return V(D.map((function(t){if(t.nonFieldType)return"sectionTitle"===t.nonFieldType?G(t):"button"===t.nonFieldType?z(t):null;if(t.children){if("row"===t.type){var r=Object(E.jsx)(x.b.Consumer,{children:function(r){return Object(E.jsx)(e,{project:L,resourceManagementProps:R,schema:t.children,instances:b,mode:"row",unsavedChanges:r,onInstancesModified:n})}},t.name);return t.title?[Object(E.jsx)(C.a,{size:"block-title",children:t.title},t.name+"-title"),r]:r}return Object(E.jsxs)("div",{children:[Object(E.jsx)(u.a,{children:t.name}),Object(E.jsx)(x.b.Consumer,{children:function(r){return Object(E.jsx)(e,{project:L,resourceManagementProps:R,schema:t.children,instances:b,mode:"column",unsavedChanges:r,onInstancesModified:n})}},t.name)]},t.name)}return"resource"===t.valueType?function(e){if(!L||!R)return console.error("You tried to display a resource field in a PropertiesEditor that does not support display resources. If you need to display resources, pass additional props (project, resourceManagementProps)."),null;var t=e.setValue;return Object(E.jsx)(s.a,{project:L,resourceManagementProps:R,resourcesLoader:c.a,resourceKind:e.resourceKind,fallbackResourceKind:e.fallbackResourceKind,fullWidth:!0,initialResourceName:I({instances:b,field:e,defaultValue:"(Multiple values)"}),onChange:function(e){b.forEach((function(n){return t(n,e)})),B(b)},floatingLabelText:A({instances:b,field:e}),helperMarkdownText:U(e)},e.name)}(t):t.getChoices&&t.getValue?W(t):t.getValue?H(t):null})))}},function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s}));var r=n(101),a=n(372),o=function(e){return e.startsWith("https://project-resources.gdevelop.io/")||e.startsWith("https://project-resources-dev.gdevelop.io/")},i=function(e){return!Object(r.g)()&&!!o(e)},s=function(e){return Object(r.g)()&&o(e)?Object(a.c)(e):e}},function(e,t,n){"use strict";n(17);var r=n(350),a=n(2591),o=n(2578),i=n(914),s=n.n(i),c=n(295),u=n(8),l=function(){throw new Error("This RaisedButtonWithSplitMenu onClick should never be called")},d={mainButton:{flex:1},arrowDropDownButton:{minWidth:30,paddingLeft:0,paddingRight:0}};t.a=function(e){var t=e.id,n=e.buildMenuTemplate,i=e.onClick,b=e.label,p=e.icon,j=e.disabled;return Object(u.jsxs)(a.a,{variant:"contained",disableElevation:!0,color:"primary",disabled:j,size:"small",style:e.style,children:[Object(u.jsxs)(o.a,{id:t,focusRipple:true,onClick:i,style:d.mainButton,children:[p,!!p&&!!b&&Object(u.jsx)(c.d,{}),b]}),Object(u.jsx)(r.a,{passExtraProps:!0,element:Object(u.jsx)(o.a,{onClick:l,focusRipple:true,style:d.arrowDropDownButton,children:Object(u.jsx)(s.a,{})}),buildMenuTemplate:n})]})}},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return c}));var r=n(3),a=(n(17),n(375)),o=n(8),i={background:"linear-gradient(45deg, #FFFFFF33, #FFFFFF)",borderRadius:4},s={iconBackground:{flex:0,display:"flex",justifyContent:"center"},icon:i},c=function(e){var t=e.src,n=e.alt,i=e.size,c=i>24?4:2;return Object(o.jsx)("div",{style:s.iconBackground,children:Object(o.jsx)(a.a,{style:Object(r.a)(Object(r.a)({},s.icon),{},{padding:c,width:i-2*c,height:i-2*c}),src:t,alt:n})})}},function(e,t,n){"use strict";n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return d})),n.d(t,"m",(function(){return b})),n.d(t,"j",(function(){return p})),n.d(t,"k",(function(){return h})),n.d(t,"b",(function(){return f})),n.d(t,"e",(function(){return g})),n.d(t,"o",(function(){return m})),n.d(t,"l",(function(){return O})),n.d(t,"c",(function(){return v})),n.d(t,"d",(function(){return x})),n.d(t,"i",(function(){return y})),n.d(t,"n",(function(){return C})),n.d(t,"a",(function(){return k})),n.d(t,"h",(function(){return w}));var r=n(2),a=n(0),o=n.n(a),i=n(40),s=n.n(i),c=n(35),u=n(66),l=function(e){var t=e.playerName,n=e.id,r=e.score;return{id:n,createdAt:e.createdAt,playerName:t,score:r}},d=function(e){var t=e.playerName,n=e.relatedEntryId,r=e.score;return{id:n,createdAt:e.relatedEntryCreatedAt,playerName:t,score:r}},b=function(e){return"".concat(e.split("-")[0],"-...")},p=function(){var e=Object(r.a)(o.a.mark((function e(t,n){var r,a,i,u,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.getAuthorizationHeader,a=t.firebaseUser){e.next=3;break}return e.abrupt("return");case 3:return i=a.uid,e.next=6,r();case 6:return u=e.sent,e.next=9,s.a.get("".concat(c.h.baseUrl,"/game/").concat(n,"/leaderboard?deleted=false"),{headers:{Authorization:u},params:{userId:i}});case 9:return l=e.sent,e.abrupt("return",l.data);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),j=function(e){var t=e.split(",").map((function(e){return e.trim()})).reduce((function(e,t){var n=t.match(/;\srel="(\w*)"/),r=t.match(/^<(.*)>/);return e&&n&&r&&(e[n[1]]=r[1]),e}),{});return Object.keys(t).includes("next")?t.next:null},h=function(){var e=Object(r.a)(o.a.mark((function e(t,n,r){var a,i,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.forceUri||"/game/".concat(t,"/leaderboard/").concat(n,"/entry"),e.next=3,s.a.get("".concat(c.h.baseUrl).concat(a),{params:r.forceUri?null:{onlyBestEntry:r.onlyBestEntry,perPage:r.pageSize}});case 3:return i=e.sent,u=i.headers.link?j(i.headers.link):null,e.abrupt("return",{entries:i.data,nextPageUri:u});case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),f=function(){var e=Object(r.a)(o.a.mark((function e(t,n,r){var a,i,u,l,d,b,p;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r.name,i=r.sort,u=t.getAuthorizationHeader,l=t.firebaseUser){e.next=4;break}return e.abrupt("return");case 4:return d=l.uid,e.next=7,u();case 7:return b=e.sent,e.next=10,s.a.post("".concat(c.h.baseUrl,"/game/").concat(n,"/leaderboard"),{name:a,sort:i},{headers:{Authorization:b},params:{userId:d}});case 10:return p=e.sent,e.abrupt("return",p.data);case 12:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),g=function(){var e=Object(r.a)(o.a.mark((function e(t,n,r){var a,i,u,l,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.getAuthorizationHeader,i=t.firebaseUser){e.next=3;break}throw new Error("User is not authenticated.");case 3:return u=i.uid,e.next=6,a();case 6:return l=e.sent,e.next=9,s.a.post("".concat(c.h.baseUrl,"/game/").concat(n,"/leaderboard/action/copy"),r,{headers:{Authorization:l},params:{userId:u}});case 9:return d=e.sent,e.abrupt("return",d.data);case 11:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),m=function(){var e=Object(r.a)(o.a.mark((function e(t,n,r,a){var i,u,l,d,b;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.getAuthorizationHeader,u=t.firebaseUser){e.next=3;break}return e.abrupt("return");case 3:return l=u.uid,e.next=6,i();case 6:return d=e.sent,e.next=9,s.a.patch("".concat(c.h.baseUrl,"/game/").concat(n,"/leaderboard/").concat(r),a,{headers:{Authorization:d},params:{userId:l}});case 9:return b=e.sent,e.abrupt("return",b.data);case 11:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),O=function(){var e=Object(r.a)(o.a.mark((function e(t,n,r){var a,i,u,l,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.getAuthorizationHeader,i=t.firebaseUser){e.next=3;break}return e.abrupt("return");case 3:return u=i.uid,e.next=6,a();case 6:return l=e.sent,e.next=9,s.a.put("".concat(c.h.baseUrl,"/game/").concat(n,"/leaderboard/").concat(r,"/reset"),{},{headers:{Authorization:l},params:{userId:u}});case 9:return d=e.sent,e.abrupt("return",d.data);case 11:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),v=function(){var e=Object(r.a)(o.a.mark((function e(t,n,r){var a,i,u,l,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.getAuthorizationHeader,i=t.firebaseUser){e.next=3;break}return e.abrupt("return");case 3:return u=i.uid,e.next=6,a();case 6:return l=e.sent,e.next=9,s.a.delete("".concat(c.h.baseUrl,"/game/").concat(n,"/leaderboard/").concat(r),{headers:{Authorization:l},params:{userId:u}});case 9:return d=e.sent,e.abrupt("return",d.data);case 11:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),x=function(){var e=Object(r.a)(o.a.mark((function e(t,n,r,a){var i,u,l,d,b;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.getAuthorizationHeader,u=t.firebaseUser){e.next=3;break}return e.abrupt("return");case 3:return l=u.uid,e.next=6,i();case 6:return d=e.sent,e.next=9,s.a.delete("".concat(c.h.baseUrl,"/game/").concat(n,"/leaderboard/").concat(r,"/entry/").concat(a),{headers:{Authorization:d},params:{userId:l}});case 9:return b=e.sent,e.abrupt("return",b.data);case 11:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),y=function(){var e=Object(r.a)(o.a.mark((function e(t,n,r){var a,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.gameId,i=r.type,e.abrupt("return",t().then((function(e){return s.a.get("".concat(c.h.baseUrl,"/game/").concat(a,"/comment"),{params:{userId:n,type:i},headers:{Authorization:e}})})).then((function(e){return e.data})));case 2:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),C=function(){var e=Object(r.a)(o.a.mark((function e(t,n,r){var a,i,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.gameId,i=r.commentId,u=r.processed,e.abrupt("return",t().then((function(e){return s.a.patch("".concat(c.h.baseUrl,"/game/").concat(a,"/comment/").concat(i),{processed:u},{params:{userId:n},headers:{Authorization:e}})})).then((function(e){return e.data})));case 2:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),k=function(e){var t=e.limits;return!!t&&!!t.capabilities.leaderboards&&("BASIC"===t.capabilities.leaderboards.themeCustomizationCapabilities||"FULL"===t.capabilities.leaderboards.themeCustomizationCapabilities)},w=function(e){var t=e&&e.theme?{backgroundColor:e.theme.backgroundColor,textColor:e.theme.textColor,highlightBackgroundColor:e.theme.highlightBackgroundColor,highlightTextColor:e.theme.highlightTextColor}:{backgroundColor:"#d0d1ff",textColor:"#000000",highlightBackgroundColor:"#5763dd",highlightTextColor:"#ffffff"};return{backgroundColor:Object(u.h)(t.backgroundColor),textColor:Object(u.h)(t.textColor),highlightBackgroundColor:Object(u.h)(t.highlightBackgroundColor),highlightTextColor:Object(u.h)(t.highlightTextColor)}}},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(3),a=n(34),o=n(17),i=n(26),s=n(8),c={routeArguments:{},removeRouteArguments:function(){},addRouteArguments:function(){},navigateToRoute:function(){}},u=o.createContext(c);t.b=u;var l=function(e){var t=e.children,n=o.useState(i.b.getArguments()),c=Object(a.a)(n,2),l=c[0],d=c[1],b=o.useCallback((function(e){i.b.removeArguments(e),d((function(t){var n=Object(r.a)({},t);return e.forEach((function(e){delete n[e]})),n}))}),[]),p=o.useCallback((function(e){i.b.addArguments(e),d((function(t){return Object(r.a)(Object(r.a)({},t),e)}))}),[]),j=o.useCallback((function(e,t){p(Object(r.a)(Object(r.a)({},t),{},{"initial-dialog":e}))}),[p]);return Object(s.jsx)(u.Provider,{value:{routeArguments:l,addRouteArguments:p,removeRouteArguments:b,navigateToRoute:j},children:t})}},,function(e,t,n){"use strict";(function(e){n.d(t,"c",(function(){return u})),n.d(t,"f",(function(){return l})),n.d(t,"h",(function(){return j})),n.d(t,"g",(function(){return h})),n.d(t,"e",(function(){return f})),n.d(t,"d",(function(){return g})),n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return O}));var r=n(307),a=n(1972),o=n(672),i=e.gd,s=function(e){return Object(a.a)(e,"_",[])},c=function(e,t){return t+"__"+s(e.getName())},u=function(e,t){return c(t,function(e){return"gdjs.evtsExt__"+s(e.getName())}(e))+".func"},l=function(e,t,n){return Promise.all(Object(r.mapFor)(0,e.getEventsFunctionsExtensionsCount(),(function(r){return d(e,e.getEventsFunctionsExtensionAt(r),{skipCodeGeneration:!0,eventsFunctionCodeWriter:t,i18n:n})}))).then((function(){return Promise.all(Object(r.mapFor)(0,e.getEventsFunctionsExtensionsCount(),(function(r){return d(e,e.getEventsFunctionsExtensionAt(r),{skipCodeGeneration:!1,eventsFunctionCodeWriter:t,i18n:n})})))}))},d=function(e,t,n){return b(e,t,n).then((function(e){i.JsPlatform.get().addNewExtension(e),e.delete()}))},b=function(e,t,n){var a=new i.PlatformExtension;Object(o.e)(a,t);var u="gdjs.evtsExt__"+s(t.getName()),l=function(e,t,n,a){return Object(r.mapFor)(0,t.getEventsFunctionsCount(),(function(e){var r=t.getEventsFunctionAt(e),o=c(r,a)+".func";return n.eventsFunctionCodeWriter.getIncludeFileFor(o)})).filter(Boolean)}(0,t,n,u),d={codeNamespacePrefix:u,extensionIncludeFiles:l};return Promise.all(Object(r.mapVector)(t.getEventsBasedBehaviors(),(function(c){return function(e,t,n,a,c,u){var l=Object(o.b)(t,a),d=a.getEventsFunctions(),b=function(e,t){return t+"__"+s(e.getName())}(a,u.codeNamespacePrefix),p=c.eventsFunctionCodeWriter.getIncludeFileFor(b);return l.setIncludeFile(p),u.extensionIncludeFiles.forEach((function(e){l.addIncludeFile(e)})),Promise.resolve().then((function(){var u=new i.MapStringString;if(Object(o.c)(c.i18n,t,l,a),Object(r.mapFor)(0,d.getEventsFunctionsCount(),(function(e){var n=d.getEventsFunctionAt(e),r=s(n.getName());u.set(n.getName(),r);var i=Object(o.a)(t,l,a,n);Object(o.d)(d,n,i,2),Object(o.k)(n.getName())&&i.setHidden(),n.isPrivate()&&i.setPrivate(),i.setIncludeFile(p),n.isAsync()&&"function"===typeof i.setAsyncFunctionName?i.setAsyncFunctionName(r):i.setFunctionName(r)})),c.skipCodeGeneration)return u.delete(),Promise.resolve();var j=new i.SetString,h=new i.BehaviorCodeGenerator(e),f=h.generateRuntimeBehaviorCompleteCode(n.getName(),a,b,u,j,!0);return h.delete(),u.delete(),j.toNewVectorString().toJSArray().forEach((function(e){l.addIncludeFile(e)})),j.delete(),c.eventsFunctionCodeWriter.writeBehaviorCode(b,f)}))}(e,a,t,c,n,d)}))).then((function(){return Promise.all(Object(r.mapVector)(t.getEventsBasedObjects(),(function(c){return function(e,t,n,a,c,u){var l=Object(o.i)(c.i18n,t,a),d=a.getEventsFunctions(),b=function(e,t){return t+"__"+s(e.getName())}(a,u.codeNamespacePrefix),p=c.eventsFunctionCodeWriter.getIncludeFileFor(b);return l.setIncludeFile(p),u.extensionIncludeFiles.forEach((function(e){l.addIncludeFile(e)})),Promise.resolve().then((function(){var u=new i.MapStringString;if(Object(o.j)(c.i18n,t,l,a),Object(o.h)(c.i18n,t,l,a),Object(r.mapFor)(0,d.getEventsFunctionsCount(),(function(e){var n=d.getEventsFunctionAt(e),r=s(n.getName());u.set(n.getName(),r);var i=Object(o.g)(t,l,a,n);Object(o.d)(d,n,i,1),Object(o.m)(n.getName())&&i.setHidden(),n.isPrivate()&&i.setPrivate(),i.setIncludeFile(p),n.isAsync()&&"function"===typeof i.setAsyncFunctionName?i.setAsyncFunctionName(r):i.setFunctionName(r)})),c.skipCodeGeneration)return u.delete(),Promise.resolve();var j=new i.SetString,h=new i.ObjectCodeGenerator(e),f=h.generateRuntimeObjectCompleteCode(n.getName(),a,b,u,j,!0);return h.delete(),u.delete(),j.toNewVectorString().toJSArray().forEach((function(e){l.addIncludeFile(e)})),j.delete(),c.eventsFunctionCodeWriter.writeObjectCode(b,f)}))}(e,a,t,c,n,d)})))})).then((function(){return Promise.all(Object(r.mapFor)(0,t.getEventsFunctionsCount(),(function(r){var o=t.getEventsFunctionAt(r);return p(e,a,t,o,n,d)})))})).then((function(e){return a}))},p=function(e,t,n,r,a,s){var u=Object(o.f)(t,n,r);u.addCodeOnlyParameter("currentScene",""),Object(o.d)(n,r,u,0),Object(o.l)(r.getName())&&u.setHidden(),r.isPrivate()&&u.setPrivate();var l=c(r,s.codeNamespacePrefix),d=l+".func",b=a.eventsFunctionCodeWriter.getIncludeFileFor(d);if(u.setIncludeFile(b),r.isAsync()&&"function"===typeof u.setAsyncFunctionName?u.setAsyncFunctionName(d):u.setFunctionName(d),s.extensionIncludeFiles.forEach((function(e){u.addIncludeFile(e)})),a.skipCodeGeneration)return Promise.resolve({functionFile:b,functionMetadata:u});var p=new i.SetString,j=new i.EventsFunctionsExtensionCodeGenerator(e),h=j.generateFreeEventsFunctionCompleteCode(n,r,l,p,!0);return p.toNewVectorString().toJSArray().forEach((function(e){u.addIncludeFile(e)})),p.delete(),j.delete(),a.eventsFunctionCodeWriter.writeFunctionCode(d,h).then((function(){return{functionFile:b,functionMetadata:u}}))};var j=function(e){return Promise.all(Object(r.mapFor)(0,e.getEventsFunctionsExtensionsCount(),(function(t){i.JsPlatform.get().removeExtension(e.getEventsFunctionsExtensionAt(t).getName())})))},h=function(e,t){i.JsPlatform.get().removeExtension(t)},f=function(e){var t=e.getParametersCount();return!(t<=0)&&"eventsFunctionContext"===e.getParameter(t-1).getType()},g=function(e){var t=e.split("::");return t.length?{name:t[t.length-1],behaviorName:t.length>2?t[1]:void 0,extensionName:t[0]}:{name:"",behaviorName:"",extensionName:""}},m=function(e,t){return e+"::"+t.getName()},O=Object.freeze({FreeFunction:1,BehaviorFunction:0,ObjectFunction:0})}).call(this,n(25))},function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return g})),n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return O})),n.d(t,"f",(function(){return v}));var r=n(3),a=n(6),o=n(5),i=n(10),s=n(11),c=n(17),u=n(2640),l=n(2644),d=n(2643),b=n(2641),p=n(2642),j=n(8),h=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(j.jsx)(u.a,Object(r.a)({size:"small"},this.props))}}]),n}(c.Component),f=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(j.jsx)(l.a,Object(r.a)({},this.props))}}]),n}(c.Component),g=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(j.jsx)(b.a,Object(r.a)({},this.props))}}]),n}(c.Component),m=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(j.jsx)(d.a,Object(r.a)({},this.props))}}]),n}(c.Component),O=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(j.jsx)(p.a,Object(r.a)({},this.props))}}]),n}(c.Component),v=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(j.jsx)(d.a,Object(r.a)({},this.props))}}]),n}(c.Component)},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return C})),n.d(t,"b",(function(){return w}));var r=n(2),a=n(34),o=n(0),i=n.n(o),s=n(17),c=n(370),u=n(431),l=n(857),d=n(858),b=n(1204),p=n(774),j=n.n(p),h=n(319),f=n(24),g=function(e){return e.toLowerCase().replace(/\xfc/g,"ue").replace(/\xe4/g,"ae").replace(/\xf6/g,"oe").replace(/\xdf/g,"ss").replace(new RegExp("["+[".","=","-"].join("")+"]","g")," ").replace(/-{2,}/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"").replace(/[^\w ]/gi,"").replace(/[ ]/gi,"-")},m=function(e){return"".concat(g(e.name),"-").concat(g(e.tag))},O=function(e){return e.slice(-36)},v=function(e){var t=e.receivedAssetPacks,n=e.publicAssetPacks,r=e.userFriendlySlug,a=O(r),o=t.find((function(e){return a===e.id}));if(o)return o;var i=function(e,t){var n,r=Object(f.a)(e.starterPacks);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(m(a)===t)return a}}catch(o){r.e(o)}finally{r.f()}return null}(n,r);return i||null},x=n(424),y=n(8),C=s.createContext({filters:null,publicAssetPacks:null,privateAssetPacks:null,assetPackRandomOrdering:null,authors:null,licenses:null,environment:"live",setEnvironment:function(){},searchResults:null,fetchAssetsAndFilters:function(){},error:null,searchText:"",setSearchText:function(){},assetFiltersState:{animatedFilter:new d.a,setAnimatedFilter:function(e){},viewpointFilter:new d.g,setViewpointFilter:function(e){},dimensionFilter:new d.c,setDimensionFilter:function(e){},objectTypeFilter:new d.e,setObjectTypeFilter:function(e){},colorFilter:new d.b,setColorFilter:function(e){},licenseFilter:new d.d,setLicenseFilter:function(e){}},navigationState:{getCurrentPage:function(){return b.a},backToPreviousPage:function(){},openHome:function(){},clearHistory:function(){},openSearchResultPage:function(){},openTagPage:function(e){},openAssetCategoryPage:function(e){},openPackPage:function(e){},openDetailPage:function(e){},openPrivateAssetPackInformationPage:function(e){}},currentPage:b.a,useSearchItem:function(e,t,n,r){return null},setInitialPackUserFriendlySlug:function(e){}}),k=function(e){return e.name+"\n"+e.shortDescription+"\n"+e.tags.join(", ")},w=function(e){var t=e.children,n=s.useState(null),o=Object(a.a)(n,2),p=o[0],f=o[1],g=s.useState(null),m=Object(a.a)(g,2),w=m[0],T=m[1],E=s.useContext(h.a),S=E.receivedAssetShortHeaders,P=E.receivedAssetPacks,I=s.useState(null),A=Object(a.a)(I,2),D=A[0],F=A[1],M=s.useState(null),_=Object(a.a)(M,2),L=_[0],R=_[1],N=s.useState(null),B=Object(a.a)(N,2),U=B[0],H=B[1],W=s.useState(null),z=Object(a.a)(W,2),V=z[0],G=z[1],Z=s.useState(null),Y=Object(a.a)(Z,2),q=Y[0],X=Y[1],J=s.useState(null),K=Object(a.a)(J,2),Q=K[0],$=K[1],ee=s.useState("live"),te=Object(a.a)(ee,2),ne=te[0],re=te[1],ae=s.useState(null),oe=Object(a.a)(ae,2),ie=oe[0],se=oe[1],ce=s.useRef(null),ue=s.useRef(!1),le=Object(x.a)().showAlert,de=s.useState(""),be=Object(a.a)(de,2),pe=be[0],je=be[1],he=Object(b.d)(),fe=s.useState(new d.a),ge=Object(a.a)(fe,2),me=ge[0],Oe=ge[1],ve=s.useState(new d.g),xe=Object(a.a)(ve,2),ye=xe[0],Ce=xe[1],ke=s.useState(new d.c),we=Object(a.a)(ke,2),Te=we[0],Ee=we[1],Se=s.useState(new d.e),Pe=Object(a.a)(Se,2),Ie=Pe[0],Ae=Pe[1],De=s.useState(new d.b),Fe=Object(a.a)(De,2),Me=Fe[0],_e=Fe[1],Le=s.useState(new d.d),Re=Object(a.a)(Le,2),Ne=Re[0],Be=Re[1],Ue=s.useMemo((function(){return[me,ye,Te,Ie,Me,Ne]}),[me,ye,Te,Ie,Me,Ne]),He=s.useCallback((function(){Object(r.a)(i.a.mark((function e(){var t,n,r,a,o,s,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return se(null),e.prev=1,e.next=4,Object(c.k)({environment:ne});case 4:return t=e.sent,n=t.publicAssetShortHeaders,r=t.publicFilters,a=t.publicAssetPacks,e.next=10,Object(c.i)({environment:ne});case 10:return o=e.sent,e.next=13,Object(c.j)({environment:ne});case 13:return s=e.sent,e.next=16,Object(u.f)();case 16:l=e.sent,console.info("Loaded ".concat(n.length," assets from the asset store.")),R(a),T(n),F(r),X(o),$(s),G(l),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(1),console.error("Unable to load the assets from the asset store:",e.t0),se(e.t0);case 30:case"end":return e.stop()}}),e,null,[[1,26]])})))()}),[ne]);s.useEffect((function(){var e={};w&&w.forEach((function(t){e[t.id]=t})),S&&S.forEach((function(t){e[t.id]=t})),Object.keys(e).length>0&&f(e)}),[w,S]),s.useEffect((function(){if(!ue.current){var e=ce.current;if(L&&P&&V&&e){ue.current=!0;var t=v({publicAssetPacks:L,receivedAssetPacks:P,userFriendlySlug:e});if(t)return void he.openPackPage(t);var n=function(e){var t=e.privateAssetPacks,n=e.userFriendlySlug,r=O(n);return t.find((function(e){return r===e.id}))||null}({privateAssetPacks:V,userFriendlySlug:e});if(n)return void he.openPrivateAssetPackInformationPage(n);le({title:"Asset pack not found",message:"The link to the asset pack you've followed seems outdated. Why not take a look at the other packs in the asset store?"})}}}),[L,P,V,he,le]),s.useEffect((function(){He()}),[He]);var We=L?L.starterPacks.length:void 0,ze=V?V.length:void 0;s.useEffect((function(){void 0!==We&&void 0!==ze&&H(function(e){var t=new Array(e).fill(0).map((function(e,t){return t}));return j()(t)}(We+ze))}),[We,ze]);var Ve=he.getCurrentPage(),Ge=Ve.filtersState,Ze=Ge.chosenCategory,Ye=Ge.chosenFilters,qe=Object(l.b)(p,k,pe,Ze,Ye,Ue),Xe=s.useCallback((function(e){ce.current=e}),[]),Je=s.useMemo((function(){return{searchResults:qe,fetchAssetsAndFilters:He,filters:D,publicAssetPacks:L,privateAssetPacks:V,assetPackRandomOrdering:U,authors:q,licenses:Q,environment:ne,setEnvironment:re,error:ie,navigationState:he,currentPage:Ve,searchText:pe,setSearchText:je,assetFiltersState:{animatedFilter:me,setAnimatedFilter:Oe,viewpointFilter:ye,setViewpointFilter:Ce,dimensionFilter:Te,setDimensionFilter:Ee,objectTypeFilter:Ie,setObjectTypeFilter:Ae,colorFilter:Me,setColorFilter:_e,licenseFilter:Ne,setLicenseFilter:Be},useSearchItem:function(e,t,n,r){return Object(l.b)(p,k,e,t,n,r)},setInitialPackUserFriendlySlug:Xe}}),[qe,He,D,L,V,U,q,Q,ne,re,ie,he,Ve,pe,me,ye,Te,Ie,Me,Ne,Be,p,Xe]);return Object(y.jsx)(C.Provider,{value:Je,children:t})}},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(34),a=n(549),o=function(e){return e?Object.entries(e).reduce((function(e,t){var n=Object(r.a)(t,2),o=n[0],i=n[1];return i&&(e["data-".concat(Object(a.b)(o))]=i),e}),{}):void 0}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"h",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"g",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"f",(function(){return l}));var r=1501,a="allow-rendering-instances",o=function(){var e=document.querySelector('body > div[role="presentation"].MuiDialog-root');return!!e&&!e.classList.contains(a)},i=function(e,t){return!("DIV"!==e.tagName||"presentation"!==e.getAttribute("role"))&&(!(!t||!t.isVisible)&&!e.getAttribute("aria-hidden"))},s=function(e){var t=e.attributes.getNamedItem("type");return t&&"checkbox"===t.value&&"indeterminate"in e.dataset},c=function(e){var t=e.parentElement;if(t){var n=t.parentElement;return!!n&&n.classList.contains("Mui-checked")}return!0},u=function(e){try{return i(e[e.length-5],{isVisible:!0})}catch(t){return console.error("An error occurred when determining if path ".concat(e&&e.join?e.join(" > "):"[not serializable]"," leads to a dialog"),t),!1}},l=function(e){return e.classList.contains("MuiInputBase-root")}},,function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));var r=function(e){return e.startsWith("/")},a=function(e){return e.startsWith("http://")||e.startsWith("https://")},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return r(e)?"https://wiki.gdevelop.io/gdevelop5".concat(e,"?utm_source=gdevelop&utm_medium=help-link").concat(t?"#".concat(t):""):a(e)?e:""}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(17),a=n(958),o=n(102),i=n.n(o),s=function(e,t){var n=Object(a.a)(),o=Object(r.useRef)({cb:e,delay:t});return Object(r.useEffect)((function(){o.current={cb:e,delay:t}})),Object(r.useCallback)(i()((function(){var e;o.current.delay===t&&n.current&&(e=o.current).cb.apply(e,arguments)}),t,{leading:!1,trailing:!0}),[t,i.a])}},function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u}));var r=n(40),a=n.n(r),o=n(35),i=function(){return a.a.get("".concat(o.b.baseUrl,"/tutorial")).then((function(e){return e.data}))},s=function(e){switch(e){case"ParticleSystem::ParticleEmitter":return["in-depth-tutorial-particle-emitter"];case"Lighting::LightObject":return["flickering-dynamic-light-effect"];case"BitmapText::BitmapTextObject":case"TileMap::TileMap":return["intermediate-bitmap-text-and-tilemap"];default:return[]}},c=function(e){switch(e){case"Tween::TweenBehavior":return["tween-behavior"];case"AnchorBehavior::AnchorBehavior":return["responsive-ui"];case"Physics2::Physics2Behavior":return["in-depth-tutorial-physics-engine-two"];case"PlatformBehavior::PlatformerObjectBehavior":case"PlatformBehavior::PlatformBehavior":return["in-depth-tutorial-platformer"];case"TopDownMovementBehavior::TopDownMovementBehavior":return["in-depth-tutorial-top-down-behavior"];default:return[]}},u=function(e){switch(e){case"CameraX":case"CameraY":case"RotateCamera":case"ZoomCamera":case"FixCamera":case"CentreCamera":return["smooth-camera-movement"];case"ChangeTimeScale":return["pause-menu"];case"EcrireFichierExp":case"EcrireFichierTxt":case"LireFichierExp":case"LireFichierTxt":return["intermediate-storage"];case"PlatformBehavior::SimulateJumpKey":return["simple-trampoline-platformer"];case"AjoutObjConcern":case"PickNearest":case"AjoutHasard":return["intermediate-object-picking"];case"ToggleObjectVariableAsBoolean":case"ToggleGlobalVariableAsBoolean":case"ToggleSceneVariableAsBoolean":return["iIntermediate-toggle-states-with-variable"];case"Scene":case"PushScene":case"PopScene":return["intermediate-level-select-menu"];case"Animation":case"AnimationName":case"ChangeAnimation":case"ChangeAnimationName":return["intermediate-changing-animations"];case"PopStartedTouch":case"MouseButtonPressed":return["intermediate-touchscreen-controls"];default:return[]}}},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(9),a=(n(17),n(2609)),o=n(328),i=n.n(o),s=n(297),c=n(305),u=n(295),l=n(318),d=n(296),b=n(619),p=n(364),j=n(8),h=function(e){var t=e.helpPagePath;return Object(j.jsx)(l.a,{label:Object(j.jsx)(r.Trans,{id:"Read the doc"}),helpPagePath:t})},f=function(e){return Object(j.jsx)(u.a,{alignItems:"center",children:Object(j.jsx)(a.a,{style:{maxWidth:"480px",whiteSpace:"normal"},children:Object(j.jsxs)(u.a,{children:[Object(j.jsx)(d.a,{size:"block-title",align:"center",children:e.title}),Object(j.jsx)(d.a,{align:"center",noMargin:!0,children:e.description}),Object(j.jsx)(u.b,{}),Object(j.jsxs)(s.a,{alignItems:"center",noMargin:!0,children:[Object(j.jsx)(c.a,{label:e.actionLabel,primary:!0,onClick:e.onAction,disabled:!!e.isLoading,icon:e.isLoading?Object(j.jsx)(p.a,{size:24}):e.actionIcon?e.actionIcon:Object(j.jsx)(i.a,{}),id:e.actionButtonId}),e.tutorialId?Object(j.jsx)(b.a,{tutorialId:e.tutorialId,label:Object(j.jsx)(r.Trans,{id:"Watch tutorial"}),renderIfNotFound:Object(j.jsx)(h,{helpPagePath:e.helpPagePath})}):Object(j.jsx)(h,{helpPagePath:e.helpPagePath})]})]})})})}},,,,,function(e,t,n){"use strict";var r=n(511);t.a=function(e){var t=e.tutorialId;return Object(r.a)(t).DismissableTutorialMessage}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return s}));var r=n(6),a=n(5),o=e.gd,i=function(e){return!e.includes(".")&&!e.includes("[")&&e.length>0},s=function(){function e(){Object(r.a)(this,e)}return Object(a.a)(e,null,[{key:"findAllGlobalVariables",value:function(e,t){return o.EventsVariablesFinder.findAllGlobalVariables(e,t).toNewVectorString().toJSArray().filter(i)}},{key:"findAllLayoutVariables",value:function(e,t,n){return o.EventsVariablesFinder.findAllLayoutVariables(t.getCurrentPlatform(),t,n).toNewVectorString().toJSArray().filter(i)}},{key:"findAllObjectVariables",value:function(e,t,n,r){return o.EventsVariablesFinder.findAllObjectVariables(t.getCurrentPlatform(),t,n,r).toNewVectorString().toJSArray().filter(i)}}]),e}()}).call(this,n(25))},,,,,function(e,t,n){"use strict";(function(e){n.d(t,"l",(function(){return c})),n.d(t,"k",(function(){return u})),n.d(t,"g",(function(){return d})),n.d(t,"f",(function(){return b})),n.d(t,"b",(function(){return j})),n.d(t,"d",(function(){return h})),n.d(t,"h",(function(){return f})),n.d(t,"e",(function(){return g})),n.d(t,"a",(function(){return O})),n.d(t,"c",(function(){return v})),n.d(t,"i",(function(){return x})),n.d(t,"j",(function(){return y}));var r=n(19),a=n(307),o=n(821),i=n.n(o),s=e.gd,c=function(e,t,n,r){var a=t<e.getAnimationsCount()?e.getAnimation(t):null;if(!a)return{animation:null,direction:null,sprite:null};var o=n<a.getDirectionsCount()?a.getDirection(n):null;if(!o)return{animation:a,direction:null,sprite:null};var i=r<o.getSpritesCount()?o.getSprite(r):null;return{animation:a,direction:o,sprite:i}},u=function(e){for(var t=new Set,n=0;n<e.getAnimationsCount();n++)for(var a=e.getAnimation(n),o=0;o<a.getDirectionsCount();o++)for(var i=a.getDirection(o),s=0;s<i.getSpritesCount();s++)for(var c=i.getSprite(s).getAllNonDefaultPoints(),u=0;u<c.size();u++){var l=c.at(u);t.add(l.getName())}return Object(r.a)(t)},l=function(e,t){t.setX(e.getX()),t.setY(e.getY()),t.setName(e.getName())},d=function(e,t){e.ptr!==t.ptr&&(l(e.getCenter(),t.getCenter()),l(e.getOrigin(),t.getOrigin()),t.setDefaultCenterPoint(e.isDefaultCenterPoint()),t.getAllNonDefaultPoints().clear(),Object(a.mapVector)(e.getAllNonDefaultPoints(),(function(e){t.addPoint(e)})))},b=function(e,t){Object(a.mapFor)(0,t.getDirectionsCount(),(function(n){var r=t.getDirection(n);Object(a.mapFor)(0,r.getSpritesCount(),(function(t){var n=r.getSprite(t);d(e,n)}))}))},p=function(e,t){return e.getX()===t.getX()&&e.getY()===t.getY()&&e.getName()===t.getName()},j=function(e,t){return i()(Object(a.mapFor)(0,t.getSpritesCount(),(function(n){var r,o,s=t.getSprite(n);return o=e,!!p((r=s).getCenter(),o.getCenter())&&!!p(r.getOrigin(),o.getOrigin())&&r.isDefaultCenterPoint()===o.isDefaultCenterPoint()&&r.getAllNonDefaultPoints().size()===o.getAllNonDefaultPoints().size()&&i()(Object(a.mapVector)(r.getAllNonDefaultPoints(),(function(e){return!!o.hasPoint(e.getName())&&p(e,o.getPoint(e.getName()))})))})))},h=function(e,t){return i()(Object(a.mapFor)(0,t.getDirectionsCount(),(function(n){var r=t.getDirection(n);return j(e,r)})))},f=function(e,t){e.ptr!==t.ptr&&(t.setCollisionMaskAutomatic(e.isCollisionMaskAutomatic()),t.getCustomCollisionMask().clear(),Object(a.mapVector)(e.getCustomCollisionMask(),(function(e){t.getCustomCollisionMask().push_back(e)})))},g=function(e,t){Object(a.mapFor)(0,t.getDirectionsCount(),(function(n){var r=t.getDirection(n);Object(a.mapFor)(0,r.getSpritesCount(),(function(t){var n=r.getSprite(t);f(e,n)}))}))},m=function(e,t){if(e.isCollisionMaskAutomatic()!==t.isCollisionMaskAutomatic())return!1;if(e.isCollisionMaskAutomatic()&&t.isCollisionMaskAutomatic())return!0;var n=e.getCustomCollisionMask(),r=t.getCustomCollisionMask();return n.size()===r.size()&&i()(Object(a.mapVector)(n,(function(e,t){return function(e,t){var n=e.getVertices(),r=t.getVertices();return n.size()===r.size()&&i()(Object(a.mapVector)(n,(function(e,t){var n=r.at(t);return e.get_x()===n.get_x()&&e.get_y()===n.get_y()})))}(e,r.at(t))})))},O=function(e,t){return i()(Object(a.mapFor)(0,t.getSpritesCount(),(function(n){var r=t.getSprite(n);return m(r,e)})))},v=function(e,t){return i()(Object(a.mapFor)(0,t.getDirectionsCount(),(function(n){var r=t.getDirection(n);return O(e,r)})))},x=function(e,t){Object(a.mapFor)(0,e.getDirectionsCount(),(function(n){for(var r=e.getDirection(n),o=Object(a.mapFor)(0,r.getSpritesCount(),(function(e){var n=r.getSprite(e);return!!t[n.ptr]})),i=r.getSpritesCount()-1;i>=0;i--)o[i]&&r.removeSprite(i)}))},y=function(e,t){Object(a.mapFor)(0,e.getDirectionsCount(),(function(n){for(var r=e.getDirection(n),o=Object(a.mapFor)(0,r.getSpritesCount(),(function(e){var n=r.getSprite(e);return!!t[n.ptr]})),i=r.getSpritesCount()-1;i>=0;i--)if(o[i]){var c=r.getSprite(i),u=new s.Sprite;u.setImageName(c.getImageName()),d(c,u),f(c,u),r.addSprite(u),r.moveSprite(r.getSpritesCount()-1,i),u.delete()}}))}}).call(this,n(25))},,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(6),a=n(5),o=n(329),i=(n(367),function(){function e(t){var n=this,a=t.initialViewX,i=t.initialViewY,s=t.width,c=t.height,u=t.instancesEditorSettings;Object(r.a)(this,e),this.viewX=0,this.viewY=0,this._pixiContainer=new o.Container,this.toSceneCoordinates=function(e,t){e-=n._width/2,t-=n._height/2,e/=Math.abs(n.instancesEditorSettings.zoomFactor),t/=Math.abs(n.instancesEditorSettings.zoomFactor);var r=e;return e=Math.cos(0*Math.PI)*e-Math.sin(0*Math.PI)*t,t=Math.sin(0*Math.PI)*r+Math.cos(0*Math.PI)*t,[e+n.viewX,t+n.viewY]},this.toCanvasCoordinates=function(e,t){e-=n.viewX,t-=n.viewY;var r=e;return e=Math.cos(-0*Math.PI)*e-Math.sin(-0*Math.PI)*t,t=Math.sin(-0*Math.PI)*r+Math.cos(-0*Math.PI)*t,e*=Math.abs(n.instancesEditorSettings.zoomFactor),t*=Math.abs(n.instancesEditorSettings.zoomFactor),[e+n._width/2,t+n._height/2]},this.viewX=a,this.viewY=i,this.instancesEditorSettings=u,this.resize(s,c)}return Object(a.a)(e,[{key:"setInstancesEditorSettings",value:function(e){this.instancesEditorSettings=e}},{key:"resize",value:function(e,t){this._width=e,this._height=t}},{key:"getWidth",value:function(){return this._width}},{key:"getHeight",value:function(){return this._height}},{key:"scrollBy",value:function(e,t){this.viewX+=e,this.viewY+=t}},{key:"scrollTo",value:function(e,t){this.viewX=e,this.viewY=t}},{key:"fitToRectangle",value:function(e){this.viewX=e.centerX(),this.viewY=e.centerY();var t=this._width/e.width(),n=this._height/e.height();return.95*Math.min(t,n)}},{key:"getViewX",value:function(){return this.viewX}},{key:"getViewY",value:function(){return this.viewY}},{key:"getPixiContainer",value:function(){return this._pixiContainer}},{key:"render",value:function(){this._pixiContainer.position.x=-this.viewX*this.instancesEditorSettings.zoomFactor,this._pixiContainer.position.y=-this.viewY*this.instancesEditorSettings.zoomFactor,this._pixiContainer.position.x+=this._width/2,this._pixiContainer.position.y+=this._height/2,this._pixiContainer.scale.x=this.instancesEditorSettings.zoomFactor,this._pixiContainer.scale.y=this.instancesEditorSettings.zoomFactor}}]),e}())},function(e,t,n){"use strict";var r=n(2),a=n(0),o=n.n(a),i=n(40),s=n.n(i),c=n(26),u=function(e){return e.startsWith("example://")};t.a={internalName:"UrlStorageProvider",name:{id:"URL"},hiddenInOpenDialog:!0,hiddenInSaveDialog:!0,getFileMetadataFromAppArguments:function(e){if(!e[c.a])return null;if(!e[c.a].length)return null;var t,n=e[c.a][0];return(t=n).startsWith("http://")||t.startsWith("https://")||t.startsWith("ftp://")||t.startsWith("blob:")||t.startsWith("data:")||u(n)?{fileIdentifier:n}:null},createOperations:function(e){e.setDialog,e.closeDialog;return{onOpen:function(){var e=Object(r.a)(o.a.mark((function e(t){var n,r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.fileIdentifier,u(n)&&(r=n.replace("example://",""),n="https://resources.gdevelop-app.com/examples/".concat(r,"/").concat(r,".json")),e.next=4,s.a.get(n);case 4:if((a=e.sent).data){e.next=7;break}throw new Error("Can't parse data from the URL (is it valid JSON?)");case 7:return e.abrupt("return",{content:a.data});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}}},function(e,t,n){"use strict";n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return b})),n.d(t,"c",(function(){return p}));var r=n(2),a=n(0),o=n.n(a),i=n(451),s=n(476),c=n.n(s),u=function(e,t,n){if(e.startsWith("data:")||e.startsWith("blob:"))return e;var r=-1===e.indexOf("?")?"?":"&";return e+r+t+"="+n},l=function(){var e=Object(r.a)(o.a.mark((function e(t){var n,a,s,l,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.urlContainers,a=t.onProgress,s=0,e.next=4,c.a.withConcurrency(20).for(n).process(function(){var e=Object(r.a)(o.a.mark((function e(t){var r,c,l,d,b,p;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.url,e.prev=1,c=u(r,"gdUsage","export"),e.next=5,fetch(c,{credentials:Object(i.b)(c)?"include":"same-origin"});case 5:if((l=e.sent).ok){e.next=8;break}throw new Error('Error while downloading "'.concat(c,'" (status: ').concat(l.status,")"));case 8:return e.next=10,l.blob();case 10:return d=e.sent,b={item:t,blob:d},e.abrupt("return",b);case 15:return e.prev=15,e.t0=e.catch(1),p={item:t,error:e.t0},e.abrupt("return",p);case 19:return e.prev=19,a(s++,n.length),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[1,15,19,22]])})));return function(t){return e.apply(this,arguments)}}());case 4:return l=e.sent,d=l.results,e.abrupt("return",d);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(e,t){return e.map((function(e){var n=e.item,r=e.blob,a=e.error;return a||!r?(t(n.resource.getName(),a||new Error("Unknown error during download")),null):{resource:n.resource,file:new File([r],n.filename,{type:r.type})}})).filter(Boolean)};function b(e){return new Promise((function(t,n){var r=new FileReader;r.onload=function(e){return t(r.result)},r.onerror=function(e){return n(r.error)},r.onabort=function(e){return n(new Error("Read aborted"))},r.readAsDataURL(e)}))}function p(e){var t=e.split(",");if(t.length<2)return null;for(var n=t[0].match(/:(.*?);/),r=n?n[1]:"application/octet-stream",a=atob(t[1]),o=a.length,i=new Uint8Array(o);o--;)i[o]=a.charCodeAt(o);return new Blob([i],{type:r})}},,,,function(e,t,n){"use strict";var r=n(3),a=n(34),o=n(17),i=n.n(o),s=n(9),c=n(2514),u=n(2586),l=n(6),d=n(5),b=n(12),p=n.n(b),j=p()("electron"),h=p()("@electron/remote"),f=function(){function e(){Object(l.a)(this,e)}return Object(d.a)(e,[{key:"buildFromTemplate",value:function(e){this.menuTemplate=e}},{key:"showMenu",value:function(e){if(j){var t=h.Menu,n=h.getCurrentWindow();this.menu=t.buildFromTemplate(this.menuTemplate),this.menu.popup({window:n,x:Math.round(e.left),y:Math.round(e.top+e.height),async:!0})}}},{key:"getMenuProps",value:function(){return{open:!1}}}]),e}(),g=n(2),m=n(0),O=n.n(m),v=n(2579),x=n(912),y=n.n(x),C=n(1307),k=n.n(C),w=n(1308),T=n.n(w),E=n(2588),S=n(2589),P=n(2587),I=n(2720),A=n(718),D=n(8),F=Object(I.a)({backdropRootForMouse:{pointerEvents:"none"}}),M={divider:{marginLeft:16,marginRight:16},labelWithAccelerator:{width:"100%",display:"flex",justifyContent:"space-between"},accelerator:{opacity:.65,marginLeft:16},menuItemWithSubMenu:{height:32,justifyContent:"space-between"},menuItem:{height:32}},_=function(e){var t=e.item,n=e.buildFromTemplate,r=F(),i=o.useState(null),s=Object(a.a)(i,2),l=s[0],d=s[1],b=o.useRef(!1),p=o.useState(null),j=Object(a.a)(p,2),h=j[0],f=j[1];function g(){f(null)}function m(e){"mouse"===e.pointerType&&(b.current=!1,setTimeout((function(){b.current||g()}),75))}return Object(D.jsxs)(o.Fragment,{children:[Object(D.jsxs)(v.a,{dense:!0,style:M.menuItemWithSubMenu,disabled:!1===t.enabled,onClick:function(e){!1!==t.enabled&&(h||f(e.currentTarget))},onPointerOver:function(e){!1!==t.enabled&&(d("mouse"===e.pointerType?"mouse":"other"),"mouse"===e.pointerType&&(h||f(e.currentTarget)))},onPointerLeave:m,children:[t.label,Object(D.jsx)(y.a,{})]},t.label),Object(D.jsx)(c.a,{open:!!h,anchorEl:h,onClose:g,TransitionComponent:u.a,MenuListProps:{onPointerEnter:function(){b.current=!0},onPointerLeave:m,style:{pointerEvents:"auto"}},getContentAnchorEl:null,anchorOrigin:{horizontal:"right",vertical:"top"},PopoverClasses:{root:"mouse"===l?r.backdropRootForMouse:void 0},children:n(t.submenu)})]})},L=function(){function e(t){var n=t.onClose;Object(l.a)(this,e),this._onClose=n}return Object(d.a)(e,[{key:"buildFromTemplate",value:function(e,t){var n=this;return e.map((function(e,r){if(!1===e.visible)return null;var a=e.accelerator?Object(A.a)(e.accelerator):void 0;return"separator"===e.type?Object(D.jsx)(P.a,{style:M.divider},"separator"+r):"checkbox"===e.type?Object(D.jsxs)(v.a,{dense:!0,checked:e.checked,disabled:!1===e.enabled,onClick:Object(g.a)(O.a.mark((function r(){return O.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!1!==e.enabled){r.next=2;break}return r.abrupt("return");case 2:if(!e.click){r.next=8;break}return r.next=5,e.click();case 5:if("checkbox"!==e.type){r.next=8;break}return t&&t(),r.abrupt("return");case 8:n._onClose();case 9:case"end":return r.stop()}}),r)}))),style:M.menuItem,children:[Object(D.jsx)(E.a,{children:e.checked?Object(D.jsx)(k.a,{}):Object(D.jsx)(T.a,{})}),Object(D.jsx)(S.a,{primary:e.label})]},"checkbox"+e.label):e.submenu?Object(D.jsx)(_,{item:e,buildFromTemplate:function(e){return n.buildFromTemplate(e,t)}},"submenu"+e.label):Object(D.jsx)(v.a,{dense:!0,disabled:!1===e.enabled,onClick:function(){!1!==e.enabled&&e.click&&(e.click(),n._onClose())},style:M.menuItem,children:a?Object(D.jsxs)("div",{style:M.labelWithAccelerator,children:[Object(D.jsx)("span",{children:e.label}),Object(D.jsx)("span",{style:M.accelerator,children:a})]}):e.label},"item"+e.label)})).filter(Boolean)}},{key:"showMenu",value:function(){}},{key:"getMenuProps",value:function(){return{}}}]),e}(),R=n(314),N=p()("electron"),B=i.a.forwardRef((function(e,t){var n=i.a.useState([0,0]),o=Object(a.a)(n,2),l=o[0],d=o[1],b=i.a.useState(!1),p=Object(a.a)(b,2),j=p[0],h=p[1],f=i.a.useState({}),g=Object(a.a)(f,2),m=g[0],O=g[1],v=Object(R.a)(),x=new L({onClose:function(){return h(!1)}}),y=function(e,t,n){d([e,t]),O(n),h(!0)};return i.a.useImperativeHandle(t,(function(){return{open:y}})),j?Object(D.jsx)(s.I18n,{children:function(t){var n=t.i18n;return Object(D.jsx)(c.a,Object(r.a)(Object(r.a)({open:!0,anchorPosition:{left:l[0],top:l[1]},anchorReference:"anchorPosition",onClose:function(){return h(!1)},TransitionComponent:u.a},x.getMenuProps()),{},{children:x.buildFromTemplate(e.buildMenuTemplate(n,m),v)}))}}):null})),U=i.a.forwardRef((function(e,t){var n=new f,r=function(t,r,a){n.buildFromTemplate(e.buildMenuTemplate(e.i18n,a)),n.showMenu({left:t||0,top:r||0,width:0,height:0})};return i.a.useImperativeHandle(t,(function(){return{open:r}})),null})),H=i.a.forwardRef((function(e,t){var n=i.a.useRef(null);return i.a.useImperativeHandle(t,(function(){return{open:function(e,t,r){n.current&&n.current.open(e,t,r)}}})),Object(D.jsx)(s.I18n,{children:function(t){var a=t.i18n;return Object(D.jsx)(U,Object(r.a)(Object(r.a)({},e),{},{i18n:a,ref:n}))}})}));t.a=N?H:B},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c}));var r=n(17),a=n(306),o=n(8),i=r.memo((function(e){var t=e.children,n=r.useContext(a.a);return Object(o.jsx)("div",{className:"almost-invisible-scrollbar",style:{backgroundColor:n.toolbar.backgroundColor,flexShrink:0,display:"flex",overflowX:"overlay",overflowY:"hidden",height:40,paddingLeft:8,paddingRight:8},children:t})})),s=function(e){return{flex:1,display:"flex",alignItems:"center",justifyContent:e.firstChild?"flex-start":e.lastChild?"flex-end":"center"}},c=r.memo((function(e){return Object(o.jsx)("span",{style:s(e),children:e.children})}))},,,,,,,,,function(e,t,n){"use strict";n.d(t,"e",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return u}));var r=n(24),a=n(19),o=function(e,t){return e.filter((function(e){return e!==t}))},i=function(e){var t=e.noTagLabel,n=e.getAllTags,r=e.selectedTags,i=e.onChange,s=e.onEditTags,c=e.editTagsLabel,u=n(),l=s&&c?[{type:"separator"},{label:c,click:s}]:[];return u.length?u.map((function(e){return{type:"checkbox",label:e,checked:r.includes(e),click:function(){var t,n;r.includes(e)?i(o(r,e)):i((t=r,n=[e],Array.from(new Set([].concat(Object(a.a)(t),Object(a.a)(n))))))}}})).concat(l):[{label:t,enabled:!1}].concat(l)},s=function(e){return""===e.trim()?[]:e.split(",").map((function(e){return e.trim()}))},c=function(e){return e.join(", ")},u=function(e,t){var n,a=Object(r.a)(t);try{for(a.s();!(n=a.n()).done;){var o=n.value;if(-1===e.indexOf(o))return!1}}catch(i){a.e(i)}finally{a.f()}return!0}},function(e,t,n){"use strict";var r=n(3),a=n(9),o=(n(17),n(298)),i=n(303),s=n(553),c=n(554),u=n(511),l=n(295),d=n(733),b=n(318),p=n(8);t.a=function(e){var t=e.onCancel,n=e.onApply,j=e.open,h=e.onEditObjectVariables,f=e.title,g=e.emptyPlaceholderTitle,m=e.emptyPlaceholderDescription,O=e.variablesContainer,v=e.inheritedVariablesContainer,x=e.hotReloadPreviewButtonProps,y=e.onComputeAllVariableNames,C=e.helpPagePath,k=Object(s.a)({serializableObject:O,onCancel:t}),w=k.onCancelChanges,T=k.notifyOfChange,E=Object(u.a)("intro-variables").DismissableTutorialMessage;return Object(p.jsx)(i.c,{title:f,actions:[Object(p.jsx)(o.a,{label:Object(p.jsx)(a.Trans,{id:"Cancel"}),onClick:w},"Cancel"),Object(p.jsx)(i.a,{label:Object(p.jsx)(a.Trans,{id:"Apply"}),primary:!0,onClick:n},"Apply")],secondaryActions:[h?Object(p.jsx)(o.a,{label:Object(p.jsx)(a.Trans,{id:"Edit Object Variables"}),primary:!1,onClick:h},"edit-object-variables"):null,x?Object(p.jsx)(c.b,Object(r.a)({},x),"hot-reload-preview-button"):null,C?Object(p.jsx)(b.a,{helpPagePath:C},"help"):null],onRequestClose:w,onApply:n,open:j,flexBody:!0,fullHeight:!0,children:Object(p.jsxs)(l.a,{expand:!0,noMargin:!0,children:[O.count()>0&&E&&Object(p.jsx)(l.c,{children:Object(p.jsx)(l.a,{expand:!0,children:E})}),Object(p.jsx)(d.a,{commitChangesOnBlur:!0,variablesContainer:O,inheritedVariablesContainer:v,emptyPlaceholderTitle:g,emptyPlaceholderDescription:m,onComputeAllVariableNames:y,helpPagePath:C,onVariablesUpdated:T})]})})}},function(e,t,n){"use strict";var r=n(17),a=n(406),o=n(39),i=n(512),s=n(961),c=n(962),u=n(8);t.a=function(e){var t=r.useContext(o.a),n=r.useContext(a.a).currentlyRunningInAppTutorial,l=r.useContext(i.a).tutorials,d=Object(s.a)(t,l,e);return{DismissableTutorialMessage:r.useMemo((function(){return!d||n?null:Object(u.jsx)(c.a,{tutorial:d})}),[d,n])}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d}));var r=n(2),a=n(34),o=n(0),i=n.n(o),s=n(17),c=n(472),u=n(8),l=s.createContext({tutorials:null,fetchTutorials:function(){},error:null}),d=function(e){var t=e.children,n=s.useState(null),o=Object(a.a)(n,2),d=o[0],b=o[1],p=s.useState(null),j=Object(a.a)(p,2),h=j[0],f=j[1],g=s.useRef(!1),m=s.useCallback((function(){d||g.current||Object(r.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(null),g.current=!0,e.prev=2,e.next=5,Object(c.d)();case 5:t=e.sent,console.info("Loaded ".concat(t.length," tutorials.")),b(t),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),console.error("Unable to load the tutorials:",e.t0),f(e.t0);case 14:g.current=!1;case 15:case"end":return e.stop()}}),e,null,[[2,10]])})))()}),[d,g]),O=s.useMemo((function(){return{tutorials:d,fetchTutorials:m,error:h}}),[d,m,h]);return Object(u.jsx)(l.Provider,{value:O,children:t})}},,,,,function(e,t,n){"use strict";var r=n(3),a=n(34),o=n(17),i=n(1503),s=n(2581),c=n(620),u=n.n(c),l=n(8),d={color:{width:"36px",height:"14px",borderRadius:"2px",textAlign:"center",fontSize:"10px"},swatch:{padding:"5px",background:"#fff",borderRadius:"1px",boxShadow:"0 0 0 1px rgba(0,0,0,.1)",display:"inline-block",cursor:"pointer"},disabled:{opacity:.2,cursor:"default"},popover:{zIndex:u.a.tooltip+100}};t.a=function(e){var t=e.color,n=e.style,c=e.onChange,u=e.onChangeComplete,b=e.disableAlpha,p=e.disabled,j=o.useRef(null),h=o.useState(!1),f=Object(a.a)(h,2),g=f[0],m=f[1],O=t||{r:200,g:200,b:200,a:1};return Object(l.jsxs)("div",{style:n,children:[Object(l.jsx)("div",{style:Object(r.a)(Object(r.a)({},d.swatch),p?d.disabled:{}),onClick:function(){p||m(!g)},ref:j,children:Object(l.jsx)("div",{style:Object(r.a)(Object(r.a)({},d.color),{},{background:"rgba(".concat(O.r,", ").concat(O.g,", ").concat(O.b,", ").concat(O.a||1,")")}),children:t?null:"?"})}),g&&j.current?Object(l.jsx)(s.a,{open:!0,onClose:function(){m(!1)},anchorEl:j.current,style:d.popover,children:Object(l.jsx)(i.SketchPicker,{color:O,onChange:c,onChangeComplete:u,disableAlpha:b})}):null]})}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(17),a=function(e,t){var n=Object(r.useRef)();Object(r.useEffect)((function(){n.current=e})),Object(r.useEffect)((function(){if(null!==t){var e=setInterval((function(){n.current&&n.current()}),t);return function(){return clearInterval(e)}}}),[t])}},function(e,t,n){"use strict";n.d(t,"e",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return l}));var r=n(40),a=n.n(r),o=n(35),i=function(e){return a.a.get("".concat(o.q.baseUrl,"/user-public-profile/search"),{params:{username:e,type:"creator"}}).then((function(e){return e.data}))},s=function(e){return a.a.get("".concat(o.q.baseUrl,"/user/").concat(e,"/badge")).then((function(e){return e.data}))},c=function(e){return a.a.get("".concat(o.q.baseUrl,"/user-public-profile"),{params:{id:e.join(",")}}).then((function(e){return e.data}))},u=function(e){return a.a.get("".concat(o.q.baseUrl,"/user-public-profile/").concat(e)).then((function(e){return e.data}))},l=function(e){return a.a.get("".concat(o.q.baseUrl,"/username-availability/").concat(e)).then((function(e){return e.data}))}},function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"e",(function(){return c}));var r=n(307),a=function(e){return Object(r.mapFor)(0,e.getLayoutsCount(),(function(t){return e.getLayoutAt(t)}))},o=function(e){return Object(r.mapFor)(0,e.getExternalEventsCount(),(function(t){return e.getExternalEventsAt(t)}))},i=function(e){return Object(r.mapFor)(0,e.getExternalLayoutsCount(),(function(t){return e.getExternalLayoutAt(t)}))},s=function(e){return Object(r.mapFor)(0,e.getEventsFunctionsExtensionsCount(),(function(t){return e.getEventsFunctionsExtensionAt(t)}))},c=function(e,t){if(!t)return e;var n=t.toLowerCase();return e.filter((function(e){return-1!==e.getName().toLowerCase().indexOf(n)}))}},,function(e,t,n){"use strict";n.d(t,"c",(function(){return g})),n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return O}));var r=n(18),a=n(3),o=n(17),i=n(2619),s=n(2616),c=n(2617),u=(n(2618),n(508)),l=n.n(u),d=n(310),b=n(306),p=n(295),j=n(8),h=["costlyBody"],f={bodyRoot:{padding:0},accordionSummaryWithExpandOnLeft:{flexDirection:"row-reverse",paddingLeft:0,paddingRight:0},accordionSummaryContent:{flexGrow:1,display:"flex",alignItems:"center",marginLeft:16},actionsContainer:{flexGrow:0,flexShrink:0,alignSelf:"center"}},g=function(e){return Object(j.jsx)(p.a,{expand:!0,children:Object(j.jsxs)(p.c,{noMargin:!0,expand:!0,alignItems:"center",children:[Object(j.jsx)(p.a,{noMargin:!0,expand:!0,children:Object(j.jsx)(s.a,{style:f.accordionSummaryWithExpandOnLeft,expandIcon:e.expandIcon||Object(j.jsx)(d.a,{size:"small",children:Object(j.jsx)(l.a,{})}),children:Object(j.jsx)("div",{style:f.accordionSummaryContent,children:e.children})})}),e.actions&&Object(j.jsx)("div",{style:f.actionsContainer,children:e.actions})]})})},m=function(e){return Object(j.jsx)(c.a,{style:Object(a.a)(Object(a.a)({},e.disableGutters&&f.bodyRoot),e.style),children:e.children})},O=function(e){var t=e.costlyBody,n=Object(r.a)(e,h),s=o.useContext(b.a);return Object(j.jsx)(i.a,Object(a.a)(Object(a.a)({},n),{},{square:!0,elevation:0,style:{border:"1px solid ".concat(s.toolbar.separatorColor),backgroundColor:s.paper.backgroundColor.medium,marginLeft:0},TransitionProps:{unmountOnExit:!!t}}))}},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n(3),a=n(34),o=n(9),i=n(17),s=n(1880),c=n(307),u=n(578),l=n(1122),d=n(1143),b=n(669),p=n(552),j=n(8),h={addButton:{cursor:"pointer"},pasteButtonContainer:{marginLeft:"4px"}},f=Object(b.a)(s.b);function g(e){var t=e.addButtonId,n=e.addButtonLabel,b=e.areConditions,g=e.className,m=e.instrsList,O=e.onAddNewInstruction,v=e.onPasteInstructions,x=e.onMoveToInstruction,y=e.onMoveToInstructionsList,C=e.onInstructionClick,k=e.onInstructionContextMenu,w=e.onInstructionDoubleClick,T=e.onAddInstructionContextMenu,E=e.onParameterClick,S=e.selection,P=e.style,I=e.disabled,A=e.renderObjectThumbnail,D=e.screenType,F=e.windowWidth,M=e.globalObjectsContainer,_=e.objectsContainer,L=i.useState(!1),R=Object(a.a)(L,2),N=R[0],B=R[1],U=i.useCallback((function(){O&&O({instrsList:m,isCondition:b})}),[O,m,b]),H=i.useCallback((function(){v({instrsList:m,isCondition:b})}),[v,m,b]),W=Object(c.mapFor)(0,m.size(),(function(e){var t=m.get(e),n={isCondition:b,instrsList:m,instruction:t,indexInList:e};return Object(j.jsx)(s.a,{instruction:t,isCondition:b,selected:Object(u.s)(S,t),onMoveToInstruction:function(){return x(n)},onClick:function(){return C(n)},onDoubleClick:function(){return w(n)},onContextMenu:function(e,t){return k(e,t,n)},onParameterClick:function(e,t){return E({isCondition:n.isCondition,instrsList:n.instrsList,instruction:n.instruction,indexInList:n.indexInList,parameterIndex:t,domEvent:e})},selection:S,onAddNewSubInstruction:O,onPasteSubInstructions:v,onMoveToSubInstruction:x,onMoveToSubInstructionsList:y,onSubInstructionClick:C,onSubInstructionDoubleClick:w,onSubInstructionContextMenu:k,onAddSubInstructionContextMenu:T,onSubParameterClick:E,disabled:I,renderObjectThumbnail:A,screenType:D,windowWidth:F,globalObjectsContainer:M,objectsContainer:_},t.ptr)})),z={instrsList:m,isCondition:b},V=i.useRef(null),G=b?Object(j.jsx)(o.Trans,{id:"Add condition"}):Object(j.jsx)(o.Trans,{id:"Add action"}),Z=Object(p.a)(i.useCallback((function(e){V.current&&T(V.current,z)}),[T,z,V]));return Object(j.jsx)(f,{canDrop:function(e){return e.isCondition===b},drop:function(){y({isCondition:b,instrsList:m})},children:function(e){var a=e.connectDropTarget,i=e.isOver,s=e.canDrop;return a(Object(j.jsxs)("div",{className:g,style:P,children:[W,i&&Object(j.jsx)(l.a,{canDrop:s}),Object(j.jsxs)("span",{onPointerEnter:function(){B(b&&Object(d.c)()||!b&&Object(d.b)())},onPointerLeave:function(){B(!1)},children:[Object(j.jsx)("button",Object(r.a)(Object(r.a)({style:h.addButton,className:"add-link",onClick:U,onContextMenu:function(e){e.stopPropagation(),T(e.currentTarget,z)}},Z),{},{ref:V,id:t||"".concat(b?"add-condition-button":"add-action-button").concat(0===W.length?"-empty":""),children:n||G})),N&&Object(j.jsx)("span",{style:h.pasteButtonContainer,children:Object(j.jsx)("button",{style:h.addButton,className:"add-link",onClick:H,children:b?Object(j.jsx)(o.Trans,{id:"(or paste conditions)"}):Object(j.jsx)(o.Trans,{id:"(or paste actions)"})})})]})]}))}})}},function(e,t,n){"use strict";(function(e){n.d(t,"e",(function(){return d})),n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return m})),n.d(t,"d",(function(){return O})),n.d(t,"c",(function(){return v})),n.d(t,"f",(function(){return y}));var r=n(19),a=n(1133),o=e.gd,i={BuiltinObject:{"":["AjoutHasard","Create","AjoutObjConcern"]}},s={BuiltinObject:{"":["AjoutHasard","AjoutObjConcern","CollisionNP","SceneInstancesCount","PickedInstancesCount","PickNearest","Distance","SeDirige","EstTourne","SourisSurObjet"]}},c={},u={Physics2:{"Physics2::Physics2Behavior":["Physics2::Collision","Physics2::CollisionStarted","Physics2::CollisionStopped"]}},l={BuiltinObject:Object(r.a)(s.BuiltinObject[""]),Physics2:Object(r.a)(u.Physics2["Physics2::Physics2Behavior"])},d=function(e){return e.getCategory()+"/"+e.getFullName()},b=function(e){var t=!1;return e.filter((function(e){if("Create"===e.type){if(t)return!1;t=!0}return!0}))},p=function(e,t){var n=t;return n?e.filter((function(e){return-1===n.indexOf(e.type)})):e},j=function(e,t,n,r,a){var o=t.getName(),i=e?u[o]:c[o];if(!i)return[];var s=i[n];if(!s)return[];var l=e?t.getAllConditions():t.getAllActions();return s.map((function(e){return f(r,e,l.get(e),a)}))},h=function(e,t,n,r,a){var o=t.getName(),c=e?s[o]:i[o];if(!c)return[];var u=c[n];if(!u)return[];var l=e?t.getAllConditions():t.getAllActions();return u.map((function(e){return f(r,e,l.get(e),a)}))},f=function(e,t,n,r){var a=n.getFullName(),o=n.getGroup(),i=n.getIconFilename();return{type:t,metadata:n,iconFilename:i,displayedName:a,fullGroupName:[e,o].filter(Boolean).join("/"),scope:r,isPrivate:n.isPrivate(),isRelevantForLayoutEvents:n.isRelevantForLayoutEvents(),isRelevantForFunctionEvents:n.isRelevantForFunctionEvents(),isRelevantForAsynchronousFunctionEvents:n.isRelevantForAsynchronousFunctionEvents(),isRelevantForCustomObjectEvents:n.isRelevantForCustomObjectEvents()}},g=function(e,t,n){for(var r=t.keys(),a=[],o=0;o<r.size();++o){var i=r.at(o),s=t.get(i);s.isHidden()||(n.objectMetadata&&n.objectMetadata.isUnsupportedBaseObjectCapability(s.getRequiredBaseObjectCapability())||a.push(f(e,i,s,n)))}return a},m=function(e){for(var t=[],n=o.asPlatform(o.JsPlatform.get()).getAllPlatformExtensions(),a=0;a<n.size();++a){var i=n.at(a),s=i.getName(),c=i.getExtensionObjectsTypes(),u=i.getBehaviorsTypes(),b=d(i),f=g(b,e?i.getAllConditions():i.getAllActions(),{extension:i,objectMetadata:void 0,behaviorMetadata:void 0});t=[].concat(Object(r.a)(t),Object(r.a)(p(f,l[s])));for(var m=0;m<c.size();++m){var O=c.at(m),v=i.getObjectMetadata(O),x={extension:i,objectMetadata:v};t=[].concat(Object(r.a)(t),Object(r.a)(g(b,e?i.getAllConditionsForObject(O):i.getAllActionsForObject(O),x)),Object(r.a)(h(e,i,O,b,x)))}for(var y=0;y<u.size();++y){var C=u.at(y),k=i.getBehaviorMetadata(C),w={extension:i,behaviorMetadata:k};t=[].concat(Object(r.a)(t),Object(r.a)(g(b,e?i.getAllConditionsForBehavior(C):i.getAllActionsForBehavior(C),w)),Object(r.a)(j(e,i,C,b,w)))}}return t},O=function(e,t,n,a){var i=[],s=o.getTypeOfObject(t,n,a,!0),c=o.getBehaviorsOfObject(t,n,a,!0).toJSArray(),u=new Set(c.map((function(e){return o.getTypeOfBehavior(t,n,e,!1)}))),l=o.MetadataProvider.getExtensionAndObjectMetadata(o.JsPlatform.get(),s),d=l.getExtension(),b={extension:d,objectMetadata:l.getMetadata()},p="";i=[].concat(Object(r.a)(i),Object(r.a)(g(p,e?d.getAllConditionsForObject(s):d.getAllActionsForObject(s),b)),Object(r.a)(h(e,d,s,p,b)));if(""!==s){var f=o.MetadataProvider.getExtensionAndObjectMetadata(o.JsPlatform.get(),"").getExtension();i=[].concat(Object(r.a)(i),Object(r.a)(g(p,e?f.getAllConditionsForObject(""):f.getAllActionsForObject(""),b)),Object(r.a)(h(e,f,"",p,b)))}for(var m=o.asPlatform(o.JsPlatform.get()).getAllPlatformExtensions(),O=function(t){var n=m.at(t);n.getBehaviorsTypes().toJSArray().filter((function(e){return u.has(e)})).forEach((function(t){var a=n.getBehaviorMetadata(t),o={extension:n,behaviorMetadata:a};i=[].concat(Object(r.a)(g(p,e?n.getAllConditionsForBehavior(t):n.getAllActionsForBehavior(t),o)),Object(r.a)(j(e,n,t,p,o)),Object(r.a)(i))}))},v=0;v<m.size();++v)O(v);return function(e){var t=e.filter((function(e){return 0===e.fullGroupName.length})),n=e.filter((function(e){return 0!==e.fullGroupName.length}));return[].concat(Object(r.a)(t),Object(r.a)(n))}(i)},v=function(e,t){return x(e,(function(e){return function(e,t){return Object(a.a)(e.getCategory(),t)+"/"+e.getFullName()}(e,t)}))},x=function(e,t){for(var n=[],a=o.asPlatform(o.JsPlatform.get()).getAllPlatformExtensions(),i=0;i<a.size();++i){var s=a.at(i),c=s.getName(),u=t(s),d=g(u,e?s.getAllConditions():s.getAllActions(),{extension:s,objectMetadata:void 0,behaviorMetadata:void 0});n=[].concat(Object(r.a)(n),Object(r.a)(p(d,l[c])))}return n},y=function(e){var t=e.getParametersCount();if(t>=1){var n=e.getParameter(0).getType();if("object"===n)return 0;if(o.ParameterMetadata.isObject(n))return 0;if(("objectsContext"===n||"currentScene"===n)&&t>=2){var r=e.getParameter(1).getType();if(o.ParameterMetadata.isObject(r))return 1}}return-1}}).call(this,n(25))},function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"g",(function(){return c})),n.d(t,"c",(function(){return u}));var r=function(e){return"object-group-key-".concat(e.group.getName(),"-").concat(e.global?"-global":"")},a=function(e){return"object-key-".concat(e.object.getName(),"-").concat(e.global?"-global":"")},o=function(e){return"object-or-object-group-value-".concat(e)},i=function(e){return"instruction-key-".concat(e.fullGroupName).concat(e.scope.objectMetadata?"-"+e.scope.objectMetadata.getName():"","-").concat(e.type)},s=function(e){return"instruction-value-".concat(e)},c=function(e){return"subheader-key-".concat(e)},u=function(e){return"instruction-or-expression-".concat(e.scope.objectMetadata?e.scope.objectMetadata.getName().replace(/:/g,"-")+"-":"").concat(e.type.replace(/:/g,"-"))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(17),a=n(2594),o=n(357),i=n(2611),s=n(295),c=n(330),u=n(468),l=n(8),d={popover:{paddingBottom:10,overflowY:"auto",overflowX:"hidden",minHeight:30,maxHeight:400,maxWidth:600,minWidth:300,zIndex:5}};function b(e){var t=r.useRef(null),n=r.useRef(null);return Object(l.jsx)(i.a,{onClickAway:function(t){Object(u.c)(t.composedPath())||(t instanceof MouseEvent?e.onApply():setTimeout((function(){e.onApply()}),50))},children:Object(l.jsx)(a.a,{open:e.open,anchorEl:e.anchorEl,style:d.popover,placement:"bottom-start",onKeyDown:function(r){Object(c.c)(r)?e.onRequestClose():Object(c.f)(r)?e.onApply():Object(c.g)(r)&&(r.stopPropagation(),r.preventDefault(),e.onApply()),Object(c.d)(r)?r.target&&r.target===n.current&&(r.stopPropagation(),r.preventDefault(),t.current&&t.current.focus()):Object(c.e)(r)&&r.target&&r.target===t.current&&(r.stopPropagation(),r.preventDefault(),n.current&&n.current.focus())},children:Object(l.jsxs)(o.a,{children:[Object(l.jsx)("div",{tabIndex:0,ref:t}),Object(l.jsx)(s.a,{expand:!0,children:Object(l.jsx)(s.c,{children:e.children})}),Object(l.jsx)("div",{tabIndex:0,ref:n})]})})})}},function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return y}));var r=n(6),a=n(5),o=n(10),i=n(11),s=n(3),c=n(9),u=n(17),l=n(1159),d=n(1197),b=n(306),p=n(102),j=n.n(p),h=(n(2125),n(2126),n(8)),f=function e(t,n){return!!t&&(t===n||!!t.first&&e(t.first,n)||!!t.second&&e(t.second,n))},g=function e(t,n,r,a,o){if(!t)return n;if("string"!==typeof t){if("end"===r&&t.second&&"string"!==typeof t.second)return Object(s.a)(Object(s.a)({},t),{},{second:e(t.second,n,r,a,o)});if("start"===r&&t.first&&"string"!==typeof t.first)return Object(s.a)(Object(s.a)({},t),{},{first:e(t.first,n,r,a,o)})}return{direction:"row"===o?"column":"row",first:"end"===r?t:n,second:"end"===r?n:t,splitPercentage:a}},m=function e(t,n,r){return t?"string"===typeof t?t===n?r:t:t===n?r:Object(s.a)(Object(s.a)({},t),{},{first:e(t.first,n,r),second:e(t.second,n,r)}):t},O=[Object(h.jsx)(d.a,{},"close")],v=function(e){return Object(h.jsxs)("div",{className:"mosaic-preview",children:[Object(h.jsx)("div",{className:"mosaic-window-toolbar",children:Object(h.jsx)("div",{className:"mosaic-window-title",children:e.title})}),Object(h.jsx)("div",{className:"mosaic-window-body"})]})},x=function(e){return Object(h.jsx)(l.MosaicWindow,Object(s.a)(Object(s.a)({},e),{},{toolbarControls:e.toolbarControls||O,renderPreview:v}))},y=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={mosaicNode:e.props.initialNodes},e.openEditor=function(t,n,r,a){var o=e.props,i=o.editors,s=o.limitToOneSecondaryEditor,c=e.props.editors[t];if(!c)return!1;var u=Object(l.getLeaves)(e.state.mosaicNode);if(-1!==u.indexOf(t))return!1;if(s&&"secondary"===c.type){var d=u.find((function(e){return"secondary"===i[e].type}));if(d)return e.setState({mosaicNode:m(e.state.mosaicNode,d,t)}),e._persistNodes(),!0}return e.setState({mosaicNode:g(e.state.mosaicNode,t,n,r,a)}),e._persistNodes(),!0},e._onChange=function(t){e.setState({mosaicNode:t}),e._persistNodes()},e._persistNodes=j()((function(){e.props.onPersistNodes&&e.state.mosaicNode&&e.props.onPersistNodes(e.state.mosaicNode)}),2e3),e}return Object(a.a)(n,[{key:"render",value:function(){var e=this,t=this.props.editors;return Object(h.jsx)(b.a.Consumer,{children:function(n){return Object(h.jsx)(l.MosaicWithoutDragDropContext,{className:"".concat(n.mosaicRootClassName," mosaic-blueprint-theme mosaic-gd-theme"),renderTile:function(e,n){var r=t[e];return r?r.noTitleBar?r.renderEditor():Object(h.jsx)(c.I18n,{children:function(e){var t=e.i18n;return Object(h.jsx)(x,{path:n,title:t._(r.title),toolbarControls:r.toolbarControls,children:r.renderEditor()})}}):(console.error("Trying to render un unknown editor: "+e),null)},value:e.state.mosaicNode,onChange:e._onChange})}})}}]),n}(u.Component)},,function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return I}));var r=n(3),a=n(34),o=n(9),i=n(310),s=n(555),c=n(17),u=n(400),l=n(2148),d=n.n(l),b=n(2147),p=n.n(b),j=n(2149),h=n.n(j),f=n(567),g=n(296),m=n(375),O=n(306),v=n(565),x=n(862),y=n(330),C=n(1209),k=n(863),w=n(864),T=n(8),E=e.gd,S=50,P={previewImagePixelated:{imageRendering:Object(x.a)()},contentContainer:{position:"relative",height:"100%",overflow:"hidden"},container:{display:"flex",flexDirection:"column",alignItems:"stretch",flex:1,minHeight:0,width:"100%"},imagePreviewContainer:{position:"relative",width:"100%",height:"100%",boxSizing:"border-box",touchAction:"none"},spriteThumbnailImage:{position:"relative",pointerEvents:"none"},sliderContainer:{maxWidth:150,width:"100%",display:"flex",padding:"0 10px"}},I=function(e,t){var n=e.getResourcesManager().getResource(t);return"image"===n.getKind()&&E.asImageResource(n).isSmooth()};t.a=function(e){var t=e.resourceName,n=e.imageResourceSource,l=e.isImageResourceSmooth,b=e.fixedHeight,j=e.fixedWidth,x=e.renderOverlay,E=e.onSize,I=e.hideCheckeredBackground,A=e.hideControls,D=e.initialZoom,F=e.isImagePrivate,M=e.onImageLoaded,_=e.hideLoader,L=c.useState(!1),R=Object(a.a)(L,2),N=R[0],B=R[1],U=c.useState(null),H=Object(a.a)(U,2),W=H[0],z=H[1],V=c.useState(null),G=Object(a.a)(V,2),Z=G[0],Y=G[1],q=c.useState(null),X=Object(a.a)(q,2),J=X[0],K=X[1],Q=c.useState(null),$=Object(a.a)(Q,2),ee=$[0],te=$[1],ne=c.useState(D||1),re=Object(a.a)(ne,2),ae=re[0],oe=re[1],ie=c.useRef(!1),se=function(){B(!0)},ce=c.useCallback((function(){if(!W||!Z||!ee||!J)return!1;var e=Object(w.a)(Math.min(J/(1.5*W),ee/(1.5*Z)));return oe(e),!0}),[Z,W,ee,J]);c.useEffect((function(){ie.current=!1}),[n]),c.useEffect((function(){ie.current||D||(ie.current=ce())}),[ce,D]);var ue=function(e){var t=e.target,n=t?t.naturalWidth||t.clientWidth:0,r=t?t.naturalHeight||t.clientHeight:0;Y(r),z(n),E&&E(n,r),M&&M()},le=function(e){de(ae*e)},de=function(e){oe(Object(w.a)(e))},be=c.useContext(O.a).imagePreview.frameBorderColor||"#aaa",pe=!!J&&!!ee,je=!!W&&!!Z&&!N,he=Math.max(0,(ee||0)/2-(Z||0)*ae/2-S),fe=Math.max(0,(J||0)/2-(W||0)*ae/2-S),ge=pe?void 0:"hidden",me=W?W*ae:void 0,Oe=Z?Z*ae:void 0,ve=Object(r.a)(Object(r.a)({},P.spriteThumbnailImage),{},{margin:pe?S:0,top:he,left:fe,width:me,height:Oe,visibility:ge},l?void 0:P.previewImagePixelated),xe={position:"absolute",top:he+S,left:fe+S,width:me,height:Oe,visibility:ge,border:"1px solid ".concat(be),boxSizing:"border-box"},ye={position:"absolute",top:0,left:0,width:"100%",height:"100%",visibility:ge};return Object(T.jsx)(s.a,{bounds:!0,onResize:function(e){K(e.bounds.width),te(e.bounds.height)},children:function(e){var a=e.measureRef;return Object(T.jsxs)("div",{style:P.container,children:[!A&&Object(T.jsxs)(u.b,{noPadding:!0,children:[Object(T.jsx)(i.a,{onClick:function(){return le(w.g)},tooltip:{id:"Zoom out (you can also use Ctrl + Mouse wheel)"},children:Object(T.jsx)(p.a,{})}),Object(T.jsx)("div",{style:P.sliderContainer,children:Object(T.jsx)(C.a,{min:Math.log2(w.e),max:Math.log2(w.d),step:4*w.h,value:Math.log2(ae),onChange:function(e){de(Math.pow(2,e))}})}),Object(T.jsx)(i.a,{onClick:function(){return le(w.f)},tooltip:{id:"Zoom in (you can also use Ctrl + Mouse wheel)"},children:Object(T.jsx)(d.a,{})}),Object(T.jsx)(i.a,{onClick:function(){ce()},tooltip:{id:"Fit content to window"},children:Object(T.jsx)(h.a,{})})]}),Object(T.jsxs)("div",{style:Object(r.a)(Object(r.a)({},P.contentContainer),{},{height:b||"100%",width:j}),children:[!I&&Object(T.jsx)(v.a,{}),Object(T.jsxs)("div",{dir:"ltr",style:Object(r.a)(Object(r.a)({},P.imagePreviewContainer),{},{overflow:pe?"auto":"hidden"}),ref:a,onWheel:function(e){var t=e.deltaY;!A&&Object(y.h)(e)&&(le(Object(w.c)(-t)),e.stopPropagation())},children:[!!N&&Object(T.jsx)(f.a,{children:Object(T.jsx)(g.a,{children:Object(T.jsx)(o.Trans,{id:"Unable to load the image"})})}),!N&&(F?Object(T.jsx)(k.a,{style:ve,alt:t,url:n,onError:se,onLoad:ue,hideLoader:_}):Object(T.jsx)(m.a,{style:ve,alt:t,src:n,onError:se,onLoad:ue})),je&&x&&Object(T.jsx)("div",{style:xe}),je&&x&&Object(T.jsx)("div",{style:ye,children:x({imageWidth:W||0,imageHeight:Z||0,offsetTop:he+S,offsetLeft:fe+S,imageZoomFactor:ae})})]})]})]})}})}}).call(this,n(25))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return d}));n(17);for(var r=e.gd,a=[{kind:"audio",displayName:{id:"Audio"},fileExtensions:["aac","wav","mp3","ogg"],createNewResource:function(){return new r.AudioResource}},{kind:"image",displayName:{id:"Image"},fileExtensions:["png","jpg","jpeg","webp"],createNewResource:function(){return new r.ImageResource}},{kind:"font",displayName:{id:"Font"},fileExtensions:["ttf","otf"],createNewResource:function(){return new r.FontResource}},{kind:"video",displayName:{id:"Video"},fileExtensions:["mp4","webm"],createNewResource:function(){return new r.VideoResource}},{kind:"json",displayName:{id:"Json"},fileExtensions:["json"],createNewResource:function(){return new r.JsonResource}},{kind:"tilemap",displayName:{id:"Tile Map"},fileExtensions:["json","ldtk","tmj"],createNewResource:function(){return new r.TilemapResource}},{kind:"tileset",displayName:{id:"Tile Set"},fileExtensions:["json","tsj"],createNewResource:function(){return new r.TilesetResource}},{kind:"bitmapFont",displayName:{id:"Bitmap Font"},fileExtensions:["fnt","xml"],createNewResource:function(){return new r.BitmapFontResource}}],o={},i=0,s=a;i<s.length;i++){var c=s[i],u=c.kind,l=c.createNewResource;o[u]=l}function d(e){return o[e]?o[e]():null}}).call(this,n(25))},,,function(e,t,n){"use strict";var r=n(17),a=n.n(r),o=n(3),i=n(2),s=n(0),c=n.n(s),u=n(372),l=n(338),d=n(876),b=n(34),p=n(9),j=n(303),h=n(298),f=n(311),g=n(8),m=function(e){var t=r.useState(e.nameSuggestion),n=Object(b.a)(t,2),a=n[0],o=n[1],i=r.useState(null),s=Object(b.a)(i,2),c=s[0],l=s[1],d=function(t){l(null),a?e.onSave(a):l(t._({id:"Project name cannot be empty."}))};return Object(g.jsx)(p.I18n,{children:function(t){var n=t.i18n;return Object(g.jsx)(j.c,{title:Object(g.jsx)(p.Trans,{id:"Choose a name for your new project"}),onApply:function(){return d(n)},actions:[Object(g.jsx)(h.a,{label:Object(g.jsx)(p.Trans,{id:"Cancel"}),primary:!1,onClick:e.onCancel},"cancel"),Object(g.jsx)(j.a,{label:Object(g.jsx)(p.Trans,{id:"Save"}),primary:!0,onClick:function(){return d(n)}},"save")],open:!0,onRequestClose:e.onCancel,maxWidth:"sm",flexBody:!0,children:Object(g.jsx)(f.b,{autoFocus:"desktop",fullWidth:!0,maxLength:u.a,errorText:c,translatableHintText:{id:"Project name"},type:"text",value:a,onChange:function(e,t){o(t)}})})}})},O=function(){var e=Object(i.a)(c.a.mark((function e(t){var n,r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.a)();case 2:return n=e.sent,r=Object(l.a)(t),a=new n.TextReader(r),e.abrupt("return",new Promise((function(e,t){n.createWriter(new n.BlobWriter("application/zip"),(function(t){t.add("game.json",a,(function(){t.close((function(t){e(t)}))}))}),(function(e){console.error("An error occurred when zipping project",e),t(e)}))})));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(i.a)(c.a.mark((function e(t){var n,r,a,o,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.authenticatedUser,r=t.project,a=t.cloudProjectId,e.next=3,O(r);case 3:return o=e.sent,e.next=6,Object(u.e)(n,a,o);case 6:return i=e.sent,e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(e){return function(){var t=Object(i.a)(c.a.mark((function t(n,r){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.gameId){t.next=10;break}return console.info("Game id was never set, updating the cloud project."),t.prev=2,t.next=5,Object(u.o)(e,r.fileIdentifier,{gameId:n.getProjectUuid()});case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(2),console.error("Could not update cloud project with gameId",t.t0);case 10:return a=Object(o.a)(Object(o.a)({},r),{},{gameId:n.getProjectUuid()}),t.next=13,v({authenticatedUser:e,project:n,cloudProjectId:a.fileIdentifier});case 13:if(t.sent){t.next=16;break}return t.abrupt("return",{wasSaved:!1,fileMetadata:a});case 16:return t.abrupt("return",{wasSaved:!0,fileMetadata:a});case 17:case"end":return t.stop()}}),t,null,[[2,7]])})));return function(e,n){return t.apply(this,arguments)}}()},y=function(e){return function(){var t=Object(i.a)(c.a.mark((function t(n,r,a){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.authenticated){t.next=2;break}return t.abrupt("return",!1);case 2:return t.prev=2,t.next=5,Object(u.o)(e,r.fileIdentifier,a);case 5:return t.next=7,v({authenticatedUser:e,project:n,cloudProjectId:r.fileIdentifier});case 7:if(t.sent){t.next=10;break}throw new Error("Couldn't save project following property update.");case 10:return t.abrupt("return",!0);case 13:return t.prev=13,t.t0=t.catch(2),console.warn("An error occurred while changing cloud project name. Ignoring.",t.t0),t.abrupt("return",!1);case 17:case"end":return t.stop()}}),t,null,[[2,13]])})));return function(e,n,r){return t.apply(this,arguments)}}()},C=function(e){return e.response&&e.response.data&&"project-creation/too-many-projects"===e.response.data.code?{id:"You've reached the limit of cloud projects you can have. Delete some existing cloud projects of yours before trying again."}:{id:"An error occurred when saving the project, please verify your internet connection or try again later."}},k=function(e){var t=e.authenticatedUser,n=e.setDialog,r=e.closeDialog;return function(){var e=Object(i.a)(c.a.mark((function e(a){var o,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=a.project,a.fileMetadata,t.authenticated){e.next=3;break}return e.abrupt("return",{saveAsLocation:null});case 3:return e.next=5,new Promise((function(e){n((function(){return Object(g.jsx)(m,{onCancel:function(){r(),e(null)},nameSuggestion:o.getName(),onSave:function(t){r(),e(t)}})}))}));case 5:if(i=e.sent){e.next=8;break}return e.abrupt("return",{saveAsLocation:null});case 8:return e.abrupt("return",{saveAsLocation:{name:i}});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},w=function(e,t,n){return function(){var t=Object(i.a)(c.a.mark((function t(n,r,a){var o,i,s,l,d;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r){t.next=2;break}throw new Error("A location was not chosen before saving as.");case 2:if(o=r.name,i=r.gameId,o){t.next=5;break}throw new Error("A name was not chosen before saving as.");case 5:if(e.authenticated){t.next=7;break}return t.abrupt("return",{wasSaved:!1,fileMetadata:null});case 7:return a.onStartSaving(),t.prev=8,t.next=11,Object(u.f)(e,{name:o,gameId:i});case 11:if(s=t.sent){t.next=14;break}throw new Error("No cloud project was returned from creation api call.");case 14:return l={fileIdentifier:s.id,gameId:i},t.next=17,a.onMoveResources({newFileMetadata:l});case 17:return d=l.fileIdentifier,t.next=20,Object(u.k)(e,d);case 20:return t.next=22,v({authenticatedUser:e,project:n,cloudProjectId:d});case 22:if(t.sent){t.next=25;break}throw new Error("No version id was returned from committing api call.");case 25:return t.abrupt("return",{wasSaved:!0,fileMetadata:l});case 28:throw t.prev=28,t.t0=t.catch(8),console.error("An error occurred while creating a cloud project",t.t0),t.t0;case 32:case"end":return t.stop()}}),t,null,[[8,28]])})));return function(e,n,r){return t.apply(this,arguments)}}()},T=n(26),E=function(){var e=Object(i.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.a)();case 2:return n=e.sent,e.abrupt("return",new Promise((function(e,r){n.createReader(new n.BlobReader(t),(function(t){t.getEntries((function(t){t[0].getData(new n.TextWriter,(function(t){e(t)}))}))}),(function(e){console.error("An error occurred when unzipping archived project",e),r(e)}))})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(e){return function(){var t=Object(i.a)(c.a.mark((function t(n,r){var a,o,i,s;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.fileIdentifier,r&&r(25,{id:"Calibrating sensors"}),t.next=4,Object(u.j)(e,a);case 4:if(o=t.sent){t.next=7;break}throw new Error("Cloud project couldn't be fetched.");case 7:return r&&r(50,{id:"Starting engine"}),t.next=10,Object(u.k)(e,a);case 10:return r&&r(75,{id:"Checking tools"}),t.next=13,Object(u.m)(o);case 13:return i=t.sent,r&&r(100,{id:"Opening portal"}),t.next=17,E(i);case 17:return s=t.sent,t.abrupt("return",{content:JSON.parse(s)});case 19:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},P=function(e){return function(){var t=Object(i.a)(c.a.mark((function t(n,r,a){var o;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=r.fileIdentifier,t.next=3,Object(u.k)(e,o);case 3:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},I=n(905),A=a.a.memo((function(e){return Object(g.jsx)(I.a,Object(o.a)(Object(o.a)({},e),{},{viewBox:"0 0 16 12",style:{fill:"none"},children:Object(g.jsx)("path",{d:"M0.75 8C0.75 9.7949 2.20507 11.25 4 11.25H12C13.7949 11.25 15.25 9.7949 15.25 8C15.25 6.2869 13.9246 4.8834 12.2433 4.759C12.1183 2.5239 10.2663 0.75 8 0.75C5.73368 0.75 3.88168 2.5239 3.75672 4.759C2.07542 4.8834 0.75 6.2869 0.75 8Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}))}));t.a={internalName:"Cloud",name:{id:"GDevelop Cloud"},renderIcon:function(e){return Object(g.jsx)(A,{fontSize:e.size})},hiddenInOpenDialog:!0,needUserAuthentication:!0,getFileMetadataFromAppArguments:function(e){if(!e[T.a])return null;if(!e[T.a].length)return null;var t,n=e[T.a][0];return(t=n).startsWith("http://")||t.startsWith("https://")||t.startsWith("ftp://")||t.startsWith("blob:")||t.startsWith("data:")?null:{fileIdentifier:n}},onRenderNewProjectSaveAsLocationChooser:function(e){var t=e.projectName,n=e.saveAsLocation,r=e.setSaveAsLocation;return n&&n.name===t||r({name:t}),null},createOperations:function(e){var t=e.setDialog,n=e.closeDialog,r=e.authenticatedUser;return{onOpen:S(r),onEnsureCanAccessResources:P(r),onSaveProject:x(r),onChooseSaveProjectAsLocation:k({authenticatedUser:r,setDialog:t,closeDialog:n}),onSaveProjectAs:w(r),onChangeProjectProperty:y(r),getOpenErrorMessage:function(e){return{id:"An error occurred when opening the project. Check that your internet connection is working and that your browser allows the use of cookies."}},getWriteErrorMessage:C}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var r=n(6),a=n(5),o=n(10),i=n(11),s=n(17),c=n(379),u=n(3),l=n(336),d=n(394),b=n(311),p=n(330),j=n(423),h=n(306),f=n(296),g=n(8),m={textField:{top:b.c,fontSize:12}};var O=function(e){var t=e.item,n=e.itemName,r=e.id,a=e.data,o=e.isBold,i=e.onRename,c=e.editingName,O=e.getThumbnail,v=e.renderItemLabel,x=e.selected,y=e.onItemSelected,C=e.errorStatus,k=e.buildMenuTemplate,w=e.onEdit,T=e.hideMenuButton,E=e.scaleUpItemIconWhenSelected,S=e.connectIconDragSource,P=s.useRef(null),I=s.useRef(!1),A=s.useContext(h.a);s.useEffect((function(){if(c){I.current=!1;var e=setTimeout((function(){P.current&&P.current.focus()}),100);return function(){return clearTimeout(e)}}}),[c]);var D=c?Object(g.jsx)(b.b,{id:"rename-item-field",margin:"none",ref:P,defaultValue:n,onBlur:function(e){i(I.current?n:e.currentTarget.value)},onKeyPress:function(e){Object(p.g)(e)&&P.current&&P.current.blur()},onKeyUp:function(e){if(Object(p.c)(e)){var t=P.current;t&&(I.current=!0,t.blur())}},fullWidth:!0,style:m.textField}):Object(g.jsx)("div",{title:"string"===typeof n?n:void 0,style:Object(u.a)(Object(u.a)({},j.a),{},{color:x?A.listItem.selectedTextColor:void 0,fontStyle:o?"italic":void 0,fontWeight:o?"bold":"normal"}),children:v?v():Object(g.jsx)(f.a,{noMargin:!0,size:"body-small",children:n})}),F={backgroundColor:x?""===C?A.listItem.selectedBackgroundColor:"error"===C?A.listItem.selectedErrorBackgroundColor:A.listItem.selectedWarningBackgroundColor:void 0,color:""===C?void 0:"error"===C?A.listItem.errorTextColor:A.listItem.warningTextColor},M=O?Object(g.jsx)(d.a,{iconSize:24,src:O(),cssAnimation:E&&x?"scale-and-jiggle 0.8s forwards":""}):null;return Object(g.jsx)(l.b,{style:Object(u.a)({},F),primaryText:D,leftIcon:S&&M?S(Object(g.jsx)("div",{children:M})):M,displayMenuButton:!T,rightIconColor:x?A.listItem.selectedRightIconColor:A.listItem.rightIconColor,buildMenuTemplate:k,onClick:function(){y&&(c||y(x?null:t))},onDoubleClick:function(e){0===e.button&&w&&(c||(y(null),w(t)))},id:r,data:a})},v=n(959),x=n(448),y=n(618),C=n(309),k=n(363),w=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).DragSourceAndDropTarget=Object(x.a)(e.props.reactDndType),e}return Object(a.a)(n,[{key:"forceUpdateGrid",value:function(){this._list&&this._list.forceUpdateGrid()}},{key:"_renderItemRow",value:function(e,t,n,r){var a=this,o=this.props,i=o.selectedItems,s=o.getItemThumbnail,c=o.erroredItems,u=o.isItemBold,l=o.onEditItem,d=o.renamedItem,b=o.getItemName,p=o.getItemId,j=o.getItemData,h=o.renderItemLabel,f=o.scaleUpItemIconWhenSelected,m=d===e,v=b(e);return Object(g.jsx)(O,{item:e,itemName:v,id:p?p(e,t):void 0,data:j?j(e,t):void 0,renderItemLabel:h?function(){return h(e)}:void 0,isBold:!!u&&u(e),onRename:function(t){return a.props.onRename(e,t)},editingName:m,getThumbnail:s?function(){return s(e)}:void 0,selected:-1!==i.indexOf(e),onItemSelected:this.props.onItemSelected,errorStatus:c&&c[v]||"",buildMenuTemplate:function(){return a.props.buildMenuTemplate(e,t)},onEdit:l,hideMenuButton:"small"===n,scaleUpItemIconWhenSelected:f,connectIconDragSource:r||null})}},{key:"render",value:function(){var e=this,t=this.props,n=t.height,r=t.width,a=t.fullList,o=t.addNewItemLabel,i=t.addNewItemId,s=t.renamedItem,u=t.getItemThumbnail,d=t.onAddNewItem,b=t.onMoveSelectionToItem,p=t.canMoveSelectionToItem,j=t.selectedItems,h=this.DragSourceAndDropTarget;return Object(g.jsx)(C.a,{children:function(t){return Object(g.jsx)(k.a,{children:function(f){return Object(g.jsx)(c.f,{ref:function(t){return e._list=t},height:n,rowCount:a.length+(d?1:0),rowHeight:u?l.c:l.d,rowRenderer:function(n){var c=n.index,u=n.key,l=n.style;if(c>=a.length)return Object(g.jsx)("div",{style:l,children:Object(g.jsx)(v.a,{onClick:d,primaryText:r<200?"":o,id:i})},u);var m=a[c],O=s===m,x=-1!==j.indexOf(m);return Object(g.jsx)("div",{style:l,children:Object(g.jsx)(h,{beginDrag:function(){return x||e.props.onItemSelected(m),{}},canDrag:function(){return!O},canDrop:function(){return!p||p(m)},drop:function(){b(m)},children:function(n){var r=n.connectDragSource,a=n.connectDropTarget,o=n.isOver,i=n.canDrop,s="touch"===f&&!x,u=a(Object(g.jsxs)("div",{children:[o&&Object(g.jsx)(y.a,{canDrop:i}),e._renderItemRow(m,c,t,s?r:null)]}));return u?s?u:r(u):null}})},u)},width:r})}})}})}}]),n}(s.Component)},,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var r=function(e,t){return e.length>t?e.substring(0,t)+"...":e},a=function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase()}},function(e,t,n){"use strict";var r=n(3),a=n(2),o=n(34),i=n(0),s=n.n(i),c=n(9),u=n(17),l=n(311),d=n(12),b=n.n(d),p=n(298),j=n(8),h=b()("electron"),f=b()("@electron/remote"),g=f?f.dialog:null,m={container:{position:"relative",display:"flex",alignItems:"baseline"},button:{marginLeft:10},textField:{flex:1}};t.a=function(e){var t=e.type,n=e.value,i=e.onChange,d=e.defaultPath,b=e.fullWidth,O=u.useState(n),v=Object(o.a)(O,2),x=v[0],y=v[1],C=function(){var e=Object(a.a)(s.a.mark((function e(t){var n,r,a,o,c,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.title,r=t.message,g&&h){e.next=3;break}return e.abrupt("return");case 3:return a=f.getCurrentWindow(),e.next=6,g.showOpenDialog(a,{title:n,properties:["openDirectory","createDirectory"],message:r,defaultPath:d});case 6:if(o=e.sent,(c=o.filePaths)&&c.length){e.next=10;break}return e.abrupt("return");case 10:u=c[0],i(u),y(u);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){i(x)};return Object(j.jsx)(c.I18n,{children:function(e){var n=function(e){return"export"===t?{title:e._({id:"Choose an export folder"}),message:e._({id:"Choose where to export the game"})}:"default-workspace"===t?{title:e._({id:"Choose a workspace folder"}),message:e._({id:"Choose where to create your projects"})}:{title:e._({id:"Choose a folder for the new game"}),message:e._({id:"Choose where to create the game"})}}(e.i18n);return Object(j.jsxs)("div",{style:Object(r.a)(Object(r.a)({},m.container),{},{width:b?"100%":void 0}),children:[Object(j.jsx)(l.b,{margin:"dense",style:m.textField,type:"text",hintText:n.title,value:x,onChange:function(e,t){return y(t)},onBlur:k}),Object(j.jsx)(p.a,{label:Object(j.jsx)(c.Trans,{id:"Choose folder"}),style:m.button,onClick:function(){return C(n)}})]})}})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={GENERAL:{id:"General"},IDE:{id:"IDE"},PROJECT:{id:"Project"},SCENE:{id:"Scene"},EVENTS:{id:"Events"}};t.b={QUIT_APP:{area:"GENERAL",displayText:{id:"Close GDevelop"},handledByElectron:!0},OPEN_PROJECT_MANAGER:{area:"IDE",displayText:{id:"Open project manager"},handledByElectron:!0},OPEN_PROFILE:{area:"IDE",displayText:{id:"Open My Profile"}},OPEN_GAMES_DASHBOARD:{area:"IDE",displayText:{id:"Open My Games Dashboard"}},LAUNCH_NEW_PREVIEW:{area:"PROJECT",displayText:{id:"Launch new preview"}},LAUNCH_DEBUG_PREVIEW:{area:"PROJECT",displayText:{id:"Launch preview with debugger and profiler"}},LAUNCH_NETWORK_PREVIEW:{area:"PROJECT",displayText:{id:"Launch network preview over WiFi/LAN"}},HOT_RELOAD_PREVIEW:{area:"PROJECT",displayText:{id:"Apply changes to the running preview"}},OPEN_HOME_PAGE:{area:"IDE",displayText:{id:"Show Home"}},CREATE_NEW_PROJECT:{area:"GENERAL",displayText:{id:"Create a new project"},handledByElectron:!0},OPEN_PROJECT:{area:"GENERAL",displayText:{id:"Open project"},handledByElectron:!0},SAVE_PROJECT:{area:"GENERAL",displayText:{id:"Save project"},handledByElectron:!0},SAVE_PROJECT_AS:{area:"GENERAL",displayText:{id:"Save project as..."},handledByElectron:!0},CLOSE_PROJECT:{area:"GENERAL",displayText:{id:"Close project"},handledByElectron:!0},EXPORT_GAME:{area:"PROJECT",displayText:{id:"Export game"},handledByElectron:!0},OPEN_RECENT_PROJECT:{area:"GENERAL",displayText:{id:"Open recent project..."}},OPEN_COMMAND_PALETTE:{area:"IDE",displayText:{id:"Open command palette"},ghost:!0},OPEN_PROJECT_PROPERTIES:{area:"PROJECT",displayText:{id:"Open project properties"}},OPEN_PROJECT_LOADING_SCREEN:{area:"PROJECT",displayText:{id:"Edit loading screen"}},OPEN_PROJECT_VARIABLES:{area:"PROJECT",displayText:{id:"Edit global variables"}},OPEN_PLATFORM_SPECIFIC_ASSETS_DIALOG:{area:"PROJECT",displayText:{id:"Open project icons"}},OPEN_PROJECT_RESOURCES:{area:"PROJECT",displayText:{id:"Open project resources"}},OPEN_SEARCH_EXTENSIONS_DIALOG:{area:"PROJECT",displayText:{id:"Search/import extensions"}},OPEN_LAYOUT:{area:"IDE",displayText:{id:"Open scene..."}},OPEN_EXTERNAL_EVENTS:{area:"IDE",displayText:{id:"Open external events..."}},OPEN_EXTERNAL_LAYOUT:{area:"IDE",displayText:{id:"Open external layout..."}},OPEN_EXTENSION:{area:"IDE",displayText:{id:"Open extension..."}},OPEN_SCENE_PROPERTIES:{area:"SCENE",displayText:{id:"Open scene properties"}},OPEN_SCENE_VARIABLES:{area:"SCENE",displayText:{id:"Open scene variables"}},OPEN_OBJECTS_PANEL:{area:"SCENE",displayText:{id:"Open Objects Panel"}},OPEN_OBJECT_GROUPS_PANEL:{area:"SCENE",displayText:{id:"Open Object Groups Panel"}},OPEN_PROPERTIES_PANEL:{area:"SCENE",displayText:{id:"Open Properties Panel"}},TOGGLE_INSTANCES_PANEL:{area:"SCENE",displayText:{id:"Open Instances List Panel"}},TOGGLE_LAYERS_PANEL:{area:"SCENE",displayText:{id:"Open Layers Panel"}},SCENE_EDITOR_UNDO:{area:"SCENE",displayText:{id:"Undo the last changes"},noShortcut:!0},SCENE_EDITOR_REDO:{area:"SCENE",displayText:{id:"Redo the last changes"},noShortcut:!0},RENAME_SCENE_OBJECT:{area:"SCENE",displayText:{id:"Rename the selected object"}},DELETE_INSTANCES:{area:"SCENE",displayText:{id:"Delete the selected instances from the scene"},noShortcut:!0},TOGGLE_WINDOW_MASK:{area:"SCENE",displayText:{id:"Toggle mask"}},TOGGLE_GRID:{area:"SCENE",displayText:{id:"Toggle grid"}},OPEN_SETUP_GRID:{area:"SCENE",displayText:{id:"Setup grid"}},EDIT_LAYER_EFFECTS:{area:"SCENE",displayText:{id:"Edit layer effects..."}},EDIT_LAYER:{area:"SCENE",displayText:{id:"Edit layer..."}},EDIT_OBJECT:{area:"SCENE",displayText:{id:"Edit object..."}},EDIT_OBJECT_BEHAVIORS:{area:"SCENE",displayText:{id:"Edit object behaviors..."}},EDIT_OBJECT_EFFECTS:{area:"SCENE",displayText:{id:"Edit object effects..."}},EDIT_OBJECT_VARIABLES:{area:"SCENE",displayText:{id:"Edit object variables..."}},EDIT_OBJECT_GROUP:{area:"SCENE",displayText:{id:"Edit object group..."}},ADD_STANDARD_EVENT:{area:"EVENTS",displayText:{id:"Add a new empty event"}},ADD_SUBEVENT:{area:"EVENTS",displayText:{id:"Add a sub-event to the selected event"}},ADD_COMMENT_EVENT:{area:"EVENTS",displayText:{id:"Add a comment"}},TOGGLE_EVENT_DISABLED:{area:"EVENTS",displayText:{id:"Toggle disabled event"}},TOGGLE_CONDITION_INVERTED:{area:"EVENTS",displayText:{id:"Toggle inverted condition"}},CHOOSE_AND_ADD_EVENT:{area:"EVENTS",displayText:{id:"Choose and add an event..."}},EVENTS_EDITOR_UNDO:{area:"EVENTS",displayText:{id:"Undo the last changes"},noShortcut:!0},EVENTS_EDITOR_REDO:{area:"EVENTS",displayText:{id:"Redo the last changes"},noShortcut:!0},DELETE_SELECTION:{area:"EVENTS",displayText:{id:"Delete the selected event(s)"},noShortcut:!0},SEARCH_EVENTS:{area:"EVENTS",displayText:{id:"Search in events"},noShortcut:!0},OPEN_EXTENSION_SETTINGS:{area:"EVENTS",displayText:{id:"Open extension settings"}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(17),a=function(e){var t=r.useRef(null),n=r.useRef({clientX:0,clientY:0}),a=r.useCallback((function(){t.current&&clearTimeout(t.current)}),[]);return r.useEffect((function(){return document.addEventListener("scroll",a,{capture:!0}),function(){a(),document.removeEventListener("scroll",a,{capture:!0})}}),[a]),{onTouchStart:r.useCallback((function(r){t.current&&clearTimeout(t.current),n.current=function(e){return e.touches&&e.touches.length>0?{clientX:e.touches[0].clientX,clientY:e.touches[0].clientY}:{clientX:0,clientY:0}}(r),t.current=setTimeout((function(){e(n.current)}),600)}),[e]),onTouchMove:r.useCallback((function(e){if(1===e.touches.length){var t=e.touches[0],r=n.current,o=r.clientX,i=r.clientY;(Math.abs(t.clientX-o)>10||Math.abs(t.clientY-i)>10)&&a()}else a()}),[n,a]),onTouchEnd:a}}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return l}));var r=n(2),a=n(0),o=n.n(a),i=n(17),s=n(39),c=n(424),u=e.gd,l=function(e){var t=e.serializableObject,n=e.useProjectToUnserialize,a=e.onCancel,l=i.useRef(null),d=i.useRef(0),b=Object(c.a)().showConfirmation,p=i.useContext(s.a).values.backdropClickBehavior;i.useEffect((function(){return l.current&&(l.current.delete(),l.current=null),l.current=new u.SerializerElement,t.serializeTo(l.current),function(){l.current&&(l.current.delete(),l.current=null)}}),[t]);var j=i.useCallback((function(){d.current++}),[]),h=i.useCallback((function(){return d.current>0}),[]);return{onCancelChanges:i.useCallback(Object(r.a)(o.a.mark((function e(){var r,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=l.current){e.next=3;break}return e.abrupt("return");case 3:if(i=!1,!(!("cancel"===p)&&d.current>=1)){e.next=13;break}return e.next=9,b({title:{id:"Cancel your changes?"},message:{id:"All your changes will be lost. Are you sure you want to cancel?"},confirmButtonLabel:{id:"Cancel"},dismissButtonLabel:{id:"Continue editing"}});case 9:e.sent&&(i=!0),e.next=14;break;case 13:i=!0;case 14:if(i){e.next=16;break}return e.abrupt("return");case 16:n?t.unserializeFrom(n,r):t.unserializeFrom(r),a();case 18:case"end":return e.stop()}}),e)}))),[t,n,a,b,p]),notifyOfChange:j,hasUnsavedChanges:h}}}).call(this,n(25))},function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return j}));var r=n(9),a=(n(17),n(298)),o=n(1421),i=n.n(o),s=n(1422),c=n.n(s),u=n(309),l=n(310),d=n(8),b=i.a,p=c.a;function j(e){var t=e.launchProjectDataOnlyPreview,n=e.hasPreviewsRunning,o=Object(u.b)(),i=n?Object(d.jsx)(p,{}):Object(d.jsx)(b,{}),s=n?Object(d.jsx)(r.Trans,{id:"Apply changes to preview"}):Object(d.jsx)(r.Trans,{id:"Run a preview"});return"small"!==o?Object(d.jsx)(a.a,{leftIcon:i,label:s,onClick:t}):Object(d.jsx)(l.a,{onClick:t,size:"small",children:i})}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n(17);var r=n(1425),a=n.n(r),o=n(734),i=n(8),s={handle:{display:"flex",cursor:"move"},disabledHandle:{display:"flex",opacity:.4},handleColor:"#DDD"},c=function(e){return Object(i.jsx)("span",{style:e.disabled?s.disabledHandle:s.handle,children:Object(i.jsx)(a.a,{htmlColor:e.color||s.handleColor})})},u=Object(o.SortableHandle)(c);t.b=u},,function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var r=n(6),a=n(5),o=n(101),i=5,s=function(){function e(t){var n=this,a=t.isActive,o=t.shortcutCallbacks;Object(r.a)(this,e),this._shiftPressed=!1,this._ctrlPressed=!1,this._altPressed=!1,this._metaPressed=!1,this._mouseMidButtonPressed=!1,this._spacePressed=!1,this.resetModifiers=function(){n._metaPressed=!1,n._altPressed=!1,n._ctrlPressed=!1,n._shiftPressed=!1,n._mouseMidButtonPressed=!1,n._spacePressed=!1},this._updateModifiersFromEvent=function(e){n._metaPressed=e.metaKey,n._altPressed=e.altKey,n._ctrlPressed=e.ctrlKey,n._shiftPressed=e.shiftKey},this._updateSpecialKeysStatus=function(e,t){32===e.which&&(n._spacePressed=t)},this._isControlOrCmdPressed=function(){return n._metaPressed||n._ctrlPressed},this.onMouseDown=function(e){1===e.button?n._mouseMidButtonPressed=!0:n._mouseMidButtonPressed=!1},this.onMouseUp=function(e){1===e.button&&(n._mouseMidButtonPressed=!1)},this.onDragOver=function(e){n._updateModifiersFromEvent(e)},this.onKeyUp=function(e){n._updateModifiersFromEvent(e),n._updateSpecialKeysStatus(e,!1)},this.onKeyDown=function(e){if(n._updateModifiersFromEvent(e),!n._isActive||n._isActive()){if(!e.target||!e.target.closest('textarea, input, [contenteditable="true"]')){n._updateSpecialKeysStatus(e,!0);var t=n._shortcutCallbacks,r=t.onDelete,a=t.onMove,o=t.onCopy,i=t.onCut,s=t.onPaste,c=t.onDuplicate,u=t.onUndo,l=t.onRedo,d=t.onSearch,b=t.onZoomOut,p=t.onZoomIn,j=t.onEscape,h=t.onShift1,f=t.onShift2,g=t.onShift3;a&&(38===e.which?(e.preventDefault(),n._shiftPressed?a(0,-5):a(0,-1)):40===e.which?(e.preventDefault(),n._shiftPressed?a(0,5):a(0,1)):37===e.which?(e.preventDefault(),n._shiftPressed?a(-5,0):a(-1,0)):39===e.which&&(e.preventDefault(),n._shiftPressed?a(5,0):a(1,0))),!r||8!==e.which&&46!==e.which||(e.preventDefault(),r()),o&&n._isControlOrCmdPressed()&&67===e.which&&(e.preventDefault(),o()),i&&n._isControlOrCmdPressed()&&88===e.which&&(e.preventDefault(),i()),s&&n._isControlOrCmdPressed()&&86===e.which&&(e.preventDefault(),s()),c&&n._isControlOrCmdPressed()&&68===e.which&&(e.preventDefault(),c()),(u||l)&&n._isControlOrCmdPressed()&&90===e.which&&(e.preventDefault(),e.shiftKey?l&&l():u&&u()),l&&n._isControlOrCmdPressed()&&89===e.which&&(e.preventDefault(),l()),d&&n._isControlOrCmdPressed()&&70===e.which&&(e.preventDefault(),d()),j&&27===e.which&&(e.preventDefault(),j()),b&&n._isControlOrCmdPressed()&&189===e.which&&(e.preventDefault(),b(e)),b&&109===e.which&&(e.preventDefault(),b(e)),p&&n._isControlOrCmdPressed()&&187===e.which&&(e.preventDefault(),p(e)),p&&107===e.which&&(e.preventDefault(),p(e)),h&&n._shiftPressed&&(49===e.which||97===e.which)&&(e.preventDefault(),h()),f&&n._shiftPressed&&(50===e.which||98===e.which)&&(e.preventDefault(),f()),g&&n._shiftPressed&&(51===e.which||99===e.which)&&(e.preventDefault(),g())}}},this._shortcutCallbacks=o,this._isActive=a}return Object(a.a)(e,[{key:"shouldCloneInstances",value:function(){return this._isControlOrCmdPressed()}},{key:"shouldMultiSelect",value:function(){return this._shiftPressed}},{key:"shouldFollowAxis",value:function(){return this._shiftPressed}},{key:"shouldNotSnapToGrid",value:function(){return this._altPressed}},{key:"shouldResizeProportionally",value:function(){return this._shiftPressed}},{key:"shouldScrollHorizontally",value:function(){return this._altPressed}},{key:"shouldMoveView",value:function(){return this._spacePressed||this._mouseMidButtonPressed}},{key:"shouldZoom",value:function(){return Object(o.e)()?this._isControlOrCmdPressed():!this._isControlOrCmdPressed()&&!this._altPressed&&!this._shiftPressed}}]),e}()},function(e,t,n){"use strict";var r=n(3),a=n(17),o=n.n(a),i=n(905),s=n(8);t.a=o.a.memo((function(e){return Object(s.jsx)(i.a,Object(r.a)(Object(r.a)({},e),{},{children:Object(s.jsx)("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"})}))}))},,,,,function(e,t,n){"use strict";var r=n(3),a=n(17),o=n(2614),i=n(2615),s=n(306),c=n(295),u=n(309),l=n(8),d={minWidth:0,flex:1},b={paddingBottom:32,paddingTop:0,minWidth:0};t.a=function(e){var t=e.children,n=e.header,p=e.background,j=e.cardCornerAction,h=e.isHighlighted,f=e.disabled,g=Object(u.b)(),m=a.useContext(s.a);return Object(l.jsx)(o.a,{style:Object(r.a)({opacity:f?.5:1,backgroundColor:"dark"===p?m.paper.backgroundColor.dark:m.paper.backgroundColor.medium},h?{borderLeftWidth:4,borderLeftColor:m.palette.secondary}:{}),variant:"outlined",children:Object(l.jsxs)(c.a,{expand:!0,noMargin:!0,children:[Object(l.jsxs)(c.c,{justifyContent:"space-between",expand:!0,children:[Object(l.jsx)("div",{style:Object(r.a)(Object(r.a)({},d),{},{paddingLeft:"small"===g?8:32,paddingRight:j?"small"===g?8:32:0}),children:n}),Object(l.jsx)(c.a,{children:j})]}),Object(l.jsx)(i.a,{style:Object(r.a)(Object(r.a)({},b),{},{paddingRight:"small"===g?8:32,paddingLeft:"small"===g?8:32}),children:t})]})})}},function(e,t,n){"use strict";var r=n(17),a=n(306),o=n(8);t.a=function(){var e={position:"absolute",top:0,left:0,width:"100%",height:"100%",background:'url("res/transparentback.png") repeat',filter:r.useContext(a.a).imagePreview.backgroundFilter||"none"};return Object(o.jsx)("div",{style:e})}},function(e,t,n){"use strict";n.d(t,"e",(function(){return p})),n.d(t,"c",(function(){return j})),n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return f})),n.d(t,"d",(function(){return g}));var r=n(2),a=n(3),o=n(0),i=n.n(o),s=n(40),c=n.n(s),u=n(35),l=n(1024),d=n.n(l),b=function(e){return Array.isArray(e.tags)?e:Object(a.a)(Object(a.a)({},e),{},{tags:e.tags.split(",").map((function(e){return e.trim().toLowerCase()}))})},p=function(e,t){return!t.gdevelopVersion||d()(e,t.gdevelopVersion,{includePrerelease:!0})},j=function(){return c.a.get("".concat(u.b.baseUrl,"/extensions-registry")).then((function(e){return e.data})).then((function(e){return Object(a.a)(Object(a.a)({},e),{},{extensionShortHeaders:e.extensionShortHeaders.map(b)})}))},h=function(e){return c.a.get(e.headerUrl).then((function(e){var t=e.data;return b(t)}))},f=function(e){return c.a.get(e.url).then((function(e){var t=e.data;return b(t)}))},g=function(){var e=Object(r.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.get("".concat(u.b.baseUrl,"/extension-short-header"),{params:{authorId:t}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},function(e,t,n){"use strict";n(17);var r=n(327),a=n(8);t.a=function(e){return Object(a.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(a.jsx)(r.a,{elevation:3,style:{padding:10,margin:5},background:"dark",children:e.children})})}},function(e,t,n){"use strict";var r=n(17),a=n(306),o=n(8),i=function(e,t,n,r,a){var i=t[0],s=t[1]+1,c=e.slice(n,i),u=e.slice(i,s),l=e.slice(s,r||e.length);return[c,Object(o.jsx)("span",{style:a,children:u},"".concat(u).concat(i)),l]};t.a=function(e){var t=e.text,n=e.matchesCoordinates,s=r.useContext(a.a);if(0===n.length)return[t];for(var c=[],u=0;u<n.length;u++){var l=n[u+1]?n[u+1][0]:void 0,d=0===u?0:n[u][0];c.push(i(t,n[u],d,l,s.text.highlighted))}return c.map((function(e,t){return Object(o.jsx)(r.Fragment,{children:e},t)}))}},function(e,t,n){"use strict";var r=n(9),a=n(17),o=n(2730),i=n(2578),s=n(39),c=n(363),u=n(306),l=n(406),d=n(8);t.a=function(e){var t=e.identifier,n=e.show,b=e.touchScreenMessage,p=e.message,j=a.useContext(l.a).currentlyRunningInAppTutorial,h=a.useContext(s.a),f=a.useContext(u.a),g=Object(c.b)();return j?null:Object(d.jsx)(o.a,{open:n&&!h.values.hiddenAlertMessages[t],message:"touch"===g&&b?b:p,action:Object(d.jsx)(i.a,{color:"light"===f.palette.type?"secondary":"primary",size:"small",onClick:function(){h.showAlertMessage(t,!1)},children:Object(d.jsx)(r.Trans,{id:"Got it"})},"undo")})}},function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d}));var r=n(2),a=n(0),o=n.n(a),i=n(40),s=n.n(i),c=n(35),u=function(){var e=Object(r.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.get("".concat(c.b.baseUrl,"/example-short-header-and-filter"));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=Object(r.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.get("".concat(c.b.baseUrl,"/example-v2/").concat(t.id));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(r.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.get("".concat(c.b.baseUrl,"/example-short-header"),{params:{authorId:t}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},,,function(e,t,n){"use strict";var r=n(9),a=(n(17),n(298)),o=n(305),i=n(295),s=n(296),c=n(297),u=n(8),l={container:{maxWidth:"480px",whiteSpace:"normal"}};t.a=function(e){var t=e.message,n=e.onLogin,d=e.onCreateAccount;e.justifyContent;return Object(u.jsx)(i.a,{alignItems:"center",children:Object(u.jsx)("div",{style:l.container,children:Object(u.jsxs)(c.a,{children:[Object(u.jsx)(s.a,{noMargin:!0,children:t||Object(u.jsx)(r.Trans,{id:"You are not connected. Create an account to build your game for Android, Windows, macOS and Linux in one click, and get access to metrics for your game."})}),Object(u.jsxs)(c.c,{justifyContent:"center",noMargin:!0,children:[Object(u.jsx)(o.a,{id:"create-account-button",label:Object(u.jsx)(r.Trans,{id:"Create my account"}),onClick:d,primary:!0}),Object(u.jsx)(a.a,{label:Object(u.jsx)(r.Trans,{id:"Login"}),onClick:n})]})]})})})}},,,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"h",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"l",(function(){return d})),n.d(t,"g",(function(){return b})),n.d(t,"i",(function(){return p})),n.d(t,"k",(function(){return j})),n.d(t,"j",(function(){return h})),n.d(t,"e",(function(){return f})),n.d(t,"f",(function(){return g})),n.d(t,"r",(function(){return m})),n.d(t,"s",(function(){return O})),n.d(t,"m",(function(){return v})),n.d(t,"n",(function(){return x})),n.d(t,"p",(function(){return y})),n.d(t,"o",(function(){return C})),n.d(t,"q",(function(){return k})),n.d(t,"a",(function(){return w})),n.d(t,"t",(function(){return T})),n.d(t,"v",(function(){return E})),n.d(t,"u",(function(){return S}));var r=n(19),a=n(3),o=n(622),i=n.n(o),s=function(){return{selectedInstructions:[],selectedEvents:[],selectedInstructionsLists:[]}},c=function(e){return e.selectedEvents.map((function(e){return e.event}))},u=function(e){return e.selectedEvents.length?e.selectedEvents[e.selectedEvents.length-1]:null},l=function(e){var t=e.selectedEvents.filter((function(e){return e.event.canHaveSubEvents()}));return t.length?t[t.length-1]:null},d=function(e){var t=i()(e.selectedEvents);return t.filter((function(e){return!t.some((function(t){return t!==e&&(!!t.event.canHaveSubEvents()&&t.event.getSubEvents().contains(e.event,!0))}))}))},b=function(e){var t=d(e);return t.length?t[t.length-1]:null},p=function(e){return e.selectedInstructions.map((function(e){return e.instruction}))},j=function(e){return e.selectedInstructions.map((function(e){return e.locatingEvent}))},h=function(e){return e.selectedInstructions},f=function(e){return e.selectedInstructions[e.selectedInstructions.length-1]||null},g=function(e){return e.selectedInstructionsLists[e.selectedInstructionsLists.length-1]||null},m=function(e,t){return e.selectedEvents.some((function(e){return e.event.ptr===t.ptr}))},O=function(e,t){return e.selectedInstructions.some((function(e){return e.instruction.ptr===t.ptr}))},v=function(e){return!!e.selectedEvents.length},x=function(e){return!!e.selectedInstructions.length},y=function(e){return h(e).some((function(e){return e.isCondition}))},C=function(e){return!!e.selectedInstructionsLists.length},k=function(e){return x(e)||C(e)||v(e)},w=function(){return s()},T=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=t.event;if(m(e,o))return e;var i=n?e:w();return Object(a.a)(Object(a.a)({},i),{},{selectedEvents:[].concat(Object(r.a)(i.selectedEvents),[t])})},E=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=n.instruction;if(O(t,i))return t;var s=o?t:w();return Object(a.a)(Object(a.a)({},s),{},{selectedInstructions:[].concat(Object(r.a)(s.selectedInstructions),[Object(a.a)(Object(a.a)({},n),{},{locatingEvent:e})])})},S=function(e){var t=s();return e.forEach((function(e){t.selectedEvents.push(e)})),t}},,function(e,t,n){"use strict";n(17);var r=n(349),a=n(8),o={oneColumnContainer:{display:"flex",flexDirection:"column"},twoColumnsContainer:{display:"flex"}};t.a=function(e){return"small"===e.windowWidth?Object(a.jsxs)("div",{style:o.oneColumnContainer,className:e.className,children:[e.renderConditionsList({style:{},className:"".concat(r.c," ").concat(r.u)}),e.renderActionsList({style:{},className:"".concat(r.a," ").concat(r.u)})]}):Object(a.jsxs)("div",{style:o.twoColumnsContainer,className:e.className,children:[e.renderConditionsList({style:{width:"calc(35vw - ".concat(e.leftIndentWidth,"px)")},className:r.c}),e.renderActionsList({className:r.a})]})}},,,,,,function(e,t,n){"use strict";var r=n(3),a=(n(17),n(305)),o=n(309),i=n(8);t.a=function(e){var t=Object(o.b)();return Object(i.jsx)(a.a,Object(r.a)(Object(r.a)({},e),{},{label:"small"===t?"":e.label}))}},function(e,t,n){"use strict";var r=n(2),a=n(0),o=n.n(a),i=n(17),s=n.n(i),c={authorizationToken:null,updateAuthorizationToken:function(){var e=Object(r.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),fetchPrivateAsset:function(){var e=Object(r.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),installPrivateAsset:function(){var e=Object(r.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},u=s.a.createContext(c);t.a=u},function(e,t,n){"use strict";(function(e){var r=n(2156),a=n(2160),o=n(2161),i=n(2162),s=n(2174),c=n(2175),u=n(2176),l=n(2177),d=n(2178),b=e.gd,p={getEditorConfiguration:function(e,t){if(this.editorConfigurations[t])return this.editorConfigurations[t];if(e.hasEventsBasedObject(t)){var n=b.MetadataProvider.getObjectMetadata(b.JsPlatform.get(),t);return this.getCustomObjectPropertiesEditor({helpPagePath:n.getHelpPath()})}return console.warn("Object with type ".concat(t," has no editor configuration registered. Please use registerEditorConfiguration to register your editor.")),this.getDefaultObjectJsImplementationPropertiesEditor({helpPagePath:""})},getEditorConfigurationForCustomObject:function(e,t){return this.editorConfigurationsSpecificToCustomObject[t]?this.editorConfigurationsSpecificToCustomObject[t]:this.getEditorConfiguration(e,t)},registerEditorConfiguration:function(e,t){t.component?t.createNewObject?t.castToObjectType?this.editorConfigurations.hasOwnProperty(e)?console.warn('Tried to register editor configuration for object "'.concat(e,'", but an editor configuration already exists.')):this.editorConfigurations[e]=t:console.warn('Tried to register editor configuration for object "'.concat(e,'", but "castToObjectType" property is not defined.')):console.warn('Tried to register editor configuration for object "'.concat(e,'", but "createNewObject" property is not defined.')):console.warn('Tried to register editor configuration for object "'.concat(e,'", but "component" property is not defined.'))},getDefaultObjectJsImplementationPropertiesEditor:function(e){return{component:l.a,createNewObject:function(e){return b.asObjectJsImplementation(e).clone().release()},castToObjectType:function(e){return b.asObjectJsImplementation(e)},helpPagePath:e.helpPagePath}},getCustomObjectPropertiesEditor:function(e){return{component:d.a,createNewObject:function(e){return b.asCustomObjectConfiguration(b.asCustomObjectConfiguration(e).clone().release())},castToObjectType:function(e){return b.asCustomObjectConfiguration(e)},helpPagePath:e.helpPagePath}},editorConfigurationsSpecificToCustomObject:{Sprite:{component:i.a,createNewObject:function(){return new b.SpriteObject},castToObjectType:function(e){return b.asSpriteConfiguration(e)},helpPagePath:"/objects/sprite"}},editorConfigurations:{Sprite:{component:i.b,createNewObject:function(){return new b.SpriteObject},castToObjectType:function(e){return b.asSpriteConfiguration(e)},helpPagePath:"/objects/sprite"},"TiledSpriteObject::TiledSprite":{component:a.a,createNewObject:function(){return new b.TiledSpriteObject},castToObjectType:function(e){return b.asTiledSpriteConfiguration(e)},helpPagePath:"/objects/tiled_sprite"},"PanelSpriteObject::PanelSprite":{component:o.a,createNewObject:function(){return new b.PanelSpriteObject},castToObjectType:function(e){return b.asPanelSpriteConfiguration(e)},helpPagePath:"/objects/panel_sprite"},"TextObject::Text":{component:r.a,createNewObject:function(){return new b.TextObject},castToObjectType:function(e){return b.asTextObjectConfiguration(e)},helpPagePath:"/objects/text"},"PrimitiveDrawing::Drawer":{component:c.a,createNewObject:function(){return new b.ShapePainterObject},castToObjectType:function(e){return b.asShapePainterConfiguration(e)},helpPagePath:"/objects/shape_painter"},"TextEntryObject::TextEntry":{component:s.a,createNewObject:function(){return new b.TextEntryObject},castToObjectType:function(e){return b.asTextEntryConfiguration(e)},helpPagePath:"/objects/text_entry"},"ParticleSystem::ParticleEmitter":{component:u.a,createNewObject:function(){return new b.ParticleEmitterObject},castToObjectType:function(e){return b.asParticleEmitterConfiguration(e)},helpPagePath:"/objects/particles_emitter"}}};t.a=p}).call(this,n(25))},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));var r=n(9),a=(n(17),n(8)),o=function(e,t){if(!t)return"";if("string"===typeof t)return t;if("object"!==typeof t)return"";var n=e.language;if(t[n])return t[n];var r=n.split("-")[0];if(t[r])return t[r];if(t.en)return t.en;var a=Object.keys(t)[0];return t[a]?t[a]:""},i=function(e){switch(e.split(/[-_]/)[0]){case"en":return Object(a.jsx)(r.Trans,{id:"English"});case"fr":return Object(a.jsx)(r.Trans,{id:"French"});case"pt":return Object(a.jsx)(r.Trans,{id:"Portuguese"});case"es":return Object(a.jsx)(r.Trans,{id:"Spanish"});case"it":return Object(a.jsx)(r.Trans,{id:"Italian"});case"ar":return Object(a.jsx)(r.Trans,{id:"Arabic"});case"id":return Object(a.jsx)(r.Trans,{id:"Indonesian"});case"ja":return Object(a.jsx)(r.Trans,{id:"Japanese"});case"ko":return Object(a.jsx)(r.Trans,{id:"Korean"});case"zh":return Object(a.jsx)(r.Trans,{id:"Chinese"});case"pl":return Object(a.jsx)(r.Trans,{id:"Polish"});case"ru":return Object(a.jsx)(r.Trans,{id:"Russian"});case"sl":return Object(a.jsx)(r.Trans,{id:"Slovene"});case"si":return Object(a.jsx)(r.Trans,{id:"Sinhala"});case"tr":return Object(a.jsx)(r.Trans,{id:"Turkish"});case"uk":return Object(a.jsx)(r.Trans,{id:"Ukrainian"});default:return null}}},function(e,t,n){"use strict";var r=n(3),a=n(17),o=n.n(a),i=n(905),s=n(8);t.a=o.a.memo((function(e){return Object(s.jsxs)(i.a,Object(r.a)(Object(r.a)({},e),{},{width:"115",height:"93",viewBox:"-5 -1 115 93",fill:"none",children:[Object(s.jsx)("path",{d:"M60.9224 67.0771C52.3232 67.0771 44.0446 64.752 36.7313 59.6893C31.6337 56.1619 25.7339 48.197 25.7339 34.6939C25.7339 9.64282 38.5302 0.5 64.2455 0.5H110.542L115 14.7683H67.7736C50.801 14.7683 40.7089 16.0919 40.7089 34.6939C40.7089 40.8384 42.4416 45.2112 46.008 48.0604C52.0354 52.8764 63.7507 53.0813 70.9092 52.3913C70.9092 52.3913 73.8463 42.9467 74.33 41.4134C74.8966 39.6166 74.6485 39.188 72.881 39.188C70.328 39.188 65.7384 39.188 60.8673 39.188C57.4536 39.188 54.0998 37.4699 54.0998 33.3432C54.0998 29.3579 57.2201 27.0447 61.4974 27.0447C68.9034 27.0447 84.1565 27.0447 87.0113 27.0447C90.754 27.0447 94.5734 27.5814 92.6247 33.5063L82.3047 64.8043C82.3054 64.805 73.8741 67.0771 60.9224 67.0771V67.0771Z",fill:"currentColor"}),Object(s.jsx)("path",{d:"M89.8255 72.3901C84.6241 76.0318 76.9198 78.0446 63.8468 78.0446C41.3145 78.0446 24.8236 69.9479 18.0999 54.2515C14.9211 46.8323 15.227 38.4234 15.227 27.051H0.252679C0.252679 39.043 0.0463766 48.4458 3.25452 57.1063C11.6669 79.8247 33.3301 92.0307 62.4312 92.0307C90.5999 92.0307 102.273 83.9981 109.882 72.3901H89.8255Z",fill:"currentColor"})]}))}))},,function(e,t,n){"use strict";n(17);var r=n(320),a=n(387),o=n(1018),i=n(8),s=function(e){var t=e.project,n=e.resourceName,r=e.resourcesLoader,a=e.resourceKind,s=e.style,c=e.selectable,u=e.selected,l=e.onSelect,d=e.onContextMenu;return"image"===a?Object(i.jsx)(o.a,{project:t,resourceName:n,resourcesLoader:r,style:s,selectable:c,selected:u,onSelect:l,onContextMenu:d}):null},c=n(297),u=n(309);t.a=function(e){var t=e.project,n=e.resourceManagementProps,o=e.resourceKind,l=e.resourceName,d=e.onChange,b=e.floatingLabelText,p=e.hintText,j=e.helperMarkdownText,h="small"===Object(u.b)()?"center":"flex-end";return Object(i.jsxs)(c.b,{noMargin:!0,expand:!0,alignItems:h,children:[Object(i.jsx)(s,{resourceName:l,resourcesLoader:r.a,project:t,resourceKind:o}),Object(i.jsx)(a.a,{project:t,resourceManagementProps:n,resourcesLoader:r.a,resourceKind:o,fullWidth:!0,initialResourceName:l,onChange:d,floatingLabelText:b,hintText:p,helperMarkdownText:j})]})}},,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(34),a=n(17),o=n(8),i={hasUnsavedChanges:!1,sealUnsavedChanges:function(){},triggerUnsavedChanges:function(){}},s=a.createContext(i);t.b=s;var c=function(e){var t=a.useState(!1),n=Object(r.a)(t,2),i=n[0],c=n[1];return Object(o.jsx)(s.Provider,{value:{hasUnsavedChanges:i,triggerUnsavedChanges:function(){i||c(!0)},sealUnsavedChanges:function(){i&&c(!1)}},children:e.children})}},,,,,,,,function(e,t,n){"use strict";var r=n(3),a=n(17),o=n.n(a),i=n(905),s=n(8);t.a=o.a.memo((function(e){return Object(s.jsxs)(i.a,Object(r.a)(Object(r.a)({},e),{},{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:[Object(s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.8536 4.14645C12.0488 4.34171 12.0488 4.65829 11.8536 4.85355L4.85355 11.8536C4.65829 12.0488 4.34171 12.0488 4.14645 11.8536C3.95118 11.6583 3.95118 11.3417 4.14645 11.1464L11.1464 4.14645C11.3417 3.95118 11.6583 3.95118 11.8536 4.14645Z",fill:"currentColor"}),Object(s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.14645 4.14645C4.34171 3.95118 4.65829 3.95118 4.85355 4.14645L11.8536 11.1464C12.0488 11.3417 12.0488 11.6583 11.8536 11.8536C11.6583 12.0488 11.3417 12.0488 11.1464 11.8536L4.14645 4.85355C3.95118 4.65829 3.95118 4.34171 4.14645 4.14645Z",fill:"currentColor"})]}))}))},,function(e,t,n){"use strict";n(17);var r=n(957),a=n.n(r),o=n(310),i=n(470),s=n(26),c=n(8);t.a=function(e){var t=e.helpPagePath;return t?Object(c.jsx)(o.a,{onClick:function(){return s.b.openExternalURL(Object(i.a)(t))},disabled:e.disabled,style:e.style,size:e.size,children:Object(c.jsx)(a.a,{})}):null}},,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(3),a=n(17),o=n(306),i=n(8),s={borderTop:"2px solid black",height:0,marginTop:"-1px",marginBottom:"-1px",width:"100%",boxSizing:"border-box"};function c(e){var t=e.canDrop,n=e.zIndex,c=a.useContext(o.a);return Object(i.jsx)("div",{style:Object(r.a)(Object(r.a)({},s),{},{borderColor:t?c.dropIndicator.canDrop:c.dropIndicator.cannotDrop,zIndex:n||void 0})})}},function(e,t,n){"use strict";var r=n(9),a=n(17),o=n(386),i=n(26),s=n(512),c=n(963),u=n.n(c),l=n(8);t.a=function(e){var t=a.useContext(s.a).tutorials;if(!t||!e.tutorialId)return e.renderIfNotFound||null;var n=t.find((function(t){return t.id===e.tutorialId}));return n?Object(l.jsx)(o.a,{onClick:function(){n.link&&i.b.openExternalURL(n.link)},target:"_blank",label:e.label||Object(l.jsx)(r.Trans,{id:"Tutorial"}),icon:Object(l.jsx)(u.a,{})}):(console.warn("Tutorial with id ".concat(e.tutorialId||""," not found")),e.renderIfNotFound||null)}},,function(e,t,n){"use strict";(function(e){n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l}));var r=n(60),a=n(622),o=n.n(a),i=e.gd,s=function(e){return/^([A-Za-z]{1}[A-Za-z\d_]*\.)+[A-Za-z][A-Za-z\d_]*$/i.test(e)},c=function(e,t){var n={},r=function(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";n[e]||(n[e]=[]),n[e].push({type:t,message:r,extraExplanation:a})};return t.getPackageName()?t.getPackageName().length>=255?r("packageName","error",e("The package name is too long."),e("Change the package name in the game properties.")):s(t.getPackageName())||r("packageName","error",e('The package name is containing invalid characters or not following the convention "xxx.yyy.zzz" (numbers allowed after a letter only).'),e("Change the package name in the game properties.")):r("packageName","error",e("The package name is empty."),e("Choose and enter a package name in the game properties.")),t.getName()||r("name","error",e("The name of your game is too long."),e("Change the name in the game properties.")),(!t.getVersion()||t.getVersion().split(".").length<3)&&r("packageName","error",e("The version that you've set for the game is invalid."),e("Enter a version in the game properties.")),n},u=function(e,t){return!Object.keys(t).length||(Object(r.a)({message:e("Your game has some invalid elements, please fix these before continuing:")+"\n\n"+o()(t).map((function(e){return e.map((function(e){return"- ".concat(e.message)})).join("\n")})).join("\n"),rawError:void 0,errorId:"project-invalid-settings-error",doNotReport:!0}),!1)},l=function(e){for(var t=i.WholeProjectRefactorer.findInvalidRequiredBehaviorProperties(e),n=0;n<t.size();n++){var r=t.at(n),a=i.WholeProjectRefactorer.getBehaviorsWithType(r.getSourceObject(),r.getExpectedBehaviorTypeName()).toJSArray();console.error('Invalid value for required behavior property "'.concat(r.getSourcePropertyName(),'" in object ').concat(r.getSourceObject().getName()," for behavior ").concat(r.getSourceBehaviorContent().getName(),".")),console.info("Expected behavior of type ".concat(r.getExpectedBehaviorTypeName(),". Possibles values are: ").concat(a.join(", ")||"(none)","."))}}}).call(this,n(25))},,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return p}));var r=n(24),a=n(34),o=n(9),i=n(17),s=n(425),c=n(297),u=n(323),l=n(316),d=n(8),b=function(){var e=i.useState(null),t=Object(a.a)(e,2),n=t[0],o=t[1],s=i.useState((function(){return new Set})),c=Object(a.a)(s,2),u=c[0],l=c[1];return{chosenCategory:n,setChosenCategory:i.useCallback((function(e){if(e){var t,n=new Set,a=Object(r.a)(u.keys());try{for(a.s();!(t=a.n()).done;){var i=t.value;e.node.allChildrenTags.includes(i)&&n.add(i)}}catch(s){a.e(s)}finally{a.f()}l(n),o(e)}else o(null)}),[u]),chosenFilters:u,addFilter:function(e){var t=new Set(u);t.add(e),l(t)},removeFilter:function(e){var t=new Set(u);t.delete(e),l(t)}}},p=function(e){var t=e.filtersState,n=e.allFilters,r=e.error;if(!n)return Object(d.jsx)(u.a,{});if(r)return null;var a=t.chosenCategory?t.chosenCategory.node.allChildrenTags:n.defaultTags;return Object(d.jsx)(c.a,{children:a?a.length?a.map((function(e){return Object(d.jsx)(s.a,{label:(n=e,n?n[0].toUpperCase()+n.substr(1):""),checked:t.chosenFilters.has(e),onCheck:function(){t.chosenFilters.has(e)?t.removeFilter(e):t.addFilter(e)}},e);var n})):Object(d.jsx)(l.a,{children:Object(d.jsx)(o.Trans,{id:"No filters in this category."})}):Object(d.jsx)(l.a,{children:Object(d.jsx)(o.Trans,{id:"Choose a category to display filters"})})})}},,,,function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return p})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return g}));var r=n(19),a=n(34),o=n(24),i=n(1),s=n(17),c=n(774),u=n.n(c),l=n(775),d={minMatchCharLength:1,threshold:.35,includeMatches:!0,ignoreLocation:!0,useExtendedSearch:!0,findAllMatches:!0},b=function(e){var t=e.trim().split(" ");return"'".concat(t.join(" '"))},p=function(e,t){return{$and:e.trim().split(" ").map((function(e){return{$or:t.map((function(t){return Object(i.a)({},t,e)}))}}))}},j=function(e,t){var n=t.toLowerCase();return e.indices.map((function(r){var a=e.value.slice(r[0],r[1]+1).toLowerCase();if(a===n)return r;var o=a.indexOf(n);return-1!==o?[r[0]+o,r[0]+o+t.length-1]:void 0})).filter(Boolean)},h=function(e,t){return e.matches.map((function(e){return{key:e.key,value:e.value,indices:j(e,t)}}))},f=function(e,t,n,r,a){if(!e)return null;var i=performance.now(),s=e.filter((function(e){var n=e.item;return!t||n.category===t})).filter((function(e){var t=e.item.tags;if(!n)return!0;if(!(n.node.isTagContainerOnly||t.some((function(e){return e===n.node.name}))))return!1;var r,a=Object(o.a)(n.parentNodes);try{var i=function(){var e=r.value;return e.isTagContainerOnly?{v:!0}:t.some((function(t){return t===e.name}))?void 0:{v:!1}};for(a.s();!(r=a.n()).done;){var s=i();if("object"===typeof s)return s.v}}catch(c){a.e(c)}finally{a.f()}return!0})).filter((function(e){var t=e.item,n=t.tags,o=t.tier,i=!o||!a.has(o),s=0===r.size||n.some((function(e){return r.has(e)}));return i&&s})),c=performance.now()-i;return console.info("Filtered items by category/filters/tier in ".concat(c.toFixed(3),"ms.")),s},g=function(e,t){var n=t.searchText,o=t.chosenItemCategory,i=t.chosenCategory,c=t.chosenFilters,d=t.excludedTiers,b=t.defaultFirstSearchItemIds,j=t.shuffleResults,g=void 0===j||j,m=s.useRef(null),O=s.useState(null),v=Object(a.a)(O,2),x=v[0],y=v[1],C=s.useMemo((function(){if(!e||!Object.keys(e).length)return null;var t=new Set(b),n=Object.keys(e).filter((function(e){return!t.has(e)}));return[].concat(Object(r.a)(b),Object(r.a)(g?u()(n):n)).map((function(t){return{item:e[t],matches:[]}}))}),[e,b,g]);s.useEffect((function(){if(e){var t=performance.now();m.current&&(m.current=null);try{var n=new l.a(Object.values(e),{keys:[{name:"name",weight:2},{name:"fullName",weight:5},{name:"shortDescription",weight:1},{name:"tags",weight:4}],minMatchCharLength:2,threshold:.35,includeMatches:!0,ignoreLocation:!0,useExtendedSearch:!0,findAllMatches:!0}),r=performance.now()-t;console.info("Indexed ".concat(Object.keys(e).length," items in ").concat(r.toFixed(3),"ms.")),m.current=n}catch(a){console.error("Error while indexing items: ",a)}}}),[e]);var k=m.current;return s.useEffect((function(){var t=!1;if(n){if(!e||!k)return void console.info("Search for items skipped because items are not ready - will be retried when ready");var r=performance.now(),a=k.search(p(n,["name","fullName","shortDescription","tags"])),s=performance.now()-r;if(console.info("Found ".concat(a.length," items in ").concat(s.toFixed(3),"ms.")),t)return void console.info("Discarding search results as a new search was launched.");y(f(a.map((function(e){return{item:e.item,matches:h(e,n)}})),o,i,c,d))}else y(f(C,o,i,c,d));return function(){t=!0}}),[C,e,n,o,i,c,k,d]),x}},function(e,t,n){"use strict";var r=n(3),a=n(9),o=(n(17),n(1650)),i=n.n(o),s=n(1652),c=n.n(s),u=n(567),l=n(2587),d=n(305),b=n(54),p=n(26),j=n(296),h=n(295),f=n(55),g=n(101),m=n(8),O=function(e){var t=e.componentStack,n=e.error,r=e.title;return Object(m.jsxs)(u.a,{children:[Object(m.jsxs)(h.c,{children:[Object(m.jsx)(c.a,{fontSize:"large"}),Object(m.jsx)(h.d,{}),Object(m.jsx)(j.a,{size:"block-title",children:r})]}),Object(m.jsx)(l.a,{}),Object(m.jsxs)(j.a,{children:["Something wrong happened :(",Object(m.jsx)("br",{}),"Please ",Object(m.jsx)("b",{children:"backup your game file"})," and save your game to ensure that you don't lose anything."]}),Object(m.jsxs)(j.a,{children:["The error was automatically reported.",Object(m.jsx)("br",{}),"To make sure it's fixed, you may report it on GitHub, the platform where GDevelop is developed:"]}),Object(m.jsx)(d.a,{label:Object(m.jsx)(a.Trans,{id:"Report the issue on GitHub"}),onClick:function(){var e="\n=> Please write here a short description of when the error occurred and how to reproduce it.\nYou also may have to create an account on GitHub before posting.\n\nWhen you're ready, click on \"Submit new issue\". Don't change the rest of the message. Thanks!\n\n## Error stack (don't write anything here)\n```\n".concat(n?n.stack:"No error found","\n```\n\n## Component stack (don't write anything here)\n```\n").concat(t||"No component stack found","\n```\n\n## Other details\n* IDE version: ").concat(Object(f.c)(),"\n* Arch: ").concat(Object(g.a)(),",\n* Platform Name: ").concat(Object(g.b)(),",\n* System Version: ").concat(Object(g.c)(),",\n* User Agent: ").concat(Object(g.d)(),",\n        ");p.b.openExternalURL("https://github.com/4ian/GDevelop/issues/new?body=".concat(encodeURIComponent(e),"&title=Crash%20while%20using%20an%20editor"))}})]})};t.a=function(e){return Object(m.jsx)(i.a,{FallbackComponent:function(t){return Object(m.jsx)(O,Object(r.a)(Object(r.a)({},t),{},{title:e.title}))},onError:function(t,n){return function(e,t,n){console.error("Error caught by Boundary:",e,t),Object(b.j)("Error catched by error boundary","error-boundary_".concat(n),{error:e,componentStack:t},"error-boundary-error")}(t,n,e.scope)},children:e.children})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(17),a=n(404),o=n(1671),i=n.n(o),s=n(777),c=n(8),u={chip:{marginRight:2,marginBottom:2}},l=function(e){var t=e.user,n=e.isClickable,o=void 0!==n&&n,l=r.useContext(s.a).openUserPublicProfile;return Object(c.jsx)(a.a,{icon:Object(c.jsx)(i.a,{}),size:"small",style:u.chip,label:t.username,onClick:o?function(){return l(t.id)}:null,disableAutoTranslate:!0},t.username)}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return y})),n.d(t,"e",(function(){return C})),n.d(t,"f",(function(){return T})),n.d(t,"b",(function(){return E})),n.d(t,"c",(function(){return S})),n.d(t,"d",(function(){return P}));var r=n(19),a=n(2),o=n(0),i=n.n(o),s=n(370),c=n(95),u=n(338),l=n(432),d=n.n(l),b=n(1038),p=n.n(b),j=n(642),h=n.n(j),f=n(566),g=n(307),m=n(748),O=e.gd,v=function(e){var t=e.trim();if(!t)return"UnnamedObject";var n,r=(n=t)?n.replace(/^[^A-Za-z0-9]*|[^A-Za-z0-9]*$/g,"$").replace(/[^A-Za-z0-9]+/g,"$").replace(/([a-z])([A-Z])/g,(function(e,t,n){return t+"$"+n})).toLowerCase().replace(/(\$)(\w?)/g,(function(e,t,n){return n.toUpperCase()})):"";return r[0]>="0"&&r[0]<="9"&&(r="_"+r),r},x=function(e,t,n,r){var a=n.name;if(!r[a]){var o=e.getResourcesManager(),i=n.file,l=n.origin?n.origin.name:"",d=Object(s.h)(i)?Object(s.a)(i):l,b=n.origin?n.origin.identifier:"",p=d&&b?o.getResourceNameWithOrigin(d,b):"",j=o.getResourceNameWithFile(i);if(p)r[a]=p;else if(j)r[a]=j;else{var h=null;if("image"===n.kind)h=new O.ImageResource;else if("audio"===n.kind)h=new O.AudioResource;else if("font"===n.kind)h=new O.FontResource;else if("video"===n.kind)h=new O.VideoResource;else{if("json"!==n.kind)throw new Error('Resource of kind "'.concat(n.kind,'" is not supported.'));h=new O.JsonResource}Object(u.c)(h,n),"image"===h.getKind()&&h.setSmooth("nearest"!==e.getScaleMode()&&!Object(s.f)(t));var f=Object(c.a)(a,(function(e){return o.hasResource(e)}));h.setName(f),h.setOrigin(d,b),o.addResource(h),h.delete(),r[a]=f}}},y=function(){var e=Object(a.a)(i.a.mark((function e(t){var n,r,a,o,s,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.asset,r=t.project,a=t.objectsContainer,o={},s={},l=[],n.objectAssets.forEach((function(e){var t=e.object.type;if(!t)throw new Error("An object has no type specified");var i=v(e.object.name),d=Object(c.a)(i,(function(e){return a.hasObjectNamed(e)})),b=a.insertNewObject(r,t,d,a.getObjectsCount());o[i]=d,Object(u.c)(b,e.object,"unserializeFrom",r),b.setAssetStoreId(n.id),b.setName(d),e.resources.forEach((function(e){x(r,n,e,s)}));var p=Object(m.a)(s),j=new O.ResourcesRenamer(p);p.delete(),b.getConfiguration().exposeResources(j),j.delete(),l.push(b)})),e.abrupt("return",{createdObjects:l});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=y,k=function(e){return p()(d()(e.objectAssets.map((function(e){return e.requiredExtensions||[]}))),(function(e){return e.extensionName}))},w=function(e,t){var n=Object(g.mapVector)(e.asPlatform(e.JsPlatform.get()).getAllPlatformExtensions(),(function(e){return e.getName()}));return t.filter((function(e){return!n.includes(e.name)}))},T=function(){var e=Object(a.a)(i.a.mark((function e(t){var n,a,o,s,c,u,l,d,b;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.requiredExtensionInstallation,a=t.shouldUpdateExtension,o=t.eventsFunctionsExtensionsState,s=t.project,c=n.requiredExtensionShortHeaders,u=n.missingExtensionShortHeaders,l=n.outOfDateExtensionShortHeaders,0!==u.length||0!==l.length){e.next=4;break}return e.abrupt("return");case 4:return d=a?[].concat(Object(r.a)(u),Object(r.a)(l)):u,e.next=7,Promise.all(h()(d).map((function(e){return Object(f.a)(e)})));case 7:return b=e.sent,e.next=10,E(o,s,b);case 10:if(!w(O,c).length){e.next=13;break}throw new Error("These extensions could not be installed: "+u.map((function(e){return e.name})).join(", "));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return n.forEach((function(e){var n=e.name;if(!n)return Promise.reject(new Error("Malformed extension (missing name)."));var a=t.hasEventsFunctionsExtensionNamed(n)?t.getEventsFunctionsExtension(n):t.insertNewEventsFunctionsExtension(n,0);Object(u.c)(a,e,"unserializeFrom",t),r&&a.setOrigin("gdevelop-extension-store",n)})),e.loadProjectEventsFunctionsExtensions(t)},S=function(){var e=Object(a.a)(i.a.mark((function e(t){var n,r,a,o,s,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.requiredExtensions,r=t.project,0!==n.length){e.next=3;break}return e.abrupt("return",{requiredExtensionShortHeaders:[],missingExtensionShortHeaders:[],outOfDateExtensionShortHeaders:[]});case 3:return e.next=5,Object(f.c)();case 5:return a=e.sent,o=n.map((function(e){var t=a.extensionShortHeaders.find((function(t){return t.name===e.extensionName}));if(!t)throw new Error("Unable to find extension "+e.extensionName+" in the registry.");return t})),s=o.filter((function(e){return r.hasEventsFunctionsExtensionNamed(e.name)&&r.getEventsFunctionsExtension(e.name).getVersion()!==e.version})),c=w(O,o),e.abrupt("return",{requiredExtensionShortHeaders:o,missingExtensionShortHeaders:c,outOfDateExtensionShortHeaders:s});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(a.a)(i.a.mark((function e(t){var n,r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.assets,r=t.project,a=[],n.forEach((function(e){k(e).forEach((function(e){a.some((function(t){return t.extensionName===e.extensionName}))||a.push(e)}))})),e.abrupt("return",S({requiredExtensions:a,project:r}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}).call(this,n(25))},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(17),a=n(1048),o=n(1049),i=n(8),s=r.createContext(new a.a),c=function(e){var t=Object(o.a)((function(){return new a.a}));return Object(i.jsx)(s.Provider,{value:t,children:e.children})};t.b=s},function(e,t,n){"use strict";var r=n(17),a=n(2730),o=n(363),i=n(8);t.a=function(e){var t=e.visible,n=e.touchScreenMessage,s=e.message,c=e.hide,u=Object(o.b)();return r.useEffect((function(){if(t){var e=setTimeout((function(){c()}),3e3);return function(){return clearTimeout(e)}}}),[t,c]),Object(i.jsx)(a.a,{open:t,message:"touch"===u&&n?n:s})}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(34),a=n(17);var o=function(){var e=a.useState("undefined"===typeof navigator||"boolean"!==typeof navigator.onLine||navigator.onLine),t=Object(r.a)(e,2),n=t[0],o=t[1],i=function(){return o(!0)},s=function(){return o(!1)};return a.useEffect((function(){return window.addEventListener("online",i),window.addEventListener("offline",s),function(){window.removeEventListener("online",i),window.removeEventListener("offline",s)}}),[]),n}},function(e,t,n){"use strict";var r=n(2),a=n(0),o=n.n(a),i=n(17),s={leaderboards:null,currentLeaderboard:null,displayOnlyBestEntry:!1,browsing:{entries:null,goToNextPage:null,goToPreviousPage:null,goToFirstPage:null},createLeaderboard:function(){var e=Object(r.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),listLeaderboards:function(){var e=Object(r.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),selectLeaderboard:function(){},setDisplayOnlyBestEntry:function(){},updateLeaderboard:function(){var e=Object(r.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),resetLeaderboard:function(){var e=Object(r.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),deleteLeaderboard:function(){var e=Object(r.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),deleteLeaderboardEntry:function(){var e=Object(r.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fetchLeaderboardEntries:function(){var e=Object(r.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},c=i.createContext(s);t.a=c},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e,t){return Math.round(e*Math.pow(10,t))/Math.pow(10,t)}},,,,,,,,,,,,,,,function(e,t,n){"use strict";(function(e){n(17);var r=n(1881),a=n(1882),o=n(1883),i=n(1884),s=n(1885),c=n(814),u=n(1904),l=n(1905),d=n(1131),b=n(1919),p=n(1920),j=n(1921),h=n(1140),f=n(1922),g=n(1923),m=n(1924),O=n(1925),v=n(1926),x=n(1927),y=n(1928),C=n(1929),k=n(1930),w=n(1931),T=n(1932),E=n(1933),S=n(1934),P=n(1935),I=n(1936),A=n(1946),D=n(1947),F=n(1948),M=n(1949),_=n(1950),L=n(2517),R=n(1951),N=n(1952),B=n(1953),U=e.gd,H={default:r.a,mouse:i.a,object:c.a,relationalOperator:a.a,operator:o.a,yesorno:u.a,trueorfalse:l.a,number:d.a,expression:d.a,string:b.a,stringWithSelector:p.a,behavior:j.a,scenevar:h.a,globalvar:f.a,objectvar:g.a,layer:m.a,key:s.a,file:r.a,musicfile:v.a,soundfile:v.a,imageResource:O.a,videoResource:x.a,jsonResource:y.a,bitmapFontResource:C.a,fontResource:k.a,color:w.a,police:r.a,joyaxis:r.a,forceMultiplier:T.a,sceneName:E.a,layerEffectName:S.a,layerEffectParameterName:P.a,objectEffectName:I.a,objectEffectParameterName:A.a,objectPointName:D.a,objectAnimationName:F.a,functionParameterName:M.a,externalLayoutName:_.a,leaderboardId:L.a,identifier:R.a,tilemapResource:N.a,tilesetResource:B.a},W={default:r.b,forceMultiplier:T.b,globalvar:f.b,scenevar:h.b,objectvar:g.b,key:s.b,mouse:i.b,object:c.b,yesorno:u.b,trueorfalse:l.b,operator:o.b,relationalOperator:a.b,leaderboardId:L.b},z={mouse:{id:"Mouse button"},object:{id:"Object"},relationalOperator:{id:"Relational operator"},operator:{id:"Operator"},yesorno:{id:"Yes or No"},trueorfalse:{id:"True or False"},expression:{id:"Number"},number:{id:"Number"},string:{id:"String"},stringWithSelector:{id:"String"},behavior:{id:"Behavior"},scenevar:{id:"Scene variable"},globalvar:{id:"Global variable"},objectvar:{id:"Object variable"},layer:{id:"Layer"},key:{id:"Keyboard key"},musicfile:{id:"Audio resource"},soundfile:{id:"Audio resource"},imageResource:{id:"Image resource"},videoResource:{id:"Video resource"},bitmapFontResource:{id:"Bitmap font resource"},fontResource:{id:"Font resource"},jsonResource:{id:"JSON resource"},tilemapResource:{id:"Tile map resource"},color:{id:"Color"},forceMultiplier:{id:"Instant or permanent force"},sceneName:{id:"Scene name"},layerEffectName:{id:"Layer effect name"},layerEffectParameterName:{id:"Layer effect parameter name"},objectEffectName:{id:"Object effect name"},objectEffectParameterName:{id:"Object effect parameter name"},objectPointName:{id:"Object point name"},objectAnimationName:{id:"Object animation name"},functionParameterName:{id:"Parameter name"},externalLayoutName:{id:"Name of the external layout"},identifier:{id:"Identifier"}},V={components:H,getParameterComponent:function(e){var t=U.ParameterMetadata.isObject(e)?"object":e;return H.hasOwnProperty(t)?H[t]:H.default},renderInlineParameter:function(e){var t=e.parameterMetadata.getType(),n=U.ParameterMetadata.isObject(t)?"object":t;return(W[n]||W.default)(e)},getUserFriendlyTypeName:function(e){var t=U.ParameterMetadata.isObject(e)?"object":e;return z[t]||null}};t.a=V}).call(this,n(25))},,function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d}));var r=n(19),a=n(1),o=n(3),i=n(1907),s=n.n(i),c=n(1910),u=n.n(c),l=function(e){var t={};return e.forEach((function(e){var n=u()(e.fullGroupName.split("/"));n.length||(n=[""]),s()(t,n,(function(t){var n=t||{};return Object(o.a)(Object(o.a)({},n),{},Object(a.a)({},e.displayedName,e))}))})),t},d=function e(t,n){if(!n)return null;for(var a=Object.keys(t),o=0;o<a.length;++o){var i=a[o],s=t[i];if(!s)return null;if("string"===typeof s.type){if(s.type===n)return[]}else{var c=e(s,n);if(c)return[i].concat(Object(r.a)(c))}}return null}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a}));var r=e.gd,a=function(e,t){return e.filter((function(e){return o(e,t)}))},o=function(e,t){var n,a,o=e.scope,i=o.behaviorMetadata,s=o.extension,c=t.eventsBasedBehavior,u=t.eventsFunctionsExtension;return!(!(e.isRelevantForLayoutEvents&&(t.layout||t.externalEvents)||e.isRelevantForFunctionEvents&&t.eventsFunction||e.isRelevantForAsynchronousFunctionEvents&&t.eventsFunction&&t.eventsFunction.isAsync()||e.isRelevantForCustomObjectEvents&&t.eventsBasedObject)||(e.isPrivate||i&&i.isPrivate())&&!(i&&c&&u&&(n=u.getName(),a=c.getName(),n+r.PlatformExtension.getNamespaceSeparator()+a===i.getName()))&&(!u||u.getName()!==s.getName()||e.isPrivate&&i))}}).call(this,n(25))},function(e,t,n){"use strict";function r(e,t,n){return t&&t.getObjectGroups().has(n)?t.getObjectGroups().get(n):e.getObjectGroups().has(n)?e.getObjectGroups().get(n):null}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(3),a=(n(17),n(407)),o=n(8),i=function(e){var t=Object(a.DropTarget)(e,{canDrop:function(e,t){var n=t.getItem();return n&&e.canDrop(n)},hover:function(e,t){e.hover&&e.hover(t)},drop:function(e,t){t.didDrop()||e.drop(t)}},(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver({shallow:!0}),isOverLazy:t.isOver({shallow:!1}),canDrop:t.canDrop()}}))((function(e){return(0,e.children)({connectDropTarget:e.connectDropTarget,isOver:e.isOver,isOverLazy:e.isOverLazy,canDrop:e.canDrop})}));return function(e){return Object(o.jsx)(t,Object(r.a)({},e))}}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return b}));var r=n(3),a=n(34),o=n(17),i=n(528),s=n(666),c=n(667),u=e.gd,l=function(e){var t=e.instructionType,n=e.isCondition,r=e.project;return t?n?u.MetadataProvider.getConditionMetadata(r.getCurrentPlatform(),t):u.MetadataProvider.getActionMetadata(r.getCurrentPlatform(),t):null},d=function(e,t){return e.find((function(e){return e.type===t}))},b=function(e){var t=e.instruction,n=e.isCondition,u=(e.project,e.isNewInstruction),l=e.scope,b=e.globalObjectsContainer,p=e.objectsContainer,j=function(e,r){var a=Object(c.a)(Object(i.d)(n,b,p,e),l);t.getType()&&r&&(d(a,t.getType())||t.setType(""));return{chosenObjectName:e,chosenObjectInstructionsInfo:a,chosenObjectInstructionsInfoTree:Object(s.a)(a)}},h=o.useState((function(){if(!u){var e=Object(i.b)(n),r=t.getType(),a=d(e,r);if(a&&(a.scope.objectMetadata||a.scope.behaviorMetadata)){var o=Object(i.f)(a.metadata);if(-1!==o)return j(t.getParameter(o).getPlainString(),!1)}}return{chosenObjectName:null,chosenObjectInstructionsInfo:null,chosenObjectInstructionsInfoTree:null}})),f=Object(a.a)(h,2),g=f[0],m=f[1];return[g,{chooseInstruction:function(e){t.setType(e);return m({chosenObjectName:null,chosenObjectInstructionsInfo:null,chosenObjectInstructionsInfoTree:null}),Object(r.a)({instruction:t},{chosenObjectName:null,chosenObjectInstructionsInfo:null,chosenObjectInstructionsInfoTree:null})},chooseObject:function(e){var n=j(e,!0);return m(n),Object(r.a)({instruction:t},n)},chooseObjectInstruction:function(e){if(t.setType(e),g.chosenObjectName){var n=j(g.chosenObjectName,!0);return m(n),Object(r.a)({instruction:t},n)}return Object(r.a)({instruction:t},g)}}]}}).call(this,n(25))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return o}));var r=function(){return{"PhysicsBehavior::PhysicsBehavior":{warning:{id:"A new physics engine (Physics Engine 2.0) is now available. You should prefer using it for new game. For existing games, note that the two behaviors are not compatible, so you should only use one of them with your objects."}}}},a=function(){return{"Video::VideoObject":[{kind:"warning",message:{id:"Most browsers will require the user to have interacted with your game before allowing any video to play. Make sure that the player click/touch the screen at the beginning of the game before starting any video."}},{kind:"warning",message:{id:"For a given video resource, only one video will be played in memory and displayed. If you put this object multiple times on the scene, all the instances will be displaying the exact same video (with the same timing and paused/played/stopped state)."}},{kind:"info",message:{id:"Video format supported can vary according to devices and browsers. For maximum compatibility, use H.264/mp4 file format (and AAC for audio)."}}],"BitmapText::BitmapTextObject":[{kind:"info",message:{id:"For a pixel type font, you must disable the Smooth checkbox related to your texture in the game resources to disable anti-aliasing."}},{kind:"info",message:{id:"The font size is stored directly inside the font. If you want to change it, export again your font using an external editor like bmFont. Click on the help button to learn more."}}],"TileMap::TileMap":[{kind:"info",message:{id:"The tilemap must be designed in a separated program, Tiled, that can be downloaded on mapeditor.org. Save your map as a JSON file, then select here the Atlas image that you used and the Tile map JSON file."}}],"TextInput::TextInputObject":[{kind:"warning",message:{id:"The text input will be always shown on top of all other objects in the game - this is a limitation that can't be changed. According to the platform/device or browser running the game, the appearance can also slightly change."}}]}},o=function(e){return 0===e.indexOf("PhysicsBehavior::")?{kind:"warning",message:{id:'This action is deprecated and should not be used anymore. Instead, use for all your objects the behavior called "Physics2" and the associated actions (in this case, all objects must be set up to use Physics2, you can\'t mix the behaviors).'}}:e.startsWith("BoundingBox")?{kind:"info",message:{id:"The bounding box is an imaginary rectangle surrounding the object collision mask. Even if the object X and Y positions are not changed, this rectangle can change if the object is rotated or if an animation is being played. Usually you should use actions and conditions related to the object position or center, but the bounding box can be useful to deal with the area of the object."}}:"PickedInstancesCount"===e?{kind:"info",message:{id:"If no previous condition or action used the specified object(s), the picked instances count will be 0."}}:"CompareTimer"===e?{kind:"info",message:{id:'To start a timer, don\'t forget to use the action "Start (or reset) a scene timer" in another event.'}}:"CompareObjectTimer"===e?{kind:"info",message:{id:'To start a timer, don\'t forget to use the action "Start (or reset) an object timer" in another event.'}}:"FixCamera"===e?{kind:"info",message:{id:'Please prefer using the new action "Enforce camera boundaries" which is more flexible.'}}:"BitmapText::Scale"===e?{kind:"info",message:{id:"A scale under 1 on a Bitmap text object can downgrade the quality text, prefer to remake a bitmap font smaller in the external bmFont editor."}}:"TextObject::Text::SetFontSize"===e?{kind:"warning",message:{id:"This action will create a new texture and re-render the text each time it is called, which is expensive and can reduce performances. Prefer to avoid changing a lot the character size of a text."}}:"PlayMusicCanal"===e||"PlayMusic"===e?{kind:"warning",message:{id:"Musics will only be played if the user has interacted with the game before (by clicking/touching it or pressing a key on the keyboard). This is due to browser limitations. Make sure to have the user interact with the game before using this action."}}:"P2P::OnEvent"===e?{kind:"info",message:{id:"Read the wiki page for more info about the dataloss mode."}}:"PlatformBehavior::IsObjectOnGivenFloor"===e?{kind:"info",message:{id:"This condition may have unexpected results when the object is on different floors at the same time, due to the fact that the engine only considers the first floor the object comes into contact with."}}:"P2P::OverrideID"===e?{kind:"warning",message:{id:"Overriding the ID may have unwanted consequences. Do not use this feature unless you really know what you are doing."}}:0===e.indexOf("P2P::")?{kind:"warning",message:{id:"It is recommended to use your own custom broker server. Read the wiki page for more info."},identifier:"p2p-broker-recommendation"}:"SystemInfo::IsMobile"===e?{kind:"warning",message:{id:'Note that the distinction between what is a mobile device and what is not is becoming blurry (with devices like iPad pro and other "desktop-class" tablets). If you use this for mobile controls, prefer to check if the device has touchscreen support.'}}:"AdvancedWindow::SetClosable"===e||"AdvancedWindow::EnableWindow"===e||"AdvancedWindow::Show"===e||"AdvancedWindow::SetFocusable"===e||"AdvancedWindow::Focus"===e?{kind:"warning",message:{id:"Be careful with this action, you may have problems exiting the preview if you don't add a way to toggle it back."}}:"GetArgumentAsBoolean"===e?{kind:"info",message:{id:'If the parameter is a string or a number, you probably want to use the expressions "GetArgumentAsString" or "GetArgumentAsNumber", along with the conditions "Compare two strings" or "Compare two numbers".'}}:null}},function(e,t,n){"use strict";(function(e){n.d(t,"e",(function(){return i})),n.d(t,"b",(function(){return u})),n.d(t,"i",(function(){return l})),n.d(t,"k",(function(){return d})),n.d(t,"m",(function(){return b})),n.d(t,"l",(function(){return p})),n.d(t,"f",(function(){return h})),n.d(t,"a",(function(){return g})),n.d(t,"g",(function(){return m})),n.d(t,"c",(function(){return v})),n.d(t,"j",(function(){return x})),n.d(t,"h",(function(){return y})),n.d(t,"d",(function(){return C}));var r=n(307),a=n(460),o=e.gd,i=function(e,t){var n=t.getFullName()||t.getName();e.setExtensionInformation(t.getName(),n,t.getDescription(),t.getAuthor(),"").setExtensionHelpPath(t.getHelpPath()).setIconUrl(t.getIconUrl()),n&&e.addInstructionOrExpressionGroupMetadata(n).setIcon(t.getIconUrl()),t.getCategory()&&e.setCategory(t.getCategory()),s(e,t)},s=function(e,t){return Object(r.mapVector)(t.getAllDependencies(),(function(t){return e.addDependency().copyFrom(t)}))},c=function(e){return e.getIconUrl()||"res/function24.png"},u=function(e,t){var n=e.addEventsBasedBehavior(t.getName(),t.getFullName()||t.getName(),t.getDescription(),"",c(e)).setObjectType(t.getObjectType());return t.isPrivate()&&n.setPrivate(),n},l=function(e,t,n){var r=t.addEventsBasedObject(n.getName(),n.getFullName()||n.getName(),n.getDescription(),c(t)).setCategoryFullName(t.getCategory()),a=n.getName();return r.addScopedAction("Width",e._("Width"),e._("Change the width of an object."),e._("the width"),e._("Size"),"res/actions/scaleWidth24_black.png","res/actions/scale_black.png").addParameter("object",e._("Object"),a).useStandardOperatorParameters("number",o.ParameterOptions.makeNewOptions()).markAsAdvanced().getCodeExtraInformation().setFunctionName("setWidth").setGetter("getWidth"),r.addAction("Width",e._("Width"),e._("Change the width of an object."),e._("the width"),e._("Size"),"res/actions/scaleWidth24_black.png","res/actions/scale_black.png").setHidden().addParameter("object",e._("Object"),a).useStandardOperatorParameters("number",o.ParameterOptions.makeNewOptions()).markAsAdvanced().getCodeExtraInformation().setFunctionName("setWidth").setGetter("getWidth"),r.addScopedAction("Height",e._("Height"),e._("Change the height of an object."),e._("the height"),e._("Size"),"res/actions/scaleHeight24_black.png","res/actions/scale_black.png").addParameter("object",e._("Object"),a).useStandardOperatorParameters("number",o.ParameterOptions.makeNewOptions()).markAsAdvanced().getCodeExtraInformation().setFunctionName("setHeight").setGetter("getHeight"),r.addAction("Height",e._("Height"),e._("Change the height of an object."),e._("the height"),e._("Size"),"res/actions/scaleHeight24_black.png","res/actions/scale_black.png").setHidden().addParameter("object",e._("Object"),a).useStandardOperatorParameters("number",o.ParameterOptions.makeNewOptions()).markAsAdvanced().getCodeExtraInformation().setFunctionName("setHeight").setGetter("getHeight"),r.addScopedAction("Scale",e._("Scale"),e._("Modify the scale of the specified object."),e._("the scale"),e._("Size"),"res/actions/scale24_black.png","res/actions/scale_black.png").addParameter("object",e._("Object"),a).useStandardOperatorParameters("number",o.ParameterOptions.makeNewOptions()).markAsAdvanced().getCodeExtraInformation().setFunctionName("setScale").setGetter("getScale"),r.addAction("Scale",e._("Scale"),e._("Modify the scale of the specified object."),e._("the scale"),e._("Size"),"res/actions/scale24_black.png","res/actions/scale_black.png").setHidden().addParameter("object",e._("Object"),a).useStandardOperatorParameters("number",o.ParameterOptions.makeNewOptions()).markAsAdvanced().getCodeExtraInformation().setFunctionName("setScale").setGetter("getScale"),r.addExpressionAndConditionAndAction("number","ScaleX",e._("Scale on X axis"),e._("the width's scale of an object"),e._("the width's scale"),e._("Size"),"res/actions/scaleWidth24_black.png").addParameter("object",e._("Object"),a).useStandardParameters("number",o.ParameterOptions.makeNewOptions()).markAsAdvanced().setFunctionName("setScaleX").setGetter("getScaleX"),r.addExpressionAndConditionAndAction("number","ScaleY",e._("Scale on Y axis"),e._("the height's scale of an object"),e._("the height's scale"),e._("Size"),"res/actions/scaleHeight24_black.png").addParameter("object",e._("Object"),a).useStandardParameters("number",o.ParameterOptions.makeNewOptions()).markAsAdvanced().setFunctionName("setScaleY").setGetter("getScaleY"),r.addScopedAction("FlipX",e._("Flip the object horizontally"),e._("Flip the object horizontally"),e._("Flip horizontally _PARAM0_: _PARAM1_"),e._("Effects"),"res/actions/flipX24.png","res/actions/flipX.png").addParameter("object",e._("Object"),a).addParameter("yesorno",e._("Activate flipping")).markAsSimple().getCodeExtraInformation().setFunctionName("flipX"),r.addAction("FlipX",e._("Flip the object horizontally"),e._("Flip the object horizontally"),e._("Flip horizontally _PARAM0_: _PARAM1_"),e._("Effects"),"res/actions/flipX24.png","res/actions/flipX.png").setHidden().addParameter("object",e._("Object"),a).addParameter("yesorno",e._("Activate flipping")).markAsSimple().getCodeExtraInformation().setFunctionName("flipX"),r.addScopedAction("FlipY",e._("Flip the object vertically"),e._("Flip the object vertically"),e._("Flip vertically _PARAM0_: _PARAM1_"),e._("Effects"),"res/actions/flipY24.png","res/actions/flipY.png").addParameter("object",e._("Object"),a).addParameter("yesorno",e._("Activate flipping")).markAsSimple().getCodeExtraInformation().setFunctionName("flipY"),r.addAction("FlipY",e._("Flip the object vertically"),e._("Flip the object vertically"),e._("Flip vertically _PARAM0_: _PARAM1_"),e._("Effects"),"res/actions/flipY24.png","res/actions/flipY.png").setHidden().addParameter("object",e._("Object"),a).addParameter("yesorno",e._("Activate flipping")).markAsSimple().getCodeExtraInformation().setFunctionName("flipY"),r.addScopedCondition("FlippedX",e._("Horizontally flipped"),e._("Check if the object is horizontally flipped"),e._("_PARAM0_ is horizontally flipped"),e._("Effects"),"res/actions/flipX24.png","res/actions/flipX.png").addParameter("object",e._("Object"),a).getCodeExtraInformation().setFunctionName("isFlippedX"),r.addCondition("FlippedX",e._("Horizontally flipped"),e._("Check if the object is horizontally flipped"),e._("_PARAM0_ is horizontally flipped"),e._("Effects"),"res/actions/flipX24.png","res/actions/flipX.png").setHidden().addParameter("object",e._("Object"),a).getCodeExtraInformation().setFunctionName("isFlippedX"),r.addScopedCondition("FlippedY",e._("Vertically flipped"),e._("Check if the object is vertically flipped"),e._("_PARAM0_ is vertically flipped"),e._("Effects"),"res/actions/flipY24.png","res/actions/flipY.png").addParameter("object",e._("Object"),a).getCodeExtraInformation().setFunctionName("isFlippedY"),r.addCondition("FlippedY",e._("Vertically flipped"),e._("Check if the object is vertically flipped"),e._("_PARAM0_ is vertically flipped"),e._("Effects"),"res/actions/flipY24.png","res/actions/flipY.png").setHidden().addParameter("object",e._("Object"),a).getCodeExtraInformation().setFunctionName("isFlippedY"),r.addExpressionAndConditionAndAction("number","Opacity",e._("Opacity"),e._("the opacity of an object, between 0 (fully transparent) to 255 (opaque)"),e._("the opacity"),e._("Visibility"),"res/conditions/opacity24.png").addParameter("object",e._("Object"),a).useStandardParameters("number",o.ParameterOptions.makeNewOptions()).setFunctionName("setOpacity").setGetter("getOpacity"),r},d=function(e){return-1!==["onCreated","onActivate","onDeActivate","doStepPreEvents","doStepPostEvents","onDestroy","onOwnerRemovedFromScene"].indexOf(e)},b=function(e){return-1!==["onCreated","doStepPostEvents","onDestroy","onHotReloading"].indexOf(e)},p=function(e){return o.EventsFunctionsExtension.isExtensionLifecycleEventsFunction(e)},j=function(e){return e.endsWith(".")?e.slice(0,e.length-1):e},h=function(e,t,n){var r=n.getFunctionType();if(r===o.EventsFunction.Expression)return n.getExpressionType().isNumber()?e.addExpression(n.getName(),n.getFullName()||n.getName(),n.getDescription()||n.getFullName(),n.getGroup()||"",c(e)):e.addStrExpression(n.getName(),n.getFullName()||n.getName(),n.getDescription()||n.getFullName(),n.getGroup()||"",c(e));if(r===o.EventsFunction.ExpressionAndCondition)return e.addExpressionAndCondition(o.ValueTypeMetadata.getPrimitiveValueType(n.getExpressionType().getName()),n.getName(),n.getFullName()||n.getName(),j(n.getDescription())||n.getFullName(),f(n.getSentence(),2),n.getGroup()||"",c(e));if(r===o.EventsFunction.ActionWithOperator){var i=t.hasEventsFunctionNamed(n.getGetterName())?t.getEventsFunction(n.getGetterName()):null,s=e.addAction(n.getName(),i&&i.getFullName()||n.getName(),"Change "+(i&&i.getDescription()||n.getFullName()),i?f(i.getSentence(),2):"",i&&i.getGroup()||"",c(e),c(e));return i&&s.getCodeExtraInformation().setManipulatedType(o.ValueTypeMetadata.getPrimitiveValueType(i.getExpressionType().getName())).setGetter(Object(a.c)(t,i)),s}return r===o.EventsFunction.Condition?e.addCondition(n.getName(),n.getFullName()||n.getName(),n.getDescription()||n.getFullName(),n.getSentence(),n.getGroup()||"",c(e),c(e)):e.addAction(n.getName(),n.getFullName()||n.getName(),n.getDescription()||n.getFullName(),n.getSentence(),n.getGroup()||"",c(e),c(e))},f=function(e,t){var n=e.match(/_PARAM\d+_/g);if(!n)return e;for(var r=n.map((function(e){return Number.parseInt(e.substring("_PARAM".length,e.length-"_".length))})),a=e.split(/_PARAM\d+_/),o="",i=0;i<r.length;i++)o+=a[i]+"_PARAM"+(r[i]+t)+"_";return a.length>r.length&&(o+=a[a.length-1]),o},g=function(e,t,n,r){var a=r.getFunctionType();if(a===o.EventsFunction.Expression)return r.getExpressionType().isNumber()?t.addExpression(r.getName(),r.getFullName()||r.getName(),r.getDescription()||r.getFullName(),r.getGroup()||n.getFullName()||n.getName(),c(e)):t.addStrExpression(r.getName(),r.getFullName()||r.getName(),r.getDescription()||r.getFullName(),r.getGroup()||n.getFullName()||n.getName(),c(e));if(a===o.EventsFunction.ExpressionAndCondition)return t.addExpressionAndCondition(o.ValueTypeMetadata.getPrimitiveValueType(r.getExpressionType().getName()),r.getName(),r.getFullName()||r.getName(),j(r.getDescription())||r.getFullName(),f(r.getSentence(),2),r.getGroup()||n.getFullName()||n.getName(),c(e));if(a===o.EventsFunction.ActionWithOperator){var i=n.getEventsFunctions(),s=i.hasEventsFunctionNamed(r.getGetterName())?i.getEventsFunction(r.getGetterName()):null,u=t.addScopedAction(r.getName(),s&&s.getFullName()||r.getName(),"Change "+(s&&s.getDescription()||r.getFullName()),s?f(s.getSentence(),2):"",s&&s.getGroup()||n.getFullName()||n.getName(),c(e),c(e));return s&&u.getCodeExtraInformation().setManipulatedType(o.ValueTypeMetadata.getPrimitiveValueType(s.getExpressionType().getName())).setGetter(s.getName()),u}return a===o.EventsFunction.Condition?t.addScopedCondition(r.getName(),r.getFullName()||r.getName(),r.getDescription()||r.getFullName(),r.getSentence(),r.getGroup()||n.getFullName()||n.getName(),c(e),c(e)):t.addScopedAction(r.getName(),r.getFullName()||r.getName(),r.getDescription()||r.getFullName(),r.getSentence(),r.getGroup()||n.getFullName()||n.getName(),c(e),c(e))},m=function(e,t,n,r){var a=r.getFunctionType();if(a===o.EventsFunction.Expression)return r.getExpressionType().isNumber()?t.addExpression(r.getName(),r.getFullName()||r.getName(),r.getDescription()||r.getFullName(),r.getGroup()||n.getFullName()||n.getName(),c(e)):t.addStrExpression(r.getName(),r.getFullName()||r.getName(),r.getDescription()||r.getFullName(),r.getGroup()||n.getFullName()||n.getName(),c(e));if(a===o.EventsFunction.ExpressionAndCondition)return t.addExpressionAndCondition(o.ValueTypeMetadata.getPrimitiveValueType(r.getExpressionType().getName()),r.getName(),r.getFullName()||r.getName(),j(r.getDescription())||r.getFullName(),f(r.getSentence(),2),r.getGroup()||n.getFullName()||n.getName(),c(e));if(a===o.EventsFunction.ActionWithOperator){var i=n.getEventsFunctions(),s=i.hasEventsFunctionNamed(r.getGetterName())?i.getEventsFunction(r.getGetterName()):null,u=t.addScopedAction(r.getName(),s&&s.getFullName()||r.getName(),"Change "+(s&&s.getDescription()||r.getFullName()),s?f(s.getSentence(),2):"",s&&s.getGroup()||n.getFullName()||n.getName(),c(e),c(e));return s&&u.getCodeExtraInformation().setManipulatedType(o.ValueTypeMetadata.getPrimitiveValueType(s.getExpressionType().getName())).setGetter(s.getName()),u}return a===o.EventsFunction.Condition?t.addScopedCondition(r.getName(),r.getFullName()||r.getName(),r.getDescription()||r.getFullName(),r.getSentence(),r.getGroup()||n.getFullName()||n.getName(),c(e),c(e)):t.addScopedAction(r.getName(),r.getFullName()||r.getName(),r.getDescription()||r.getFullName(),r.getSentence(),r.getGroup()||n.getFullName()||n.getName(),c(e),c(e))},O=function(e,t,n,r,a,i,s,u,l,d,b,p,j,h,f){var g,m=a.getType(),O=(g=a.getLabel()||a.getName()).length<1?g:g.substring(0,1).toLowerCase()+g.substring(1);if("Boolean"===m)f(n.addScopedCondition(u,i,e._({id:'Check the property value for "{uncapitalizedLabel}".',values:{uncapitalizedLabel:O}}),e._({id:'Property "{uncapitalizedLabel}" of _PARAM0_ is true',values:{uncapitalizedLabel:O}}),r.getFullName()||r.getName(),c(t),c(t))).getCodeExtraInformation().setFunctionName(p),f(n.addScopedAction(l,i,e._({id:'Update the property value for "{uncapitalizedLabel}".',values:{uncapitalizedLabel:O}}),e._({id:'Set property value for "{uncapitalizedLabel}" of _PARAM0_ to _PARAM{valueParameterIndex}_',values:{uncapitalizedLabel:O,valueParameterIndex:h}}),r.getFullName()||r.getName(),c(t),c(t))).addParameter("yesorno",e._({id:"New value to set"}),"",!1).getCodeExtraInformation().setFunctionName(b),f(n.addScopedAction(d,e._({id:"Toggle {propertyLabel}",values:{propertyLabel:i}}),e._({id:'Toggle the property value for "{uncapitalizedLabel}".',values:{uncapitalizedLabel:O}})+"\n"+e._("If it was true, it will become false, and if it was false it will become true."),e._({id:'Toggle property "{uncapitalizedLabel}" of _PARAM0_',values:{uncapitalizedLabel:O}}),r.getFullName()||r.getName(),c(t),c(t))).getCodeExtraInformation().setFunctionName(j);else{var v=function(e){return"Choice"===e.getType()?JSON.stringify(e.getExtraInfo().toJSArray()):""}(a),x=o.ParameterOptions.makeNewOptions();v&&x.setTypeExtraInfo(v),f(n.addExpressionAndConditionAndAction(o.ValueTypeMetadata.convertPropertyTypeToValueType(m),s,i,e._({id:"the property value for the {uncapitalizedLabel}",values:{uncapitalizedLabel:O}}),e._({id:"the property value for the {uncapitalizedLabel}",values:{uncapitalizedLabel:O}}),r.getFullName()||r.getName(),c(t))).useStandardParameters(o.ValueTypeMetadata.convertPropertyTypeToValueType(m),x).setFunctionName(b).setGetter(p)}},v=function(e,t,n,a){var i=function(e){return e.addParameter("object","Object","",!1).setParameterExtraInfo(a.getObjectType()),e.addParameter("behavior","Behavior",a.getName(),!1),e.setPrivate(),e};Object(r.mapVector)(a.getPropertyDescriptors(),(function(r){if("Behavior"!==r.getType()){var s=r.getName(),c=e._({id:"{0} property",values:{0:r.getLabel()||s}}),u=o.EventsBasedBehavior.getPropertyExpressionName(s),l=o.EventsBasedBehavior.getPropertyConditionName(s),d=o.EventsBasedBehavior.getPropertyActionName(s),b=o.EventsBasedBehavior.getPropertyToggleActionName(s),p=o.BehaviorCodeGenerator.getBehaviorPropertySetterName(s),j=o.BehaviorCodeGenerator.getBehaviorPropertyGetterName(s),h=o.BehaviorCodeGenerator.getBehaviorPropertyToggleFunctionName(s);O(e,t,n,a,r,c,u,l,d,b,p,j,h,2,i)}})),Object(r.mapVector)(a.getSharedPropertyDescriptors(),(function(r){var s=r.getName(),c=e._({id:"{0} shared property",values:{0:r.getLabel()||s}}),u=o.EventsBasedBehavior.getSharedPropertyExpressionName(s),l=o.EventsBasedBehavior.getSharedPropertyConditionName(s),d=o.EventsBasedBehavior.getSharedPropertyActionName(s),b=o.EventsBasedBehavior.getSharedPropertyToggleActionName(s),p=o.BehaviorCodeGenerator.getBehaviorSharedPropertySetterName(s),j=o.BehaviorCodeGenerator.getBehaviorSharedPropertyGetterName(s),h=o.BehaviorCodeGenerator.getBehaviorSharedPropertyToggleFunctionName(s);O(e,t,n,a,r,c,u,l,d,b,p,j,h,2,i)}))},x=function(e,t,n,a){var i=function(e){return e.addParameter("object","Object",a.getName(),!1),e.setPrivate(),e};Object(r.mapVector)(a.getPropertyDescriptors(),(function(r){var s=r.getName(),c=e._({id:"{0} property",values:{0:r.getLabel()||s}}),u=o.EventsBasedObject.getPropertyExpressionName(s),l=o.EventsBasedObject.getPropertyConditionName(s),d=o.EventsBasedObject.getPropertyActionName(s),b=o.EventsBasedObject.getPropertyToggleActionName(s),p=o.ObjectCodeGenerator.getObjectPropertyGetterName(s),j=o.ObjectCodeGenerator.getObjectPropertySetterName(s),h=o.ObjectCodeGenerator.getObjectPropertyToggleFunctionName(s);O(e,t,n,a,r,c,u,l,d,b,j,p,h,1,i)}))},y=function(e,t,n,r){var a=r.getName();n.addScopedAction("SetRotationCenter",e._("Center of rotation"),e._("Change the center of rotation of an object relatively to the object origin."),e._("Change the center of rotation of _PARAM0_ to _PARAM1_, _PARAM2_"),e._("Angle"),"res/actions/position24_black.png","res/actions/position_black.png").addParameter("object",e._("Object"),a).addParameter("number",e._("X position")).addParameter("number",e._("Y position")).markAsAdvanced().setPrivate().setFunctionName("setRotationCenter")},C=function(e,t,n,a){var i=function(e){e.isCodeOnly()?n.addCodeOnlyParameter(e.getType(),e.getExtraInfo()):(n.addParameter(e.getType(),e.getDescription(),"",e.isOptional()).setParameterExtraInfo(e.getExtraInfo()),n.setParameterLongDescription(e.getLongDescription()),n.setDefaultValue(e.getDefaultValue()))},s=t.getFunctionType(),c=e.hasEventsFunctionNamed(t.getGetterName())?e.getEventsFunction(t.getGetterName()):null,u=(s===o.EventsFunction.ActionWithOperator&&c?c:t).getParameters();if(Object(r.mapVector)(u,(function(e,t){return t<a&&i(e)})),s===o.EventsFunction.ExpressionAndCondition){var l=o.ParameterOptions.makeNewOptions();if(t){var d=t.getExpressionType().getExtraInfo();d&&l.setTypeExtraInfo(d)}n.useStandardParameters(t?t.getExpressionType().getName():"string",l)}else if(s===o.EventsFunction.ActionWithOperator){var b=o.ParameterOptions.makeNewOptions();if(c){var p=c.getExpressionType().getExtraInfo();p&&b.setTypeExtraInfo(p)}n.useStandardOperatorParameters(c?c.getExpressionType().getName():"string",b)}Object(r.mapVector)(u,(function(e,t){return t>=a&&i(e)})),n.addCodeOnlyParameter("eventsFunctionContext","")}}).call(this,n(25))},function(e,t,n){"use strict";var r=n(3),a=n(17),o=n.n(a),i=n(905),s=n(8);t.a=o.a.memo((function(e){return Object(s.jsxs)(i.a,Object(r.a)(Object(r.a)({},e),{},{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[Object(s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.75 5.5C5.05964 5.5 4.5 6.05964 4.5 6.75V17.25C4.5 17.9404 5.05964 18.5 5.75 18.5H16.25C16.9404 18.5 17.5 17.9404 17.5 17.25V16C17.5 15.5858 17.8358 15.25 18.25 15.25C18.6642 15.25 19 15.5858 19 16V17.25C19 18.7688 17.7688 20 16.25 20H5.75C4.23122 20 3 18.7688 3 17.25V6.75C3 5.23122 4.23122 4 5.75 4H16.25C16.7321 4 17.1874 4.12471 17.5829 4.3442C17.9451 4.54518 18.0758 5.00171 17.8748 5.3639C17.6738 5.72609 17.2173 5.85678 16.8551 5.6558C16.6765 5.55671 16.471 5.5 16.25 5.5H5.75Z",fill:"currentColor"}),Object(s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15 4.25C15.4142 4.25 15.75 4.58579 15.75 5V7C15.75 7.41421 15.4142 7.75 15 7.75C14.5858 7.75 14.25 7.41421 14.25 7V5C14.25 4.58579 14.5858 4.25 15 4.25Z",fill:"currentColor"}),Object(s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15 17.25C15.4142 17.25 15.75 17.5858 15.75 18V19C15.75 19.4142 15.4142 19.75 15 19.75C14.5858 19.75 14.25 19.4142 14.25 19V18C14.25 17.5858 14.5858 17.25 15 17.25Z",fill:"currentColor"}),Object(s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.75 4.25C7.16421 4.25 7.5 4.58579 7.5 5V19C7.5 19.4142 7.16421 19.75 6.75 19.75C6.33579 19.75 6 19.4142 6 19V5C6 4.58579 6.33579 4.25 6.75 4.25Z",fill:"currentColor"}),Object(s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.25 8.75C3.25 8.33579 3.58579 8 4 8H6.5C6.91421 8 7.25 8.33579 7.25 8.75C7.25 9.16421 6.91421 9.5 6.5 9.5H4C3.58579 9.5 3.25 9.16421 3.25 8.75Z",fill:"currentColor"}),Object(s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.25 12C3.25 11.5858 3.58579 11.25 4 11.25H10C10.4142 11.25 10.75 11.5858 10.75 12C10.75 12.4142 10.4142 12.75 10 12.75H4C3.58579 12.75 3.25 12.4142 3.25 12Z",fill:"currentColor"}),Object(s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.25 15.25C3.25 14.8358 3.58579 14.5 4 14.5H6.5C6.91421 14.5 7.25 14.8358 7.25 15.25C7.25 15.6642 6.91421 16 6.5 16H4C3.58579 16 3.25 15.6642 3.25 15.25Z",fill:"currentColor"}),Object(s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.909 5.68137C19.4841 5.1062 20.4167 5.10621 20.9918 5.68139L22.3186 7.0082C22.8938 7.58335 22.8938 8.51584 22.3187 9.09099L15.6021 15.8076C15.5035 15.9062 15.3793 15.9754 15.2435 16.0073L12.1718 16.7301C11.9189 16.7896 11.6533 16.714 11.4697 16.5303C11.286 16.3467 11.2104 16.0811 11.2699 15.8282L11.9927 12.7565C12.0246 12.6207 12.0938 12.4965 12.1924 12.3979L18.909 5.68137C18.909 5.68137 18.909 5.68136 18.909 5.68137ZM19.9311 6.74203C19.9312 6.74204 19.9311 6.74202 19.9311 6.74203V6.74203ZM19.9504 6.76129L21.2387 8.0496L14.6923 14.596L13.0076 14.9924L13.404 13.3077L19.9504 6.76129Z",fill:"currentColor"})]}))}))},,,,,,,,,,,,function(e,t){throw new Error("This is a fake @blueprintjs/core (or @blueprintjs/icons) package that is just throwing an error. It's used by react-mosaic, which will fallback to using something else.This is useful for avoiding webpack/create-react-app warnings in the developmentconsole about a missing package - while avoiding to import blueprint.")},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(9),a=n(17),o=n(323),i=n(348),s=n(639),c=n(379),u=n(316),l=n(8),d={container:{flex:1},grid:{overflowX:"hidden"}},b=a.forwardRef((function(e,t){var n=e.searchItems,b=e.renderSearchItem,p=e.error,j=e.onRetry,h=e.baseSize,f=e.noResultPlaceholder,g=e.noScroll,m=a.useRef(null);return a.useImperativeHandle(t,(function(){return{getScrollPosition:function(){var e=m.current;return e?e.state.scrollTop:0},scrollToPosition:function(e){var t=m.current;t&&t.scrollToPosition({scrollLeft:0,scrollTop:e})}}})),n?0===n.length?f||Object(l.jsx)(u.a,{children:Object(l.jsx)(r.Trans,{id:"No results returned for your search. Try something else, browse the categories or create your object from scratch!"})}):Object(l.jsx)(s.a,{title:"An error occurred when displaying search results",scope:"box-search-result",children:Object(l.jsx)("div",{style:d.container,children:Object(l.jsx)(c.a,{children:function(e){var t=e.width,r=e.height,a=Math.max(Math.floor((t-5)/h),1),o=Math.max(Math.floor(t/a),30),i=Math.max(1,Math.ceil(n.length/a)),s=o,u=g?s*i:r,p=t;return Object(l.jsx)(c.e,{ref:m,width:p,height:u,columnCount:a,columnWidth:o,rowHeight:s,rowCount:i,cellRenderer:function(e){var t=e.columnIndex,r=e.key,i=e.rowIndex,s=e.style,c=i*a+t,u=c<n.length?n[c]:null;return Object(l.jsx)("div",{style:s,children:u?b(u,o):null},r)},style:d.grid})}})})}):p?Object(l.jsx)(i.a,{onRetry:j,children:Object(l.jsx)(r.Trans,{id:"Can't load the results. Verify your internet connection or retry later."})}):Object(l.jsx)(o.a,{})}))},function(e,t,n){"use strict";(function(e){n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));var r=e.gd,a=function(e,t){var n=e.getInitialInstances();if(0===n.getInstancesCount())return[];var a=[],o=new r.InitialInstanceJSFunctor;return o.invoke=function(e){var n=r.wrapPointer(e,r.InitialInstance);n.getObjectName()===t&&a.push(n)},n.iterateOverInstances(o),o.delete(),a},o=function(e,t){return a(e,t).length},i=function(e,t){return function(e,t){var n=e.getInitialInstances();if(0===n.getInstancesCount())return[];var a=[],o=new r.InitialInstanceJSFunctor;return o.invoke=function(e){var n=r.wrapPointer(e,r.InitialInstance);n.getLayer()===t&&a.push(n)},n.iterateOverInstances(o),o.delete(),a}(e,t).length}}).call(this,n(25))},function(e,t,n){"use strict";n.d(t,"b",(function(){return s}));var r=n(34),a=n(17),o=n(319),i=n(8),s={internalName:"Empty",name:"No storage",createOperations:function(){return{}}};t.a=function(e){var t=a.useRef(null),n=a.useState(null),c=Object(r.a)(n,2),u=c[0],l=c[1],d=function(e,t,n){var r=t.map((function(e){return{currentStorageProvider:e,initialFileMetadataToOpen:e.getFileMetadataFromAppArguments?e.getFileMetadataFromAppArguments(n):null}})).filter((function(e){return!!e.initialFileMetadataToOpen}));return 0===r.length?{currentStorageProvider:e,initialFileMetadataToOpen:null}:(r.length>1&&console.warn("More than one storage provider can understand the app arguments. Selecting the first one."),r[0])}(e.defaultStorageProvider,e.storageProviders,e.appArguments),b=a.useRef(d.currentStorageProvider),p=a.useContext(o.a),j=a.useCallback((function(e){l((function(){return e}))}),[l]),h=a.useCallback((function(){l(null)}),[]),f=a.useCallback((function(e){if(!e)return t.current||(b.current=s,t.current=s.createOperations({setDialog:j,closeDialog:h,authenticatedUser:p})),t.current;if(e===b.current&&t.current)return t.current;var n=e.createOperations({setDialog:j,closeDialog:h,authenticatedUser:p});return!!n.onOpen&&(b.current=e,t.current=n),n}),[p,j,h]),g=a.useCallback((function(){return b.current||s}),[]);return a.useEffect((function(){var e=b.current;e&&(t.current=e.createOperations({setDialog:j,closeDialog:h,authenticatedUser:p}))}),[p,j,h]),Object(i.jsxs)(a.Fragment,{children:[e.children({storageProviders:e.storageProviders,getStorageProviderOperations:f,initialFileMetadataToOpen:d.initialFileMetadataToOpen,getStorageProvider:g}),u&&u()]})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(367);function a(e,t){var n=e(t.left,t.top),a=e(t.right,t.bottom);return new r.a(n[0],n[1],a[0],a[1])}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i}));var r=n(6),a=n(5),o=e.gd,i=function(){function e(){Object(r.a)(this,e),this.selection=[]}return Object(a.a)(e,[{key:"hasSelectedInstances",value:function(){return!!this.getSelectedInstances().length}},{key:"getSelectedInstances",value:function(){return this.selection}},{key:"isInstanceSelected",value:function(e){for(var t=0;t<this.selection.length;t++)if(o.compare(this.selection[t],e))return!0;return!1}},{key:"clearSelection",value:function(){this.selection.length=0}},{key:"selectInstance",value:function(e){var t=e.instance,n=e.multiSelect,r=e.layersVisibility,a=void 0===r?null:r,o=e.ignoreSeal;(void 0===o||!o)&&t.isSealed()||(this.isInstanceSelected(t)?n&&this.unselectInstance(t):(n||this.clearSelection(),a&&!a[t.getLayer()]||this.selection.push(t)))}},{key:"selectInstances",value:function(e){var t=this,n=e.instances,r=e.multiSelect,a=e.layersVisibility,o=void 0===a?null:a,i=e.ignoreSeal,s=void 0!==i&&i;r||this.clearSelection(),n.forEach((function(e){t.selectInstance({instance:e,multiSelect:!0,layersVisibility:o,ignoreSeal:s})}))}},{key:"unselectInstance",value:function(e){if(this.isInstanceSelected(e)){for(var t=this.selection.length-1;t>=-1&&this.selection[t].ptr!==e.ptr;)--t;this.selection.splice(t,1)}}},{key:"unselectInstancesOfObject",value:function(e){for(var t=0;t<this.selection.length;)this.selection[t].getObjectName()===e?this.selection.splice(t,1):t++}},{key:"unselectInstancesOnLayer",value:function(e){for(var t=0;t<this.selection.length;)this.selection[t].getLayer()===e?this.selection.splice(t,1):t++}}]),e}()}).call(this,n(25))},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return s}));var r=n(3),a=n(66),o=function(e){return 700/e},i=function(e,t){return{grid:e.grid||!1,gridType:e.gridType||"rectangular",gridWidth:e.gridWidth||32,gridHeight:e.gridHeight||32,gridOffsetX:e.gridOffsetX||0,gridOffsetY:e.gridOffsetY||0,gridColor:void 0!==e.gridColor?e.gridColor:Object(a.m)(158,180,255),gridAlpha:void 0!==e.gridAlpha?e.gridAlpha:.8,snap:e.snap||!1,zoomFactor:Math.max(e.zoomFactor||o(t),.01),windowMask:e.windowMask||!1}},s=function(e){return Object(r.a)({},e)}},,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return h}));var r=n(2),a=n(34),o=n(0),i=n.n(o),s=n(17),c=n(634),u=n(570),l=n(638),d=n(8),b=new Set,p=[],j=s.createContext({filters:null,searchResults:null,fetchExamplesAndFilters:function(){},allExamples:null,error:null,searchText:"",setSearchText:function(){},filtersState:{chosenFilters:new Set,addFilter:function(){},removeFilter:function(){},chosenCategory:null,setChosenCategory:function(){}}}),h=function(e){var t=e.children,n=s.useState(null),o=Object(a.a)(n,2),h=o[0],f=o[1],g=s.useState(null),m=Object(a.a)(g,2),O=m[0],v=m[1],x=s.useState(null),y=Object(a.a)(x,2),C=y[0],k=y[1],w=s.useState(null),T=Object(a.a)(w,2),E=T[0],S=T[1],P=s.useRef(!1),I=s.useState(""),A=Object(a.a)(I,2),D=A[0],F=A[1],M=Object(c.b)(),_=s.useCallback((function(){h||P.current||Object(r.a)(i.a.mark((function e(){var t,n,r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(null),P.current=!0,e.prev=2,e.next=5,Object(u.c)();case 5:t=e.sent,n=t.exampleShortHeaders,r=t.filters,S(n),a={},n.forEach((function(e){a[e.id]=e})),console.info("Loaded ".concat(n.length," examples from the example store.")),f(a),v(r),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(2),console.error("Unable to load the examples from the example store:",e.t0),k(e.t0);case 19:P.current=!1;case 20:case"end":return e.stop()}}),e,null,[[2,15]])})))()}),[h,P]);s.useEffect((function(){if(!h&&!P.current){var e=setTimeout((function(){console.info("Pre-fetching examples from the example store..."),_()}),5e3);return function(){return clearTimeout(e)}}}),[_,h,P]);var L=M.chosenCategory,R=M.chosenFilters,N=Object(l.e)(h,{searchText:D,chosenCategory:L,chosenFilters:R,excludedTiers:b,defaultFirstSearchItemIds:p,shuffleResults:!1}),B=s.useMemo((function(){return{searchResults:N,fetchExamplesAndFilters:_,allExamples:E,filters:O,error:C,searchText:D,setSearchText:F,filtersState:M}}),[N,E,C,O,D,M,_]);return Object(d.jsx)(j.Provider,{value:B,children:t})}},function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return u}));var r=n(9),a=(n(17),n(296)),o=n(295),i=n(8),s=function(){return Object(i.jsx)(a.a,{children:Object(i.jsx)(r.Trans,{id:"This will export your game as a Cordova project. Cordova is a technology that enables HTML5 games to be packaged for iOS and Android."})})},c=function(e){var t=e.renderGameButton;return Object(i.jsxs)(o.a,{noMargin:!0,children:[Object(i.jsx)(a.a,{children:Object(i.jsx)(r.Trans,{id:"You can now compile the game by yourself using Cordova command-line tool to iOS (XCode is required) or Android (Android SDK is required)."})}),Object(i.jsx)(o.c,{justifyContent:"center",children:t()})]})},u={key:"cordovaexport",tabName:Object(i.jsx)(r.Trans,{id:"Mobile"}),name:Object(i.jsx)(r.Trans,{id:"iOS & Android (manual)"}),helpPage:"/publishing/android_and_ios_with_cordova"}},function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return u}));var r=n(9),a=(n(17),n(296)),o=n(295),i=n(8),s=function(){return Object(i.jsx)(a.a,{children:Object(i.jsx)(r.Trans,{id:"This will export your game so that you can package it for Windows, macOS or Linux. You will need to install third-party tools (Node.js, Electron Builder) to package your game."})})},c=function(e){var t=e.renderGameButton;return Object(i.jsxs)(o.a,{noMargin:!0,children:[Object(i.jsx)(a.a,{children:Object(i.jsx)(r.Trans,{id:"The game was properly exported. You can now use Electron Builder (you need Node.js installed and to use the command-line on your computer to run it) to create an executable."})}),Object(i.jsx)(o.c,{justifyContent:"center",children:t()})]})},u={key:"electronexport",tabName:Object(i.jsx)(r.Trans,{id:"Desktop"}),name:Object(i.jsx)(r.Trans,{id:"Windows/macOS/Linux (manual)"}),helpPage:"/publishing/windows-macos-linux-with-electron"}},,function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return b})),n.d(t,"c",(function(){return p}));var r=n(9),a=(n(17),n(296)),o=n(295),i=n(298),s=n(470),c=n(26),u=n(297),l=n(8),d=function(){return Object(l.jsx)(a.a,{children:Object(l.jsx)(r.Trans,{id:"Prepare your game for Facebook Instant Games so that it can be play on Facebook Messenger. GDevelop will create a compressed file that you can upload on your Facebook Developer account."})})},b=function(e){var t=e.renderGameButton;return Object(l.jsxs)(o.a,{noMargin:!0,children:[Object(l.jsx)(a.a,{children:Object(l.jsx)(r.Trans,{id:"You can now create a game on Facebook Instant Games, if not already done, and upload the generated archive."})}),Object(l.jsxs)(u.c,{justifyContent:"center",children:[t(),Object(l.jsx)(i.a,{label:Object(l.jsx)(r.Trans,{id:"Learn more about Instant Games publication"}),primary:!0,onClick:function(){c.b.openExternalURL(Object(s.a)("/publishing/publishing-to-facebook-instant-games"))}})]})]})},p={key:"facebookinstantgamesexport",tabName:Object(l.jsx)(r.Trans,{id:"Instant Games"}),name:Object(l.jsx)(r.Trans,{id:"Facebook Instant Games"}),helpPage:"/publishing/publishing-to-facebook-instant-games"}},function(e,t,n){"use strict";n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return h}));var r=n(3),a=n(9),o=(n(17),n(296)),i=n(295),s=n(2598),c=n(2722),u=n(2659),l=n(303),d=n(298),b=n(318),p=n(8),j=function(e){var t=e.exportState,n=e.updateExportState;return Object(p.jsxs)(i.a,{noMargin:!0,children:[Object(p.jsx)(i.c,{children:Object(p.jsx)(o.a,{children:Object(p.jsx)(a.Trans,{id:"Packaging your game for Android will create an APK file that can be installed on Android phones or an Android App Bundle that can be published to Google Play."})})}),Object(p.jsxs)(u.a,{value:t.targets[0]||"androidApk",onChange:function(e){var t=e.target.value;n((function(e){return Object(r.a)(Object(r.a)({},e),{},{targets:[t]})}))},children:[Object(p.jsx)(s.a,{value:"androidApk",control:Object(p.jsx)(c.a,{color:"secondary"}),label:Object(p.jsx)(a.Trans,{id:"APK (for testing on device or sharing outside Google Play)"})}),Object(p.jsx)(s.a,{value:"androidAppBundle",control:Object(p.jsx)(c.a,{color:"secondary"}),label:Object(p.jsx)(a.Trans,{id:"Android App Bundle (for publishing on Google Play)"})})]}),Object(p.jsx)(i.c,{noMargin:!0,justifyContent:"flex-end",children:Object(p.jsx)(d.a,{label:Object(p.jsx)(a.Trans,{id:"Signing options"}),onClick:function(){n((function(e){return Object(r.a)(Object(r.a)({},e),{},{signingDialogOpen:!0})}))},disabled:"androidAppBundle"!==t.targets[0]})}),t.signingDialogOpen&&Object(p.jsxs)(l.c,{title:Object(p.jsx)(a.Trans,{id:"Signing options"}),actions:[Object(p.jsx)(d.a,{label:Object(p.jsx)(a.Trans,{id:"Close"}),primary:!0,keyboardFocused:!0,onClick:function(){n((function(e){return Object(r.a)(Object(r.a)({},e),{},{signingDialogOpen:!1})}))}},"close")],secondaryActions:[Object(p.jsx)(b.a,{helpPagePath:"/publishing/android_and_ios/play-store/upgrading-from-apk-to-aab"},"help")],open:!0,onRequestClose:function(){n((function(e){return Object(r.a)(Object(r.a)({},e),{},{signingDialogOpen:!1})}))},maxWidth:"sm",children:[Object(p.jsx)(o.a,{children:Object(p.jsx)(a.Trans,{id:'Choose the upload key to use to identify your Android App Bundle. In most cases you don\'t need to change this. Use the "Old upload key" if you used to publish your game as an APK and you activated Play App Signing before switching to Android App Bundle.'})}),Object(p.jsxs)(u.a,{name:"signing-keystore",value:t.keystore,onChange:function(e){var t=e.target.value;n((function(e){return Object(r.a)(Object(r.a)({},e),{},{keystore:t})}))},children:[Object(p.jsx)(s.a,{value:"new",control:Object(p.jsx)(c.a,{color:"primary"}),label:Object(p.jsx)(a.Trans,{id:"Default upload key (recommended)"})}),Object(p.jsx)(s.a,{value:"old",control:Object(p.jsx)(c.a,{color:"primary"}),label:Object(p.jsx)(a.Trans,{id:"Old, legacy upload key (only if you used to publish your game as an APK and already activated Play App Signing)"})}),Object(p.jsx)(s.a,{value:"custom",control:Object(p.jsx)(c.a,{color:"primary"}),label:Object(p.jsx)(a.Trans,{id:"Custom upload key (not available yet)"}),disabled:!0})]})]})]})},h={key:"onlinecordovaexport",tabName:Object(p.jsx)(a.Trans,{id:"Mobile"}),name:Object(p.jsx)(a.Trans,{id:"Android (& iOS coming soon)"}),helpPage:"/publishing/android_and_ios"}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return b}));var r=n(19),a=n(3),o=n(9),i=n(17),s=n(296),c=n(340),u=n(295),l=n(8),d=function(e){var t=e.exportState,n=e.updateExportState,d=function(e,t){n((function(n){return t&&-1===n.targets.indexOf(e)?Object(a.a)(Object(a.a)({},n),{},{targets:[].concat(Object(r.a)(n.targets),[e])}):t||-1===n.targets.indexOf(e)?n:Object(a.a)(Object(a.a)({},n),{},{targets:n.targets.filter((function(t){return t!==e}))})}))};return Object(l.jsx)(i.Fragment,{children:Object(l.jsxs)(u.a,{noMargin:!0,children:[Object(l.jsx)(u.c,{children:Object(l.jsx)(s.a,{children:Object(l.jsx)(o.Trans,{id:"Your game will be exported and packaged online as a stand-alone game for Windows, Linux and/or macOS."})})}),Object(l.jsx)(c.a,{label:Object(l.jsx)(o.Trans,{id:"Windows (zip file)"}),checked:-1!==t.targets.indexOf("winZip"),onCheck:function(e,t){return d("winZip",t)}}),Object(l.jsx)(c.a,{label:Object(l.jsx)(o.Trans,{id:"Windows (auto-installer file)"}),checked:-1!==t.targets.indexOf("winExe"),onCheck:function(e,t){return d("winExe",t)}}),Object(l.jsx)(c.a,{label:Object(l.jsx)(o.Trans,{id:"macOS (zip file)"}),checked:-1!==t.targets.indexOf("macZip"),onCheck:function(e,t){return d("macZip",t)}}),Object(l.jsx)(c.a,{label:Object(l.jsx)(o.Trans,{id:"Linux (AppImage)"}),checked:-1!==t.targets.indexOf("linuxAppImage"),onCheck:function(e,t){return d("linuxAppImage",t)}})]})})},b={key:"onlineelectronexport",tabName:Object(l.jsx)(o.Trans,{id:"Desktop"}),name:Object(l.jsx)(o.Trans,{id:"Windows/macOS/Linux"}),helpPage:"/publishing/windows-macos-linux"}},,function(e,t,n){"use strict";n.d(t,"b",(function(){return y})),n.d(t,"a",(function(){return C})),n.d(t,"c",(function(){return k}));var r=n(9),a=n(17),o=n.n(a),i=n(296),s=n(470),c=n(26),u=n(298),l=n(295),d=n(312),b=n(3),p=n(905),j=n(8),h=o.a.memo((function(e){return Object(j.jsx)(p.a,Object(b.a)(Object(b.a)({},e),{},{children:Object(j.jsx)("path",{d:"M5.06 3C4.63 3 4.22 3.14 3.84 3.42C3.46 3.7 3.24 4.06 3.14 4.5L2.11 8.91C1.86 10 2.06 10.92 2.69 11.73C2.81 11.85 2.93 11.97 3.04 12.07C3.63 12.64 4.28 13 5.22 13C6.16 13 6.91 12.59 7.47 12.05C8.1 12.67 8.86 13 9.8 13C10.64 13 11.44 12.63 12 12.07C12.68 12.7 13.45 13 14.3 13C15.17 13 15.91 12.67 16.54 12.05C17.11 12.62 17.86 13 18.81 13C19.76 13 20.43 12.65 21 12.06C21.09 11.97 21.18 11.87 21.28 11.77C21.94 10.95 22.14 10 21.89 8.91L20.86 4.5C20.73 4.06 20.5 3.7 20.13 3.42C19.77 3.14 19.38 3 18.94 3M18.89 4.97L19.97 9.38C20.06 9.81 19.97 10.2 19.69 10.55C19.44 10.86 19.13 11 18.75 11C18.44 11 18.17 10.9 17.95 10.66C17.73 10.43 17.61 10.16 17.58 9.84L16.97 5M5.06 5H7.03L6.42 9.84C6.3 10.63 5.91 11 5.25 11C4.84 11 4.53 10.86 4.31 10.55C4.03 10.2 3.94 9.81 4.03 9.38M9.05 5H11V9.7C11 10.05 10.89 10.35 10.64 10.62C10.39 10.88 10.08 11 9.7 11C9.36 11 9.07 10.88 8.84 10.59C8.61 10.3 8.5 10 8.5 9.66V9.5M13 5H14.95L15.5 9.5C15.58 9.92 15.5 10.27 15.21 10.57C14.95 10.87 14.61 11 14.2 11C13.89 11 13.61 10.88 13.36 10.62C13.11 10.35 13 10.05 13 9.7M3 14.03V19C3 20.11 3.89 21 5 21C9.67 21 14.33 21 19 21C20.1 21 21 20.11 21 19V14.05C20.45 14.63 19.75 14.96 19 15C18 15.03 17.25 14.74 16.54 14.05C15.94 14.65 15.14 15 14.3 15C13.4 15 12.6 14.64 12 14.07C11.43 14.64 10.65 15 9.78 15C8.87 15 8.07 14.65 7.47 14.05C6.89 14.64 6.1 15 5.23 15C4.33 15 3.66 14.65 3 14.03Z"})}))})),f=o.a.memo((function(e){return Object(j.jsx)(p.a,Object(b.a)(Object(b.a)({},e),{},{children:Object(j.jsx)("path",{d:"M7,2H17L13.5,9H17L10,22V14H7V2M9,4V12H12V14.66L14,11H10.24L13.76,4H9Z"})}))})),g=o.a.memo((function(e){return Object(j.jsx)(p.a,Object(b.a)(Object(b.a)({},e),{},{style:Object(b.a)({transform:"rotate(90deg)"},e.style),children:Object(j.jsx)("path",{d:"M12 2C17.5 2 22 6.5 22 12C22 17.5 17.5 22 12 22C6.5 22 2 17.5 2 12C2 6.5 6.5 2 12 2M12 4C7.58 4 4 7.58 4 12C4 16.42 7.58 20 12 20C16.42 20 20 16.42 20 12C20 7.58 16.42 4 12 4M12 5C15.87 5 19 8.13 19 12C19 15.87 15.87 19 12 19V5Z"})}))})),m=o.a.memo((function(e){return Object(j.jsx)(p.a,Object(b.a)(Object(b.a)({},e),{},{children:Object(j.jsx)("path",{fill:"currentColor",d:"M1.5,2.09C2.4,3 3.87,3.73 5.69,4.25C7.41,2.84 9.61,2 12,2C14.39,2 16.59,2.84 18.31,4.25C20.13,3.73 21.6,3 22.5,2.09C22.47,3.72 21.65,5.21 20.28,6.4C21.37,8 22,9.92 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12C2,9.92 2.63,8 3.72,6.4C2.35,5.21 1.53,3.72 1.5,2.09M20,12A8,8 0 0,0 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20A8,8 0 0,0 20,12M10.5,10C10.5,10.8 9.8,11.5 9,11.5C8.2,11.5 7.5,10.8 7.5,10V8.5L10.5,10M16.5,10C16.5,10.8 15.8,11.5 15,11.5C14.2,11.5 13.5,10.8 13.5,10L16.5,8.5V10M12,17.23C10.25,17.23 8.71,16.5 7.81,15.42L9.23,14C9.68,14.72 10.75,15.23 12,15.23C13.25,15.23 14.32,14.72 14.77,14L16.19,15.42C15.29,16.5 13.75,17.23 12,17.23Z"})}))})),O=o.a.memo((function(e){return Object(j.jsx)(p.a,Object(b.a)(Object(b.a)({},e),{},{children:Object(j.jsx)("path",{d:"M20,12H4V11H6L7,6H12L13,11H20V12M13.22,7L13.62,9H22V7H13.22M22,16A3,3 0 0,1 19,19H5A3,3 0 0,1 2,16A3,3 0 0,1 5,13H19A3,3 0 0,1 22,16M6,16A1,1 0 0,0 5,15A1,1 0 0,0 4,16A1,1 0 0,0 5,17A1,1 0 0,0 6,16M13,16A1,1 0 0,0 12,15A1,1 0 0,0 11,16A1,1 0 0,0 12,17A1,1 0 0,0 13,16M20,16A1,1 0 0,0 19,15A1,1 0 0,0 18,16A1,1 0 0,0 19,17A1,1 0 0,0 20,16Z"})}))})),v=n(309),x=n(480),y=function(){var e=function(e){return{height:"small"===e?30:48,width:"small"===e?30:48,margin:10}}(Object(v.b)());return Object(j.jsxs)(l.a,{noMargin:!0,children:[Object(j.jsx)(x.a,{tutorialId:"export-to-itch"}),Object(j.jsx)(l.c,{children:Object(j.jsx)(i.a,{children:Object(j.jsx)(r.Trans,{id:"This will export your game to a folder. You can then upload it on a website/game hosting service and share it on marketplaces and gaming portals like CrazyGames, Poki, Game Jolt, itch.io, Newgrounds..."})})}),Object(j.jsxs)(l.c,{justifyContent:"center",children:[Object(j.jsx)(h,{color:"secondary",style:e}),Object(j.jsx)(f,{color:"secondary",style:e}),Object(j.jsx)(g,{color:"secondary",style:e}),Object(j.jsx)(m,{color:"secondary",style:e}),Object(j.jsx)(O,{color:"secondary",style:e})]})]})},C=function(e){var t=e.renderGameButton;return Object(j.jsxs)(l.a,{noMargin:!0,children:[Object(j.jsx)(i.a,{children:Object(j.jsx)(r.Trans,{id:"You can now upload the game to a web hosting to play to the game."})}),Object(j.jsx)(d.a,{kind:"warning",children:Object(j.jsx)(r.Trans,{id:"Your game won't work if you open index.html on your computer. You must upload it to a web hosting (Kongregate, Itch.io, etc...) or a web server to run it."})}),Object(j.jsx)(l.d,{}),t(),Object(j.jsx)(l.d,{}),Object(j.jsx)(u.a,{fullWidth:!0,primary:!0,onClick:function(){return c.b.openExternalURL(Object(s.a)("/publishing/publishing-to-gamejolt-store"))},label:Object(j.jsx)(r.Trans,{id:"Publish your game on Game Jolt"}),leftIcon:Object(j.jsx)(f,{})}),Object(j.jsx)(u.a,{fullWidth:!0,primary:!0,onClick:function(){return c.b.openExternalURL("https://gdevelop.io/page/crazy-games")},label:Object(j.jsx)(r.Trans,{id:"Publish your game on CrazyGames.com"}),leftIcon:Object(j.jsx)(m,{})}),Object(j.jsx)(u.a,{fullWidth:!0,primary:!0,onClick:function(){return c.b.openExternalURL(Object(s.a)("/publishing/publishing-to-kongregate-store"))},label:Object(j.jsx)(r.Trans,{id:"Publish your game on Kongregate"})}),Object(j.jsx)(u.a,{fullWidth:!0,primary:!0,onClick:function(){return c.b.openExternalURL(Object(s.a)("/publishing/publishing-to-itch-io"))},label:Object(j.jsx)(r.Trans,{id:"Publish your game on Itch.io"}),leftIcon:Object(j.jsx)(h,{})}),Object(j.jsx)(u.a,{fullWidth:!0,primary:!0,onClick:function(){return c.b.openExternalURL("https://gdevelop.io/page/poki")},label:Object(j.jsx)(r.Trans,{id:"Publish your game on Poki.com"}),leftIcon:Object(j.jsx)(g,{})}),Object(j.jsx)(u.a,{fullWidth:!0,onClick:function(){return c.b.openExternalURL(Object(s.a)("/publishing"))},label:Object(j.jsx)(r.Trans,{id:"Learn more about publishing"})})]})},k={key:"webexport",tabName:Object(j.jsx)(r.Trans,{id:"Web"}),name:Object(j.jsx)(r.Trans,{id:"Web"}),helpPage:"/publishing/html5_game_in_a_local_folder"}},function(e,t,n){"use strict";n.d(t,"c",(function(){return D})),n.d(t,"a",(function(){return A})),n.d(t,"b",(function(){return I}));var r=n(9),a=n(17),o=n(296),i=n(295),s=n(2),c=n(34),u=n(0),l=n.n(u),d=n(377),b=n(645),p=n(298),j=n(303),h=n(376),f=n(319),g=n(312),m=n(771),O=n(1067),v=n(452),x=n(8),y=function(e){var t=e.project,n=e.onSaveProject,o=e.buildId,i=e.game,u=e.onClose,b=e.onApply,h=e.isLoading,g=a.useContext(f.a).profile,y=a.useState(t.getName()),C=Object(c.a)(y,2),k=C[0],w=C[1],T=a.useState(t.getCategories().toJSArray()),E=Object(c.a)(T,2),S=E[0],P=E[1],I=a.useState(t.getDescription()),A=Object(c.a)(I,2),D=A[0],F=A[1],M=a.useState(t.getAuthorIds().toJSArray()),_=Object(c.a)(M,2),L=_[0],R=_[1],N=a.useState(t.getAuthorUsernames().toJSArray()),B=Object(c.a)(N,2),U=B[0],H=B[1],W=a.useState(t.isPlayableWithKeyboard()),z=Object(c.a)(W,2),V=z[0],G=z[1],Z=a.useState(t.isPlayableWithGamepad()),Y=Object(c.a)(Z,2),q=Y[0],X=Y[1],J=a.useState(t.isPlayableWithMobile()),K=Object(c.a)(J,2),Q=K[0],$=K[1],ee=a.useState(i.cachedCurrentSlug&&i.cachedCurrentSlug.username||g&&g.username||""),te=Object(c.a)(ee,2),ne=te[0],re=te[1],ae=a.useState(i.cachedCurrentSlug&&i.cachedCurrentSlug.gameSlug||Object(m.b)(t.getName())),oe=Object(c.a)(ae,2),ie=oe[0],se=oe[1],ce=a.useState(t.getOrientation()),ue=Object(c.a)(ce,2),le=ue[0],de=ue[1],be=a.useState(!!i.discoverable),pe=Object(c.a)(be,2),je=pe[0],he=pe[1],fe=Object(d.i)(t,o),ge=function(){var e=Object(s.a)(l.a.mark((function e(r){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r.saveProject,!Object(O.b)(t,{name:k,categories:S||[],description:D||"",authorIds:L,authorUsernames:U,playWithKeyboard:!!V,playWithGamepad:!!q,playWithMobile:!!Q,orientation:le||"default"})){e.next=7;break}if(!a){e.next=5;break}return e.next=5,n();case 5:return e.next=7,b({discoverable:je,userSlug:ne,gameSlug:ie});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsx)(j.c,{title:Object(x.jsx)(r.Trans,{id:"Verify your game info before publishing"}),actions:[Object(x.jsx)(p.a,{label:Object(x.jsx)(r.Trans,{id:"Back"}),primary:!1,onClick:u,disabled:h},"back"),Object(x.jsx)(v.a,{label:Object(x.jsx)(r.Trans,{id:"Save project and publish"}),primary:!0,onClick:function(){ge({saveProject:!0})},disabled:h,buildMenuTemplate:function(e){return[{label:e._({id:"Publish without saving project"}),click:function(){return ge({saveProject:!1})}}]}},"publish")],cannotBeDismissed:h,onRequestClose:u,onApply:function(){ge({saveProject:!0})},open:!0,children:Object(x.jsx)(m.a,{name:k,setName:w,categories:S,setCategories:P,description:D,setDescription:F,project:t,authorIds:L,setAuthorIds:R,setAuthorUsernames:H,setPlayableWithKeyboard:G,playWithKeyboard:V,setPlayableWithGamepad:X,playWithGamepad:q,setPlayableWithMobile:$,playWithMobile:Q,setOrientation:de,orientation:le,userSlug:ne,setUserSlug:re,gameSlug:ie,setGameSlug:se,discoverable:je,setDiscoverable:he,displayThumbnail:!0,thumbnailUrl:fe,disabled:h})})},C=n(60),k=n(1057),w=n(1056),T=n(1058),E=n(436),S=n(364),P=n(297),I=function(e){var t=e.build,n=e.project,u=e.onSaveProject,m=e.errored,O=e.exportStep,v=a.useState(!1),I=Object(c.a)(v,2),A=I[0],D=I[1],F=a.useState(!1),M=Object(c.a)(F,2),_=M[0],L=M[1],R=a.useState(!1),N=Object(c.a)(R,2),B=N[0],U=N[1],H=a.useState(null),W=Object(c.a)(H,2),z=W[0],V=W[1],G=a.useState(!1),Z=Object(c.a)(G,2),Y=Z[0],q=Z[1],X=a.useContext(f.a),J=X.getAuthorizationHeader,K=X.profile,Q=!m&&""!==O&&"done"!==O,$=t&&"complete"===t.status,ee=t&&z&&t.id===z.publicWebBuildId,te=Object(h.f)(z),ne=Q||!$?null:ee?te:Object(d.f)(t,"s3Key"),re=a.useCallback(Object(s.a)(l.a.mark((function e(){var n,r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t&&t.gameId,K&&n){e.next=3;break}return e.abrupt("return");case 3:return r=K.id,e.prev=4,q(!0),e.next=8,Object(h.d)(J,r,n);case 8:a=e.sent,V(a),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),console.error("Unable to load the game",e.t0);case 15:return e.prev=15,q(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[4,12,15,18]])}))),[t,J,K]),ae=a.useCallback(function(){var e=Object(s.a)(l.a.mark((function e(r){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(K&&z&&t){e.next=2;break}return e.abrupt("return",!1);case 2:return a=Object(h.b)(n.getAuthorIds().toJSArray()),e.prev=3,e.next=6,Object(h.k)(J,K.id,n.getProjectUuid(),{author:a});case 6:e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(3),console.error("Unable to update the authors:",e.t0.response||e.t0.message),Object(C.a)({message:r._({id:"Unable to update the authors of the project."})+" "+r._({id:"Verify your internet connection or try again later."}),rawError:e.t0,errorId:"author-update-error"}),e.abrupt("return",!1);case 13:return e.abrupt("return",!0);case 14:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(t){return e.apply(this,arguments)}}(),[t,z,J,K,n]),oe=a.useCallback(function(){var e=Object(s.a)(l.a.mark((function e(n,r){var a,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(K&&z&&t){e.next=2;break}return e.abrupt("return",!1);case 2:if(a=n.userSlug,o=n.gameSlug,!a||!o||a!==K.username){e.next=14;break}return e.prev=4,e.next=7,Object(h.j)(J,K.id,z.id,a,o);case 7:e.next=14;break;case 9:return e.prev=9,e.t0=e.catch(4),console.error("Unable to update the game slug:",e.t0.response||e.t0.message),Object(C.a)({message:r._({id:"Unable to update the game slug. A slug must be 6 to 30 characters long and only contains letters, digits or dashes."})+" "+r._({id:"Verify your internet connection or try again later."}),rawError:e.t0,errorId:"game-slug-update-error"}),e.abrupt("return",!1);case 14:return e.abrupt("return",!0);case 15:case"end":return e.stop()}}),e,null,[[4,9]])})));return function(t,n){return e.apply(this,arguments)}}(),[t,z,J,K]);a.useEffect((function(){!z&&$&&re()}),[z,re,$]),a.useEffect((function(){"done"===O&&L(!0)}),[O]);var ie=a.useCallback(function(){var e=Object(s.a)(l.a.mark((function e(r,a){var o,i,s,u,b;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(K&&z&&t){e.next=2;break}return e.abrupt("return",!1);case 2:return o=K.id,e.prev=3,q(!0),e.next=7,Object(h.l)(J,o,z.id,{gameName:n.getName(),description:n.getDescription(),categories:n.getCategories().toJSArray(),playWithGamepad:n.isPlayableWithGamepad(),playWithKeyboard:n.isPlayableWithKeyboard(),playWithMobile:n.isPlayableWithMobile(),orientation:n.getOrientation(),publicWebBuildId:t.id,thumbnailUrl:Object(d.i)(n,t.id),discoverable:r.discoverable});case 7:return e.next=9,Promise.all([ae(a),oe(r,a)]);case 9:return i=e.sent,s=Object(c.a)(i,2),u=s[0],b=s[1],e.next=15,re();case 15:if(u&&b){e.next=17;break}return e.abrupt("return",!1);case 17:e.next=24;break;case 19:return e.prev=19,e.t0=e.catch(3),Object(C.a)({message:a._({id:"There was an error updating your game. Verify that your internet connection is working or try again later."}),rawError:e.t0,errorId:"update-game-error"}),console.error("Unable to update the game",e.t0),e.abrupt("return",!1);case 24:return e.prev=24,q(!1),e.finish(24);case 27:return e.abrupt("return",!0);case 28:case"end":return e.stop()}}),e,null,[[3,19,24,27]])})));return function(t,n){return e.apply(this,arguments)}}(),[z,J,K,t,n,ae,oe,re]);if(!t&&!O)return null;var se=[Object(x.jsx)(p.a,{label:Object(x.jsx)(r.Trans,{id:"Close"}),primary:!1,onClick:function(){return L(!1)}},"close"),z&&ne&&!ee&&Object(x.jsx)(j.a,{label:Object(x.jsx)(r.Trans,{id:"Verify and Publish to gd.games"}),primary:!0,onClick:function(){return U(!0)}},"publish")];return Object(x.jsx)(r.I18n,{children:function(e){var a=e.i18n;return Object(x.jsxs)(x.Fragment,{children:[Q&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(o.a,{children:Object(x.jsx)(r.Trans,{id:"Just a few seconds while we generate the link..."})}),Object(x.jsx)(i.c,{expand:!0,children:Object(x.jsx)(E.a,{})})]}),_&&Object(x.jsxs)(j.c,{title:Object(x.jsx)(r.Trans,{id:"Share your game"}),id:"export-game-share-dialog",actions:se,open:!0,onRequestClose:function(){return L(!1)},onApply:function(){z&&ne&&!ee&&U(!0)},children:[ne&&!Y?Object(x.jsxs)(i.a,{noMargin:!0,children:[Object(x.jsx)(k.a,{url:ne}),ee&&navigator.share&&Object(x.jsx)(T.a,{url:ne}),ee&&!navigator.share&&Object(x.jsx)(i.c,{expand:!0,children:Object(x.jsxs)(P.c,{expand:!0,justifyContent:"space-between",noMargin:!0,children:[Object(x.jsx)(i.a,{justifyContent:"center",noMargin:!0,children:Object(x.jsx)(g.a,{kind:"info",children:Object(x.jsx)(r.Trans,{id:"Your game is published! Share it with the community!"})})}),Object(x.jsx)(i.a,{justifyContent:"flex-end",noMargin:!0,alignItems:"center",children:Object(x.jsx)(w.a,{url:ne})})]})}),!ee&&z&&Object(x.jsx)(i.c,{children:Object(x.jsx)(g.a,{kind:"info",children:Object(x.jsx)(r.Trans,{id:"This link is private so you can share it with friends and testers. When you're ready you can update your gd.games game page."})})})]}):Object(x.jsxs)(i.a,{alignItems:"center",children:[Object(x.jsx)(i.c,{children:Object(x.jsx)(S.a,{})}),Object(x.jsx)(o.a,{children:Object(x.jsx)(r.Trans,{id:"Loading your link..."})})]}),Object(x.jsx)(b.a,{message:Object(x.jsx)(r.Trans,{id:"Copied to clipboard!"}),visible:A,hide:function(){return D(!1)}})]}),z&&t&&B&&Object(x.jsx)(y,{project:n,onSaveProject:u,buildId:t.id,onClose:function(){return U(!1)},onApply:function(){var e=Object(s.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie(t,a);case 2:e.sent&&U(!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),game:z,isLoading:Y})]})}})},A=function(){return Object(x.jsx)(i.a,{noMargin:!0,alignItems:"center",justifyContent:"center",children:Object(x.jsx)(i.c,{children:Object(x.jsx)(o.a,{align:"center",children:Object(x.jsx)(r.Trans,{id:"Generate a unique link, playable from any computer or mobile phone's browser."})})})})},D={key:"onlinewebexport",tabName:"Web",name:Object(x.jsx)(r.Trans,{id:"Web"}),helpPage:"/publishing/web"}},,,,,,,,,,function(e,t,n){"use strict";n(17);var r=n(350),a=n(2591),o=n(2578),i=n(914),s=n.n(i),c=n(295),u=n(8),l=function(){throw new Error("This FlatButtonWithSplitMenu onClick should never be called")},d={mainButton:{flex:1},arrowDropDownButton:{minWidth:30,paddingLeft:0,paddingRight:0}};t.a=function(e){var t=e.id,n=e.buildMenuTemplate,i=e.onClick,b=e.label,p=e.primary,j=e.icon,h=e.disabled;return Object(u.jsxs)(a.a,{variant:"outlined",disableElevation:!0,color:p?"secondary":"default",disabled:h,size:"small",style:e.style,children:[Object(u.jsxs)(o.a,{id:t,focusRipple:true,onClick:i,style:d.mainButton,children:[j,!!j&&!!b&&Object(u.jsx)(c.d,{}),b]}),Object(u.jsx)(r.a,{passExtraProps:!0,element:Object(u.jsx)(o.a,{onClick:l,focusRipple:true,style:d.arrowDropDownButton,children:Object(u.jsx)(s.a,{})}),buildMenuTemplate:n})]})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(101),a=function(e){return Object(r.f)()?"":Object(r.e)()?e.replace(/CmdOrCtrl\+/,"\u2318").replace(/CommandOrControl\+/,"\u2318").replace(/Super\+/,"\u2318").replace(/Shift\+/,"\u21e7").replace(/Alt\+/,"\u2325").replace(/Option\+/,"\u2325").replace(/Delete/,"\u2326").replace(/Backspace/,"\u232b").replace(/numadd/,"+").replace(/numsub/,"-").replace(/num1/,"1").replace(/num2/,"2").replace(/num3/,"3"):e.replace(/CmdOrCtrl\+/,"Ctrl+").replace(/CommandOrControl\+/,"Ctrl+").replace(/Super\+/,"Win+").replace(/Option\+/,"Alt+").replace(/Delete/,"DEL").replace(/numadd/,"+").replace(/numsub/,"-").replace(/num1/,"1").replace(/num2/,"2").replace(/num3/,"3")}},,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(3),a=n(34),o=n(17),i=n.n(o),s=n(404),c=n(509),u=n(8),l={chipContainer:{display:"flex",flexWrap:"wrap",overflowX:"auto",marginTop:4},chip:{marginRight:4,marginBottom:4}};t.a=function(e){var t=e.tags,n=e.onChange,o=e.onRemove,d=i.a.useState(null),b=Object(a.a)(d,2),p=b[0],j=b[1],h=i.a.useRef([]),f=i.a.useCallback((function(e){var t=!!p&&p===e;return Object(r.a)(Object(r.a)({},l.chip),{},{filter:t?"brightness(1.2)":void 0})}),[p]),g=function(e){return function(r){var a=t.indexOf(e);if(h.current.splice(a,1),r.nativeEvent instanceof KeyboardEvent){var i=Math.min(h.current.length-1,a),s=h.current[i];s&&s.current&&s.current.focus()}n?n(Object(c.e)(t,e)):o&&o(e)}};return t.length?Object(u.jsx)("div",{style:l.chipContainer,children:t.map((function(e,t){var r=i.a.createRef();return h.current[t]=r,Object(u.jsx)(s.a,{size:"small",style:f(e),onBlur:function(){return j(null)},onFocus:function(){return j(e)},onDelete:n||o?g(e):null,label:e,ref:r},e)}))}):null}},,function(e,t,n){"use strict";(function(e){var r=n(1),a=n(19),o=n(34),i=n(18),s=n(3),c=n(17),u=n(555),l=n(2611),d=n(2610),b=n(2612),p=n(2574),j=n(2720),h=n(328),f=n.n(h),g=n(514),m=n.n(g),O=n(983),v=n.n(O),x=n(560),y=n.n(x),C=n(508),k=n.n(C),w=n(1482),T=n.n(w),E=n(295),S=n(324),P=n(310),I=n(556),A=n(448),D=n(618),F=n(475),M=n(331),_=n(306),L=n(297),R=n(558),N=n(374),B=n(314),U=n(307),H=n(95),W=n(449),z=n(338),V=n(738),G=n(1470),Z=n(1471),Y=n(1472),q=n(1478),X=n(1479),J=n(739),K=n(9),Q=n(8),$=["onComputeAllVariableNames"],ee=e.gd,te=Object(A.a)("variable-editor"),ne=function(e){return e.stopPropagation()},re=function(e){return e.preventDefault()},ae={inlineIcon:{padding:0},handlePlaceholder:{width:24}},oe=Object(p.a)((function(e){return{group:{marginLeft:7,paddingLeft:15},iconContainer:{alignSelf:"stretch",alignItems:"center",color:"white"},root:{"&:focus:not(.Mui-selected)":{"& > .MuiTreeItem-content":{filter:"brightness(1.15)"},"& > .MuiTreeItem-content > .MuiTreeItem-label":{backgroundColor:"unset"}},"&:hover:not(:focus)":{"& > .MuiTreeItem-content:hover":{filter:"brightness(1.07)"}},"&.Mui-selected:hover":{"& > .MuiTreeItem-content:hover":{filter:"brightness(1.07)"}}},label:{padding:0,"&:hover":{backgroundColor:"unset"}},content:{marginTop:5}}}))((function(e){return Object(Q.jsx)(d.a,Object(s.a)(Object(s.a)({},e),{},{TransitionProps:{timeout:0}}))}));t.a=function(e){var t=e.onComputeAllVariableNames,n=Object(i.a)(e,$),d=c.useState(Object(Z.e)(n.variablesContainer).concat(n.inheritedVariablesContainer?Object(Z.e)(n.inheritedVariablesContainer,!0):[])),p=Object(o.a)(d,2),h=p[0],g=p[1],O=c.useState(Object(V.c)(n.variablesContainer,{historyMaxSize:50})),x=Object(o.a)(O,2),C=x[0],w=x[1],A=c.useState(""),ie=Object(o.a)(A,2),se=ie[0],ce=ie[1],ue=c.useMemo((function(){return t?t():null}),[t]),le=c.useState([]),de=Object(o.a)(le,2),be=de[0],pe=de[1],je=c.useState([]),he=Object(o.a)(je,2),fe=he[0],ge=he[1],me=c.useState(null),Oe=Object(o.a)(me,2),ve=Oe[0],xe=Oe[1],ye=c.useState({}),Ce=Object(o.a)(ye,2),ke=Ce[0],we=Ce[1],Te=c.useRef({}),Ee=c.useState(null),Se=Object(o.a)(Ee,2),Pe=Se[0],Ie=Se[1],Ae=c.useContext(_.a),De=c.useRef(null),Fe=Object(B.a)(),Me=c.useCallback((function(){var e=[],t=Object(Z.b)(n.variablesContainer,Object(J.a)(se));n.inheritedVariablesContainer&&(e=Object(Z.b)(n.inheritedVariablesContainer,Object(J.a)(se),Z.i)),ge([].concat(Object(a.a)(t),Object(a.a)(e)))}),[n.inheritedVariablesContainer,n.variablesContainer,se]);c.useEffect((function(){se?Me():ge([])}),[se,Me]),c.useEffect((function(){if(Pe){var e=Te.current[Pe];e&&(e.focus(),Ie(null))}}),[Pe]);var _e=!Object(G.a)(n.variablesContainer)&&(!n.inheritedVariablesContainer||!Object(G.a)(n.inheritedVariablesContainer)),Le=Object(j.a)((function(){return{root:{"& > .MuiTreeItem-content":{backgroundColor:Ae.list.itemsBackgroundColor},"&.Mui-selected > .MuiTreeItem-content":{marginTop:5,backgroundColor:Ae.listItem.selectedBackgroundColor},"&.Mui-selected > .MuiTreeItem-content > .MuiTreeItem-label":{backgroundColor:"unset"},"&.isCollection > .MuiTreeItem-content > .MuiTreeItem-iconContainer":{backgroundColor:Ae.listItem.selectedBackgroundColor},"& > .MuiTreeItem-content > .MuiTreeItem-iconContainer":_e?{display:"none"}:void 0},group:{borderLeft:"1px solid ".concat(Ae.listItem.groupTextColor)}}}))(),Re=c.useMemo((function(){return{minWidth:ve?Math.round(.6*ve):600,flexShrink:0}}),[ve]),Ne=c.useMemo((function(){return"small"===n.size||!!ve&&ve<650}),[ve,n.size]),Be=ue?ue.map((function(e){return n.variablesContainer.has(e)?null:{text:e,value:e}})).filter(Boolean):[],Ue=function(){n.historyHandler?n.historyHandler.saveToHistory():w(Object(V.e)(C,n.variablesContainer)),n.onVariablesUpdated&&n.onVariablesUpdated()},He=function(){n.historyHandler?n.historyHandler.undo():w(Object(V.f)(C,n.variablesContainer)),pe([])},We=function(){n.historyHandler?n.historyHandler.redo():w(Object(V.d)(C,n.variablesContainer)),pe([])},ze=new R.b({isActive:function(){return!0},shortcutCallbacks:{onUndo:He,onRedo:We}}),Ve=function(e){if(e.startsWith(Z.i))return!1;var t=Object(Z.h)(e,n.variablesContainer),r=t.name,a=t.lineage;if(!r)return!1;var o=Object(Z.d)(a);return o?o.getType()===ee.Variable.Array?o.removeAtIndex(parseInt(r,10)):o.removeChild(r):n.variablesContainer.remove(r),!0},Ge=function(e,t,r){pe([]);var o=h.filter((function(e){return e.startsWith(Z.i)}));g([].concat(Object(a.a)(o),Object(a.a)(Object(Z.e)(n.variablesContainer)))),se&&(Me(),Fe())},Ze=function(){if(0===be.length||be.some((function(e){return e.startsWith(Z.i)}))){var e=Object(G.d)(n.variablesContainer,"Variable",null,n.variablesContainer.count()),t=e.name,r=e.variable;return Ue(),pe([t]),void Ie(r.ptr)}var a=be[0],o=Object(Z.h)(a,n.variablesContainer),i=o.name,s=o.lineage;if(i){var c,u=Object(Z.g)(s);c=u?n.variablesContainer.getPosition(u.name)+1:n.variablesContainer.getPosition(i)+1;var l=Object(G.d)(n.variablesContainer,"Variable",null,c),d=l.name,b=l.variable;Ue(),pe([d]),Ie(b.ptr)}},Ye=function e(t,r){var o,i=t.name,c=t.variable,u=t.parentNodeId,l=t.parentVariable,d=t.isInherited,b=Object(G.e)(c),p=c.getType(),j=u?u.split(Z.k).length:0,O=0===j,x=Ne||!!ve&&(ve<=750?j>=5:ve<=850?j>=6:ve<=950?j>=7:j>=8),y=null;o=u?"".concat(u).concat(Z.k).concat(i):d?"".concat(Z.i).concat(i):i,l&&(y=l.getType());var C=be.includes(o),k=O&&!d&&n.inheritedVariablesContainer&&n.inheritedVariablesContainer.has(i);if(se&&!(fe.includes(o)||fe.includes(u)||fe.some((function(e){return e.startsWith(o)}))))return null;var w={};return p===ee.Variable.String&&(w.padding=0),C&&(w.color=Ae.listItem.selectedTextColor),Object(Q.jsx)(te,{beginDrag:function(){return De.current=o,{}},canDrag:function(){return!d},canDrop:function(){return function(e){if(e.startsWith(Z.i))return!1;var t=De.current;if(!t)return!1;var r=Object(Z.h)(e,n.variablesContainer),a=r.lineage,o=Object(Z.h)(t,n.variablesContainer),i=o.variable;if(!i)return!1;if(Object(Z.j)(i,a))return!1;switch(Object(Z.f)(o,r)){case"InsideTopLevel":case"TopLevelToStructure":case"StructureToTopLevel":case"FromStructureToAnotherStructure":case"FromArrayToAnotherArray":case"InsideSameArray":return!0;default:return!1}}(o)},drop:function(){!function(e){if(!e.startsWith(Z.i)){var t=De.current;if(t){var r=Object(Z.h)(e,n.variablesContainer),a=r.lineage,o=r.name,i=Object(Z.d)(a);if(o){var s=Object(Z.h)(t,n.variablesContainer),c=s.variable,u=s.lineage,l=s.name,d=Object(Z.d)(u);if(c&&l&&!Object(Z.j)(c,a)){var b,p,j,h=!0;switch(Object(Z.f)(s,r)){case"InsideTopLevel":p=n.variablesContainer.getPosition(l),j=n.variablesContainer.getPosition(o),n.variablesContainer.move(p,j>p?j-1:j);break;case"TopLevelToStructure":b=Object(H.a)(l,(function(e){return i.hasChild(e)}),"CopyOf"),i.insertChild(b,c),n.variablesContainer.remove(l),Object(Z.c)(a)&&Ge();break;case"StructureToTopLevel":b=Object(H.a)(l,(function(e){return n.variablesContainer.has(e)}),"CopyOf"),n.variablesContainer.insert(b,c,n.variablesContainer.getPosition(o)),d.removeChild(l),Ge();break;case"FromStructureToAnotherStructure":b=Object(H.a)(l,(function(e){return i.hasChild(e)}),"CopyOf"),i.insertChild(b,c),d.removeChild(l),Object(Z.c)(a)&&Ge();break;case"FromArrayToAnotherArray":p=parseInt(l,10),j=parseInt(o,10),i.insertAtIndex(c,j),d.removeAtIndex(p),Object(Z.c)(a)&&Ge(0,0,j.toString());break;case"InsideSameArray":p=parseInt(l,10);var f=(j=parseInt(o,10))>p?j-1:j;i.moveChildInArray(p,f),Object(Z.c)(a)&&Ge(0,0,f.toString());break;default:h=!1}h&&(Ue(),Fe())}}}}}(o)},children:function(t){var u=t.connectDragSource,l=t.connectDropTarget,A=t.isOver,F=t.canDrop;return Object(Q.jsx)(oe,{tabIndex:-1,nodeId:o,className:b&&c.getChildrenCount()>0?"isCollection":"",classes:Le,label:l(Object(Q.jsxs)("div",{children:[A&&Object(Q.jsx)(D.a,{canDrop:F}),Object(Q.jsxs)("div",{style:{display:"flex",alignItems:"center",padding:Ne?"4px 4px 4px 0px":"6px 30px 6px 6px"},children:[d?Object(Q.jsx)("span",{style:ae.handlePlaceholder}):u(Object(Q.jsx)("span",{children:Object(Q.jsx)(I.a,{color:C?Ae.listItem.selectedTextColor:"#AAA"})})),Object(Q.jsxs)(L.c,{expand:!0,noMargin:!0,width:x?"small":void 0,children:[Object(Q.jsxs)(E.c,{alignItems:"center",noMargin:!0,expand:!0,children:[x?null:Object(Q.jsx)(E.d,{}),Object(Q.jsx)(N.c,{fullWidth:!0,ref:function(e){0===j&&e&&(Te.current[c.ptr]=e)},commitOnInputChange:!n.commitChangesOnBlur,dataSource:O?Be:[],margin:"none",disabled:d||y===ee.Variable.Array,onClick:ne,errorText:ke[c.ptr],onChange:function(e){if(Xe(o,e,j),ke[c.ptr]){var t=Object(s.a)({},ke);delete t[c.ptr],we(t)}Fe()},inputStyle:{color:C?Ae.listItem.selectedTextColor:Ae.listItem.textColor,fontStyle:k?"italic":void 0},value:i,onBlur:function(e){if(Xe(o,e.currentTarget.value,j),ke[c.ptr]){var t=Object(s.a)({},ke);delete t[c.ptr],we(t)}Fe()}},"name"),Object(Q.jsx)(E.d,{})]}),Object(Q.jsx)("div",{style:x?void 0:Re,children:Object(Q.jsxs)(E.c,{noMargin:!0,alignItems:"center",children:[Object(Q.jsx)(E.a,{noMargin:!0,children:Object(Q.jsx)(Y.a,{variableType:p,onChange:function(e){Je(o,e),Fe()},isHighlighted:C,disabled:d})}),Object(Q.jsx)(E.a,{expand:!0,children:p===ee.Variable.Boolean?Object(Q.jsxs)(E.c,{noMargin:!0,children:[Object(Q.jsx)("span",{style:C?{color:Ae.listItem.selectedTextColor}:void 0,children:c.getBool()?Object(Q.jsx)(K.Trans,{id:"True"}):Object(Q.jsx)(K.Trans,{id:"False"})}),d&&!O?null:Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(E.d,{}),Object(Q.jsx)(P.a,{size:"small",style:ae.inlineIcon,onClick:function(){Ke(o,c.getBool()?"false":"true")},tooltip:c.getBool()?{id:"Set to false"}:{id:"Set to true"},children:Object(Q.jsx)(T.a,{htmlColor:C?Ae.listItem.selectedTextColor:void 0})})]})]}):Object(Q.jsx)(S.a,{margin:"none",type:p===ee.Variable.Number?"number":"text",onClick:ne,multiline:p===ee.Variable.String,inputStyle:w,disabled:b||d&&!O,onChange:function(e){Ke(o,e),Fe()},value:b?r._(0===c.getChildrenCount()?{id:"No children"}:1===c.getChildrenCount()?{id:"1 child"}:{id:"{0} children",values:{0:c.getChildrenCount()}}):p===ee.Variable.String?c.getString():c.getValue().toString(),commitOnBlur:n.commitChangesOnBlur},"value")}),b&&!d?Object(Q.jsx)(P.a,{size:"small",style:ae.inlineIcon,tooltip:{id:"Add child"},onClick:function(e){ne(e),function(e){if(!e.startsWith(Z.i)){var t=Object(Z.h)(e,n.variablesContainer).variable;if(t&&Object(G.e)(t)){var r=t.getType();if(r===ee.Variable.Structure){var o=Object(H.a)("ChildVariable",(function(e){return t.hasChild(e)}));t.getChild(o).setString("")}else r===ee.Variable.Array&&t.pushNew();Ue(),t.isFolded()&&t.setFolded(!1),g([].concat(Object(a.a)(h),[e]))}}}(o)},children:Object(Q.jsx)(f.a,{htmlColor:C?Ae.listItem.selectedTextColor:void 0})}):null,b&&d&&O?Object(Q.jsx)(P.a,{size:"small",tooltip:{id:"Edit"},style:ae.inlineIcon,onClick:function(e){ne(e),function(e){if(n.inheritedVariablesContainer){var t=Object(Z.h)(e,n.inheritedVariablesContainer),r=t.variable,o=t.name;if(r&&o&&!n.variablesContainer.has(o)){var i=new ee.Variable;Object(z.c)(i,Object(z.b)(r)),n.variablesContainer.insert(o,i,n.variablesContainer.count()),Ue(),pe([o]),g([].concat(Object(a.a)(h),[o])),i.delete()}}}(o)},children:Object(Q.jsx)(m.a,{htmlColor:C?Ae.listItem.selectedTextColor:void 0})}):null,k&&O?Object(Q.jsx)(P.a,{size:"small",tooltip:{id:"Reset"},style:ae.inlineIcon,onClick:function(e){ne(e),function(e){Ve(e)&&Ue()}(o)},children:Object(Q.jsx)(v.a,{htmlColor:C?Ae.listItem.selectedTextColor:void 0})}):null]})})]})]})]})),onLabelClick:re,children:b?p===ee.Variable.Structure?c.getAllChildrenNames().toJSArray().map((function(t,n){var a=c.getChild(t);return e({name:t,variable:a,parentNodeId:o,parentVariable:c,isInherited:d},r)})):Object(U.mapFor)(0,c.getChildrenCount(),(function(t){var n=c.getAtIndex(t);return e({name:t.toString(),variable:n,parentNodeId:o,parentVariable:c,isInherited:d},r)})):null})}},c.ptr)},qe=function(e,t){var r=h.filter((function(e){return!e.startsWith(Z.i)})),a=t.filter((function(e){return!e.startsWith(Z.i)})),o=r.filter((function(e){return!a.includes(e)})),i=a.filter((function(e){return!r.includes(e)}));Object(Z.a)(n.variablesContainer,o,!0),Object(Z.a)(n.variablesContainer,i,!1),g(t)},Xe=function(e,t,a){var o=Object(Z.h)(e,n.variablesContainer),i=o.variable,c=o.lineage,u=o.name;if(null!==u){if(i&&t){if(t.startsWith(Z.i)||t.includes(Z.k))return void we(Object(s.a)(Object(s.a)({},ke),{},Object(r.a)({},i.ptr,Object(Q.jsx)(K.Trans,{id:"Variables cannot have a name that includes {inheritedPrefix} or {separator}",values:{inheritedPrefix:Z.i,separator:Z.k}}))));if(0===a&&!t.match(/^(?:[A-Z_a-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])(?:[0-9A-Z_a-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])*$/))return void we(Object(s.a)(Object(s.a)({},ke),{},Object(r.a)({},i.ptr,Object(Q.jsx)(K.Trans,{id:'Top variable names can contain letters from any alphabet, digits and "_" character and cannot start with a digit.'}))))}if(t){if(t!==u){var l=Object(Z.d)(c);(l?l.renameChild(u,t):n.variablesContainer.rename(u,t))?(Ue(),function(e,t){g(Object(Z.l)(h,e,t)),pe(Object(Z.l)(be,e,t)),se&&ge(Object(Z.l)(fe,e,t))}(e,t)):i&&we(Object(s.a)(Object(s.a)({},ke),{},Object(r.a)({},i.ptr,Object(Q.jsx)(K.Trans,{id:"The variable name {newName} is already taken",values:{newName:t}}))))}}else i&&we(Object(s.a)(Object(s.a)({},ke),{},Object(r.a)({},i.ptr,Object(Q.jsx)(K.Trans,{id:"Variables cannot have empty names"}))))}},Je=function(e,t){var r=Object(Z.h)(e,n.variablesContainer).variable;r&&(r.castTo(t),Ue())},Ke=function(e,t){var r;if(e.startsWith(Z.i)&&n.inheritedVariablesContainer){var o=Object(Z.h)(e,n.inheritedVariablesContainer),i=o.variable,s=o.name,c=o.depth;if(!s||!i||c>0)return;switch(i.getType()){case ee.Variable.String:if(i.getString()===t)return;break;case ee.Variable.Number:if(parseFloat(t)===i.getValue())return;break;case ee.Variable.Boolean:if("true"===t===i.getBool())return}var u=new ee.Variable;Object(z.c)(u,Object(z.b)(i)),r=n.variablesContainer.insert(s,u,0);var l=Object(a.a)(be);-1!==l.indexOf(e)?(l.splice(l.indexOf(e),1,s),pe(l)):pe([].concat(Object(a.a)(l),[s])),u.delete()}else{r=Object(Z.h)(e,n.variablesContainer).variable}if(r){switch(r.getType()){case ee.Variable.String:if(r.getString()===t)return;r.setString(t);break;case ee.Variable.Number:var d=parseFloat(t);if(d===r.getValue())return;r.setValue(d);break;case ee.Variable.Boolean:var b="true"===t;if(b===r.getBool())return;r.setBool(b);break;default:console.error("Cannot set variable with type ".concat(r.getType()," - are you sure it's a primitive type?"))}Ue(),Fe()}},Qe=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t&&n.inheritedVariablesContainer?n.inheritedVariablesContainer:n.variablesContainer,a=Object(U.mapFor)(0,r.count(),(function(a){var o=r.getAt(a),i=r.getNameAt(a);return t&&n.variablesContainer.has(i)?null:Ye({name:i,variable:o,isInherited:t},e)}));return a},$e=Object(Q.jsx)(X.a,{isNarrow:Ne,onCopy:function(){W.b.set(q.a,be.map((function(e){var t=Object(Z.h)(e,e.startsWith(Z.i)&&n.inheritedVariablesContainer?n.inheritedVariablesContainer:n.variablesContainer),r=t.variable,a=t.name,o=t.lineage;if(!r||!a)return null;var i=!1,s=Object(Z.d)(o);return s&&s.getType()!==ee.Variable.Structure||(i=!0),{nameOrIndex:a,serializedVariable:Object(z.b)(r),hasName:i}})).filter(Boolean)),Fe()},onPaste:function(){if(W.b.has(q.a)){var e=[],t=W.b.get(q.a),r=W.a.extractArray(t);if(r){var a=0;r.forEach((function(t){var r=W.a.extractStringProperty(t,"nameOrIndex"),o=W.a.extractObjectProperty(t,"serializedVariable"),i=W.a.extractBooleanProperty(t,"hasName");if(r&&o&&null!==i){var s=i?r:null;if(0===be.length||be.some((function(e){return e.startsWith(Z.i)}))){if(!s)return;var c=Object(G.d)(n.variablesContainer,s,o).name;e.push(c)}else{var u=be[0];if(u.startsWith(Z.i))return;var l=Object(Z.h)(u,n.variablesContainer),d=l.name,b=l.lineage;if(!d)return;var p=Object(Z.d)(b);if(p){var j=p.getType();if(j===ee.Variable.Structure&&!s||j===ee.Variable.Array&&s)return;if(j===ee.Variable.Array){var h=parseInt(d,10)+1;Object(G.c)(p,o,h);var f=u.split(Z.k);f.splice(f.length-1,1,(h+a).toString()),e.push(f.join(Z.k)),a+=1}else{if(!s)return;var g=Object(G.b)(p,s,o),m=u.split(Z.k);m.splice(m.length-1,1,g),e.push(m.join(Z.k))}}else{if(!s)return;var O=Object(G.d)(n.variablesContainer,s,o,n.variablesContainer.getPosition(d)+1).name;e.push(O)}}}})),Ue(),pe(e)}}},onDelete:function(){be.map(Ve).some(Boolean)&&pe([])},canCopy:be.length>0,canPaste:W.b.has(q.a),canDelete:be.length>0&&be.every((function(e){return!e.startsWith(Z.i)})),onUndo:He,onRedo:We,canUndo:n.historyHandler?n.historyHandler.canUndo():Object(V.b)(C),canRedo:n.historyHandler?n.historyHandler.canRedo():Object(V.a)(C),hideHistoryChangeButtons:!!n.historyHandler,onAdd:Ze,searchText:se,onChangeSearchText:ce});return Object(Q.jsx)(K.I18n,{children:function(e){var t=e.i18n;return Object(Q.jsx)(l.a,{onClickAway:function(){return pe([])},children:Object(Q.jsx)(u.a,{bounds:!0,onResize:function(e){xe(e.bounds.width)},children:function(e){e.contentRect;var r=e.measureRef;return Object(Q.jsx)("div",{ref:r,style:{flex:1,display:"flex",minHeight:0},onKeyDown:ze.onKeyDown,onKeyUp:ze.onKeyUp,children:Object(Q.jsxs)(E.a,{expand:!0,useFullHeight:!0,noMargin:!0,children:[Ne?null:$e,0!==n.variablesContainer.count()||n.inheritedVariablesContainer&&0!==n.inheritedVariablesContainer.count()?Object(Q.jsx)(M.a,{autoHideScrollbar:!0,children:Object(Q.jsxs)(b.a,{multiSelect:!0,defaultExpandIcon:Object(Q.jsx)(y.a,{}),defaultCollapseIcon:Object(Q.jsx)(k.a,{}),onNodeSelect:function(e,t){return pe(t)},onNodeToggle:qe,selected:be,expanded:h,children:[n.inheritedVariablesContainer?Qe(t,!0):null,Qe(t)]})}):Object(Q.jsx)(E.a,{noMargin:!0,expand:!0,justifyContent:"center",children:n.emptyPlaceholderTitle&&n.emptyPlaceholderDescription?Object(Q.jsx)(F.a,{title:n.emptyPlaceholderTitle,description:n.emptyPlaceholderDescription,actionLabel:Object(Q.jsx)(K.Trans,{id:"Add a variable"}),helpPagePath:n.helpPagePath||void 0,tutorialId:"intermediate-advanced-variables",onAction:Ze}):null}),Ne?$e:null]})})}})})}})}}).call(this,n(25))},,,,,function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return l})),n.d(t,"d",(function(){return d}));var r=n(3),a=n(19),o=n(338),i=function(e,t){var n=t.historyMaxSize;return{previousActions:[],currentValue:Object(o.b)(e),futureActions:[],maxSize:n}},s=function(e){return!!e.futureActions.length},c=function(e){return!!e.previousActions.length},u=function(e,t,n,i){var s=Object(o.b)(t),c=[].concat(Object(a.a)(e.previousActions),[{type:n,valueBeforeChange:e.currentValue,changeContext:i}]);return c.length>e.maxSize&&c.splice(0,c.length-e.maxSize),Object(r.a)(Object(r.a)({},e),{},{currentValue:s,previousActions:c,futureActions:[]})},l=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if(!e.previousActions.length)return e;var i=e.previousActions[e.previousActions.length-1],s=i.valueBeforeChange;Object(o.c)(t,s,"unserializeFrom",n);var c=e.previousActions.slice(0,-1),u=[].concat(Object(a.a)(e.futureActions),[{type:i.type,changeContext:i.changeContext,valueAfterChange:e.currentValue}]);return Object(r.a)(Object(r.a)({},e),{},{previousActions:c,futureActions:u,currentValue:s})},d=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if(!e.futureActions.length)return e;var i=e.futureActions[e.futureActions.length-1],s=i.valueAfterChange;Object(o.c)(t,s,"unserializeFrom",n);var c=[].concat(Object(a.a)(e.previousActions),[{type:i.type,changeContext:i.changeContext,valueBeforeChange:e.currentValue}]),u=e.futureActions.slice(0,-1);return Object(r.a)(Object(r.a)({},e),{},{previousActions:c,futureActions:u,currentValue:s})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase()}},,,,,,,,,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a}));var r=e.gd,a=function(e){var t=new r.MapStringString;for(var n in e)t.set(n,e[n]);return t}}).call(this,n(25))},,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(34),a=n(9),o=n(17),i=n(298),s=n(303),c=n(1637),u=n.n(c),l=n(1638),d=n.n(l),b=n(319),p=n(295),j=n(54),h=n(439),f=n(296),g=n(411),m=n(8),O={icon:{width:40,height:40,marginRight:20},iconText:{flex:1}},v=o.forwardRef((function(e,t){var n=e.mode,c=e.id,l=e.title,v=e.onChangeSubscription,x=o.useContext(b.a),y=o.useState(!1),C=Object(r.a)(y,2),k=C[0],w=C[1],T=o.useContext(h.a).openSubscriptionDialog,E=function(){Object(j.z)(),w(!1)},S=function(){return Object(g.l)(x.subscription)?(w(!1),!0):(w(!0),Object(j.y)({mode:n,id:c}),!1)};return o.useImperativeHandle(t,(function(){return{checkUserHasSubscription:S}})),Object(m.jsx)(s.c,{open:k,title:"try"===n?Object(m.jsx)(a.Trans,{id:"We need your support!"}):l,actions:[Object(m.jsx)(i.a,{label:"try"===n?Object(m.jsx)(a.Trans,{id:"Continue anyway"}):Object(m.jsx)(a.Trans,{id:"Not now, thanks!"}),primary:!1,onClick:E},"close"),Object(m.jsx)(s.a,{label:Object(m.jsx)(a.Trans,{id:"Get a subscription or login"}),primary:!0,onClick:function(){v&&v(),w(!1),T({reason:c,preStep:"subscriptionChecker"})}},"subscribe")],onRequestClose:E,maxWidth:"sm",children:Object(m.jsxs)(p.a,{noMargin:!0,children:[Object(m.jsx)(p.c,{noMargin:!0,alignItems:"center",children:"try"===n?Object(m.jsx)(f.a,{children:Object(m.jsx)(a.Trans,{id:"Please get a subscription to keep GDevelop running."})}):Object(m.jsx)(f.a,{children:Object(m.jsx)(a.Trans,{id:"To use this feature, you need a GDevelop subscription."})})}),Object(m.jsxs)(p.c,{noMargin:!0,alignItems:"center",children:[Object(m.jsx)(u.a,{style:O.icon}),Object(m.jsx)(f.a,{style:O.iconText,children:Object(m.jsx)(a.Trans,{id:"Get a subscription to gain more one-click exports, cloud projects, leaderboards and remove the GDevelop splashscreen."})})]}),Object(m.jsxs)(p.c,{noMargin:!0,alignItems:"center",children:[Object(m.jsx)(d.a,{style:O.icon}),Object(m.jsx)(f.a,{style:O.iconText,children:Object(m.jsx)(a.Trans,{id:"You're also supporting the development of GDevelop, an open-source software! In the future, more online services will be available for users with a subscription."})})]}),Object(m.jsx)(p.b,{}),Object(m.jsx)(f.a,{align:"right",children:Object(m.jsx)("b",{children:Object(m.jsx)(a.Trans,{id:"Thanks!"})})})]})})}));t.a=v},function(e,t,n){"use strict";n.d(t,"b",(function(){return w})),n.d(t,"a",(function(){return T}));var r=n(2),a=n(34),o=n(0),i=n.n(o),s=n(17),c=n.n(s),u=n(324),l=n(1020),d=n(297),b=n(340),p=n(322),j=n(321),h=n(1021),f=n(376),g=n(319),m=n(9),O=n(295),v=n(347),x=n(312),y=n(1022),C=n(8),k=n(1639),w=function(e){var t=e;return/[\u0411\u0413\u0414\u0416\u0417\u0418\u0419\u041b\u041f\u0424\u0426\u0427\u0428\u0429\u042b\u042d\u042e\u042f\u0431\u0432\u0433\u0434\u0436\u0437\u0438\u0439\u043a\u043b\u043c\u043d\u043f\u0442\u0444\u0446\u0447\u0448\u0449\u044b\u044d\u044e\u044f]/.test(e)&&(t=e.split("").map((function(e){var t=k[e];return void 0===t?e:t})).join("")),t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-zA-Z0-9]/g,"-").toLowerCase().slice(0,30)};function T(e){var t=e.project,n=e.disabled,o=e.setName,s=e.name,k=e.categories,T=e.setCategories,E=e.setDescription,S=e.description,P=e.setAuthorIds,I=e.setAuthorUsernames,A=e.authorIds,D=e.setOwnerIds,F=e.ownerIds,M=e.setPlayableWithKeyboard,_=e.playWithKeyboard,L=e.setPlayableWithGamepad,R=e.playWithGamepad,N=e.setPlayableWithMobile,B=e.playWithMobile,U=e.setOrientation,H=e.orientation,W=e.userSlug,z=e.setUserSlug,V=e.gameSlug,G=e.setGameSlug,Z=e.setDiscoverable,Y=e.discoverable,q=e.displayThumbnail,X=e.thumbnailUrl,J=c.a.useState(""),K=Object(a.a)(J,2),Q=K[0],$=K[1],ee=c.a.useContext(g.a).profile,te=W&&W.length&&ee&&ee.username,ne=te&&ee&&W!==ee.username,re=c.a.useState([]),ae=Object(a.a)(re,2),oe=ae[0],ie=ae[1],se=c.a.useCallback(Object(r.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.e)();case 2:t=e.sent,ie(t);case 4:case"end":return e.stop()}}),e)}))),[]);return c.a.useEffect((function(){se()}),[se]),Object(C.jsx)(m.I18n,{children:function(e){var r=e.i18n;return Object(C.jsxs)(d.a,{noMargin:!0,children:[Object(C.jsxs)(d.c,{noMargin:!0,children:[q&&Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(O.a,{noMargin:!0,children:Object(C.jsx)(y.a,{gameName:t.getName(),thumbnailUrl:X})}),Object(C.jsx)(O.d,{})]}),Object(C.jsxs)(d.a,{noMargin:!0,expand:!0,children:[Object(C.jsx)(u.a,{floatingLabelText:Object(C.jsx)(m.Trans,{id:"Game name"}),fullWidth:!0,type:"text",value:s,onChange:o,autoFocus:"desktop",disabled:n}),T&&Object(C.jsx)(h.a,{hintText:{id:"Select a genre"},floatingLabelText:Object(C.jsx)(m.Trans,{id:"Genres"}),helperText:Object(C.jsx)(m.Trans,{id:"Select up to 3 genres for the game to be visible on gd.games's categories pages!"}),value:k?k.map((function(e){return{value:e,text:Object(f.c)(e,r)}})):[],onChange:function(e,t){T(t?t.map((function(e){return e.value})):[]),$("")},inputValue:Q,onInputChange:function(e,t,n){"input"===n&&$(t)},dataSource:oe.map((function(e){return{value:e.name,text:Object(f.c)(e.name,r),disabled:"admin-only"===e.type}})),fullWidth:!0,optionsLimit:3,disabled:n,loading:0===oe.length}),Z&&Object(C.jsx)(b.a,{label:Object(C.jsx)(m.Trans,{id:"Make your game discoverable on gd.games"}),checked:!!Y,onCheck:function(e,t){return Z(t)},disabled:n})]})]}),q&&Object(C.jsx)(O.c,{noMargin:!0,children:Object(C.jsx)(v.a,{children:Object(C.jsx)(m.Trans,{id:"To update your thumbnail, go into your Game Settings > Icons and thumbnail, then create and publish a new build."})})}),Object(C.jsx)(u.a,{floatingLabelText:Object(C.jsx)(m.Trans,{id:"Game description"}),fullWidth:!0,type:"text",value:S||"",onChange:E,multiline:!0,rows:5,disabled:n}),z&&G&&Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(O.c,{children:[Object(C.jsxs)(p.a,{fullWidth:!0,floatingLabelText:Object(C.jsx)(m.Trans,{id:"User name in the game URL"}),value:W||"",onChange:function(e,t,n){return z(n)},disabled:!ne||n,children:[ee&&ee.username&&Object(C.jsx)(j.a,{value:ee.username,primaryText:ee.username}),W&&(!ee||W!==ee.username)&&Object(C.jsx)(j.a,{value:W,primaryText:W})]}),Object(C.jsx)(O.d,{}),Object(C.jsx)(u.a,{disabled:!te||n,floatingLabelText:Object(C.jsx)(m.Trans,{id:"Game name in the game URL"}),fullWidth:!0,maxLength:30,type:"text",value:te&&V||"",onChange:function(e){return G(w(e))}})]}),!te&&Object(C.jsx)(x.a,{kind:"info",children:Object(C.jsx)(m.Trans,{id:"Usernames are required to choose a custom game URL."})})]}),Object(C.jsx)(l.a,{userIds:A,onChange:function(e){P(e.map((function(e){return e.userId}))),I(e.map((function(e){return e.username})))},floatingLabelText:Object(C.jsx)(m.Trans,{id:"Authors"}),helperText:Object(C.jsx)(m.Trans,{id:"Select the usernames of the authors of this project. They will be displayed in the selected order, if you publish this game as an example or in the community."}),disabled:n}),D&&Object(C.jsx)(l.a,{userIds:F||[],onChange:function(e){return D(e.map((function(e){return e.userId})))},floatingLabelText:Object(C.jsx)(m.Trans,{id:"Owners"}),helperText:Object(C.jsx)(m.Trans,{id:"Select the usernames of the owners of this project to let them manage this game builds. Be aware that owners can revoke your ownership."}),disabled:n}),Object(C.jsxs)(p.a,{fullWidth:!0,floatingLabelText:Object(C.jsx)(m.Trans,{id:"Device orientation (for mobile)"}),value:H,onChange:function(e,t,n){return U(n)},disabled:n,children:[Object(C.jsx)(j.a,{value:"default",primaryText:{id:"Platform default"}}),Object(C.jsx)(j.a,{value:"landscape",primaryText:{id:"Landscape"}}),Object(C.jsx)(j.a,{value:"portrait",primaryText:{id:"Portrait"}})]}),M&&L&&N&&Object(C.jsxs)(c.a.Fragment,{children:[Object(C.jsx)(b.a,{label:Object(C.jsx)(m.Trans,{id:"Playable with a keyboard"}),checked:!!_,onCheck:function(e,t){return M(t)},disabled:n}),Object(C.jsx)(b.a,{label:Object(C.jsx)(m.Trans,{id:"Playable with a gamepad"}),checked:!!R,onCheck:function(e,t){return L(t)},disabled:n}),Object(C.jsx)(b.a,{label:Object(C.jsx)(m.Trans,{id:"Playable on mobile"}),checked:!!B,onCheck:function(e,t){return N(t)},disabled:n})]})]})}})}t.c=T},function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return f}));var r=n(2),a=n(34),o=n(0),i=n.n(o),s=n(17),c=n(634),u=n(566),l=n(638),d=n(39),b=n(8),p=new Set,j=new Set(["community"]),h=s.createContext({filters:null,searchResults:null,fetchExtensionsAndFilters:function(){},error:null,searchText:"",setSearchText:function(){},allCategories:[],chosenCategory:"",setChosenCategory:function(){},extensionShortHeadersByName:{},filtersState:{chosenFilters:new Set,addFilter:function(){},removeFilter:function(){},chosenCategory:null,setChosenCategory:function(){}}}),f=function(e){var t=e.children,n=e.defaultSearchText,o=s.useState({}),f=Object(a.a)(o,2),g=f[0],m=f[1],O=s.useContext(d.a).values.showCommunityExtensions,v=s.useState(null),x=Object(a.a)(v,2),y=x[0],C=x[1],k=s.useState([]),w=Object(a.a)(k,2),T=w[0],E=w[1],S=s.useState([]),P=Object(a.a)(S,2),I=P[0],A=P[1],D=s.useState(null),F=Object(a.a)(D,2),M=F[0],_=F[1],L=s.useRef(!1),R=s.useState(n||""),N=Object(a.a)(R,2),B=N[0],U=N[1],H=s.useState(""),W=Object(a.a)(H,2),z=W[0],V=W[1],G=Object(c.b)(),Z=s.useCallback((function(){Object.keys(g).length||L.current||Object(r.a)(i.a.mark((function e(){var t,n,r,a,o,s,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(null),L.current=!0,e.prev=2,e.next=5,Object(u.c)();case 5:t=e.sent,n=t.extensionShortHeaders,r=t.allTags,a=t.allCategories,o=r.slice().sort((function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())})),s=a.slice().sort((function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())})),c={},n.forEach((function(e){c[e.name]=e})),console.info("Loaded ".concat(n.length," extensions from the extension store.")),m(c),C({allTags:o,defaultTags:o,tagsTree:[]}),E(s),A(t.views?t.views.default.firstExtensionIds:[]),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(2),console.error("Unable to load the extensions from the extension store:",e.t0),_(e.t0);case 22:L.current=!1;case 23:case"end":return e.stop()}}),e,null,[[2,18]])})))()}),[g,L]);s.useEffect((function(){if(!Object.keys(g).length&&!L.current){var e=setTimeout((function(){console.info("Pre-fetching extensions from extension store..."),Z()}),5e3);return function(){return clearTimeout(e)}}}),[Z,g,L]);var Y=Object(l.e)(g,{searchText:B,chosenItemCategory:z,chosenCategory:G.chosenCategory,chosenFilters:G.chosenFilters,excludedTiers:O?p:j,defaultFirstSearchItemIds:I}),q=s.useMemo((function(){return{searchResults:Y,fetchExtensionsAndFilters:Z,filters:y,allCategories:T,chosenCategory:z,setChosenCategory:V,error:M,searchText:B,setSearchText:U,extensionShortHeadersByName:g,filtersState:G}}),[Y,M,y,T,z,V,B,g,G,Z]);return Object(b.jsx)(h.Provider,{value:q,children:t})}},,,,,function(e,t,n){"use strict";var r=n(17),a={openUserPublicProfile:function(e){}},o=r.createContext(a);t.a=o},function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d}));var r=n(2),a=n(0),o=n.n(a),i=n(60),s=n(566),c=n(641),u=n(26),l=function(){var e=Object(r.a)(o.a.mark((function e(t,n,r,a){var u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(s.a)(a);case 3:return u=e.sent,e.next=6,Object(c.b)(r,n,[u]);case 6:return e.abrupt("return",!0);case 9:return e.prev=9,e.t0=e.catch(0),Object(i.a)({message:t._({id:"Unable to download and install the extension. Verify that your internet connection is working or try again later."}),rawError:e.t0,errorId:"download-extension-error"}),e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n,r,a){return e.apply(this,arguments)}}(),d=function(){var e=Object(r.a)(o.a.mark((function e(t,n,r){var a,s,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.getEventsFunctionsExtensionOpener()){e.next=3;break}return e.abrupt("return",!1);case 3:return e.prev=3,e.next=6,a.chooseEventsFunctionExtensionFile();case 6:if(s=e.sent){e.next=9;break}return e.abrupt("return",!1);case 9:return e.next=11,a.readEventsFunctionExtensionFile(s);case 11:if(l=e.sent,!r.hasEventsFunctionsExtensionNamed(l.name)){e.next=16;break}if(u.b.showConfirmDialog(t._({id:"An extension with this name already exists in the project. Importing this extension will replace it: are you sure you want to continue?"}))){e.next=16;break}return e.abrupt("return",!1);case 16:return e.next=18,Object(c.b)(n,r,[l],!1);case 18:return e.abrupt("return",!0);case 21:return e.prev=21,e.t0=e.catch(3),Object(i.a)({message:t._({id:"An error happened while loading this extension. Please check that it is a proper extension file and compatible with this version of GDevelop"}),rawError:e.t0,errorId:"extension-loading-error"}),e.abrupt("return",!1);case 25:case"end":return e.stop()}}),e,null,[[3,21]])})));return function(t,n,r){return e.apply(this,arguments)}}()},,function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(12),a=n.n(r);function o(e){var t=!1,n=void 0;return function(){return t||(console.info("Lazy loading ".concat(e,"...")),n=a()(e),t=!0),n}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n(2),a=n(34),o=n(0),i=n.n(o),s=n(9),c=n(17),u=n(573),l=n(319),d=n(312),b=n(60),p=n(348),j=n(323),h=n(305),f=n(376),g=n(8),m=function(e){var t=e.project,n=e.suggestGameStatsEmail,o=e.hideLoader,m=e.onGameRegistered,O=c.useContext(l.a),v=O.authenticated,x=O.onLogin,y=O.onCreateAccount,C=O.getAuthorizationHeader,k=O.profile,w=O.onAcceptGameStatsEmail,T=c.useState(null),E=Object(a.a)(T,2),S=E[0],P=E[1],I=c.useState(null),A=Object(a.a)(I,2),D=A[0],F=A[1],M=c.useState(null),_=Object(a.a)(M,2),L=_[0],R=_[1],N=c.useState(!1),B=Object(a.a)(N,2),U=B[0],H=B[1],W=c.useState(!1),z=Object(a.a)(W,2),V=z[0],G=z[1],Z=c.useCallback(Object(r.a)(i.a.mark((function e(){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(k&&t){e.next=2;break}return e.abrupt("return");case 2:return n=k.id,P(null),e.prev=4,e.next=7,Object(f.d)(C,n,t.getProjectUuid());case 7:r=e.sent,F(null),R(r),e.next=25;break;case 12:if(e.prev=12,e.t0=e.catch(4),console.error(e.t0),!e.t0.response){e.next=24;break}if(403!==e.t0.response.status){e.next=21;break}return F("unauthorized"),e.abrupt("return");case 21:if(404!==e.t0.response.status){e.next=24;break}return F("not-existing"),e.abrupt("return");case 24:P(e.t0);case 25:case"end":return e.stop()}}),e,null,[[4,12]])}))),[t,C,k]),Y=c.useCallback(Object(r.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(k&&t){e.next=2;break}return e.abrupt("return");case 2:return n=k.id,H(!0),e.prev=4,e.next=7,Object(f.i)(C,n,{gameId:t.getProjectUuid(),authorName:t.getAuthor()||"Unspecified publisher",gameName:t.getName()||"Untitled game",templateSlug:t.getTemplateSlug()});case 7:Z(),m&&m(),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),console.error("Unable to register the game",e.t0),Object(b.a)({rawError:e.t0,errorId:"register-game-error",message:"Unable to register the game. Verify your internet connection or try again later."});case 15:H(!1);case 16:case"end":return e.stop()}}),e,null,[[4,11]])}))),[C,k,t,Z,m]),q=c.useCallback(Object(r.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(k&&t){e.next=2;break}return e.abrupt("return");case 2:return G(!0),e.prev=3,e.next=6,w();case 6:e.next=12;break;case 8:e.prev=8,e.t0=e.catch(3),console.error("Unable to accept game stats email.",e.t0),Object(b.a)({rawError:e.t0,errorId:"game-stats-email-error",message:"Unable to accept game stats email.  Verify your internet connection or try again later."});case 12:G(!1);case 13:case"end":return e.stop()}}),e,null,[[3,8]])}))),[k,t,w]);return c.useEffect((function(){L||Z()}),[Z,L]),t?v&&k?"not-existing"===D?Object(g.jsx)(d.a,{kind:"info",renderRightButton:function(){return Object(g.jsx)(h.a,{label:Object(g.jsx)(s.Trans,{id:"Register the project"}),disabled:U,primary:!0,onClick:Y})},children:Object(g.jsx)(s.Trans,{id:"The project currently opened is not registered online. Register it now to get access to leaderboards, player accounts, analytics and more!"})}):"unauthorized"===D?Object(g.jsx)(d.a,{kind:"error",children:Object(g.jsx)(s.Trans,{id:"The project currently opened is registered online but you don't have access to it. Ask the original owner of the game to share it with you to be able to manage it."})}):S?Object(g.jsxs)(p.a,{onRetry:function(){Z()},children:[Object(g.jsx)(s.Trans,{id:"Can't check if the game is registered online."})," ",Object(g.jsx)(s.Trans,{id:"Verify your internet connection or try again later."})]}):L||o?L&&n&&!k.getGameStatsEmail?Object(g.jsx)(d.a,{kind:"info",renderRightButton:function(){return Object(g.jsx)(h.a,{label:Object(g.jsx)(s.Trans,{id:"Get game stats"}),disabled:V,primary:!0,onClick:q})},children:Object(g.jsx)(s.Trans,{id:"Receive weekly stats about your game by email!"})}):null:Object(g.jsx)(j.a,{}):Object(g.jsx)(u.a,{onLogin:x,onCreateAccount:y}):null}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){return Date.now()+"-"+Math.floor(1e6*Math.random())}},,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(2),a=n(34),o=n(0),i=n.n(o),s=n(9),c=n(17),u=n.n(c),l=n(303),d=n(298),b=n(520),p=n(431),j=n(1277),h=n(8);t.a=function(e){var t=e.userId,n=e.onClose,o=e.onAssetPackOpen,c=u.a.useState(null),f=Object(a.a)(c,2),g=f[0],m=f[1],O=u.a.useState(null),v=Object(a.a)(O,2),x=v[0],y=v[1],C=u.a.useState(null),k=Object(a.a)(C,2),w=k[0],T=k[1],E=u.a.useCallback(Object(r.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return m(null),e.prev=3,e.next=6,Object(b.b)(t);case 6:n=e.sent,m(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),T(e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])}))),[t]),S=u.a.useCallback(Object(r.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return y(null),e.prev=3,e.next=6,Object(p.g)({sellerId:t,productType:"asset-pack"});case 6:n=e.sent,y(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),T(e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])}))),[t]);u.a.useEffect((function(){E(),S()}),[t,E,S]);return Object(h.jsx)(l.c,{title:null,open:!0,maxWidth:"sm",actions:[Object(h.jsx)(d.a,{label:Object(h.jsx)(s.Trans,{id:"Close"}),primary:!1,onClick:n},"close")],onRequestClose:n,children:Object(h.jsx)(j.a,{profile:g,error:w,onRetry:function(){T(null),E()},assetPacksListingData:x,onAssetPackOpen:o})})}},function(e,t,n){"use strict";var r=n(3),a=n(17);t.a=function(e,t,n){var o=Object(a.useRef)(null);Object(a.useEffect)((function(){if(e)return o.current=new IntersectionObserver(t,Object(r.a)({root:null,threshold:.8},n)),o.current.observe(e),function(){o.current&&o.current.disconnect()}}),[e,t,n])}},function(e,t,n){"use strict";n.d(t,"l",(function(){return b})),n.d(t,"q",(function(){return p})),n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return g})),n.d(t,"h",(function(){return m})),n.d(t,"m",(function(){return O})),n.d(t,"k",(function(){return v})),n.d(t,"j",(function(){return x})),n.d(t,"i",(function(){return y})),n.d(t,"r",(function(){return C})),n.d(t,"p",(function(){return k})),n.d(t,"g",(function(){return w})),n.d(t,"f",(function(){return T})),n.d(t,"e",(function(){return E})),n.d(t,"d",(function(){return S})),n.d(t,"n",(function(){return P})),n.d(t,"o",(function(){return I}));var r=n(19),a=n(3),o=(n(17),n(1116)),i=n.n(o),s=n(1117),c=(n(1266),n(1200)),u=n(1224),l=n(1226),d=(n(1234),n(1235)),b=function(){return{editors:[],currentTab:0}},p=function(e,t){var n=t.label,o=t.icon,s=t.projectItemName,c=t.tabOptions,u=t.renderEditorContainer,l=t.key,d=t.extraEditorProps,b=t.dontFocusTab,p=t.closable,j=i()(e.editors,(function(e){return e.key===l}));if(-1!==j)return Object(a.a)(Object(a.a)({},e),{},{currentTab:b?e.currentTab:j});var h={label:n,icon:o,projectItemName:s,tabOptions:c,renderEditorContainer:u,key:l,extraEditorProps:d,editorRef:null,closable:"undefined"===typeof p||!!p};return Object(a.a)(Object(a.a)({},e),{},{editors:[].concat(Object(r.a)(e.editors),[h]),currentTab:b?e.currentTab:e.editors.length})},j=function(e,t){return Object(a.a)(Object(a.a)({},e),{},{currentTab:Math.max(0,Math.min(t,e.editors.length-1))})},h=function(e,t){var n=x(e),r=e.editors.filter(t);return j(Object(a.a)(Object(a.a)({},e),{},{editors:r}),r.indexOf(n)||0)},f=function(e){return h(e,(function(e){return!e.closable}))},g=function(e,t){return h(e,(function(e){return e!==t}))},m=function(e,t){return h(e,(function(e){return!e.closable||e===t}))},O=function(e){return e.editors},v=function(e){return e.currentTab},x=function(e){return e.editors[e.currentTab]},y=function(e,t){return h(e,(function(e){var n=e.editorRef&&e.editorRef.getProject();return!n||n!==t}))},C=function(e){e.editors.forEach((function(e){e.editorRef&&(e.editorRef instanceof d.a||e.editorRef instanceof l.a)&&e.editorRef.saveUiSettings()}))},k=function(e){e.editors.forEach((function(e){var t=e.editorRef;t instanceof c.a&&t.previewWillStart()}))},w=function(e,t){return h(e,(function(e){var n=e.editorRef;if(n instanceof s.a||n instanceof u.a||n instanceof l.a||n instanceof d.a){var r=n.getLayout();return!r||r!==t}return!0}))},T=function(e,t){return h(e,(function(e){var n=e.editorRef;return!(n instanceof l.a)||(!n.getExternalLayout()||n.getExternalLayout()!==t)}))},E=function(e,t){return h(e,(function(e){var n=e.editorRef;return!(n instanceof u.a)||(!n.getExternalEvents()||n.getExternalEvents()!==t)}))},S=function(e,t){return h(e,(function(e){var n=e.editorRef;return!(n instanceof c.a)||(!n.getEventsFunctionsExtension()||n.getEventsFunctionsExtension()!==t)}))},P=function(e,t){for(var n=0;n<e.editors.length;++n){var r=e.editors[n].editorRef;if(r instanceof c.a&&r.getEventsFunctionsExtension()===t)return{editor:r,tabIndex:n}}return null},I=function(e,t,n){return A(e,t,t>n?n+1:n)},A=function(e,t,n){var a=Object(r.a)(O(e)),o=a[t];a.splice(t,1),a.splice(n,0,o);var i=v(e),s=i;return t===i?s=n:t<i&&n>=i?s-=1:t>i&&n<=i&&(s+=1),{editors:a,currentTab:s}}},function(e,t,n){"use strict";(function(e){var r=n(3),a=n(19),o=n(6),i=n(5),s=n(7),c=n(10),u=n(11),l=n(9),d=n(17),b=n(1118),p=n(670),j=n(1970),h=n(1976),f=n(1977),g=n(2493),m=n(558),O=n(440),v=n(1978),x=n(497),y=n(338),C=n(738),k=n(578),w=n(1979),T=n(1980),E=n(1981),S=n(1983),P=n(1984),I=n(1145),A=n(39),D=n(1985),F=n(1153),M=n(1143),_=n(569),L=n(363),R=n(309),N=n(319),B=n(433),U=n(648),H=n(512),W=n(8),z=e.gd,V=1,G=50,Z={container:{display:"flex",width:"100%",flexDirection:"column",flex:1,position:"relative"}},Y=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var i;return Object(o.a)(this,n),(i=t.call(this,e))._containerDiv=d.createRef(),i._keyboardShortcuts=new m.b({isActive:function(){return!i.state.inlineEditing&&!i.state.editedInstruction.instruction&&!i.state.analyzedEventsContextResult&&!i.state.serializedEventsToExtract},shortcutCallbacks:{onDelete:function(){return i.deleteSelection()},onCopy:function(){return i.copySelection()},onCut:function(){return i.cutSelection()},onPaste:function(){return i.pasteEventsOrInstructions()},onSearch:function(){return i._toggleSearchPanel()},onEscape:function(){return i._closeSearchPanel()},onUndo:function(){return i.undo()},onRedo:function(){return i.redo()},onZoomIn:function(e){return i.onZoomEvent("IN")(e)},onZoomOut:function(e){return i.onZoomEvent("OUT")(e)}}}),i.state={eventsHistory:Object(C.c)(i.props.events,{historyMaxSize:100}),editedInstruction:{isCondition:!0,instruction:null,instrsList:null,indexInList:0,locatingEvent:null},editedParameter:{isCondition:!0,instruction:null,instrsList:null,parameterIndex:0,locatingEvent:null},selection:Object(k.b)(),inlineEditing:!1,inlineEditingAnchorEl:null,inlineInstructionEditorAnchorEl:null,inlineEditingPreviousValue:null,analyzedEventsContextResult:null,serializedEventsToExtract:null,showSearchPanel:!1,searchResults:null,searchFocusOffset:null,allEventsMetadata:[],textEditedEvent:null,fontSize:14},i._addStandardEvent=function(){i.addNewEvent("BuiltinCommonInstructions::Standard")},i._addCommentEvent=function(){i.addNewEvent("BuiltinCommonInstructions::Comment")},i._toggleSearchPanel=function(){i.setState((function(e){if(!(e.showSearchPanel&&i._searchPanel&&i._searchPanel.isSearchOngoing())){var t=!e.showSearchPanel;return t||i._eventSearcher&&i._eventSearcher.reset(),{showSearchPanel:t}}i._searchPanel.focus()}),(function(){i.state.showSearchPanel&&i._searchPanel&&i._searchPanel.focus()}))},i._closeSearchPanel=function(){i._eventSearcher&&i._eventSearcher.reset(),i.setState({showSearchPanel:!1})},i.addSubEvents=function(){var e=i.props.project,t=Object(k.d)(i.state.selection);if(t){var n=t.event.getSubEvents().insertNewEvent(e,"BuiltinCommonInstructions::Standard",t.event.getSubEvents().getEventsCount());i._eventsTree&&i._eventsTree.forceEventsUpdate((function(){var e=i._getChangedEventRows([n]);i._saveChangesToHistory("ADD",{positionsBeforeAction:e,positionAfterAction:e})}))}},i._selectionCanHaveSubEvents=function(){return Object(k.h)(i.state.selection).some((function(e){return e.canHaveSubEvents()}))},i._selectionCanToggleDisabled=function(){return Object(k.h)(i.state.selection).some((function(e){return e.isExecutable()}))},i._addNewEvent=function(e,t){var n,r=i.props.project,a=Object(k.c)(i.state.selection),o=!1,s=Object(L.b)();t?n=t:a?("BuiltinCommonInstructions::Comment"!==e&&"BuiltinCommonInstructions::Group"!==e||(o=!0),n={eventsList:a.eventsList,indexInList:o?a.indexInList-1:a.indexInList}):n={eventsList:i.props.events,indexInList:i.props.events.getEventsCount()};var c=n.eventsList.insertNewEvent(r,e,n.indexInList+1),u=i._eventsTree;return u&&u.forceEventsUpdate((function(){var n=i._getChangedEventRows([c]);if(i._saveChangesToHistory("ADD",{positionsBeforeAction:n,positionAfterAction:n},(function(){t||a||u.scrollToRow(u.getEventRow(c))})),"touch"!==s&&("BuiltinCommonInstructions::Comment"===e||"BuiltinCommonInstructions::Group"===e)){var r=u.getEventRow(c),o=document.querySelector('[data-row-index="'.concat(r,'"] [data-editable-text="true"]'));o&&o.click()}})),[c]},i.openEventTextDialog=function(){var e=Object(f.b)(Object(k.h)(i.state.selection));if(e.length){var t=e[e.length-1];i.setState({textEditedEvent:t})}},i.closeEventTextDialog=function(){if(i.state.textEditedEvent){var e=i._getChangedEventRows([i.state.textEditedEvent]);i._saveChangesToHistory("EDIT",{positionsBeforeAction:e,positionAfterAction:e})}i.setState({textEditedEvent:null})},i._buildInstructionContextMenu=function(e){return[{label:e._({id:"Copy"}),click:function(){return i.copySelection()},accelerator:"CmdOrCtrl+C"},{label:e._({id:"Cut"}),click:function(){return i.cutSelection()},accelerator:"CmdOrCtrl+X"},{label:e._({id:"Paste"}),click:function(){return i.pasteInstructions()},enabled:Object(M.c)()||Object(M.b)(),accelerator:"CmdOrCtrl+V"},{type:"separator"},{label:e._({id:"Delete"}),click:function(){return i.deleteSelection()},accelerator:"Delete"},{type:"separator"},{label:e._({id:"Undo"}),click:i.undo,enabled:Object(C.b)(i.state.eventsHistory),accelerator:"CmdOrCtrl+Z"},{label:e._({id:"Redo"}),click:i.redo,enabled:Object(C.a)(i.state.eventsHistory),accelerator:"CmdOrCtrl+Shift+Z"},{label:e._({id:"Invert Condition"}),click:function(){return i._invertSelectedConditions()},visible:Object(k.p)(i.state.selection),accelerator:Object(O.b)(i.props.preferences.values.userShortcutMap.TOGGLE_CONDITION_INVERTED||"KeyJ")},{label:e._({id:"Toggle Wait the Action to End"}),click:function(){return i._toggleAwaitingActions()},visible:i._hasSelectedOptionallyAsyncActions()}]},i.openAddInstructionContextMenu=function(e,t,n){i.openInstructionEditor(e,n,t)},i.openInstructionEditor=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;i.state.editedInstruction.instruction&&(i.state.editedInstruction.instruction.delete(),console.warn("state.editedInstruction.instruction was containing an instruction - deleting it. Verify the logic handling the state in EventsSheet because that should not happen.")),i.setState({inlineInstructionEditorAnchorEl:n,editedInstruction:{instrsList:t.instrsList,isCondition:t.isCondition,instruction:t.instruction?t.instruction.clone():new z.Instruction,indexInList:void 0!==t.indexInList?t.indexInList:void 0,locatingEvent:e}})},i.moveSelectionToInstruction=function(e,t){i.moveSelectionToInstructionsList(e,{instrsList:t.instrsList,isCondition:t.isCondition},t.indexInList)},i.moveSelectionToInstructionsList=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=Object(k.i)(i.state.selection),a=void 0===n||null===n?t.instrsList.size():n,o=!!r.filter((function(e){return Object(P.a)(e,t.instrsList)})).length;if(!o){r.forEach((function(e,n){return t.instrsList.insert(e,a+n)}));var s=Object(k.k)(i.state.selection),c=i._getChangedEventRows(s),u=i._getChangedEventRows([e]);i._keyboardShortcuts.shouldCloneInstances()||i.deleteSelection({deleteEvents:!1,shouldSaveInHistory:!1}),i._saveChangesToHistory("EDIT",{positionsBeforeAction:c,positionAfterAction:u})}},i.selectEvent=function(e){var t=i._keyboardShortcuts.shouldMultiSelect();i.setState({selection:Object(k.t)(i.state.selection,e,t)},(function(){return i.updateToolbar()}))},i.collapseAll=function(){i._eventsTree&&i._eventsTree.foldAll()},i.expandToLevel=function(e){i._eventsTree&&i._eventsTree.unfoldToLevel(e)},i._buildEventContextMenu=function(e){return[{label:e._({id:"Edit"}),click:function(){return i.openEventTextDialog()},visible:Object(f.b)(Object(k.h)(i.state.selection)).length>0},{label:e._({id:"Copy"}),click:function(){return i.copySelection()},accelerator:"CmdOrCtrl+C"},{label:e._({id:"Cut"}),click:function(){return i.cutSelection()},accelerator:"CmdOrCtrl+X"},{label:e._({id:"Paste"}),click:function(){return i.pasteEvents()},enabled:Object(M.d)(),accelerator:"CmdOrCtrl+V"},{label:e._({id:"Delete"}),click:function(){return i.deleteSelection()},accelerator:"Delete"},{label:e._({id:"Toggle disabled"}),click:function(){return i.toggleDisabled()},enabled:i._selectionCanToggleDisabled(),accelerator:Object(O.b)(i.props.preferences.values.userShortcutMap.TOGGLE_EVENT_DISABLED||"KeyD")},{type:"separator"},{label:e._({id:"Add New Event Below"}),click:function(){i.addNewEvent("BuiltinCommonInstructions::Standard")}},{label:e._({id:"Add Sub Event"}),click:function(){return i.addSubEvents()},enabled:i._selectionCanHaveSubEvents()},{label:e._({id:"Add Other"}),submenu:i.state.allEventsMetadata.map((function(e){return{label:e.fullName,click:function(){i.addNewEvent(e.type)}}}))},{type:"separator"},{label:e._({id:"Undo"}),click:i.undo,enabled:Object(C.b)(i.state.eventsHistory),accelerator:"CmdOrCtrl+Z"},{label:e._({id:"Redo"}),click:i.redo,enabled:Object(C.a)(i.state.eventsHistory),accelerator:"CmdOrCtrl+Shift+Z"},{type:"separator"},{label:e._({id:"Collapse all"}),click:i.collapseAll},{label:e._({id:"Expand all to level"}),submenu:[{label:e._({id:"All"}),click:function(){return i.expandToLevel(-1)}},{type:"separator"}].concat(Object(a.a)([0,1,2,3,4,5,6,7,8].map((function(t){return{label:e._({id:"Level {0}",values:{0:t+1}}),click:function(){return i.expandToLevel(t)}}}))))},{type:"separator"},{label:e._({id:"Extract Events to a Function"}),click:function(){return i.extractEventsToFunction()}},{label:e._({id:"Move Events into a Group"}),click:function(){return i.moveEventsIntoNewGroup()}},{label:e._({id:"Analyze Objects Used in this Event"}),click:i._openEventsContextAnalyzer},{type:"separator"},{label:e._({id:"Zoom In"}),click:function(){return i.onZoomEvent("IN")()},accelerator:"CmdOrCtrl+=",enabled:i.props.preferences.values.eventsSheetZoomLevel<G},{label:e._({id:"Zoom Out"}),click:function(){return i.onZoomEvent("OUT")()},accelerator:"CmdOrCtrl+-",enabled:i.props.preferences.values.eventsSheetZoomLevel>V}]},i.openEventContextMenu=function(e,t,n){var r=i._keyboardShortcuts.shouldMultiSelect();i.setState({selection:Object(k.t)(i.state.selection,n,r)},(function(){i.updateToolbar(),i.eventContextMenu&&i.eventContextMenu.open(e,t)}))},i.openInstructionContextMenu=function(e,t,n,r){var a=i._keyboardShortcuts.shouldMultiSelect();i.setState({selection:Object(k.v)(e,i.state.selection,r,a)},(function(){i.updateToolbar(),i.instructionContextMenu&&i.instructionContextMenu.open(t,n)}))},i.selectInstruction=function(e,t){var n=i._keyboardShortcuts.shouldMultiSelect();i.setState({selection:Object(k.v)(e,i.state.selection,t,n)},(function(){return i.updateToolbar()}))},i.openParameterEditor=function(e,t){var n=t.instruction,a=t.parameterIndex;i.setState({editedParameter:Object(r.a)({locatingEvent:e},t),inlineEditing:!0,inlineEditingAnchorEl:t.domEvent?t.domEvent.currentTarget:null,inlineEditingPreviousValue:n.getParameter(a).getPlainString()})},i.closeParameterEditor=function(e){var t=i.state.editedParameter,n=t.instruction,r=t.parameterIndex,a=t.locatingEvent;if(n&&(e&&"string"===typeof i.state.inlineEditingPreviousValue&&n.setParameter(r,i.state.inlineEditingPreviousValue),!e&&i.state.inlineEditingPreviousValue!==n.getParameter(r)&&a)){var o=i._getChangedEventRows([a]);i._saveChangesToHistory("EDIT",{positionsBeforeAction:o,positionAfterAction:o})}var s=i.state.inlineEditingAnchorEl;i.setState({editedParameter:{isCondition:!0,instruction:null,instrsList:null,parameterIndex:0,locatingEvent:null},inlineEditing:!1,inlineEditingAnchorEl:null},(function(){s&&s.focus()}))},i.toggleDisabled=function(){var e=!1,t=Object(k.h)(i.state.selection);if(t.forEach((function(t){t.isExecutable()&&(t.setDisabled(!t.isDisabled()),e=!0)})),e){var n=i._getChangedEventRows(t);i._saveChangesToHistory("DELETE",{positionsBeforeAction:n,positionAfterAction:n},(function(){i._eventsTree&&i._eventsTree.forceEventsUpdate()}))}},i.deleteSelection=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.deleteInstructions,n=void 0===t||t,r=e.deleteEvents,a=void 0===r||r,o=e.shouldSaveInHistory,s=void 0===o||o,c=i.props.events,u=new z.EventsRemover,l=[];if(a){var d=Object(k.h)(i.state.selection);d.forEach((function(e){return u.addEventToRemove(e)})),l=l.concat(d)}n&&(Object(k.i)(i.state.selection).forEach((function(e){return u.addInstructionToRemove(e)})),l=l.concat(Object(k.k)(i.state.selection)));var b=i._getChangedEventRows(l);u.launch(c),u.delete(),i._eventsTree&&i._eventsTree.forceEventsUpdate(),i.setState({selection:Object(k.a)(),inlineEditing:!1,inlineEditingAnchorEl:null},(function(){s&&i._saveChangesToHistory("DELETE",{positionsBeforeAction:b,positionAfterAction:b}),i._ensureFocused()}))},i.copySelection=function(){Object(M.a)(i.state.selection)},i.cutSelection=function(){i.copySelection(),i.deleteSelection()},i.pasteEvents=function(){if(Object(M.e)(i.props.project,i.state.selection)){var e=i._getChangedEventRows(Object(k.h)(i.state.selection));i._saveChangesToHistory("ADD",{positionsBeforeAction:e,positionAfterAction:e},(function(){i._eventsTree&&i._eventsTree.forceEventsUpdate()}))}},i.pasteInstructions=function(){if(Object(M.g)(i.props.project,i.state.selection)){var e=Object(k.k)(i.state.selection),t=i._getChangedEventRows(e);i._saveChangesToHistory("EDIT",{positionsBeforeAction:t,positionAfterAction:t},(function(){i._eventsTree&&i._eventsTree.forceEventsUpdate()}))}},i.pasteEventsOrInstructions=function(){Object(k.m)(i.state.selection)?i.pasteEvents():(Object(k.n)(i.state.selection)||Object(k.o)(i.state.selection))&&i.pasteInstructions()},i.pasteInstructionsInInstructionsList=function(e,t){if(Object(M.f)(i.props.project,t)){var n=i._getChangedEventRows([e]);i._saveChangesToHistory("EDIT",{positionsBeforeAction:n,positionAfterAction:n},(function(){i._eventsTree&&i._eventsTree.forceEventsUpdate()}))}},i._invertSelectedConditions=function(){Object(k.j)(i.state.selection).forEach((function(e){e.isCondition&&e.instruction.setInverted(!e.instruction.isInverted())}));var e=Object(k.k)(i.state.selection),t=i._getChangedEventRows(e);i._saveChangesToHistory("EDIT",{positionsBeforeAction:t,positionAfterAction:t},(function(){i._eventsTree&&i._eventsTree.forceEventsUpdate()}))},i._hasSelectedOptionallyAsyncActions=function(){return Object(k.j)(i.state.selection).some((function(e){if(!e.isCondition){var t=Object(p.a)({instructionType:e.instruction.getType(),project:i.props.project,isCondition:!1});if(t&&t.isOptionallyAsync())return!0}return!1}))},i._toggleAwaitingActions=function(){Object(k.j)(i.state.selection).forEach((function(e){if(!e.isCondition){var t=Object(p.a)({instructionType:e.instruction.getType(),project:i.props.project,isCondition:!1});t&&t.isOptionallyAsync()&&e.instruction.setAwaited(!e.instruction.isAwaited())}}));var e=Object(k.k)(i.state.selection),t=i._getChangedEventRows(e);i._saveChangesToHistory("EDIT",{positionsBeforeAction:t,positionAfterAction:t},(function(){i._eventsTree&&i._eventsTree.forceEventsUpdate()}))},i._onEndEditingStringEvent=function(e){var t=i._getChangedEventRows([e]);i._saveChangesToHistory("EDIT",{positionsBeforeAction:t,positionAfterAction:t})},i._getChangedEventRows=function(e){var t=i._eventsTree;return t?e.map((function(e){return t.getEventRow(e)})):[]},i._saveChangesToHistory=function(e,t,n){i.setState({eventsHistory:Object(C.e)(i.state.eventsHistory,i.props.events,e,{positions:t})},(function(){i.updateToolbar(),n&&n()})),i._searchPanel&&i._searchPanel.markSearchResultsDirty()},i.undo=function(){if(Object(C.b)(i.state.eventsHistory)){var e=i.props,t=e.events,n=e.project,r=Object(C.f)(i.state.eventsHistory,t,n),a=Object(s.a)(i)._eventsTree;a&&a.forceEventsUpdate((function(){var e=r.futureActions[r.futureActions.length-1],t=e.changeContext.positions,n=e.type;a.scrollToRow(t.positionsBeforeAction[0]);var o=Object(k.b)();if("ADD"===n)o=Object(k.a)();else{var s=a.getEventContextAtRowIndexes(t.positionsBeforeAction);o=Object(k.u)(s)}i.setState({selection:o,eventsHistory:r},(function(){return i.updateToolbar()}))}))}},i.redo=function(){if(Object(C.a)(i.state.eventsHistory)){var e=i.props,t=e.events,n=e.project,r=Object(C.d)(i.state.eventsHistory,t,n),a=Object(s.a)(i)._eventsTree;a&&a.forceEventsUpdate((function(){var e=r.previousActions[r.previousActions.length-1],t=e.changeContext.positions,n=e.type;a.scrollToRow(t.positionAfterAction);var o=Object(k.b)();if("DELETE"===n)o=Object(k.a)();else{var s=a.getEventContextAtRowIndexes(t.positionAfterAction);o=Object(k.u)(s)}i.setState({selection:o,eventsHistory:r},(function(){return i.updateToolbar()}))}))}},i.onZoomEvent=function(e){var t="IN"===e?1:-1;return function(e){e&&(e.preventDefault(),e.stopPropagation()),i.props.preferences.setEventsSheetZoomLevel(Math.min(Math.max(i.props.preferences.values.eventsSheetZoomLevel+1*t,V),G))}},i._openEventsContextAnalyzer=function(){var e=i.props,t=e.globalObjectsContainer,n=e.objectsContainer,r=new z.EventsContextAnalyzer(z.JsPlatform.get(),t,n),a=new z.EventsList;Object(k.h)(i.state.selection).forEach((function(e){return a.insertEvent(e,a.getEventsCount())})),r.launch(a),a.delete(),i.setState({analyzedEventsContextResult:Object(T.b)(r.getEventsContext())}),r.delete()},i._closeEventsContextAnalyzer=function(){i.setState({analyzedEventsContextResult:null})},i.extractEventsToFunction=function(){var e=new z.EventsList;Object(k.l)(i.state.selection).forEach((function(t){var n=t.event;return e.insertEvent(n,e.getEventsCount())})),i.props.onBeginCreateEventsFunction(),i.setState({serializedEventsToExtract:Object(y.b)(e)}),e.delete()},i.moveEventsIntoNewGroup=function(){var e=new z.EventsList;Object(k.l)(i.state.selection).forEach((function(t){var n=t.event;return e.insertEvent(n,e.getEventsCount())})),i._replaceSelectionByGroupOfEvents(e),e.delete()},i._replaceSelectionByEventsFunction=function(e,t){var n=Object(k.g)(i.state.selection);if(n){var r=i.props.project,a=n.eventsList.insertNewEvent(r,"BuiltinCommonInstructions::Standard",n.indexInList),o=z.asStandardEvent(a),s=Object(F.b)(e,t);o.getActions().push_back(s),s.delete(),i.deleteSelection({deleteInstructions:!1})}},i._replaceSelectionByGroupOfEvents=function(e){var t=Object(k.g)(i.state.selection);if(t){var n=i.props.project,r=t.eventsList.insertNewEvent(n,"BuiltinCommonInstructions::Group",t.indexInList),a=z.asGroupEvent(r);a.setName("Grouped events"),a.setFolded(!0),a.getSubEvents().insertEvents(e,0,e.getEventsCount(),0),i.deleteSelection({deleteInstructions:!1})}},i._ensureEventUnfolded=function(e){var t=e();t&&i._eventsTree&&i._eventsTree.unfoldForEvent(t)},i._replaceInEvents=function(e,t){var n=e(t,(function(){i.forceUpdate((function(){i._eventsTree&&i._eventsTree.forceEventsUpdate()}))}));if(n.length){var r=i._getChangedEventRows(n);i._saveChangesToHistory("EDIT",{positionsBeforeAction:r,positionAfterAction:r})}},i._searchInEvents=function(e,t){e(t,(function(){i.forceUpdate((function(){i._eventsTree&&i._eventsTree.forceEventsUpdate()}))}))},i._onEventMoved=function(e,t){i._saveChangesToHistory("EDIT",{positionsBeforeAction:[e],positionAfterAction:[t]})},i._renderInstructionEditorDialog=function(){var e=i.props,t=e.project,n=e.scope,r=e.globalObjectsContainer,a=e.objectsContainer,o=i.state.inlineInstructionEditorAnchorEl?h.a:j.a;return i.state.editedInstruction.instruction?Object(W.jsx)(o,{project:t,scope:n,globalObjectsContainer:r,objectsContainer:a,instruction:i.state.editedInstruction.instruction,isCondition:i.state.editedInstruction.isCondition,isNewInstruction:void 0===i.state.editedInstruction.indexInList,anchorEl:i.state.inlineInstructionEditorAnchorEl,open:!0,onCancel:function(){return i.closeInstructionEditor()},onSubmit:function(){var e=i.state.editedInstruction,t=e.instrsList,n=e.instruction,r=e.indexInList;t&&n&&(void 0!==r&&null!==r?t.set(r,n):t.insert(n,t.size()),i.closeInstructionEditor(!0),Object(w.a)(t),i._eventsTree&&i._eventsTree.forceEventsUpdate())},resourceManagementProps:i.props.resourceManagementProps,openInstructionOrExpression:function(e,t){i.closeInstructionEditor(),i.props.openInstructionOrExpression(e,t)},canPasteInstructions:i.state.editedInstruction.isCondition?Object(M.c)():Object(M.b)(),onPasteInstructions:function(){var e=i.state.editedInstruction,t=e.instrsList,n=e.isCondition,r=e.locatingEvent;t&&r&&i.pasteInstructionsInInstructionsList(r,{instrsList:t,isCondition:n})}}):void 0},i._ensureFocused=function(){if(i._containerDiv&&document){var e=i._containerDiv.current;if(document.activeElement!==e&&e){if(document.activeElement!==document.body&&e.contains(document.activeElement))return;e.focus()}}},i.addNewEvent=Object(B.h)(i.props.authenticatedUser,B.d,i._addNewEvent),i}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.setState({allEventsMetadata:Object(I.a)()})}},{key:"componentDidUpdate",value:function(e,t){this.addNewEvent=Object(B.h)(this.props.authenticatedUser,B.d,this._addNewEvent),this.state.eventsHistory!==t.eventsHistory&&this.props.unsavedChanges&&this.props.unsavedChanges.triggerUnsavedChanges(),!e.isActive&&this.props.isActive&&this._ensureFocused()}},{key:"updateToolbar",value:function(){this.props.setToolbar&&this.props.setToolbar(Object(W.jsx)(g.a,{allEventsMetadata:this.state.allEventsMetadata,onAddStandardEvent:this._addStandardEvent,onAddSubEvent:this.addSubEvents,canAddSubEvent:Object(k.m)(this.state.selection),canToggleEventDisabled:Object(k.m)(this.state.selection)&&this._selectionCanToggleDisabled(),canToggleInstructionInverted:Object(k.n)(this.state.selection),onAddCommentEvent:this._addCommentEvent,onAddEvent:this.addNewEvent,onToggleInvertedCondition:this._invertSelectedConditions,onToggleDisabledEvent:this.toggleDisabled,canRemove:Object(k.q)(this.state.selection),onRemove:this.deleteSelection,canUndo:Object(C.b)(this.state.eventsHistory),canRedo:Object(C.a)(this.state.eventsHistory),undo:this.undo,redo:this.redo,onOpenSettings:this.props.onOpenSettings,settingsIcon:this.props.settingsIcon,onToggleSearchPanel:this._toggleSearchPanel}))}},{key:"closeInstructionEditor",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.state.editedInstruction,r=n.instruction,a=n.locatingEvent;this.setState({editedInstruction:{isCondition:!0,instruction:null,instrsList:null,indexInList:0,locatingEvent:null}},(function(){if(r&&r.delete(),t&&a){var n=e._getChangedEventRows([a]);e._saveChangesToHistory("EDIT",{positionsBeforeAction:n,positionAfterAction:n})}}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.isActive,r=t.project,a=t.scope,o=t.events,i=t.onOpenExternalEvents,s=t.onOpenLayout,c=t.globalObjectsContainer,u=t.objectsContainer,d=t.preferences,p=t.resourceManagementProps,j=t.onCreateEventsFunction,h=t.tutorials;if(!r)return null;var g=Object(L.b)();return Object(W.jsx)(R.a,{children:function(t){return Object(W.jsx)(S.a,{ref:function(t){return e._eventSearcher=t},events:o,globalObjectsContainer:c,objectsContainer:u,selection:e.state.selection,project:r,children:function(m){var O=m.eventsSearchResultEvents,y=m.searchFocusOffset,C=m.searchInEvents,w=m.replaceInEvents,S=m.goToPreviousSearchResult,P=m.goToNextSearchResult;return Object(W.jsxs)("div",{id:"events-editor","data-active":n?"true":void 0,className:"gd-events-sheet",style:Z.container,onKeyDown:e._keyboardShortcuts.onKeyDown,onKeyUp:e._keyboardShortcuts.onKeyUp,onDragOver:e._keyboardShortcuts.onDragOver,ref:e._containerDiv,tabIndex:0,children:[Object(W.jsx)(b.a,{ref:function(t){return e._eventsTree=t},onScroll:e._ensureFocused,events:o,project:r,scope:a,globalObjectsContainer:c,objectsContainer:u,selection:e.state.selection,onInstructionClick:e.selectInstruction,onInstructionDoubleClick:e.openInstructionEditor,onInstructionContextMenu:e.openInstructionContextMenu,onAddInstructionContextMenu:e.openAddInstructionContextMenu,onAddNewInstruction:e.openInstructionEditor,onPasteInstructions:e.pasteInstructionsInInstructionsList,onMoveToInstruction:e.moveSelectionToInstruction,onMoveToInstructionsList:e.moveSelectionToInstructionsList,onParameterClick:e.openParameterEditor,onEventClick:e.selectEvent,onEventContextMenu:e.openEventContextMenu,onAddNewEvent:function(t,n){e.addNewEvent(t,{eventsList:n,indexInList:n.getEventsCount()})},onOpenExternalEvents:i,onOpenLayout:s,searchResults:O,searchFocusOffset:y,onEventMoved:e._onEventMoved,onEndEditingEvent:e._onEndEditingStringEvent,showObjectThumbnails:d.values.eventsSheetShowObjectThumbnails,screenType:g,windowWidth:t,eventsSheetHeight:e._containerDiv.current?e._containerDiv.current.clientHeight:0,fontSize:d.values.eventsSheetZoomLevel,preferences:d,tutorials:h},o.ptr),e.state.showSearchPanel&&Object(W.jsx)(E.a,{ref:function(t){return e._searchPanel=t},onSearchInEvents:function(t){return e._searchInEvents(C,t)},onReplaceInEvents:function(t){e._replaceInEvents(w,t)},resultsCount:O?O.length:null,hasEventSelected:Object(k.m)(e.state.selection),onGoToPreviousSearchResult:function(){return e._ensureEventUnfolded(S)},onCloseSearchPanel:function(){e._closeSearchPanel()},onGoToNextSearchResult:function(){return e._ensureEventUnfolded(P)},searchFocusOffset:y}),Object(W.jsx)(v.a,{open:e.state.inlineEditing,anchorEl:e.state.inlineEditingAnchorEl,onRequestClose:function(){e.closeParameterEditor("cancel"===d.values.eventsSheetCancelInlineParameter)},onApply:function(){e.closeParameterEditor(!1)},project:r,scope:a,globalObjectsContainer:c,objectsContainer:u,isCondition:e.state.editedParameter.isCondition,instruction:e.state.editedParameter.instruction,parameterIndex:e.state.editedParameter.parameterIndex,onChange:function(t){var n=e.state.editedParameter,r=n.instruction,a=n.parameterIndex;r&&e.state.inlineEditing&&(r.setParameter(a,t),e.forceUpdate(),e._searchPanel&&e._searchPanel.markSearchResultsDirty())},resourceManagementProps:p}),Object(W.jsx)(x.a,{ref:function(t){return e.eventContextMenu=t},buildMenuTemplate:e._buildEventContextMenu}),Object(W.jsx)(x.a,{ref:function(t){return e.instructionContextMenu=t},buildMenuTemplate:e._buildInstructionContextMenu}),e._renderInstructionEditorDialog(),e.state.analyzedEventsContextResult&&Object(W.jsx)(T.a,{onClose:e._closeEventsContextAnalyzer,eventsContextResult:e.state.analyzedEventsContextResult}),e.state.serializedEventsToExtract&&Object(W.jsx)(D.a,{project:r,globalObjectsContainer:c,objectsContainer:u,onClose:function(){return e.setState({serializedEventsToExtract:null})},serializedEvents:e.state.serializedEventsToExtract,onCreate:function(t,n){j(t,n),e._replaceSelectionByEventsFunction(t,n),e.setState({serializedEventsToExtract:null})}}),e.state.textEditedEvent&&Object(W.jsx)(f.a,{event:e.state.textEditedEvent,onApply:function(){e.closeEventTextDialog()},onClose:e.closeEventTextDialog}),Object(W.jsx)(_.a,{identifier:"edit-instruction-explanation",message:Object(W.jsx)(l.Trans,{id:"Double click on a condition or action to edit it."}),touchScreenMessage:Object(W.jsx)(l.Trans,{id:"Double tap a condition or action to edit it. Long press to show more options."}),show:Object(k.n)(e.state.selection)})]})}},o.ptr)}})}}]),n}(d.Component),q=function(e,t){d.useImperativeHandle(t,(function(){return{updateToolbar:a}}));var n=d.useRef(null),a=function(){n.current&&n.current.updateToolbar()},o=d.useContext(N.a),i=d.useContext(A.a),s=d.useContext(H.a).tutorials,c=d.useContext(U.a);return Object(W.jsx)(Y,Object(r.a)({ref:n,authenticatedUser:o,preferences:i,tutorials:s,leaderboardsManager:c},e))};t.a=d.forwardRef(q)}).call(this,n(25))},,function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return g}));var r=n(1),a=n(6),o=n(5),i=n(10),s=n(11),c=n(9),u=n(17),l=n(317),d=n.n(l),b=n(1123),p=n(349),j=n(406),h=n(8),f=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(e){var r;Object(a.a)(this,n);var o=(r=t.call(this,e)).props.parameterMetadata;return r._description=o?o.getDescription():void 0,r._longDescription=o?o.getLongDescription():void 0,r._allowedObjectType=o?o.getExtraInfo():void 0,r}return Object(o.a)(n,[{key:"focus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.context.currentlyRunningInAppTutorial;this._field&&!t&&this._field.focus(e)}},{key:"render",value:function(){var e=this;return Object(h.jsx)(b.a,{margin:this.props.isInline?"none":"dense",project:this.props.project,value:this.props.value,onChange:this.props.onChange,onRequestClose:this.props.onRequestClose,onApply:this.props.onApply,allowedObjectType:this._allowedObjectType,requiredObjectCapability:this.props.instructionMetadata?this.props.instructionMetadata.getRequiredBaseObjectCapability():this.props.expressionMetadata?this.props.expressionMetadata.getRequiredBaseObjectCapability():void 0,globalObjectsContainer:this.props.globalObjectsContainer,objectsContainer:this.props.objectsContainer,floatingLabelText:this._description,helperMarkdownText:this._longDescription,id:void 0!==this.props.parameterIndex?"parameter-".concat(this.props.parameterIndex,"-object-selector"):void 0,fullWidth:!0,errorTextIfInvalid:this._allowedObjectType?Object(h.jsx)(c.Trans,{id:"The object does not exist or can't be used here."}):Object(h.jsx)(c.Trans,{id:"Enter the name of an object."}),openOnFocus:!this.props.value,ref:function(t){return e._field=t}})}}]),n}(u.Component);f.contextType=j.a;var g=function(e){var t=e.value,n=e.parameterMetadata,a=e.renderObjectThumbnail,o=e.expressionIsValid,i=e.InvalidParameterValue,s=e.MissingParameterValue;return t||n.isOptional()?Object(h.jsxs)("span",{title:t,className:d()(Object(r.a)({},p.r,!0)),children:[a(t),o?t:Object(h.jsx)(i,{children:t})]}):Object(h.jsx)(s,{})}},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(94),a=n.n(r),o=function(e){if(e&&e.current){var t=a.a.findDOMNode(e.current);if(t instanceof HTMLButtonElement)t.focus();else if(t instanceof HTMLElement){var n=t.getElementsByTagName("button");n&&n.length&&n[0]instanceof HTMLButtonElement&&n[0].focus()}}}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return S}));var r=n(3),a=n(6),o=n(5),i=n(10),s=n(11),c=n(9),u=n(17),l=n(328),d=n.n(l),b=n(775),p=n(336),j=n(361),h=n(666),f=n(1134),g=n(1135),m=n(316),O=n(331),v=n(295),x=n(305),y=n(529),C=n(297),k=n(638),w=n(8),T=e.gd,E=function(e){return T.JsPlatform.get().getInstructionOrExpressionGroupMetadata(e).getIcon()},S=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={searchText:"",searchResults:[]},e._scrollView=u.createRef(),e._selectedItem=u.createRef(),e.searchApi=null,e.initialInstructionTypePath=Object(h.b)(e.props.instructionsInfoTree,e.props.selectedType),e.focus=function(){e._searchBar&&e._searchBar.focus()},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this._selectedItem.current&&this._scrollView.current&&this._scrollView.current.scrollTo(this._selectedItem.current),this.searchApi=new b.a(this.props.instructionsInfo,Object(r.a)(Object(r.a)({},k.c),{},{keys:[{name:"displayedName",weight:2},{name:"fullGroupName",weight:1}]}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.selectedType,a=t.iconSize,o=t.instructionsInfoTree,i=t.onChoose,s=t.searchPlaceholderObjectName,u=t.searchPlaceholderIsCondition,l=t.useSubheaders,b=t.helpPagePath,h=t.style,T=t.onClickMore,S=t.id,P=this.state.searchText,I=P&&this.searchApi?this.searchApi.search(Object(k.a)(P,["displayedName","fullGroupName"])).map((function(e){return{item:e.item,matches:Object(k.d)(e,P)}})):[],A=!P||!!I.length;return Object(w.jsxs)("div",{style:Object(r.a)({minHeight:0},h),id:S,children:[Object(w.jsx)(j.a,{value:P,onChange:function(t){return e.setState({searchText:t})},onRequestSearch:function(){I.length&&i(I[0].item.type,I[0].item)},placeholder:s?u?{id:"Search {searchPlaceholderObjectName} conditions",values:{searchPlaceholderObjectName:s}}:{id:"Search {searchPlaceholderObjectName} actions",values:{searchPlaceholderObjectName:s}}:void 0,helpPagePath:b,ref:function(t){return e._searchBar=t},autoFocus:this.props.focusOnMount?"desktop":void 0}),Object(w.jsxs)(O.a,{autoHideScrollbar:!0,ref:this._scrollView,children:[A&&Object(w.jsx)(p.a,{children:P?I.map((function(e){var t=e.item,r=e.matches;return Object(f.a)({instructionOrExpressionMetadata:t,id:Object(y.c)(t),iconSize:a,onClick:function(){return i(t.type,t)},matches:r,selectedValue:Object(y.b)(n)})})):Object(w.jsxs)(w.Fragment,{children:[Object(g.a)({instructionTreeNode:o,iconSize:a,onChoose:i,useSubheaders:l,selectedValue:Object(y.b)(n),initiallyOpenedPath:this.initialInstructionTypePath,selectedItemRef:this._selectedItem,getGroupIconSrc:E}),T&&Object(w.jsx)(C.c,{justifyContent:"center",children:Object(w.jsx)(x.a,{primary:!0,icon:Object(w.jsx)(d.a,{}),onClick:T,label:Object(w.jsx)(c.Trans,{id:"Add a new behavior to the object"})})})]})}),!A&&Object(w.jsx)(v.c,{children:Object(w.jsx)(m.a,{children:Object(w.jsx)(c.Trans,{id:"Nothing corresponding to your search. Try browsing the list instead."})})})]})]})}}]),n}(u.PureComponent)}).call(this,n(25))},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s}));var r=n(307),a=function(e,t,n){var r=t.getParametersCount();return e.filter((function(e,a){return!(a<n)&&(a<r&&!t.getParameter(a).isCodeOnly())}))},o=function(e,t,n){var r=-1,a=-1,o=e.map((function(e,n){var o=t.getParameter(n);return o.isOptional()||(r=n),e.length>0?(a=n,e):o.getDefaultValue()})),i=Math.max(r,a,0);return o.filter((function(e,r){return n<=r&&r<=i&&!t.getParameter(r).isCodeOnly()}))},i=function(e){var t=Object(r.mapVector)(e.metadata.getParameters(),(function(e){return e.getType()}));return e.scope.objectMetadata?a(t,e.metadata,1):e.scope.behaviorMetadata?a(t,e.metadata,2):a(t,e.metadata,0)},s=function(e,t,n){var r=e.name||"",a="";if(e.scope.objectMetadata){var i=t[0],s=o(t,e.metadata,1).join(", ");a="".concat(i,".").concat(r,"(").concat(s,")")}else if(e.scope.behaviorMetadata){var c=t[0],u=t[1],l=o(t,e.metadata,2).join(", ");a="".concat(c,".").concat(u,"::").concat(r,"(").concat(l,")")}else{var d=o(t,e.metadata,0).join(", ");a="".concat(r,"(").concat(d,")")}return n.shouldConvertToString?"ToString(".concat(a,")"):a}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return P})),n.d(t,"b",(function(){return I}));var r=n(1),a=n(19),o=n(6),i=n(5),s=n(10),c=n(11),u=n(9),l=n(469),d=n.n(l),b=n(17),p=n(305),j=n(1137),h=n(317),f=n.n(h),g=n(349),m=n(374),O=n(297),v=n(39),x=n(642),y=n.n(x),C=n(8),k=0,w=1,T=2,E=3,S=function(e){for(var t=0;t<e.length;++t){var n=e[t];if("["===n)return k;if(" "===n)return T;if('"'===n)return w;if("("===n||"+"===n||"-"===n||"/"===n||"*"===n)return E}return k},P=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).state={autocompletionVariableNames:[]},r}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.updateAutocompletions()}},{key:"componentDidUpdate",value:function(e){e.variablesContainer!==this.props.variablesContainer&&this.updateAutocompletions()}},{key:"updateAutocompletions",value:function(){var e=Object(j.a)(this.props.variablesContainer).map((function(e){var t=e.name;return e.isValidName?t:null})).filter(Boolean),t=this.context.values.useUndefinedVariablesInAutocompletion?y()([].concat(Object(a.a)(e),Object(a.a)(this.props.onComputeAllVariableNames()))):e;this.setState({autocompletionVariableNames:t.map((function(e){return{text:e,value:e}}))})}},{key:"focus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._field&&this._field.focus(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.value,r=t.onChange,a=t.isInline,o=t.onOpenDialog,i=t.parameterMetadata,s=t.onRequestClose,c=t.onApply,l=i?i.getDescription():void 0,b=S(n),j=b===w?Object(C.jsx)(u.Trans,{id:"It seems you entered a name with a quote. Variable names should not be quoted."}):b===T?Object(C.jsx)(u.Trans,{id:"The variable name contains a space - this is not recommended. Prefer to use underscores or uppercase letters to separate words."}):b===E?Object(C.jsx)(u.Trans,{id:"The variable name looks like you're building an expression or a formula. You can only use this for structure or arrays. For example: Score[3]."}):null;return Object(C.jsx)(O.d,{renderTextField:function(){return Object(C.jsx)(m.c,{margin:e.props.isInline?"none":"dense",floatingLabelText:l,helperMarkdownText:i?i.getLongDescription():void 0,errorText:j,fullWidth:!0,value:n,onChange:r,onRequestClose:s,onApply:c,dataSource:e.state.autocompletionVariableNames,openOnFocus:!a,ref:function(t){return e._field=t}})},renderButton:function(t){return o&&!a?Object(C.jsx)(p.a,{icon:Object(C.jsx)(d.a,{}),disabled:!e.props.variablesContainer,primary:!0,style:t,onClick:o}):null}})}}]),n}(b.Component);P.contextType=v.a;var I=function(e,t,n){var a,o=e.value,i=e.parameterMetadata,s=e.expressionIsValid,c=e.InvalidParameterValue,u=e.MissingParameterValue;return o||i.isOptional()?Object(C.jsxs)("span",{title:n,className:f()((a={},Object(r.a)(a,g.r,!0),Object(r.a)(a,g.n,S(o)!==k),a)),children:[Object(C.jsx)("img",{className:f()(Object(r.a)({},g.j,!0)),src:t,alt:""}),s?o:Object(C.jsx)(c,{children:o})]}):Object(C.jsx)(u,{})}},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return c}));var r=n(307),a=n(432),o=n.n(a),i=function(e){var t=e.getCurrentPlatform().getAllPlatformExtensions();return o()(Object(r.mapFor)(0,t.size(),(function(e){var n=t.at(e);return n.getExtensionEffectTypes().toJSArray().map((function(e){return n.getEffectMetadata(e)})).map((function(e){var t=e.getType(),r=e.getProperties(),a=r.keys().toJSArray().map((function(e){var n=r.get(e),a=n.getType().toLowerCase(),o=n.getLabel(),i=n.getDescription(),s=function(){return o},c=function(){return i},u=function(){return e};if("number"===a)return{name:e,valueType:"number",getValue:function(t){return t.getDoubleParameter(e)},setValue:function(t,n){return t.setDoubleParameter(e,n)},getLabel:s,getDescription:c,getExtraDescription:u};if("boolean"===a)return{name:e,valueType:"boolean",getValue:function(t){return t.getBooleanParameter(e)},setValue:function(t,n){return t.setBooleanParameter(e,n)},getLabel:s,getDescription:c,getExtraDescription:u};if("resource"===a){var l=n.getExtraInfo().toJSArray()[0]||"";return{name:e,valueType:"resource",resourceKind:l,getValue:function(t){return t.getStringParameter(e)},setValue:function(t,n){return t.setStringParameter(e,n)},getLabel:s,getDescription:c,getExtraDescription:u}}return"color"===a?{name:e,valueType:"color",getValue:function(t){return t.getStringParameter(e)},setValue:function(t,n){return t.setStringParameter(e,n)},getLabel:s,getDescription:c,getExtraDescription:u}:(console.error("A property with type=".concat(a," could not be mapped to a field for effect ").concat(t,". Ensure that this type is correct.")),null)})).filter(Boolean);return{extension:n,type:t,effectMetadata:e,fullName:e.getFullName(),description:e.getDescription(),isMarkedAsNotWorkingForObjects:e.isMarkedAsNotWorkingForObjects(),parametersSchema:a}}))}))).sort((function(e,t){return e.fullName.localeCompare(t.fullName)}))},s=function(e){return Object(r.mapFor)(0,e.getEffectsCount(),(function(t){return e.getEffectAt(t).getName()}))},c=function(e,t){e.clearParameters();var n=t.getProperties();n.keys().toJSArray().forEach((function(t){var r=n.get(t),a=r.getType().toLowerCase();"number"===a?e.setDoubleParameter(t,parseFloat(r.getValue())||0):"boolean"===a?e.setBooleanParameter(t,"true"===r.getValue()):e.setStringParameter(t,r.getValue())}))}},function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"f",(function(){return a})),n.d(t,"g",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return u}));var r=function(e){var t=e.targetEventsList,n=e.movingEvent,r=e.initialEventsList,a=e.toIndex;r.moveEventToAnotherEventsList(n,t,a)},a=function(e){var t=e.targetNode,n=e.node;t.event&&n.event&&r({targetEventsList:t.event.getSubEvents(),movingEvent:n.event,initialEventsList:n.eventsList,toIndex:0})},o=function(e){var t=e.targetNode,n=e.node;if(t.event&&n.event){var a=n.depth===t.depth&&n.indexInList<t.indexInList?t.indexInList:t.indexInList+1;r({targetEventsList:t.eventsList,movingEvent:n.event,initialEventsList:n.eventsList,toIndex:a})}},i=function(e){var t=e.targetNode,n=e.node;if(t.event&&n.event){var a=n.depth===t.depth&&n.indexInList<t.indexInList?t.indexInList-1:t.indexInList;r({targetEventsList:t.eventsList,movingEvent:n.event,initialEventsList:n.eventsList,toIndex:a})}},s=function(e,t){if(t.depth<=e.depth)return!1;var n=e.nodePath,r=t.nodePath;return n.every((function(e,t){return e===r[t]}))},c=function(e,t){if(e.depth!==t.depth)return!1;var n=e.nodePath,r=t.nodePath;return n.slice(0,-1).every((function(e,t){return e===r[t]}))},u=function(e,t){var n=t.nodePath,r=e.nodePath;return 0!==n[n.length-1]&&n[n.length-1]-1===r[r.length-1]}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));var r=n(528),a=e.gd,o=function(e,t,n,o,i){if(n.setParametersCount(o.getParametersCount()),i){var s=Object(r.f)(o);if(-1!==s){n.setParameter(s,i);var c=s+1;if(c<o.getParametersCount()){var u=o.getParameter(c);if(!a.ParameterMetadata.isBehavior(u.getType()))return;var l=u.getExtraInfo(),d=a.getBehaviorsOfObject(e,t,i,!0).toJSArray().filter((function(n){return!l||a.getTypeOfBehavior(e,t,n,!1)===l}));if(d.length>0){var b=n.getParameter(c).getPlainString();d.some((function(e){return b===e}))||n.setParameter(c,d[0])}}}else console.error('Instruction "'.concat(o.getFullName(),'" is used for an object, but does not have an object as first parameter'))}}}).call(this,n(25))},function(e,t,n){"use strict";var r=n(17),a=n.n(r),o=n(306),i=n(8);t.a=function(){var e=a.a.useContext(o.a);return Object(i.jsx)("span",{style:{height:32,marginLeft:3,marginRight:3,borderLeftStyle:"solid",borderLeftWidth:1,borderColor:e.toolbar.separatorColor}})}},function(e,t,n){"use strict";var r=n(3),a=n(17),o=n.n(a),i=n(905),s=n(8);t.a=o.a.memo((function(e){return Object(s.jsxs)(i.a,Object(r.a)(Object(r.a)({},e),{},{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[Object(s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.315 7.00282C17.7276 7.0387 18.0331 7.40232 17.9972 7.81498L17.156 17.4882C17.156 17.4882 17.156 17.4882 17.156 17.4882C17.0325 18.9093 15.8428 20 14.4164 20H9.58363C8.15721 20 6.96754 18.9094 6.84397 17.4883L6.00282 7.81497C5.96694 7.40232 6.27237 7.0387 6.68503 7.00282C7.09768 6.96694 7.4613 7.27237 7.49718 7.68503L8.33833 17.3583C8.3945 18.0042 8.93523 18.5 9.58363 18.5H14.4164C15.0648 18.5 15.6055 18.0042 15.6616 17.3584L16.5028 7.68502C16.5387 7.27237 16.9023 6.96693 17.315 7.00282Z",fill:"currentColor"}),Object(s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.75 5.5C11.0596 5.5 10.5 6.05964 10.5 6.75V7.5C10.5 7.91421 10.1642 8.25 9.75 8.25C9.33579 8.25 9 7.91421 9 7.5V6.75C9 5.23122 10.2312 4 11.75 4H12.25C13.7688 4 15 5.23122 15 6.75V7.5C15 7.91421 14.6642 8.25 14.25 8.25C13.8358 8.25 13.5 7.91421 13.5 7.5V6.75C13.5 6.05964 12.9404 5.5 12.25 5.5H11.75Z",fill:"currentColor"}),Object(s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.25 7.75C4.25 7.33579 4.58579 7 5 7H19C19.4142 7 19.75 7.33579 19.75 7.75C19.75 8.16421 19.4142 8.5 19 8.5H5C4.58579 8.5 4.25 8.16421 4.25 7.75Z",fill:"currentColor"})]}))}))},function(e,t,n){"use strict";var r=n(9),a=(n(17),n(297)),o=n(295),i=n(324),s=n(2592),c=n(395),u=n.n(c),l=n(305),d=n(328),b=n.n(d),p=n(8);t.a=function(e){var t=e.extraInfo,n=e.setExtraInfo,c=e.disabled,d=function(){return n(t)};return Object(p.jsx)(a.c,{children:Object(p.jsxs)(o.a,{justifyContent:"flex-end",expand:!0,children:[t.map((function(e,n){return Object(p.jsxs)(o.c,{justifyContent:"flex-end",expand:!0,children:[Object(p.jsx)(i.a,{disabled:c,commitOnBlur:!0,value:e,onChange:function(e){t[n]=e,d()},fullWidth:!0}),Object(p.jsx)(s.a,{disabled:c,tooltip:{id:"Delete option"},onClick:function(){t.splice(n,1),d()},children:Object(p.jsx)(u.a,{})})]},n)})),Object(p.jsx)(o.c,{justifyContent:"flex-end",expand:!0,children:Object(p.jsx)(l.a,{disabled:c,primary:!0,onClick:function(){t.push("New Option"),d()},label:Object(p.jsx)(r.Trans,{id:"Add a new option"}),icon:Object(p.jsx)(b.a,{})})})]})})}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return j}));var r=n(34),a=n(24),o=n(6),i=n(5),s=n(17),c=n(774),u=n.n(c),l=n(2138),d=n.n(l),b=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;Object(o.a)(this,e),this.tags=t}return Object(i.a)(e,[{key:"getPertinence",value:function(e){var t=this;return 0===this.tags.size||e.tags.some((function(e){return t.tags.has(e)}))?1:0}}]),e}(),p=function(e,t,n,r){if(!e)return null;var o=performance.now(),i=e.filter((function(e){var n=e.tags;if(!t)return!0;if(!(t.node.isTagContainerOnly||n.some((function(e){return e===t.node.name}))))return!1;var r,o=Object(a.a)(t.parentNodes);try{var i=function(){var e=r.value;return e.isTagContainerOnly?{v:!0}:n.some((function(t){return t===e.name}))?void 0:{v:!1}};for(o.s();!(r=o.n()).done;){var s=i();if("object"===typeof s)return s.v}}catch(c){o.e(c)}finally{o.f()}return!0})).filter((function(e){return!n||0===n.size||e.tags.some((function(e){return n.has(e)}))})),s=i;if(r){var c=1,u=0,l=i.map((function(e){var t,n=1,o=Object(a.a)(r);try{for(o.s();!(t=o.n()).done;){if(0===(n*=t.value.getPertinence(e)))return null}}catch(i){o.e(i)}finally{o.f()}return c=Math.min(c,n),u=Math.max(u,n),{pertinence:n,searchItem:e}})).filter(Boolean);!function(e,t,n,r){if(!(n>=r))for(var a=e.length-1,o=.5;o>1/128&&a>0;o/=2)for(var i=n+(r-n)*(1-o),s=-1,c=a+1;;){do{s++}while(s<a&&t(e[s])>i);if(s===a)break;do{c--}while(c>0&&t(e[c])<i);if(0===c)return;if(s>=c){a=c;break}var u=e[s];e[s]=e[c],e[c]=u}}(l,(function(e){return e.pertinence}),c,u),s=l.map((function(e){return e.searchItem}))}var d=performance.now()-o;return console.info("Filtered items by category/filters in ".concat(d.toFixed(3),"ms.")),s},j=function(e,t,n,a,o,i){var c=s.useRef(null),l=s.useState(null),b=Object(r.a)(l,2),j=b[0],h=b[1],f=s.useMemo((function(){return e?u()(Object.keys(e).map((function(t){return e[t]}))):null}),[e]),g=s.useMemo((function(){return e?Object.keys(e).map((function(t){return e[t]})):null}),[e]);s.useEffect((function(){if(e){var n=performance.now();c.current&&(c.current.terminate(),c.current=null);try{var r=new d.a,a=Object.keys(e);a.forEach((function(n){var a=e[n];r.indexDocument(n,t(a))}));var o=performance.now()-n;console.info("Indexed ".concat(a.length," items in ").concat(o.toFixed(3),"ms.")),c.current=r}catch(i){console.error("Error while indexing items: ",i)}}}),[e,t]);var m=c.current;return s.useEffect((function(){var t=!1;if(n){if(!e||!m)return void console.info("Search for items skipped because items are not ready - will be retried when ready");var r=performance.now();m.search(n).then((function(n){if(t)console.info("Discarding search results as a new search was launched.");else{var s=n.map((function(t){return e[t]})).filter(Boolean),c=performance.now()-r;console.info("Found ".concat(s.length," items in ").concat(c.toFixed(3),"ms.")),h(p(s,a,o,i))}}))}else h(p(a?g:f,a,o,i));return function(){t=!0}}),[f,g,e,n,a,o,i,m]),j}},function(e,t,n){"use strict";n.d(t,"g",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"d",(function(){return b})),n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return j})),n.d(t,"b",(function(){return f})),n.d(t,"f",(function(){return g}));var r=n(24),a=n(5),o=n(6),i=n(10),s=n(11),c=n(857),u=n(66),l=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;return Object(o.a)(this,n),t.call(this,e)}return Object(a.a)(n)}(c.a),d=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;Object(o.a)(this,e),this.objectTypes=t}return Object(a.a)(e,[{key:"getPertinence",value:function(e){return 0===this.objectTypes.size||this.objectTypes.has(e.objectType)?1:0}}]),e}(),b=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Object(o.a)(this,e),this.attributionFreeOnly=t}return Object(a.a)(e,[{key:"getPertinence",value:function(t){return!this.attributionFreeOnly||e.noAttributionLicenses.includes(t.license)?1:0}}]),e}();b.noAttributionLicenses=["CC0 (public domain)","Apache 2.0","Trademark of GDevelop Ltd (fair use authorised in GDevelop games)","SIL Open Font License 1.1 (OFL)"];var p=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Object(o.a)(this,e),this.mustBeAnimated=t,this.mustHaveSeveralState=n}return Object(a.a)(e,[{key:"getPertinence",value:function(e){var t=e.maxFramesCount>1,n=e.animationsCount>1;return this.mustBeAnimated&&!t||this.mustHaveSeveralState&&!n?0:1}}]),e}(),j=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.boundMin,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.boundMax;Object(o.a)(this,e),this.dimensionMin=t,this.dimensionMax=n}return Object(a.a)(e,[{key:"getPertinence",value:function(t){return t.width&&t.height?(this.dimensionMin===e.boundMin||this.dimensionMin<=t.width)&&(this.dimensionMin===e.boundMax||t.width<=this.dimensionMax)||(this.dimensionMin===e.boundMin||this.dimensionMin<=t.height)&&(this.dimensionMin===e.boundMax||t.height<=this.dimensionMax)?1:0:1}}]),e}();j.boundMin=8,j.boundMax=2048;var h=function(e,t){var n=Object(u.n)(e.r,e.g,e.b),r=Object(u.n)(t.r,t.g,t.b),a=n[1],o=r[1];if(0===a){var i=o-a,s=r[2]-n[2];return 1-(i*i+s*s)/2}var c,l=0===o?1:2*Math.abs(((r[0]-n[0]+.5)%(c=1)+c)%c-.5),d=o-a,b=r[2]-n[2];return 1-(4*l*l+d*d+b*b)/6},f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;Object(o.a)(this,e),this.color=t}return Object(a.a)(e,[{key:"getPertinence",value:function(e){var t=this.color;if(!t)return 1;var n,a=Number.MIN_VALUE,o=Object(r.a)(e.dominantColors);try{for(o.s();!(n=o.n()).done;){var i=n.value,s=Object(u.a)(i),c=h(s,t);a=Math.max(a,c)}}catch(l){o.e(l)}finally{o.f()}return a}}]),e}(),g=function(){function e(t){Object(o.a)(this,e),this.other=t}return Object(a.a)(e,[{key:"getPertinence",value:function(e){if(this.other===e||this.other.objectType!==e.objectType)return 0;var t=e.maxFramesCount>1,n=e.animationsCount>1,a=this.other.maxFramesCount>1,o=this.other.animationsCount>1;if(t!==a||n!==o)return 0;var i=e.tags.includes("top-down"),s=e.tags.includes("isometric"),c=e.tags.includes("side view"),l=this.other.tags.includes("top-down"),d=this.other.tags.includes("isometric"),b=this.other.tags.includes("side view");if(!(i&&l||s&&d||c&&b||!i&&!s&&!c&&!l&&!d&&!b))return 0;var p=e.width*e.height,j=this.other.width*this.other.height;if(2*Math.min(p,j)<Math.max(p,j))return 0;var f=e.width/e.height,g=this.other.width/this.other.height;if(1.5*Math.min(f,g)<Math.max(f,g))return 0;var m,O=0,v=Object(r.a)(e.dominantColors);try{for(v.s();!(m=v.n()).done;){var x,y=m.value,C=Object(u.a)(y),k=Object(r.a)(this.other.dominantColors);try{for(k.s();!(x=k.n()).done;){var w=x.value,T=Object(u.a)(w),E=h(C,T);O=Math.max(O,E)}}catch(S){k.e(S)}finally{k.f()}}}catch(S){v.e(S)}finally{v.f()}return O}}]),e}()},,function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return R}));var r=n(34),a=n(9),o=n(17),i=n.n(o),s=n(379),c=n(538),u=n(357),l=n(361),d=n(1280),b=n(95),p=n(449),j=n(26),h=n(338),f=n(60),g=n(415),m=n(2154),O=n(731),v=n(2155),x=n(509),y=n(363),C=n(689),k=n(396),w=n(314),T=n(440),E=n(108),S=n(39),P=n(295),I=n(328),A=n.n(I),D=n(586),F=n(8),M=e.gd,_={listContainer:{flex:1}},L={Sprite:"NewSprite","TiledSpriteObject::TiledSprite":"NewTiledSprite","ParticleSystem::ParticleEmitter":"NewParticlesEmitter","PanelSpriteObject::PanelSprite":"NewPanelSprite","PrimitiveDrawing::Drawer":"NewShapePainter","TextObject::Text":"NewText","BBText::BBText":"NewBBText","BitmapText::BitmapTextObject":"NewBitmapText","TextEntryObject::TextEntry":"NewTextEntry","TileMap::TileMap":"NewTileMap","TileMap::CollisionMask":"NewTileMapMask","MyDummyExtension::DummyObject":"NewDummyObject","Lighting::LightObject":"NewLight","TextInput::TextInputObject":"NewTextInput","Video::VideoObject":"NewVideo"},R="GD_OBJECT_WITH_CONTEXT",N=function(e){return e.object.getName()},B=function(e){return e.global},U=function(e,t){var n="";if(p.b.has(m.a)){var r=p.b.get(m.a);n=p.a.extractStringProperty(r,"name")||""}return t?e._({id:"Paste {clipboardObjectName} as a Global Object",values:{clipboardObjectName:n}}):e._({id:"Paste {clipboardObjectName}",values:{clipboardObjectName:n}})},H=i.a.forwardRef((function(e,t){var n=e.project,o=e.layout,I=e.objectsContainer,H=e.resourceManagementProps,W=e.onSelectAllInstancesOfObjectInLayout,z=e.onDeleteObject,V=e.renamedObjectWithContext,G=e.onRenameObjectStart,Z=e.onRenameObjectFinish,Y=e.selectedObjectNames,q=e.canInstallPrivateAsset,X=e.selectedObjectTags,J=e.getAllObjectTags,K=e.onChangeSelectedObjectTags,Q=e.onEditObject,$=e.onExportObject,ee=e.onObjectCreated,te=e.onObjectSelected,ne=e.onObjectPasted,re=e.canRenameObject,ae=e.onAddObjectInstance,oe=e.getThumbnail,ie=e.unsavedChanges,se=(e.hotReloadPreviewButtonProps,i.a.useContext(S.a)),ce=i.a.useRef(null),ue=Object(w.a)(),le=i.a.useCallback((function(){ue(),ce.current&&ce.current.forceUpdateGrid()}),[ue]),de=i.a.useState(!1),be=Object(r.a)(de,2),pe=be[0],je=be[1];i.a.useImperativeHandle(t,(function(){return{forceUpdateList:function(){ue(),ce.current&&ce.current.forceUpdateGrid()},openNewObjectDialog:function(){je(!0)},closeNewObjectDialog:function(){je(!1)}}}));var he=i.a.useState(""),fe=Object(r.a)(he,2),ge=fe[0],me=fe[1],Oe=i.a.useState(null),ve=Object(r.a)(Oe,2),xe=ve[0],ye=ve[1],Ce=i.a.useCallback((function(e){var t=n.hasEventsBasedObject(e)?"New"+n.getEventsBasedObject(e).getDefaultName():L[e]||"NewObject",r=Object(b.a)(t,(function(e){return I.hasObjectNamed(e)||n.hasObjectNamed(e)})),a=I.insertNewObject(n,e,r,I.getObjectsCount());a.setTags(Object(x.b)(X)),je(!1),Q&&(Q(a),ee(a),te({object:a,global:!1}))}),[n,I,X,Q,ee,te]),ke=i.a.useCallback((function(e){e.forEach((function(e){e.setTags(Object(x.b)(X)),ee(e)})),le()}),[le,ee,X]),we=i.a.useCallback((function(){je(!0)}),[]),Te=i.a.useCallback((function(e){ie&&ie.triggerUnsavedChanges(),e?le():ue()}),[ue,le,ie]),Ee=i.a.useCallback((function(e,t){var r=t.object,a=t.global;j.b.showConfirmDialog(e._({id:"Are you sure you want to remove this object? This can't be undone."}))&&z(t,(function(e){e&&(a?n.removeObject(r.getName()):I.removeObject(r.getName()),Te(!1))}))}),[I,z,Te,n]),Se=i.a.useCallback((function(e){var t=e.object;p.b.set(m.a,{type:t.getType(),name:t.getName(),object:Object(h.b)(t)})}),[]),Pe=i.a.useCallback((function(e,t){Se(t),Ee(e,t)}),[Se,Ee]),Ie=i.a.useCallback((function(e){var t=e.objectName,r=e.positionObjectName,a=e.objectType,o=e.global,i=e.serializedObject,s=Object(b.a)(t,(function(e){return I.hasObjectNamed(e)||n.hasObjectNamed(e)}),""),c=o?n.insertNewObject(n,a,s,n.getObjectPosition(r)+1):I.insertNewObject(n,a,s,I.getObjectPosition(r)+1);return Object(h.c)(c,i,"unserializeFrom",n),c.setName(s),{object:c,global:o}}),[I,n]),Ae=i.a.useCallback((function(e){if(!p.b.has(m.a))return null;var t=e.object,n=e.global,r=p.b.get(m.a),a=p.a.extractObjectProperty(r,"object"),o=p.a.extractStringProperty(r,"name"),i=p.a.extractStringProperty(r,"type");if(o&&i&&a){var s=Ie({objectName:o,positionObjectName:t.getName(),objectType:i,serializedObject:a,global:n});return Te(!1),ne&&ne(s.object),s}}),[Ie,Te,ne]),De=i.a.useCallback((function(e){G(e),ce.current&&ce.current.forceUpdateGrid()}),[G]),Fe=i.a.useCallback((function(e){var t=e.object,n=e.global,r=t.getType(),a=t.getName(),o=Object(h.b)(t),i=Ie({objectName:a,positionObjectName:a,objectType:r,serializedObject:o,global:n});De(i)}),[Ie,De]),Me=i.a.useCallback((function(e,t){var n=e.object;G(null),N(e)!==t&&re(t)&&Z(e,t,(function(e){e&&(n.setName(t),Te(!1))}))}),[re,Te,G,Z]),_e=Object(g.c)(n,I),Le=Object(g.g)(_e.allObjectsList,{searchText:ge,selectedTags:X}),Re=Le.filter((function(e){return-1!==Y.indexOf(e.object.getName())})),Ne=Le.find(Object(g.i)(V)),Be=i.a.useCallback((function(e){var t=Le.filter((function(e){return-1!==Y.indexOf(e.object.getName())}));if(t.every((function(t){return t.global===e.global})))return!0;var n=Le.filter((function(e){return e.global}));return!(!t.every((function(e){return!e.global}))||!e.global||0!==n.indexOf(e))}),[Le,Y]),Ue=i.a.useCallback((function(e){var t=Le.filter((function(e){return e.global})),r=Le.filter((function(e){return!e.global})),a=e.global&&0===t.indexOf(e);Le.filter((function(e){return-1!==Y.indexOf(e.object.getName())})).forEach((function(t){var o,i,s;if(t.global===e.global)i=(o=e.global?n:I).getObjectPosition(t.object.getName()),s=o.getObjectPosition(e.object.getName());else{if(t.global||!a)return;i=(o=I).getObjectPosition(t.object.getName()),s=ge?o.getObjectPosition(r[r.length-1].object.getName())+1:o.getObjectsCount()}s>i&&(s-=1),o.moveObject(i,s)})),Te(!0)}),[Le,I,Te,n,ge,Y]),He=i.a.useCallback((function(e){var t=e.object.getName();I.hasObjectNamed(t)&&(n.hasObjectNamed(t)?Object(f.c)("A global object with this name already exists. Please change the object name before setting it as a global object",{delayToNextTick:!0}):j.b.showConfirmDialog("This object will be loaded and available in all the scenes. This is only recommended for objects that you reuse a lot and can't be undone. Make this object global?")&&(I.moveObjectToAnotherContainer(t,n,n.getObjectsCount()),Te(!0)))}),[I,Te,n]),We=i.a.useCallback((function(e){ye(e)}),[]),ze=i.a.useCallback((function(e,t){e.setTags(Object(x.b)(t)),Te(!0)}),[Te]),Ve=i.a.useCallback((function(e){te(e)}),[te]),Ge=i.a.useCallback((function(e){return oe(n,e.object.getConfiguration())}),[oe,n]),Ze=i.a.useContext(k.a).getEventsFunctionsExtensionWriter(),Ye=i.a.useCallback((function(e){return function(t,r){var a=t.object,i=o?Object(C.b)(o,a.getName()):void 0,s=M.MetadataProvider.getObjectMetadata(n.getCurrentPlatform(),a.getType());return[{label:e._({id:"Copy"}),click:function(){return Se(t)}},{label:e._({id:"Cut"}),click:function(){return Pe(e,t)}},{label:U(e,t.global),enabled:p.b.has(m.a),click:function(){return Ae(t)}},{label:e._({id:"Duplicate"}),click:function(){return Fe(t)}},{type:"separator"},{label:e._({id:"Edit object"}),click:function(){return Q(a)}},{label:e._({id:"Edit object variables"}),click:function(){return Q(a,"variables")}},{label:e._({id:"Edit behaviors"}),click:function(){return Q(a,"behaviors")}},{label:e._({id:"Edit effects"}),click:function(){return Q(a,"effects")},enabled:!s.isUnsupportedBaseObjectCapability("effect")},Ze&&n.hasEventsBasedObject(a.getType())?{label:e._({id:"Export object"}),click:function(){return $&&$(a)}}:null,{type:"separator"},{label:e._({id:"Rename"}),click:function(){return De(t)},accelerator:Object(T.b)(se.values.userShortcutMap.RENAME_SCENE_OBJECT||E.a.RENAME_SCENE_OBJECT)},{label:e._({id:"Set as global object"}),enabled:!B(t),click:function(){return He(t)}},{label:e._({id:"Tags"}),submenu:Object(x.a)({noTagLabel:e._({id:"No tags"}),getAllTags:J,selectedTags:Object(x.c)(a.getTags()),onChange:function(e){ze(a,e)},editTagsLabel:e._({id:"Add/edit tags..."}),onEditTags:function(){return We(a)}})},{label:e._({id:"Delete"}),click:function(){return Ee(e,t)}},{type:"separator"},{label:e._({id:"Add instance to the scene"}),click:function(){return ae(a.getName())}},void 0!==i&&W?{label:e._({id:"Select instances on scene ({instanceCountOnScene})",values:{instanceCountOnScene:i}}),click:function(){return W(a.getName())},enabled:i>0}:void 0,{type:"separator"},{label:e._({id:"Add a new object..."}),click:we}].filter(Boolean)}}),[ze,Se,Pe,Ee,Fe,De,J,o,we,ae,Q,$,W,We,Ae,n,He,Ze,se.values.userShortcutMap]),qe=n.ptr+";"+I.ptr,Xe=Object(y.b)();return Object(F.jsxs)(u.a,{maxWidth:!0,children:[Object(F.jsx)(P.c,{children:Object(F.jsx)(P.a,{expand:!0,children:Object(F.jsx)(l.a,{value:ge,onRequestSearch:function(){},onChange:function(e){return me(e)},placeholder:{id:"Search objects"}})})}),Object(F.jsx)(O.a,{tags:X,onChange:K}),Object(F.jsx)("div",{style:_.listContainer,id:"objects-list",children:Object(F.jsx)(s.a,{children:function(e){var t=e.height,n=e.width;return Object(F.jsx)(a.I18n,{children:function(e){var r=e.i18n;return Object(F.jsx)(c.a,{ref:ce,fullList:Le,width:n,height:t,getItemName:N,getItemThumbnail:Ge,getItemId:function(e,t){return"object-item-".concat(t)},getItemData:function(e,t){return{objectName:e.object.getName(),global:e.global.toString()}},isItemBold:B,onEditItem:function(e){return Q(e.object)},selectedItems:Re,onItemSelected:Ve,renamedItem:Ne,onRename:Me,buildMenuTemplate:Ye(r),onMoveSelectionToItem:Ue,canMoveSelectionToItem:Be,scaleUpItemIconWhenSelected:"touch"===Xe,reactDndType:R},qe)}})}})}),Object(F.jsx)(P.c,{children:Object(F.jsx)(P.a,{expand:!0,children:Object(F.jsx)(D.a,{label:Object(F.jsx)(a.Trans,{id:"Add a new object"}),primary:!0,onClick:we,id:"add-new-object-button",icon:Object(F.jsx)(A.a,{})})})}),pe&&Object(F.jsx)(d.a,{onClose:function(){return je(!1)},onCreateNewObject:Ce,onObjectsAddedFromAssets:ke,project:n,layout:o,objectsContainer:I,resourceManagementProps:H,canInstallPrivateAsset:q}),xe&&Object(F.jsx)(v.a,{tagsString:xe.getTags(),onEdit:function(e){ze(xe,e),We(null)},onCancel:function(){return We(null)}})]})})),W=function(e,t){return e.selectedObjectNames===t.selectedObjectNames&&e.selectedObjectTags===t.selectedObjectTags&&e.project===t.project&&e.objectsContainer===t.objectsContainer};t.a=i.a.memo(H,W)}).call(this,n(25))},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(3),a=(n(17),n(370)),o=n(862),i=n(2721),s=n(296),c=n(375),u=n(565),l=n(863),d=n(8),b={previewContainer:{display:"flex",justifyContent:"center",alignItems:"center"},previewImage:{position:"relative",objectFit:"contain",verticalAlign:"middle",pointerEvents:"none"},previewImagePixelated:{width:"100%",imageRendering:Object(o.a)(),padding:15},icon:{color:"#fff"},cardContainer:{overflow:"hidden",position:"relative"},titleContainer:{position:"absolute",bottom:0,left:0,right:0,height:48,color:"#fff",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",backgroundColor:"rgb(0,0,0,0.5)"},title:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},p=function(e){var t=e.assetShortHeader,n=e.onOpenDetails,o=e.size,p=t.previewImageUrls[0],j=Object(a.g)(t),h=Object(r.a)(Object(r.a)({maxWidth:108,maxHeight:108},b.previewImage),Object(a.f)(t)?b.previewImagePixelated:void 0);return Object(d.jsx)(i.a,{onClick:n,focusRipple:!0,children:Object(d.jsxs)("div",{style:Object(r.a)(Object(r.a)({},b.cardContainer),{},{width:o,height:o}),children:[Object(d.jsxs)("div",{style:Object(r.a)(Object(r.a)({},b.previewContainer),{},{width:o,height:o}),children:[Object(d.jsx)(u.a,{}),j?Object(d.jsx)(l.a,{style:h,url:p,alt:t.name},p):Object(d.jsx)(c.a,{style:h,src:p,alt:t.name},p)]}),Object(d.jsxs)("div",{style:b.titleContainer,children:[Object(d.jsx)(s.a,{noMargin:!0,style:b.title,color:"inherit",children:t.name}),Object(d.jsx)(s.a,{noMargin:!0,style:b.title,size:"body2",color:"inherit",children:t.shortDescription})]})]})})}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a}));var r=null,a=function(){return r||(r=e.CSS.supports("image-rendering: crisp-edges")?"crisp-edges":"pixelated")}}).call(this,n(25))},function(e,t,n){"use strict";var r=n(3),a=n(34),o=n(17),i=n(587),s=n(323),c=n(431),u=n(8);t.a=function(e){var t=e.url,n=e.style,l=e.alt,d=e.onError,b=e.onLoad,p=e.hideLoader,j=o.useState(null),h=Object(a.a)(j,2),f=h[0],g=h[1],m=o.useState(!1),O=Object(a.a)(m,2),v=O[0],x=O[1],y=o.useContext(i.a),C=y.authorizationToken,k=y.updateAuthorizationToken,w=o.useRef(0);o.useEffect((function(){v||(C?g(Object(c.a)(t,C)):k())}),[C,k,t,v]);return o.useEffect((function(){t&&x(!1)}),[t]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("img",{alt:l,src:f,style:Object(r.a)(Object(r.a)({},n),{},{display:p||v?"block":"none"}),onError:function(){console.warn("Error while fetching authorized image"),w.current>=3?d&&d():(x(!1),console.info("Error while fetching image, fetching a new token..."),k(),w.current+=1)},onLoad:function(e){x(!0),b&&b(e)}}),!p&&!v&&Object(u.jsx)(s.a,{})]})}},function(e,t,n){"use strict";n.d(t,"h",(function(){return r})),n.d(t,"f",(function(){return o})),n.d(t,"g",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"a",(function(){return b}));var r=1/16,a=Math.pow(2,2*r),o=a,i=Math.pow(a,-1),s=Math.pow(2,r),c=function(e){return Math.pow(s,Math.sign(e))},u=function(e){return Math.max(Math.min(e,128),.0078125)},l=16,d=1/16,b=function(e){return Math.max(Math.min(e,l),d)}},,function(e,t,n){"use strict";var r=n(3),a=(n(17),n(905)),o=n(8);t.a=function(e){return Object(o.jsx)(a.a,Object(r.a)(Object(r.a)({},e),{},{viewBox:"0 -3 24 24",children:Object(o.jsx)("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:Object(o.jsxs)("g",{id:"Create",fillRule:"nonzero",children:[Object(o.jsx)("polygon",{id:"Shape",fill:"#2B3990",points:"24 8 18 2 18 6 14 6 14 10 18 10 18 14"}),Object(o.jsxs)("g",{id:"Group-2",fill:"#27AAE1",children:[Object(o.jsx)("rect",{id:"Rectangle-path",transform:"translate(2.999518, 3.574897) rotate(-45.000000) translate(-2.999518, -3.574897) ",x:"1.58553176",y:"0.746924118",width:"2.82797288",height:"5.65594576"}),Object(o.jsx)("rect",{id:"Rectangle-path",transform:"translate(10.999518, 11.574897) rotate(-45.000000) translate(-10.999518, -11.574897) ",x:"9.58553176",y:"8.74692412",width:"2.82797288",height:"5.65594576"}),Object(o.jsx)("rect",{id:"Rectangle-path",transform:"translate(2.999518, 11.574897) rotate(-135.000000) translate(-2.999518, -11.574897) ",x:"1.58553176",y:"8.74692412",width:"2.82797288",height:"5.65594576"}),Object(o.jsx)("rect",{id:"Rectangle-path",transform:"translate(10.999518, 3.574897) rotate(-135.000000) translate(-10.999518, -3.574897) ",x:"9.58553176",y:"0.746924118",width:"2.82797288",height:"5.65594576"})]})]})})}))}},function(e,t,n){"use strict";var r=n(3),a=(n(17),n(905)),o=n(8);t.a=function(e){return Object(o.jsx)(a.a,Object(r.a)(Object(r.a)({},e),{},{viewBox:"0 -6 24 24",children:Object(o.jsx)("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:Object(o.jsxs)("g",{id:"Step",children:[Object(o.jsx)("polygon",{id:"Shape",points:"0 3 0 6 3 6 3 9 7.5 4.5 3 0 3 3",fill:"#2b3990"}),Object(o.jsx)("polygon",{id:"polygon6",points:"16.5 3 16.5 6 19.5 6 19.5 9 24 4.5 19.5 0 19.5 3",fill:"#2b3990"}),Object(o.jsx)("circle",{id:"path825",cx:"12",cy:"4.5",r:"2.2509",fill:"none",stroke:"#27aae1",strokeWidth:"1.5"})]})})}))}},function(e,t,n){"use strict";var r=n(3),a=(n(17),n(905)),o=n(8);t.a=function(e){return Object(o.jsx)(a.a,Object(r.a)(Object(r.a)({},e),{},{viewBox:"0 -3 24 24",children:Object(o.jsx)("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:Object(o.jsxs)("g",{id:"Destroy",transform:"translate(0.000000, -1.000000)",fillRule:"nonzero",children:[Object(o.jsxs)("g",{id:"Group",transform:"translate(0.000000, 1.000000)",children:[Object(o.jsx)("polygon",{id:"Shape",fill:"#2B3990",points:"9.92307692 7.07692308 4.38461538 1.53846154 4.38461538 5.23076923 0.692307692 5.23076923 0.692307692 8.92307692 4.38461538 8.92307692 4.38461538 12.6153846"}),Object(o.jsx)("rect",{id:"Rectangle-path",fill:"#27AAE1",transform:"translate(10.845138, 3.385446) rotate(-45.000000) translate(-10.845138, -3.385446) ",x:"9.53992021",y:"0.77500965",width:"2.6104365",height:"5.22087301"}),Object(o.jsx)("rect",{id:"Rectangle-path",fill:"#27AAE1",transform:"translate(18.229754, 10.770062) rotate(-45.000000) translate(-18.229754, -10.770062) ",x:"16.9245356",y:"8.15962503",width:"2.6104365",height:"5.22087301"}),Object(o.jsx)("rect",{id:"Rectangle-path",fill:"#27AAE1",transform:"translate(10.846985, 10.770246) rotate(-135.000000) translate(-10.846985, -10.770246) ",x:"9.54176636",y:"8.15980965",width:"2.6104365",height:"5.22087301"}),Object(o.jsx)("rect",{id:"Rectangle-path",fill:"#27AAE1",transform:"translate(18.231600, 3.385631) rotate(-135.000000) translate(-18.231600, -3.385631) ",x:"16.9263817",y:"0.775194265",width:"2.6104365",height:"5.22087301"})]}),Object(o.jsxs)("g",{id:"Group",opacity:"0.1",transform:"translate(2.538462, 0.692308)",children:[Object(o.jsx)("rect",{id:"Rectangle-path",fill:"#000000",transform:"translate(7.616400, 11.768538) rotate(135.000000) translate(-7.616400, -11.768538) ",x:"5.98441565",y:"10.4633202",width:"3.2639687",height:"2.6104365"}),Object(o.jsx)("polygon",{id:"Shape",fill:"#FFFFFF",points:"7.38461538 7.38461538 1.83645766 1.87268753 1.83645766 3.7132995 6.46153846 8.30769231"}),Object(o.jsx)("rect",{id:"Rectangle-path",fill:"#FFFFFF",transform:"translate(8.308523, 3.693323) rotate(-135.000000) translate(-8.308523, -3.693323) ",x:"5.69808657",y:"2.38810482",width:"5.22087301",height:"2.6104365"}),Object(o.jsx)("rect",{id:"Rectangle-path",fill:"#FFFFFF",transform:"translate(15.693138, 11.077938) rotate(-135.000000) translate(-15.693138, -11.077938) ",x:"13.082702",y:"9.77272021",width:"5.22087301",height:"2.6104365"}),Object(o.jsx)("rect",{id:"Rectangle-path",fill:"#FFFFFF",transform:"translate(9.460009, 9.922714) rotate(45.000000) translate(-9.460009, -9.922714) ",x:"8.15479058",y:"8.94333902",width:"2.6104365",height:"1.95875045"}),Object(o.jsx)("rect",{id:"Rectangle-path",fill:"#FFFFFF",transform:"translate(15.693138, 3.693323) rotate(-135.000000) translate(-15.693138, -3.693323) ",x:"14.3879202",y:"1.08288657",width:"2.6104365",height:"5.22087301"})]})]})})}))}},function(e,t,n){"use strict";var r=n(3),a=(n(17),n(905)),o=n(8);t.a=function(e){return Object(o.jsx)(a.a,Object(r.a)(Object(r.a)({},e),{},{viewBox:"0 0 23.109 23.124",children:Object(o.jsxs)("g",{id:"Action",transform:"translate(-92.011 -101.74)",fillRule:"nonzero",children:[Object(o.jsx)("path",{id:"path1010",d:"m101.01 101.74v2.3203a9.525 9.525 0 0 0-2.0743 0.85473l-1.6459-1.6536-1.9498 1.9523 0.0052 5e-3 -1.7436 1.741 1.635 1.6356a9.398 9.398 0 0 0-0.86765 2.0846h-2.3549v5.2307h2.344a9.525 9.525 0 0 0 0.85731 2.0665l-1.6511 1.6536 3.7042 3.7042 1.6567-1.6562a9.4245 9.4245 0 0 0 2.0846 0.84904v2.3363h5.2178v-2.3518a9.4562 9.4562 0 0 0 2.0557-0.8599l1.6485 1.6485 1.8226-1.8231-5e-3 -5e-3 1.8707-1.8707-1.6588-1.6588a9.5806 9.5806 0 0 0 0.83871-2.0324h2.3228v-5.2306h-2.3125a9.525 9.525 0 0 0-0.84905-2.0608l1.6428-1.6407-3.7042-3.7042-1.6376 1.6382a9.4932 9.4932 0 0 0-2.0397-0.85215v-2.3203z",fill:"#4db0e1"}),Object(o.jsx)("path",{id:"path8-6-0",d:"m92.093 110.66v5.2308h2.3125a9.525 9.525 0 0 0 0.84931 2.0611l-1.6431 1.6404 3.7042 3.7042 1.6378-1.6378a9.4932 9.4932 0 0 0 2.0399 0.85196v2.3204h5.2123v-2.3204a9.525 9.525 0 0 0 2.0743-0.8546l1.6457 1.6536 1.95-1.9526-16.404-16.264-1.8759 1.8759 1.6589 1.6589a9.5806 9.5806 0 0 0-0.83873 2.032z",fill:"#4db0e1"}),Object(o.jsx)("path",{id:"path10-3-0",d:"m93.599 106.96 1.6351 1.6351a9.398 9.398 0 0 0-0.86783 2.0849h-2.3548v5.2308h2.3442a9.525 9.525 0 0 0 0.85725 2.0664l-1.651 1.6536 3.7042 3.7042 1.6563-1.6563a9.4245 9.4245 0 0 0 2.0849 0.84931v2.3363h5.2176v-2.3521a9.4562 9.4562 0 0 0 2.0558-0.8599l1.6484 1.6484 1.823-1.823-16.404-16.264z",fill:"#283782",fillOpacity:".2"}),Object(o.jsx)("path",{id:"path871-7",d:"m106.69 107.2h-3.4025l3.7809 5.9346-3.7809 5.9346h3.4025l3.7809-5.9346z",fill:"#283983"}),Object(o.jsx)("path",{id:"path873-9",d:"m101.39 107.2h-3.4025l3.7809 5.9346-3.7809 5.9346h3.4025l3.7835-5.9346z",fill:"#283983"})]})}))}},function(e,t,n){"use strict";var r=n(3),a=(n(17),n(905)),o=n(8);t.a=function(e){return Object(o.jsx)(a.a,Object(r.a)(Object(r.a)({},e),{},{viewBox:"0 0 23.109 23.124",children:Object(o.jsxs)("g",{id:"Action",fill:"#283983",children:[Object(o.jsx)("path",{id:"path1010",d:"m8.9958 0v2.3203a9.525 9.525 0 0 0-2.0743 0.85473l-1.6459-1.6536-1.9498 1.9523 0.0052 5e-3 -1.7436 1.741 1.635 1.6356a9.398 9.398 0 0 0-0.86765 2.0846h-2.3549v5.2307h2.344a9.525 9.525 0 0 0 0.85731 2.0665l-1.6511 1.6536 3.7042 3.7042 1.6567-1.6562a9.4245 9.4245 0 0 0 2.0846 0.84904v2.3363h5.2178v-2.3518a9.4562 9.4562 0 0 0 2.0557-0.8599l1.6485 1.6485 1.8226-1.8231-0.0052-5e-3 1.8707-1.8707-1.6588-1.6588a9.5806 9.5806 0 0 0 0.83871-2.0324h2.3229v-5.2306h-2.3125a9.525 9.525 0 0 0-0.84904-2.0608l1.6428-1.6407-3.7042-3.7042-1.6376 1.6382a9.4932 9.4932 0 0 0-2.0397-0.85215v-2.3203z",fill:"#4db0e1"}),Object(o.jsx)("path",{id:"path8-6-0",d:"m0.081856 8.9161v5.2308h2.3125a9.525 9.525 0 0 0 0.84931 2.0611l-1.6431 1.6404 3.7042 3.7042 1.6378-1.6378a9.4932 9.4932 0 0 0 2.0399 0.85196v2.3204h5.2123v-2.3204a9.525 9.525 0 0 0 2.0743-0.8546l1.6457 1.6536 1.95-1.9526-16.404-16.264-1.8759 1.8759 1.6589 1.6589a9.5806 9.5806 0 0 0-0.83873 2.032z",fill:"#4db0e1"}),Object(o.jsx)("path",{id:"path10-3-0",d:"m1.5875 5.2198 1.6351 1.6351a9.398 9.398 0 0 0-0.86783 2.0849h-2.3548v5.2308h2.3442a9.525 9.525 0 0 0 0.85725 2.0664l-1.651 1.6536 3.7042 3.7042 1.6563-1.6563a9.4245 9.4245 0 0 0 2.0849 0.84931v2.3363h5.2176v-2.3521a9.4562 9.4562 0 0 0 2.0558-0.8599l1.6484 1.6484 1.823-1.823-16.404-16.264z",fill:"#283782",fillOpacity:".2"}),Object(o.jsx)("path",{id:"path821",d:"m13.081 13.524h-2.7983v-0.37982q0-0.63562 0.2558-1.124 0.2558-0.49609 1.0775-1.2557l0.49609-0.44958q0.44183-0.40308 0.64337-0.75964 0.20929-0.35657 0.20929-0.71313 0-0.5426-0.37207-0.84491-0.37207-0.31006-1.0387-0.31006-0.62787 0-1.3565 0.26355-0.72864 0.2558-1.5193 0.7674v-2.434q0.93793-0.32556 1.7131-0.48059 0.77515-0.15503 1.496-0.15503 1.8914 0 2.8835 0.77515 0.99219 0.7674 0.99219 2.2479 0 0.75964-0.30231 1.3643-0.30231 0.59686-1.0309 1.2867l-0.49609 0.44183q-0.5271 0.48059-0.68988 0.77515-0.16278 0.2868-0.16278 0.63562zm-2.7983 1.1472h2.7983v2.7595h-2.7983z",fill:"#283983"})]})}))}},function(e,t,n){"use strict";var r=n(3),a=(n(17),n(905)),o=n(8);t.a=function(e){return Object(o.jsx)(a.a,Object(r.a)(Object(r.a)({},e),{},{viewBox:"0 0 23.109 23.124",children:Object(o.jsxs)("g",{id:"Expression",children:[Object(o.jsx)("path",{id:"path1010",d:"m8.9958 0v2.3203a9.525 9.525 0 0 0-2.0743 0.85473l-1.6459-1.6536-1.9498 1.9523 0.0052 5e-3 -1.7436 1.741 1.635 1.6356a9.398 9.398 0 0 0-0.86765 2.0846h-2.3549v5.2307h2.344a9.525 9.525 0 0 0 0.85731 2.0665l-1.6511 1.6536 3.7042 3.7042 1.6567-1.6562a9.4245 9.4245 0 0 0 2.0846 0.84904v2.3363h5.2178v-2.3518a9.4562 9.4562 0 0 0 2.0557-0.8599l1.6485 1.6485 1.8226-1.8232-0.0052-5e-3 1.8707-1.8707-1.6588-1.6588a9.5806 9.5806 0 0 0 0.83871-2.0324h2.3229v-5.2306h-2.3125a9.525 9.525 0 0 0-0.84904-2.0608l1.6428-1.6407-3.7042-3.7042-1.6376 1.6382a9.4932 9.4932 0 0 0-2.0397-0.85215v-2.3203z",fill:"#4db0e1",strokeWidth:".26458"}),Object(o.jsx)("path",{id:"path8-6-0",d:"m0.081857 8.9161v5.2308h2.3125a9.525 9.525 0 0 0 0.84931 2.0611l-1.6431 1.6404 3.7042 3.7042 1.6378-1.6378a9.4932 9.4932 0 0 0 2.0399 0.85196v2.3204h5.2123v-2.3204a9.525 9.525 0 0 0 2.0743-0.8546l1.6457 1.6536 1.95-1.9526-16.404-16.264-1.8759 1.8759 1.6589 1.6589a9.5806 9.5806 0 0 0-0.83873 2.032z",fill:"#4db0e1",strokeWidth:".26458"}),Object(o.jsx)("path",{id:"path10-3-0",d:"m1.5875 5.2198 1.6351 1.6351a9.398 9.398 0 0 0-0.86783 2.0849h-2.3548v5.2308h2.3442a9.525 9.525 0 0 0 0.85725 2.0664l-1.651 1.6536 3.7042 3.7042 1.6563-1.6563a9.4245 9.4245 0 0 0 2.0849 0.84931v2.3363h5.2176v-2.3522a9.4562 9.4562 0 0 0 2.0558-0.85989l1.6484 1.6484 1.823-1.823-16.404-16.264z",fill:"#283782",fillOpacity:".2",strokeWidth:".26458"}),Object(o.jsxs)("g",{id:"text1262",fill:"#283983",strokeWidth:".21798","aria-label":"f(x)",children:[Object(o.jsx)("path",{id:"path936",d:"m8.4202 7.2384v1.1256h-0.94835q-0.36401 0-0.5077 0.13411-0.14369 0.12932-0.14369 0.45502v0.37359h1.4656v1.2262h-1.4656v4.1383h-1.7147v-4.1383h-0.85256v-1.2262h0.85256v-0.37359q0-0.87651 0.48854-1.2932 0.48854-0.42149 1.5135-0.42149z"}),Object(o.jsx)("path",{id:"path938",d:"m10.822 15.984h-1.4225q-0.73282-1.183-1.0825-2.2463-0.34964-1.0681-0.34964-2.117t0.34964-2.1218q0.35443-1.0777 1.0825-2.2511h1.4225q-0.61308 1.1351-0.91961 2.2224-0.30654 1.0825-0.30654 2.141 0 1.0585 0.30175 2.1458 0.30654 1.0873 0.9244 2.2272z"}),Object(o.jsx)("path",{id:"path940",d:"m12.277 11.947-1.935-2.6199h1.8153l1.0968 1.5902 1.1112-1.5902h1.8153l-1.935 2.6104 2.0308 2.754h-1.8153l-1.207-1.6955-1.1926 1.6955h-1.8153z"}),Object(o.jsx)("path",{id:"path942",d:"m15.771 15.984q0.61308-1.1399 0.91961-2.2272t0.30654-2.1458q0-1.0585-0.30654-2.141-0.30654-1.0873-0.91961-2.2224h1.4225q0.72803 1.1735 1.0777 2.2511 0.35444 1.0729 0.35444 2.1218t-0.34964 2.117q-0.34964 1.0633-1.0825 2.2463z"})]})]})}))}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var r=function(e,t,n,r,a,o){if("isometric"===o){if(t<=0||n<=0)return e[0]=Math.round(e[0]),void(e[1]=Math.round(e[1]));var i=Math.round(2*(e[0]-r)/t),s=Math.round(2*(e[1]-a)/n);if(((i+s)%2+2)%2===1){var c=(e[0]-(i/2*t+r))/t,u=(e[1]-(s/2*n+a))/n;Math.abs(c)>Math.abs(u)?c>0?i++:i--:u>0?s++:s--}e[0]=i/2*t+r,e[1]=s/2*n+a}else e[0]=t<=0?Math.round(e[0]):Math.round((e[0]-r)/t)*t+r,e[1]=n<=0?Math.round(e[1]):Math.round((e[1]-a)/n)*n+a},a=function(e,t,n,a,o,i){return"isometric"===i?r(e,t/2,n/2,a,o,"rectangular"):r(e,t,n,a,o,i)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var r=n(2),a=n(34),o=n(0),i=n.n(o),s=n(9),c=n(17),u=n(303),l=n(298),d=n(295),b=n(296),p=n(461),j=n(297),h=n(436),f=n(8),g={tableCell:{wordBreak:"break-word"}},m=function(e){var t=e.progress,n=e.result,r=e.onAbandon,a=e.onRetry,o=e.genericError,i=n&&n.erroredResources.length>0||!!o;return Object(f.jsx)(u.c,{title:Object(f.jsx)(s.Trans,{id:"Importing project resources"}),actions:[r?Object(f.jsx)(l.a,{label:Object(f.jsx)(s.Trans,{id:"Ignore"}),disabled:!r,onClick:r},"close"):null,a?Object(f.jsx)(u.a,{label:Object(f.jsx)(s.Trans,{id:"Retry"}),primary:!0,onClick:a},"retry"):null],cannotBeDismissed:!i,noMobileFullScreen:!i,open:!0,maxWidth:"sm",children:Object(f.jsxs)(j.a,{noMargin:!0,expand:!0,children:[Object(f.jsx)(b.a,{children:i?Object(f.jsx)(s.Trans,{id:"There were errors when importing resources for the project. You can retry (recommended) or continue despite the errors. In this case, the project will be missing some resources."}):null}),Object(f.jsx)(d.c,{noMargin:!0,expand:!0,children:Object(f.jsx)(h.a,{variant:t>0?"determinate":"indeterminate",value:t})}),i?Object(f.jsxs)(p.a,{children:[Object(f.jsx)(p.c,{children:Object(f.jsxs)(p.e,{children:[Object(f.jsx)(p.d,{children:Object(f.jsx)(s.Trans,{id:"Resource name"})}),Object(f.jsx)(p.d,{children:Object(f.jsx)(s.Trans,{id:"Error"})})]})}),Object(f.jsxs)(p.b,{children:[n?n.erroredResources.map((function(e){var t=e.resourceName,n=e.error;return Object(f.jsxs)(p.e,{children:[Object(f.jsx)(p.f,{style:g.tableCell,children:t}),Object(f.jsx)(p.f,{style:g.tableCell,children:n.toString()})]},t)})):null,o?Object(f.jsxs)(p.e,{children:[Object(f.jsx)(p.f,{style:g.tableCell,children:"-"}),Object(f.jsx)(p.f,{style:g.tableCell,children:o.toString()})]}):null]})]}):null]})})},O=function(e){var t=e.onDoProcess,n=c.useState(0),o=Object(a.a)(n,2),s=o[0],u=o[1],l=c.useState(null),d=Object(a.a)(l,2),b=d[0],p=d[1],j=c.useState(!1),h=Object(a.a)(j,2),g=h[0],O=h[1],v=c.useState(null),x=Object(a.a)(v,2),y=x[0],C=x[1],k=c.useState(null),w=Object(a.a)(k,2),T=w[0],E=w[1],S=c.useState(null),P=Object(a.a)(S,2),I=P[0],A=P[1],D=c.useCallback(function(){var e=Object(r.a)(i.a.mark((function e(n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(0),E(null),A(null),C(null),p(null),O(!0),r=null,e.prev=7,e.next=10,t(n,(function(e,t){u(e/t*100)}));case 10:if(r=e.sent,u(100),0!==r.erroredResources.length){e.next=17;break}return O(!1),p(null),C(null),e.abrupt("return");case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(7),p(e.t0);case 22:return e.abrupt("return",new Promise((function(e){E((function(){return function(){e(D(n))}})),A((function(){return function(){O(!1),p(null),C(null),e()}})),C(r),O(!1)})));case 23:case"end":return e.stop()}}),e,null,[[7,19]])})));return function(t){return e.apply(this,arguments)}}(),[t]),F=c.useCallback((function(){var e=y&&y.erroredResources.length>=0||!!b;return g||e?Object(f.jsx)(m,{progress:s,result:y,genericError:b,onAbandon:I,onRetry:T}):null}),[g,s,y,I,T,b]);return c.useMemo((function(){return{ensureProcessIsDone:D,renderProcessDialog:F}}),[D,F])}},,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i}));var r=n(116),a=!1,o=null,i=function(){if(a){var t=e.zip;return Promise.resolve(t)}return o||(o=Object(r.a)("./external/zip.js/WebContent/zip.js").then((function(){var t=e.zip;if(!t)throw new Error('Can not find "zip" in the global namespace after loading zip.js. Has the zip.js script being loaded properly?');return o=null,a=!0,t.workerScripts={deflater:["./external/zip.js/WebContent/z-worker.js","./external/zlib-asm/zlib.js","./external/zip.js/WebContent/zlib-asm/codecs.js"],inflater:["./external/zip.js/WebContent/z-worker.js","./external/zlib-asm/zlib.js","./external/zip.js/WebContent/zlib-asm/codecs.js"]},t})),o)}}).call(this,n(25))},,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return V}));var r=n(9),a=n(17),o=n(361),i=n(295),s=n(331),c=n(634),u=n(1203),l=n(688),d=n(3),b=n(2721),p=n(296),j=n(1205),h=n.n(j),f=n(1206),g=n.n(f),m=n(1207),O=n.n(m),v=n(305),x=n(375),y=n(565),C=n(306),k=n(8),w={previewContainer:{display:"flex",position:"relative",justifyContent:"center",alignItems:"center"},previewImage:{position:"relative",objectFit:"contain",verticalAlign:"middle",pointerEvents:"none"},previewIconDarkTheme:{width:40,height:40,filter:"grayscale(1) invert(1)"},previewIconLightTheme:{width:40,height:40},cardContainer:{overflow:"hidden",position:"relative"},titleContainer:{position:"absolute",bottom:0,left:0,right:0,height:48,color:"#fff",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",backgroundColor:"rgb(0,0,0,0.5)"},title:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},icon:{width:32,height:32},audioElement:{width:128,height:40}},T=function(e){var t=e.resource,n=e.onChoose,r=e.size,a=e.imageStyle;return Object(k.jsx)(b.a,{onClick:n,focusRipple:!0,children:Object(k.jsxs)("div",{style:Object(d.a)(Object(d.a)({},w.cardContainer),{},{width:r,height:r}),children:[Object(k.jsxs)("div",{style:Object(d.a)(Object(d.a)({},w.previewContainer),{},{width:r,height:r}),children:[Object(k.jsx)(y.a,{}),Object(k.jsx)(x.a,{style:Object(d.a)(Object(d.a)({},w.previewImage),{},{maxWidth:108,maxHeight:108},a),src:t.url,alt:t.name},t.url)]}),Object(k.jsxs)("div",{style:w.titleContainer,children:[Object(k.jsx)(p.a,{noMargin:!0,style:w.title,children:t.name}),Object(k.jsx)(p.a,{noMargin:!0,style:w.title,size:"body2",children:t.license})]})]})})},E=function(e){var t=e.resource,n=(e.onChoose,e.size),r=e.children;return Object(k.jsxs)("div",{style:Object(d.a)(Object(d.a)({},w.cardContainer),{},{width:n,height:n}),children:[Object(k.jsx)(i.a,{children:r}),Object(k.jsxs)("div",{style:w.titleContainer,children:[Object(k.jsx)(p.a,{noMargin:!0,style:w.title,children:t.name}),Object(k.jsx)(p.a,{noMargin:!0,style:w.title,size:"body2",children:t.license})]})]})},S=function(e){var t=e.resource,n=e.onChoose,o=e.size,s=t.type,c=a.useContext(C.a);switch(s){case"image":return Object(k.jsx)(T,{resource:t,onChoose:n,size:o});case"svg":return Object(k.jsx)(T,{resource:t,onChoose:n,size:o,imageStyle:"light"===c.palette.type?w.previewIconLightTheme:w.previewIconDarkTheme});case"audio":return Object(k.jsxs)(E,{onChoose:n,resource:t,size:o,children:[Object(k.jsx)(i.c,{justifyContent:"center",children:Object(k.jsx)("audio",{controls:!0,src:t.url,style:w.audioElement,children:"Audio preview is unsupported."})}),Object(k.jsx)(i.c,{justifyContent:"center",children:Object(k.jsx)(v.a,{onClick:n,label:Object(k.jsx)(r.Trans,{id:"Choose"})})})]});case"json":case"tilemap":case"tileset":return Object(k.jsxs)(E,{onChoose:n,resource:t,size:o,children:[Object(k.jsx)(i.c,{justifyContent:"center",children:Object(k.jsx)(h.a,{style:w.icon})}),Object(k.jsx)(i.c,{justifyContent:"center",children:Object(k.jsx)(v.a,{onClick:n,label:Object(k.jsx)(r.Trans,{id:"Choose"})})})]});case"video":return Object(k.jsxs)(E,{onChoose:n,resource:t,size:o,children:[Object(k.jsx)(i.c,{justifyContent:"center",children:Object(k.jsx)(g.a,{style:w.icon})}),Object(k.jsx)(i.c,{justifyContent:"center",children:Object(k.jsx)(v.a,{onClick:n,label:Object(k.jsx)(r.Trans,{id:"Choose"})})})]});case"font":return Object(k.jsxs)(E,{onChoose:n,resource:t,size:o,children:[Object(k.jsx)(i.c,{justifyContent:"center",children:Object(k.jsx)(O.a,{style:w.icon})}),Object(k.jsx)(i.c,{justifyContent:"center",children:Object(k.jsx)(v.a,{onClick:n,label:Object(k.jsx)(r.Trans,{id:"Choose"})})})]});default:return null}},P=n(409),I=n(19),A=n(2612),D=n(2610),F=n(508),M=n.n(F),_=n(560),L=n.n(_),R=n(323),N=function(e){return e.map((function(e){return e.name})).join(";-/>")},B=function e(t){var n=t.tagsTreeNodes,r=t.onChoose,a=t.parentNodes;return n.length?n.map((function(t){var n=[].concat(Object(I.a)(a),[t]);return Object(k.jsx)(D.a,{nodeId:N(n),label:t.name,onLabelClick:function(){return r({node:t,parentNodes:a})},collapseIcon:t.children.length?Object(k.jsx)(M.a,{}):null,expandIcon:t.children.length?Object(k.jsx)(L.a,{}):null,children:Object(k.jsx)(e,{tagsTreeNodes:t.children,parentNodes:n,onChoose:r})},t.name)})):null},U=a.memo((function(e){var t=e.allItemsLabel,n=e.chosenCategory,r=e.setChosenCategory,a=e.onChoiceChange,o=e.allFilters;return Object(k.jsxs)(A.a,{selected:n?N([].concat(Object(I.a)(n.parentNodes),[n.node])):"",defaultExpanded:[],onNodeSelect:function(){},children:[Object(k.jsx)(D.a,{nodeId:"",label:t,onLabelClick:function(){r(null)}}),Object(k.jsx)(B,{tagsTreeNodes:o.tagsTree,onChoose:function(e){r(e),a&&a(e)},parentNodes:[]})]})})),H=function(e){var t=e.filtersState,n=e.onChoiceChange,r=e.allFilters,a=e.error,o=e.allItemsLabel;return r?a?null:Object(k.jsx)(U,{allItemsLabel:o,chosenCategory:t.chosenCategory,setChosenCategory:t.setChosenCategory,onChoiceChange:n,allFilters:r}):Object(k.jsx)(R.a,{})},W=n(327),z={paper:{width:250}},V=function(e){var t=e.onChoose,n=e.resourceKind,d=a.useContext(u.a),b=d.filters,p=d.searchResults,j=d.error,h=d.fetchResourcesAndFilters,f=d.filtersState,g=d.searchText,m=d.setSearchText;a.useEffect((function(){h()}),[h]);var O=p?p.filter((function(e){return e.type===n})):null;return Object(k.jsxs)(i.a,{expand:!0,noMargin:!0,useFullHeight:!0,children:[Object(k.jsx)(i.c,{children:Object(k.jsx)(i.a,{expand:!0,noMargin:!0,children:Object(k.jsx)(o.a,{value:g,onChange:m,onRequestSearch:function(){},placeholder:{id:"Search resources"}})})}),Object(k.jsxs)(i.c,{expand:!0,overflow:"hidden",noMargin:!0,children:[Object(k.jsx)(i.a,{noMargin:!0,children:Object(k.jsx)(s.a,{children:Object(k.jsxs)(W.a,{style:z.paper,background:"medium",children:[Object(k.jsx)(P.a,{children:Object(k.jsx)(r.Trans,{id:"Categories"})}),Object(k.jsx)(H,{allItemsLabel:Object(k.jsx)(r.Trans,{id:"All assets"}),allFilters:b,filtersState:f,error:j}),Object(k.jsx)(P.a,{children:Object(k.jsx)(r.Trans,{id:"Filters"})}),Object(k.jsx)(c.a,{allFilters:b,filtersState:f,error:j})]})})}),Object(k.jsx)(l.a,{baseSize:128,onRetry:h,error:j,searchItems:O,renderSearchItem:function(e,n){return Object(k.jsx)(S,{size:n,resource:e,onChoose:function(){return t(e)}})}})]})]})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(2),a=n(34),o=n(0),i=n.n(o),s=n(17),c=n(406),u={id:"onboarding",editorSwitches:{GoToBuildSection:{editor:"Home"},ClickOnNewObjectButtonForCharacter:{editor:"Scene"},ClickOnNewEvent:{editor:"EventsSheet"}},endDialog:{content:[{messageDescriptor:{id:"## Congratulations! \ud83c\udf89"}},{messageDescriptor:{id:"### You\u2019ve built your first game! \ud83d\ude0a"}},{messageDescriptor:{id:"You\u2019re now ready to learn the basics of GDevelop."}},{messageDescriptor:{id:"Click the image to start!"}},{messageDescriptor:{id:"\ud83d\udc47\ud83d\udc47\ud83d\udc47"}},{image:{imageSource:"https://i3.ytimg.com/vi/bR2BjT7JG0k/mqdefault.jpg",linkHref:"https://www.youtube.com/watch?v=bR2BjT7JG0k&list=PL3YlZTdKiS89Kj7IQVPoNElJCWrjZaCC8"}},{messageDescriptor:{id:"### Want to skip the basics?"}},{messageDescriptor:{id:'Go to the "Learn" section on the app to explore advanced materials.'}},{messageDescriptor:{id:"Have fun!"}}]},flow:[{id:"GoToBuildSection",elementToHighlightId:"#home-build-tab",nextStepTrigger:{presenceOfElement:"#home-create-project-button"},tooltip:{description:{messageDescriptor:{id:"Head over to the **Build section**"}},placement:"right"}},{id:"CreateProject",elementToHighlightId:"#home-create-project-button",nextStepTrigger:{presenceOfElement:"#create-project-button"},tooltip:{description:{messageDescriptor:{id:"We'll create a simple game with **a character that can collect coins**. {0}{1}Let's create a new project!",values:{0:"\n",1:"\n"}}}}},{id:"ValidateProjectCreation",elementToHighlightId:"#create-project-button",nextStepTrigger:{presenceOfElement:"[id^=tab-layout]:not([id^=tab-layout-events])"},tooltip:{description:{messageDescriptor:{id:"Let's go!"}}},isOnClosableDialog:!0},{id:"ClickOnNewObjectButtonForCharacter",elementToHighlightId:"#add-new-object-button",nextStepTrigger:{presenceOfElement:"#new-object-dialog"},tooltip:{placement:"left",title:{messageDescriptor:{id:"Let's create an **object**"}},description:{messageDescriptor:{id:"\ud83d\udc49 Everything you see in a game is an **object**: your character, the enemies, coins and potions, platforms or trees, ..."}}}},{id:"OpenAssetTab",elementToHighlightId:"#asset-store-tab",nextStepTrigger:{presenceOfElement:"#asset-store"},tooltip:{description:{messageDescriptor:{id:"Let's choose an object from the asset store."}},placement:"bottom"},skippable:!0,isOnClosableDialog:!0},{id:"ClickOnSearchBar",elementToHighlightId:"#asset-store-search-bar",nextStepTrigger:{valueHasChanged:!0},tooltip:{title:{messageDescriptor:{id:"Choose an asset to represent your main character!"}},description:{messageDescriptor:{id:"Tip: search for \u201cwizard\u201d."}}},skippable:!0,isOnClosableDialog:!0},{id:"WaitForUserToSelectAsset",nextStepTrigger:{presenceOfElement:"#add-asset-button"},isOnClosableDialog:!0},{id:"AddAsset",elementToHighlightId:"#add-asset-button",isTriggerFlickering:!0,nextStepTrigger:{presenceOfElement:"#object-item-0"},tooltip:{description:{messageDescriptor:{id:"Add this asset to your project."}}},mapProjectData:{firstObject:"lastProjectObjectName"},isOnClosableDialog:!0},{id:"CloseAssetStore",elementToHighlightId:"#new-object-dialog #close-button",nextStepTrigger:{absenceOfElement:"#new-object-dialog"},tooltip:{description:{messageDescriptor:{id:"Great! Our game now has an **object**, let's see what we can do with it."}}}},{id:"DragObjectToScene",elementToHighlightId:"#object-item-0",nextStepTrigger:{instanceAddedOnScene:"firstObject"},tooltip:{description:{messageDescriptor:{id:"Drag $(firstObject) from the menu to the canvas."}},placement:"left"}},{id:"OpenBehaviors",elementToHighlightId:"#object-item-0",nextStepTrigger:{presenceOfElement:"#object-editor-dialog"},tooltip:{title:{messageDescriptor:{id:"Let's make our character move! \ud83d\udef9"}},description:{messageDescriptor:{id:"Here, right-click on it and click \u201cEdit **behaviors**\u201d"}},placement:"left"}},{id:"OpenBehaviorTab",elementToHighlightId:"#behaviors-tab",nextStepTrigger:{presenceOfElement:"#add-behavior-button"},tooltip:{description:{messageDescriptor:{id:"See the **behaviors** of your object here."}},placement:"bottom"},skippable:!0,isOnClosableDialog:!0},{id:"AddBehavior",elementToHighlightId:"#add-behavior-button",nextStepTrigger:{presenceOfElement:"#behavior-item-TopDownMovementBehavior--TopDownMovementBehavior"},tooltip:{title:{messageDescriptor:{id:"Let\u2019s add a **behavior**!"}},description:{messageDescriptor:{id:"\ud83d\udc49 Behaviors add features to objects in a matter of clicks. They are very powerful!"}},placement:"bottom"},isOnClosableDialog:!0},{id:"SelectTopDownBehavior",elementToHighlightId:"#behavior-item-TopDownMovementBehavior--TopDownMovementBehavior",nextStepTrigger:{presenceOfElement:"#behavior-parameters-TopDownMovement"},tooltip:{description:{messageDescriptor:{id:'Add the "Top down movement" **behavior**.'}},placement:"bottom"},isOnClosableDialog:!0},{id:"ApplyBehavior",elementToHighlightId:"#object-editor-dialog #apply-button",nextStepTrigger:{absenceOfElement:"#object-editor-dialog"},tooltip:{description:{messageDescriptor:{id:"The parameters above help you customise the **behavior**, but let's ignore them for now."}},placement:"top"},isOnClosableDialog:!0},{id:"LaunchPreviewCharacterOnly",elementToHighlightId:"#toolbar-preview-button",nextStepTrigger:{previewLaunched:!0},tooltip:{title:{messageDescriptor:{id:"Let's play! \ud83c\udfae"}},description:{messageDescriptor:{id:'Click on "**Preview**" and move your character with the **arrow keys**!'}},placement:"bottom"}},{id:"WaitForUserToHavePlayed",elementToHighlightId:"#toolbar-preview-button",nextStepTrigger:{clickOnTooltipButton:{messageDescriptor:{id:"I'm done"}}},tooltip:{description:{messageDescriptor:{id:"Once you're done testing, close the **preview** and come back here."}},placement:"bottom"}},{id:"ClickOnNewObjectButtonForCoin",elementToHighlightId:"#add-new-object-button",nextStepTrigger:{presenceOfElement:"#new-object-dialog"},tooltip:{placement:"left",title:{messageDescriptor:{id:"Let's now add another **object** that $(firstObject) can collect!"}}}},{id:"OpenAssetTabForCoin",elementToHighlightId:"#asset-store-tab",nextStepTrigger:{presenceOfElement:"#asset-store"},tooltip:{description:{messageDescriptor:{id:"Let's choose an object from the asset store."}},placement:"bottom"},skippable:!0,isOnClosableDialog:!0},{id:"ClickOnSearchBarForCoin",elementToHighlightId:"#asset-store-search-bar",nextStepTrigger:{valueHasChanged:!0},tooltip:{description:{messageDescriptor:{id:"Search for \u201ccoin\u201d (or a potion, food, ...)."}}},isOnClosableDialog:!0,shortcuts:[{stepId:"CloseAssetStoreForCoin",trigger:{presenceOfElement:"#object-item-1"}}]},{id:"WaitForUserToSelectAssetForCoin",nextStepTrigger:{presenceOfElement:"#add-asset-button"},isOnClosableDialog:!0},{id:"AddAssetForCoin",elementToHighlightId:"#add-asset-button",isTriggerFlickering:!0,nextStepTrigger:{presenceOfElement:"#object-item-1"},mapProjectData:{secondObject:"lastProjectObjectName"},isOnClosableDialog:!0},{id:"CloseAssetStoreForCoin",elementToHighlightId:"#new-object-dialog #close-button",nextStepTrigger:{absenceOfElement:"#new-object-dialog"},tooltip:{description:{messageDescriptor:{id:"Great! Our game now has 2 **objects**, let's see what we can do with them."}}}},{id:"DragObjectToScene",elementToHighlightId:"#object-item-1",nextStepTrigger:{instanceAddedOnScene:"secondObject"},tooltip:{description:{messageDescriptor:{id:"Place a few $(secondObject) in the scene by dragging them to the canvas."}},placement:"left"}},{id:"SwitchToEventsSheet",elementToHighlightId:"editorTab::EventsSheet",nextStepTrigger:{editorIsActive:":EventsSheet"},tooltip:{description:{messageDescriptor:{id:"Now let's make $(firstObject) collect the $(secondObject)! Go to the **events** tab of the **scene**."}},placement:"bottom"}},{id:"ClickOnNewEvent",elementToHighlightId:"#add-event-button",nextStepTrigger:{presenceOfElement:"#add-condition-button-empty"},tooltip:{title:{messageDescriptor:{id:"Let\u2019s add an **event**!"}},description:{messageDescriptor:{id:"\ud83d\udc49 **Events** are the logic to your game."}},placement:"bottom"}},{id:"ClickOnNewCondition",elementToHighlightId:"#add-condition-button-empty",nextStepTrigger:{presenceOfElement:"#instruction-editor-dialog"},tooltip:{description:{messageDescriptor:{id:'**Events** are made of a condition and an action: {0}{1}Condition: "**If** $(firstObject) touches the $(secondObject)..." {2}{3}Action: "... **then** the $(secondObject) disappears" {4}{5}**Click "Add condition**"',values:{0:"\n",1:"\n",2:"\n",3:"\n",4:"\n",5:"\n"}}},placement:"bottom"}},{id:"ChooseCharacterForCondition",elementToHighlightId:"#instruction-editor-dialog #object-item-0",nextStepTrigger:{presenceOfElement:"#object-instruction-selector"},tooltip:{description:{messageDescriptor:{id:"Choose $(firstObject)"}},placement:"bottom"},isOnClosableDialog:!0},{id:"ChooseCondition",elementToHighlightId:"#instruction-item-CollisionNP",nextStepTrigger:{presenceOfElement:"#instruction-parameters-container"},tooltip:{description:{messageDescriptor:{id:'Then the condition we want to use: **"Collision"**.'}},placement:"bottom"},isOnClosableDialog:!0},{id:"SetParameter",elementToHighlightId:"#parameter-1-object-selector",nextStepTrigger:{valueHasChanged:!0},tooltip:{description:{messageDescriptor:{id:"Finally, select the target **object** ($(secondObject))."}},placement:"top"},isOnClosableDialog:!0},{id:"CloseInstructionEditorForCondition",elementToHighlightId:"#instruction-editor-dialog #ok-button",nextStepTrigger:{absenceOfElement:"#instruction-editor-dialog"},tooltip:{description:{messageDescriptor:{id:"We're good."}},placement:"top"}},{id:"ClickOnNewAction",elementToHighlightId:"#add-action-button-empty",nextStepTrigger:{presenceOfElement:"#instruction-editor-dialog"},tooltip:{description:{messageDescriptor:{id:"Let's add **what happens when the condition is met**: make $(secondObject) disappear."}},placement:"bottom"}},{id:"ChoseCoinForAction",elementToHighlightId:"#instruction-editor-dialog #object-item-1",nextStepTrigger:{presenceOfElement:"#object-instruction-selector"},tooltip:{description:{messageDescriptor:{id:"Choose $(secondObject)"}},placement:"bottom"},isOnClosableDialog:!0},{id:"ChooseAction",elementToHighlightId:"#instruction-item-Delete",nextStepTrigger:{presenceOfElement:"#instruction-parameters-container"},tooltip:{description:{messageDescriptor:{id:'Then choose the **action** $(secondObject) will receive : "Delete", as we want to remove it.'}},placement:"bottom"},isOnClosableDialog:!0},{id:"CloseInstructionEditorForAction",elementToHighlightId:"#instruction-editor-dialog #ok-button",nextStepTrigger:{absenceOfElement:"#instruction-editor-dialog"},tooltip:{description:{messageDescriptor:{id:"Nothing more is needed!"}},placement:"top"}},{id:"LaunchPreviewWithCoinCollection",elementToHighlightId:"#toolbar-preview-button",nextStepTrigger:{previewLaunched:!0},tooltip:{title:{messageDescriptor:{id:"Let's see how it works! \ud83c\udfae"}},placement:"bottom"}},{id:"WaitForUserToHavePlayedWithCoinCollection",elementToHighlightId:"#toolbar-preview-button",nextStepTrigger:{clickOnTooltipButton:{messageDescriptor:{id:"I'm done"}}},tooltip:{description:{messageDescriptor:{id:"Once you're done testing, close the **preview** and come back here."}},placement:"bottom"}}]},l=n(54),d=n(2246),b=n(8),p="flingGame";t.b=function(e){var t=s.useState(null),n=Object(a.a)(t,2),o=n[0],p=n[1],j=s.useState(null),h=Object(a.a)(j,2),f=h[0],g=h[1],m=s.useState(0),O=Object(a.a)(m,2),v=O[0],x=O[1],y=s.useState({}),C=Object(a.a)(y,2),k=C[0],w=C[1],T=s.useState(null),E=Object(a.a)(T,2),S=E[0],P=E[1],I=function(){var e=Object(r.a)(i.a.mark((function e(t){var n,r,a,o,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.tutorialId,r=t.initialStepIndex,a=t.initialProjectData,n!==u.id){e.next=7;break}return x(r),w(a),p(u),Object(l.C)(n),e.abrupt("return");case 7:if(S){e.next=9;break}return e.abrupt("return");case 9:if(o=S.find((function(e){return e.id===n}))){e.next=12;break}return e.abrupt("return");case 12:return e.next=14,Object(d.a)(o);case 14:s=e.sent,x(r),w(a),p(s),Object(l.C)(n);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=s.useCallback(Object(r.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(null),e.prev=1,e.next=4,Object(d.b)();case 4:t=e.sent,P(t),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("An error occurred when fetching in app tutorials:",e.t0),g("fetching-error");case 12:case"end":return e.stop()}}),e,null,[[1,8]])}))),[]);return s.useEffect((function(){var e=setTimeout((function(){console.info("Pre-fetching in-app tutorials..."),A()}),1e3);return function(){return clearTimeout(e)}}),[A]),Object(b.jsx)(c.a.Provider,{value:{inAppTutorialShortHeaders:S,currentlyRunningInAppTutorial:o,startTutorial:I,startProjectData:k,endTutorial:function(){p(null),Object(l.C)(null)},startStepIndex:v,inAppTutorialsFetchingError:f,fetchInAppTutorials:A},children:e.children})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return j}));var r=n(2),a=n(34),o=n(0),i=n.n(o),s=n(17),c=n(40),u=n.n(c),l=n(35),d=function(){var e=Object(r.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get("".concat(l.n.baseUrl,"/announcement"));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=n(8),p=s.createContext({announcements:null,error:null,fetchAnnouncements:function(){}}),j=function(e){var t=e.children,n=s.useState(null),o=Object(a.a)(n,2),c=o[0],u=o[1],l=s.useState(null),j=Object(a.a)(l,2),h=j[0],f=j[1],g=s.useRef(!1),m=s.useCallback((function(){g.current||Object(r.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(null),g.current=!0,e.prev=2,e.next=5,d();case 5:t=e.sent,u(t),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.error("Unable to load the announcements from the api:",e.t0),f(e.t0);case 13:g.current=!1;case 14:case"end":return e.stop()}}),e,null,[[2,9]])})))()}),[g]);s.useEffect((function(){if(!c&&!g.current){var e=setTimeout((function(){console.info("Pre-fetching announcements from the api..."),m()}),1e3);return function(){return clearTimeout(e)}}}),[m,c,g]);var O=s.useMemo((function(){return{announcements:c,error:h,fetchAnnouncements:m}}),[c,h,m]);return Object(b.jsx)(p.Provider,{value:O,children:t})}},,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";(function(e){var r=n(1),a=n(2),o=n(3),i=n(34),s=n(0),c=n.n(s),u=n(9),l=n(17),d=(n(1303),n(2731)),b=n(2730),p=n(1304),j=n(2497),h=n(1310),f=n(2498),g=n(1419),m=n(2490),O=n(1688),v=n(1051),x=n(1690),y=n(1691),C=n(2488),k=n(26),w=n(60),T=n(1115),E=n(2504),S=n(811),P=n(2505),I=n(1266),A=n(1117),D=n(1224),F=n(1235),M=n(1226),_=n(1200),L=n(2487),R=n(1234),N=n(639),B=n(320),U=n(396),H=n(956),W=n(316),z=n(2506),V=n(1242),G=n(2250),Z=n(39),Y=n(460),q=n(1243),X=n(131),J=n(2251),K=n(2252),Q=n(2253),$=n(2254),ee=n(603),te=n(1245),ne=n(314),re=n(2255),ae=n(440),oe=n(2256),ie=n(2499),se=n(2257),ce=n(1047),ue=n(2258),le=n(2259),de=n(2260),be=n(1066),pe=n(621),je=n(354),he=n(2261),fe=n(433),ge=n(319),me=n(2262),Oe=n(1068),ve=n(54),xe=n(2263),ye=n(424),Ce=n(2507),ke=n(2274),we=n(2275),Te=n(2276),Ee=n(406),Se=n(2277),Pe=n(2491),Ie=n(884),Ae=n(2508),De=n(376),Fe=n(458),Me=n(2278),_e=n(8),Le=e.GD_STARTUP_TIMES||[],Re=e.gd,Ne={drawerContent:{width:320,overflowX:"hidden",display:"flex",flexDirection:"column"}},Be=3e3,Ue=function(e,t,n){var r=n.storageProviderName,a=t.filter((function(e){return e.internalName===r}))[0];if(a)return a;Object(w.a)({message:e._({id:"Unable to open the project because this provider is unknown: {storageProviderName}. Try to open the project again from another location.",values:{storageProviderName:r}}),rawError:new Error("Can't find storage provider called \"".concat(r,'"')),errorId:"unknown-storage-provider"})},He=function(e,t){return e.current&&t.ptr===e.current.ptr},We={previewLayoutName:null,previewExternalLayoutName:null,isPreviewOverriden:!1,overridenPreviewLayoutName:null,overridenPreviewExternalLayoutName:null};t.a=function(e){var t=Object(re.a)({createDialogOpen:!1,currentProject:null,currentFileMetadata:null,editorTabs:Object(S.l)(),snackMessage:"",snackMessageOpen:!1,snackDuration:Be,updateStatus:{message:"",status:"unknown"},openFromStorageProviderDialogOpen:!1,saveToStorageProviderDialogOpen:!1,eventsFunctionsExtensionsError:null,gdjsDevelopmentWatcherEnabled:!1,initialExampleShortHeader:null}),n=Object(i.a)(t,2),s=n[0],ze=n[1],Ve=l.useRef(null),Ge=l.useContext(ge.a),Ze=l.useState(null),Ye=Object(i.a)(Ze,2),qe=Ye[0],Xe=Ye[1],Je=l.useState(null),Ke=Object(i.a)(Je,2),Qe=Ke[0],$e=Ke[1],et=l.useRef(null),tt=Object(ne.a)(),nt=l.useState(!1),rt=Object(i.a)(nt,2),at=rt[0],ot=rt[1],it=l.useState(!1),st=Object(i.a)(it,2),ct=st[0],ut=st[1],lt=l.useState(!1),dt=Object(i.a)(lt,2),bt=dt[0],pt=dt[1],jt=l.useState(!1),ht=Object(i.a)(jt,2),ft=ht[0],gt=ht[1],mt=l.useState(!1),Ot=Object(i.a)(mt,2),vt=Ot[0],xt=Ot[1],yt=l.useState(!1),Ct=Object(i.a)(yt,2),kt=Ct[0],wt=Ct[1],Tt=l.useState(!1),Et=Object(i.a)(Tt,2),St=Et[0],Pt=Et[1],It=l.useState(!1),At=Object(i.a)(It,2),Dt=At[0],Ft=At[1],Mt=l.useState(!1),_t=Object(i.a)(Mt,2),Lt=_t[0],Rt=_t[1],Nt=l.useState(!1),Bt=Object(i.a)(Nt,2),Ut=Bt[0],Ht=Bt[1],Wt=l.useState(null),zt=Object(i.a)(Wt,2),Vt=zt[0],Gt=zt[1],Zt=l.useState(!1),Yt=Object(i.a)(Zt,2),qt=Yt[0],Xt=Yt[1],Jt=l.useState(!1),Kt=Object(i.a)(Jt,2),Qt=Kt[0],$t=Kt[1],en=Object(ye.a)(),tn=en.showConfirmation,nn=en.showAlert,rn=l.useContext(Z.a),an=rn.setHasProjectOpened,on=l.useState(!1),sn=Object(i.a)(on,2),cn=sn[0],un=sn[1],ln=l.useState(We),dn=Object(i.a)(ln,2),bn=dn[0],pn=dn[1],jn=l.useRef(null),hn=l.useRef(null),fn=l.useContext(U.a),gn=et.current&&et.current.getPreviewDebuggerServer(),mn=Object(ue.a)(gn),On=mn.previewDebuggerIds,vn=mn.hotReloadLogs,xn=mn.clearHotReloadLogs,yn=!!On.length,Cn=Object(Q.a)(),kn=Cn.ensureInteractionHappened,wn=Cn.renderOpenConfirmDialog,Tn=Object(xe.a)(),En=Tn.findLeaderboardsToReplace,Sn=Tn.renderLeaderboardReplacerDialog,Pn=l.useContext(U.a),In=l.useContext(ee.b),An=l.useContext(Ee.a),Dn=An.currentlyRunningInAppTutorial,Fn=An.endTutorial,Mn=An.startTutorial,_n=An.startStepIndex,Ln=An.startProjectData,Rn=l.useState(null),Nn=Object(i.a)(Rn,2),Bn=Nn[0],Un=Nn[1],Hn=Object(Pe.a)({editorTabs:s.editorTabs}),Wn=Hn.InAppTutorialOrchestrator,zn=Hn.orchestratorProps,Vn=l.useState(!1),Gn=Object(i.a)(Vn,2),Zn=Gn[0],Yn=Gn[1],qn=l.useState(null),Xn=Object(i.a)(qn,2),Jn=Xn[0],Kn=Xn[1],Qn=l.useState(null),$n=Object(i.a)(Qn,2),er=$n[0],tr=$n[1],nr=s.currentProject,rr=s.currentFileMetadata,ar=s.updateStatus,or=s.eventsFunctionsExtensionsError,ir=e.renderExportDialog,sr=e.resourceSources,cr=e.renderPreviewLauncher,ur=e.resourceExternalEditors,lr=e.resourceMover,dr=e.resourceFetcher,br=e.getStorageProviderOperations,pr=e.getStorageProvider,jr=e.initialFileMetadataToOpen,hr=e.i18n,fr=e.renderGDJSDevelopmentWatcher,gr=e.renderMainMenu,mr=Object(ke.a)({resourceMover:lr}),Or=mr.ensureResourcesAreMoved,vr=mr.renderResourceMoverDialog,xr=Object(we.a)({resourceFetcher:dr}),yr=xr.ensureResourcesAreFetched,Cr=xr.renderResourceFetcherDialog,kr=Object(Me.b)(nr),wr=Object(Me.b)(rr);l.useEffect((function(){ea(),Le.push(["MainFrameComponentDidMount",performance.now()]),Fr().then((function(){return ze((function(e){return Object(o.a)(Object(o.a)({},e),{},{gdjsDevelopmentWatcherEnabled:!0})}))})).then(function(){var t=Object(a.a)(c.a.mark((function t(n){var r,a,o,i,s,u,l;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Le.push(["MainFrameComponentDidMountFinished",performance.now()]),console.info("Startup times:",Object(X.a)()),r=rn.getAutoOpenMostRecentProject,a=rn.getRecentProjectFiles,o=rn.hadProjectOpenedDuringLastSession,!jr){t.next=11;break}return i=br(),t.next=7,kn(i);case 7:t.sent&&Ir(),t.next=21;break;case 11:if(!(r()&&o()&&a()[0])){t.next=21;break}if(s=a()[0],u=Ue(hr,e.storageProviders,s)){t.next=16;break}return t.abrupt("return");case 16:return l=br(u),t.next=19,kn(l);case 19:t.sent&&pa(s);case 21:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(){}))}),[]),Object(Se.a)({openOnboardingDialog:function(){xa(Ie.a)},openProfileDialog:Ft});var Tr=l.useContext(Fe.b).navigateToRoute,Er=l.useCallback((function(){ze((function(e){return Object(o.a)(Object(o.a)({},e),{},{snackMessageOpen:!1,snackDuration:Be})}))}),[ze]),Sr=l.useCallback((function(e,t){ze((function(n){return Object(o.a)(Object(o.a)({},n),{},{snackMessage:e,snackMessageOpen:!0,snackDuration:void 0!==t?t:Be})}))}),[ze]),Pr=l.useCallback((function(e,t){Er(),setTimeout((function(){return Sr(e,t)}),200)}),[Er,Sr]),Ir=function(){var e=Object(a.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(jr){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Nr(jr);case 4:(t=e.sent)&&la({currentProject:t.currentProject,editorTabs:t.editorTabs});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ar=l.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.editorTabs,t=Object(S.j)(e);t&&t.editorRef?t.editorRef.updateToolbar():Hr(null)}),[s.editorTabs]);l.useEffect((function(){Ar()}),[Ar]);var Dr=function(){Re.MeasurementUnit.applyTranslation(),Re.JsPlatform.get().reloadBuiltinExtensions(),Fr().catch((function(){}))},Fr=function(){var t=e.extensionsLoader,n=e.i18n;return t?t.loadAllExtensions(Object(V.a)(n)).then((function(e){var t=e.filter((function(e){return!e.result.error})),n=e.filter((function(e){return e.result.error&&!e.result.dangerous})),r=e.filter((function(e){return e.result.error&&e.result.dangerous}));console.info("Loaded ".concat(t.length," JS extensions.")),n.length&&console.error("\u26a0\ufe0f Unable to load ".concat(n.length," JS extensions. Please check these errors:"),n),r.length&&console.error("\ud83d\udca3 Dangerous exceptions while loading ".concat(r.length," JS extensions. \ud83d\udd25 Please check these errors as they will CRASH GDevelop:"),r)})):(console.info("No extensions loader specified, skipping extensions loading."),Promise.reject(new Error("No extension loader specified.")))};Object(de.a)(nr);var Mr=l.useCallback(Object(a.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(an(!1),pn(We),console.info("Closing project..."),t=kr.current){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,ze((function(e){return Object(o.a)(Object(o.a)({},e),{},{currentProject:null,currentFileMetadata:null,editorTabs:Object(S.i)(e.editorTabs,t)})}));case 8:console.info("Deleting project from memory..."),Pn.unloadProjectEventsFunctionsExtensions(t),t.delete(),In.hasUnsavedChanges&&In.sealUnsavedChanges(),console.info("Project closed.");case 13:case"end":return e.stop()}}),e)}))),[kr,Pn,an,ze,In]),_r=l.useCallback(function(){var e=Object(a.a)(c.a.mark((function e(t,n){var r,a,i,s,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n&&(r=pr(),a=br(r),a.onSaveProject&&rn.insertRecentProjectFile({fileMetadata:Object(o.a)(Object(o.a)({},n),{},{name:t.getName(),gameId:t.getProjectUuid(),lastModifiedDate:Date.now()}),storageProviderName:r.internalName})),e.next=3,Mr();case 3:return B.a.burstAllUrlsCache(),e.next=6,ze((function(e){return Object(o.a)(Object(o.a)({},e),{},{currentProject:t,currentFileMetadata:n,createDialogOpen:!1})}));case 6:if(i=e.sent,Pn.loadProjectEventsFunctionsExtensions(t),!n){e.next=14;break}return t.setProjectFile(n.fileIdentifier),s=pr(),u=br(s),e.next=14,yr((function(){return{project:t,fileMetadata:n,storageProvider:s,storageProviderOperations:u,authenticatedUser:Ge}}));case 14:return e.abrupt("return",i);case 15:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[ze,Mr,rn,Pn,pr,br,yr,Ge]),Lr=l.useCallback((function(e,t){var n=Date.now(),r=Re.ProjectHelper.createNewGDJSProject();r.unserializeFrom(e);var a=Date.now()-n;return console.info("Unserialization took ".concat(a.toFixed(2)," ms")),_r(r,t)}),[_r]),Rr=function(e,t){Kn(e),tr(t)},Nr=l.useCallback(function(){var e=Object(a.a)(c.a.mark((function e(t){var n,r,o,i,s,u,l,d,b,p,j,h,f,g,m;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=br(),r=n.hasAutoSave,o=n.onGetAutoSave,i=n.onOpen,s=n.getOpenErrorMessage,i){e.next=5;break}return console.error("Tried to open a file for a storage without onOpen support:",t,n),e.abrupt("return");case 5:return u=function(){var e=Object(a.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r&&o){e.next=2;break}return e.abrupt("return",t);case 2:return e.next=4,r(t,!0);case 4:if(e.sent){e.next=7;break}return e.abrupt("return",t);case 7:return e.next=9,tn({title:{id:"This project has an auto-saved version"},message:{id:"GDevelop automatically saved a newer version of this project. This new version might differ from the one that you manually saved. Which version would you like to open?"},dismissButtonLabel:{id:"My manual save"},confirmButtonLabel:{id:"GDevelop auto-save"}});case 9:if(e.sent){e.next=12;break}return e.abrupt("return",t);case 12:return e.abrupt("return",o(t));case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=Object(a.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r&&o){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,r(t,!1);case 4:if(e.sent){e.next=7;break}return e.abrupt("return",null);case 7:return e.next=9,tn({title:{id:"This project cannot be opened"},message:{id:"The project file appears to be corrupted, but an autosave file exists (backup made automatically by GDevelop). Would you like to try to load it instead?"},confirmButtonLabel:{id:"Load autosave"}});case 9:if(e.sent){e.next=12;break}return e.abrupt("return",null);case 12:return e.abrupt("return",o(t));case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ot(!0),e.prev=8,e.next=11,Object(be.a)(150);case 11:return e.next=13,u();case 13:return d=e.sent,e.prev=14,e.next=17,i(d,Rr);case 17:p=e.sent,b=p.content,e.next=31;break;case 21:return e.prev=21,e.t0=e.catch(14),e.next=25,l();case 25:if(!(j=e.sent)){e.next=31;break}return e.next=29,i(j);case 29:h=e.sent,b=h.content;case 31:if(b){e.next=33;break}throw new Error("The project file content could not be read. It might be corrupted/malformed.");case 33:if(Object($.a)(hr,b)){e.next=37;break}return ot(!1),Rr(null,null),e.abrupt("return");case 37:return f=Re.Serializer.fromJSObject(b),e.prev=38,g=Lr(f,t),f.delete(),e.abrupt("return",g);case 44:throw e.prev=44,e.t1=e.catch(38),f.delete(),e.t1;case 48:e.next=58;break;case 50:return e.prev=50,e.t2=e.catch(8),m=s?s(e.t2):{id:"Ensure that you are connected to internet and that the URL used is correct, then try again."},e.next=55,nn({title:{id:"Unable to open the project"},message:m});case 55:throw ot(!1),Rr(null,null),e.t2;case 58:case"end":return e.stop()}}),e,null,[[8,50],[14,21],[38,44]])})));return function(t){return e.apply(this,arguments)}}(),[hr,br,Lr,tn,nn]),Br=l.useCallback((function(){return k.b.quit()}),[]),Ur=l.useCallback((function(){Ve.current&&pt((function(e){return!e}))}),[pt]),Hr=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Ve.current&&t&&Ve.current.setEditorToolbar(e)},Wr=function(e,t){pn((function(n){return Object(o.a)(Object(o.a)({},n),{},{previewLayoutName:e,previewExternalLayoutName:t})}))},zr=l.useCallback(Object(a.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(nr){e.next=2;break}return e.abrupt("return");case 2:if(t=br(),!(In.hasUnsavedChanges&&rn.values.autosaveOnPreview&&t.onAutoSaveProject&&rr)){e.next=14;break}return e.prev=5,e.next=8,t.onAutoSaveProject(nr,rr);case 8:e.next=14;break;case 10:e.prev=10,e.t0=e.catch(5),console.error("Error while auto-saving the project: ",e.t0),Sr(hr._({id:"There was an error while making an auto-save of the project. Verify that you have permissions to write in the project folder."}));case 14:case"end":return e.stop()}}),e,null,[[5,10]])}))),[hr,Sr,nr,rr,br,rn.values.autosaveOnPreview,In.hasUnsavedChanges]),Vr=l.useCallback((function(e){var t=e.networkPreview,n=e.hotReload,r=e.projectDataOnlyExport,a=e.fullLoadingScreen;if(nr&&0!==nr.getLayoutsCount()){var o=et.current;if(o){un(!0),Object(S.p)(s.editorTabs);var i=bn.isPreviewOverriden?bn.overridenPreviewLayoutName:bn.previewLayoutName,c=bn.isPreviewOverriden?bn.overridenPreviewExternalLayoutName:bn.previewExternalLayoutName,u=i&&nr.hasLayoutNamed(i)?nr.getLayout(i):nr.getLayoutAt(0),l=c&&nr.hasExternalLayoutNamed(c)?nr.getExternalLayout(c):null;zr(),Object(pe.b)(nr);var d=Ge.profile?{username:Ge.profile.username||"",id:Ge.profile.id}:null;Pn.ensureLoadFinished().then((function(){return o.launchPreview({project:nr,layout:u,externalLayout:l,networkPreview:!!t,hotReload:!!n,projectDataOnlyExport:!!r,fullLoadingScreen:!!a,fallbackAuthor:d,getIsMenuBarHiddenInPreview:rn.getIsMenuBarHiddenInPreview,getIsAlwaysOnTopInPreview:rn.getIsAlwaysOnTopInPreview})})).catch((function(e){console.error("Error caught while launching preview, this should never happen.",e)})).then((function(){un(!1),hn.current&&hn.current.onPreviewLaunch()}))}}}),[zr,nr,Pn,bn,s.editorTabs,rn.getIsMenuBarHiddenInPreview,rn.getIsAlwaysOnTopInPreview,Ge.profile]),Gr=Object(fe.h)(Ge,fe.f,Vr),Zr=l.useCallback((function(){return Gr({networkPreview:!1})}),[Gr]),Yr=l.useCallback((function(){return Gr({networkPreview:!1,hotReload:!0})}),[Gr]),qr=l.useCallback((function(){return Gr({networkPreview:!0,hotReload:!1})}),[Gr]),Xr=l.useMemo((function(){return{hasPreviewsRunning:yn,launchProjectWithLoadingScreenPreview:function(){return Gr({fullLoadingScreen:!0})},launchProjectDataOnlyPreview:function(){return Gr({hotReload:!0,projectDataOnlyExport:!0})}}}),[yn,Gr]),Jr=l.useCallback((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.openEventsEditor,r=void 0===n||n,a=t.openSceneEditor,i=void 0===a||a,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.editorTabs,u={label:e,projectItemName:e,tabOptions:{data:{scene:e,type:"layout"}},renderEditorContainer:F.b,key:"layout "+e},l={label:e+" "+hr._({id:"(Events)"}),projectItemName:e,tabOptions:{data:{scene:e,type:"layout-events"}},renderEditorContainer:A.b,key:"layout events "+e,dontFocusTab:i},d=i?Object(S.q)(c,u):c,b=r?Object(S.q)(d,l):d;return ze((function(e){return Object(o.a)(Object(o.a)({},e),{},{editorTabs:b})})),ot(!1),Rr(null,null),pt(!1),b}),[hr,ze,s.editorTabs]),Kr=l.useCallback((function(e){ze((function(t){return Object(o.a)(Object(o.a)({},t),{},{editorTabs:Object(S.q)(t.editorTabs,{label:e,projectItemName:e,renderEditorContainer:D.b,key:"external events "+e})})})),pt(!1)}),[ze]),Qr=l.useCallback((function(e){ze((function(t){return Object(o.a)(Object(o.a)({},t),{},{editorTabs:Object(S.q)(t.editorTabs,{label:e,projectItemName:e,renderEditorContainer:M.b,key:"external layout "+e})})})),pt(!1)}),[ze,pt]),$r=l.useCallback((function(e,t,n){ze((function(r){return Object(o.a)(Object(o.a)({},r),{},{editorTabs:Object(S.q)(r.editorTabs,{label:e+" "+hr._({id:"(Extension)"}),projectItemName:e,extraEditorProps:{initiallyFocusedFunctionName:t,initiallyFocusedBehaviorName:n},renderEditorContainer:_.b,key:"events functions extension "+e})})})),pt(!1)}),[ze,pt,hr]),ea=l.useCallback((function(){ze((function(t){return Object(o.a)(Object(o.a)({},t),{},{editorTabs:Object(S.q)(t.editorTabs,{icon:Object(_e.jsx)(p.a,{titleAccess:"Home",fontSize:"small"}),label:hr._({id:"Home"}),projectItemName:null,renderEditorContainer:L.a,key:"start page",extraEditorProps:{storageProviders:e.storageProviders},closable:!1})})}))}),[ze,hr,e.storageProviders]),ta=l.useCallback((function(){ze((function(e){return Object(o.a)(Object(o.a)({},e),{},{editorTabs:Object(S.q)(e.editorTabs,{label:hr._({id:"Debugger"}),projectItemName:null,renderEditorContainer:I.a,key:"debugger"})})}))}),[hr,ze]),na=Object(fe.h)(Ge,fe.b,ta),ra=l.useCallback((function(){na(),Yr()}),[na,Yr]),aa=function(e,t){var n=s.currentProject,r=s.editorTabs;if(n){var a=e.getName();if(n.hasEventsFunctionsExtensionNamed(a)){var i=n.getEventsFunctionsExtension(a),c=Object(Y.d)(t),u=Object(S.n)(r,i);u?(u.editor.selectEventsFunctionByName(c.name,c.behaviorName),ze((function(e){return Object(o.a)(Object(o.a)({},e),{},{editorTabs:Object(S.a)(r,u.tabIndex)})}))):$r(a,c.name,c.behaviorName)}else console.warn("Extension with name=".concat(a," can not be opened (no editor for this)"))}},oa=function(e,t){var n=s.currentProject,r=s.editorTabs;if(n)if(n.hasEventsFunctionsExtensionNamed(e)){var a=n.getEventsFunctionsExtension(e),i=Object(S.n)(r,a);i?(i.editor.selectEventsBasedBehaviorByName(t),ze((function(e){return Object(o.a)(Object(o.a)({},e),{},{editorTabs:Object(S.a)(r,i.tabIndex)})}))):$r(e,null,t)}else console.warn("Extension with name=".concat(e," can not be opened (no editor for this)"))},ia=function(){In&&In.triggerUnsavedChanges(),tt()},sa=function(e,t,n){var r=s.currentProject;if(r){Object(ve.k)({step:"end",parentEditor:n});var a=!r.hasEventsFunctionsExtensionNamed(e),o=a?r.insertNewEventsFunctionsExtension(e,0):r.getEventsFunctionsExtension(e);a&&(o.setFullName(e),o.setDescription("Originally automatically extracted from events of the project")),o.insertEventsFunction(t,0),Pn.loadProjectEventsFunctionsExtensions(r)}},ca=l.useCallback((function(e,t){ze((function(n){return Object(o.a)(Object(o.a)({},n),{},{initialExampleShortHeader:t,createDialogOpen:e})}))}),[ze]),ua=l.useCallback((function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];ze((function(t){return Object(o.a)(Object(o.a)({},t),{},{openFromStorageProviderDialogOpen:e})}))}),[ze]),la=l.useCallback((function(e){var t=e.currentProject,n=e.editorTabs;t&&(0===t.getLayoutsCount()&&t.insertNewLayout(hr._({id:"Untitled scene"}),0),Jr(t.getLayoutAt(0).getName(),{openSceneEditor:!0,openEventsEditor:!0},n),t.getLayoutsCount()>1&&pt(!0))}),[Jr,hr]),da=l.useCallback((function(e){var t=e.currentProject;if(t){var n=t.getLayoutsCount();if(0!==n)for(var r=s.editorTabs,a=0;a<n;a++)r=Jr(t.getLayoutAt(a).getName(),{openSceneEditor:!0,openEventsEditor:!0},r)}}),[Jr,s.editorTabs]),ba=l.useCallback((function(){var e=br();if(e.onOpenWithPicker)return e.onOpenWithPicker().then((function(e){if(e)return Nr(e).then((function(e){e&&(la({currentProject:e.currentProject,editorTabs:e.editorTabs}),"LocalFile"===pr().internalName&&an(!0))}))})).catch((function(t){var n=e.getOpenErrorMessage?e.getOpenErrorMessage(t):{id:"Verify that you have the authorization for reading the file you're trying to access."};Object(w.a)({message:[hr._({id:"Unable to open the project."}),hr._(n)].join("\n"),errorId:"project-open-with-picker-error",rawError:t})}))}),[hr,br,Nr,la,pr,an]),pa=l.useCallback((function(t,n){if(In.hasUnsavedChanges){if(!k.b.showConfirmDialog(hr._({id:"Open a new project? Any changes that have not been saved will be lost."})))return;In.sealUnsavedChanges()}var r=t.fileMetadata,a=Ue(hr,e.storageProviders,t);a&&(br(a),Nr(r).then((function(e){e&&(n&&n.openAllScenes?da({currentProject:e.currentProject,editorTabs:e.editorTabs}):la({currentProject:e.currentProject,editorTabs:e.editorTabs}),"LocalFile"===pr().internalName&&an(!0))})).catch((function(e){})))}),[hr,Nr,la,e.storageProviders,br,In,pr,an,da]),ja=l.useCallback((function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e&&pt(!1),ze((function(t){return Object(o.a)(Object(o.a)({},t),{},{saveToStorageProviderDialogOpen:e})}))}),[ze]),ha=l.useCallback(function(){var e=Object(a.a)(c.a.mark((function e(t){var n,r,i,u,l,d,b,p,j,h,f,g,m,O,v,x;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(nr){e.next=2;break}return e.abrupt("return");case 2:if(Object(S.r)(s.editorTabs),!ct){e.next=6;break}return console.info("Project is already being saved, not triggering save."),e.abrupt("return");case 6:if(n=pr(),r=br(),i=br(t),u=pr(),l=i.onSaveProjectAs,d=i.onChooseSaveProjectAsLocation,b=i.getWriteErrorMessage,l){e.next=13;break}return e.abrupt("return");case 13:if(ut(!0),p=u.internalName,e.prev=15,j=null,!d){e.next=25;break}return e.next=20,d({project:nr,fileMetadata:rr});case 20:if(h=e.sent,f=h.saveAsLocation){e.next=24;break}return e.abrupt("return");case 24:j=f;case 25:return e.next=27,l(nr,j,{onStartSaving:function(){return Pr(hr._({id:"Saving..."}),null)},onMoveResources:function(){var e=Object(a.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.newFileMetadata,!rr){e.next=4;break}return e.next=4,Or({project:nr,newFileMetadata:a,newStorageProvider:u,newStorageProviderOperations:i,oldFileMetadata:rr,oldStorageProvider:n,oldStorageProviderOperations:r,authenticatedUser:Ge});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()});case 27:if(g=e.sent,m=g.wasSaved,O=g.fileMetadata,m){e.next=32;break}return e.abrupt("return");case 32:if(In.sealUnsavedChanges(),Pr(hr._({id:"Project properly saved"})),O){e.next=36;break}return e.abrupt("return");case 36:v={fileMetadata:O,storageProviderName:p},rn.insertRecentProjectFile(v),Dn&&hn.current&&rn.saveTutorialProgress(Object(o.a)(Object(o.a)({tutorialId:Dn.id,userId:Ge.profile?Ge.profile.id:null},hn.current.getProgress()),{},{fileMetadataAndStorageProviderName:v})),Ge.onCloudProjectsChanged(),B.a.burstAllUrlsCache(),He(kr,nr)&&ze((function(e){return Object(o.a)(Object(o.a)({},e),{},{currentFileMetadata:O})})),e.next=49;break;case 44:e.prev=44,e.t0=e.catch(15),Er(),x=b?b(e.t0):{id:"An error occurred when saving the project. Please try again later."},Object(w.a)({message:hr._(x),rawError:e.t0,errorId:"project-save-as-error"});case 49:return e.prev=49,ut(!1),e.finish(49);case 52:case"end":return e.stop()}}),e,null,[[15,44,49,52]])})));return function(t){return e.apply(this,arguments)}}(),[hr,ct,nr,kr,rr,br,In,ze,s.editorTabs,Pr,Er,pr,rn,Or,Ge,Dn]),fa=l.useCallback((function(){if(nr){var t=br();e.storageProviders.filter((function(e){return!e.hiddenInSaveDialog})).length>1||!t.onSaveProjectAs?ja():ha()}}),[nr,br,ja,e.storageProviders,ha]),ga=l.useCallback(Object(a.a)(c.a.mark((function e(){var t,n,r,a,i,u,l,d;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(nr){e.next=2;break}return e.abrupt("return");case 2:if(rr){e.next=4;break}return e.abrupt("return",fa());case 4:if(t=br(),n=t.onSaveProject){e.next=8;break}return e.abrupt("return",fa());case 8:if(Object(S.r)(s.editorTabs),Sr(hr._({id:"Saving..."}),null),!ct){e.next=13;break}return console.info("Project is already being saved, not triggering save."),e.abrupt("return");case 13:return ut(!0),e.prev=14,r=performance.now(),a=pr().internalName,e.next=19,n(nr,rr);case 19:i=e.sent,u=i.wasSaved,l=i.fileMetadata,u&&(console.info("Project saved in ".concat(performance.now()-r,"ms.")),d={fileMetadata:l,storageProviderName:a},rn.insertRecentProjectFile(d),Dn&&hn.current&&rn.saveTutorialProgress(Object(o.a)(Object(o.a)({tutorialId:Dn.id,userId:Ge.profile?Ge.profile.id:null},hn.current.getProgress()),{},{fileMetadataAndStorageProviderName:d})),He(kr,nr)&&ze((function(e){return Object(o.a)(Object(o.a)({},e),{},{currentFileMetadata:l})})),In.sealUnsavedChanges(),Pr(hr._({id:"Project properly saved"}))),e.next=28;break;case 25:e.prev=25,e.t0=e.catch(14),Object(w.a)({message:hr._({id:"Unable to save as the project! Please try again by choosing another location."}),rawError:e.t0,errorId:"project-save-error"});case 28:return e.prev=28,ut(!1),e.finish(28);case 31:case"end":return e.stop()}}),e,null,[[14,25,28,31]])}))),[ct,nr,kr,rr,br,Sr,Pr,hr,In,fa,s.editorTabs,pr,rn,ze,Ge,Dn]),ma=l.useCallback(Object(a.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(nr){e.next=2;break}return e.abrupt("return",!0);case 2:if(!In.hasUnsavedChanges){e.next=6;break}if(k.b.showConfirmDialog(hr._({id:"Close the project? Any changes that have not been saved will be lost."}))){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,Mr();case 8:return e.abrupt("return",!0);case 9:case"end":return e.stop()}}),e)}))),[nr,In,hr,Mr]),Oa=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s;Ar(t.editorTabs),e.editorRef&&e.editorRef.forceUpdateEditor()},va=l.useCallback((function(e){e?Mr().then((function(){Fn()})):Fn()}),[Fn,Mr]),xa=l.useCallback((function(e){var t=rn.getTutorialProgress({tutorialId:e,userId:Ge.profile?Ge.profile.id:void 0});Un({tutorialId:e,userProgress:t})}),[rn,Ge.profile]),ya=l.useCallback(function(){var e=Object(a.a)(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Bn){e.next=2;break}return e.abrupt("return");case 2:if(n=Bn.userProgress,r=Bn.tutorialId,!n||"resume"!==t){e.next=20;break}if(!nr){e.next=17;break}if(!rr||rr.fileIdentifier===n.fileMetadataAndStorageProviderName.fileMetadata.fileIdentifier){e.next=14;break}return e.next=8,ma();case 8:if(e.sent){e.next=11;break}return e.abrupt("return");case 11:pa(n.fileMetadataAndStorageProviderName,{openAllScenes:!0}),e.next=15;break;case 14:da({currentProject:nr,editorTabs:s.editorTabs});case 15:e.next=18;break;case 17:pa(n.fileMetadataAndStorageProviderName,{openAllScenes:!0});case 18:e.next=25;break;case 20:return e.next=22,ma();case 22:if(e.sent){e.next=25;break}return e.abrupt("return");case 25:return e.next=27,Mn({tutorialId:r,initialStepIndex:n&&"resume"===t?n.step:0,initialProjectData:n&&"resume"===t?n.projectData:{}});case 27:Object(ve.t)({tutorialId:r,scenario:t}),Un(null);case 29:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[ma,Mn,Bn,pa,s.editorTabs,nr,rr,da]),Ca=function(){var e=Object(a.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(nr&&rr){e.next=2;break}return e.abrupt("return");case 2:if(!(n=br()).onChangeProjectProperty){e.next=8;break}return e.next=6,n.onChangeProjectProperty(nr,rr,{name:t});case 6:e.sent&&In.sealUnsavedChanges();case 8:return e.next=10,ze((function(e){return Object(o.a)(Object(o.a)({},e),{},{currentFileMetadata:Object(o.a)(Object(o.a)({},rr),{},{name:t})})}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ka=function(){var e=Object(a.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Cloud"!==pr().internalName||!t.newName){e.next=3;break}return e.abrupt("return",tn({title:{id:"Project name changed"},message:{id:"Your project name has changed, this will also save the whole project, continue?"},confirmButtonLabel:{id:"Save and continue"}}));case 3:return e.abrupt("return",!0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),wa=l.useCallback((function(){var e=pr();return"LocalFile"===e.internalName||"Cloud"===e.internalName}),[pr]),Ta=l.useCallback((function(e){return new Promise((function(t){Xe(e);$e((function(){return t}))}))}),[$e,Xe]),Ea=function(){var e=Object(a.a)(c.a.mark((function e(t,n){var r,i,s,u,l,d,b,p,j,h,f,g,m,O,v,x;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Xt(!0),e.prev=1,!Vt){e.next=8;break}return e.next=5,Object(q.b)({i18n:t,exampleShortHeader:Vt});case 5:e.t0=e.sent,e.next=18;break;case 8:if(!n.allowPlayersToLogIn){e.next=14;break}return e.next=11,Object(q.c)();case 11:e.t1=e.sent,e.next=17;break;case 14:return e.next=16,Object(q.a)();case 16:e.t1=e.sent;case 17:e.t0=e.t1;case 18:if(r=e.t0){e.next=21;break}return e.abrupt("return");case 21:if(s=r.storageProvider,u=s?br(r.storageProvider):null,!r.project){e.next=29;break}return e.next=26,_r(r.project,null);case 26:i=e.sent,e.next=33;break;case 29:if(!r.fileMetadata||!s){e.next=33;break}return e.next=32,Nr(r.fileMetadata);case 32:i=e.sent;case 33:if(i){e.next=35;break}throw new Error("Neither a project nor a file metadata to load was provided for the new project");case 35:if(d=(l=i).currentProject,b=l.editorTabs,d){e.next=38;break}throw new Error("The new project could not be opened.");case 38:if(p=d.getProjectUuid(),d.resetProjectUuid(),d.setVersion("1.0.0"),d.getAuthorIds().clear(),d.setAuthor(""),Vt?d.setTemplateSlug(Vt.slug):(d.setGameResolutionSize(n.width,n.height),d.setOrientation(n.orientation),n.optimizeForPixelArt&&(d.setPixelsRounding(!0),d.setScaleMode("nearest"))),n.projectName&&d.setName(n.projectName),!Ge.profile){e.next=54;break}return e.prev=46,e.next=49,Object(De.i)(Ge.getAuthorizationHeader,Ge.profile.id,{gameId:d.getProjectUuid(),authorName:d.getAuthor()||"Unspecified publisher",gameName:d.getName()||"Untitled game",templateSlug:d.getTemplateSlug()});case 49:e.next=54;break;case 51:e.prev=51,e.t2=e.catch(46),console.error("Unable to register the game to the user profile, the game will not be listed in the user profile.",e.t2);case 54:if(j=br(n.storageProvider),!(h=j.onSaveProjectAs)){e.next=63;break}return e.next=59,h(d,n.saveAsLocation,{onStartSaving:function(){console.log("Start saving as the new project...")},onMoveResources:function(){var e=Object(a.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.newFileMetadata,s&&u&&r.fileMetadata){e.next=4;break}return console.log("No storage provider set or no previous FileMetadata (probably creating a blank project) - skipping resources copy."),e.abrupt("return");case 4:return e.next=6,Or({project:d,newFileMetadata:a,newStorageProvider:n.storageProvider,newStorageProviderOperations:j,oldFileMetadata:r.fileMetadata,oldStorageProvider:s,oldStorageProviderOperations:u,authenticatedUser:Ge});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()});case 59:f=e.sent,g=f.wasSaved,m=f.fileMetadata,g&&(ze((function(e){return Object(o.a)(Object(o.a)({},e),{},{currentFileMetadata:m})})),In.sealUnsavedChanges(),"LocalFile"===n.storageProvider.internalName&&rn.setHasProjectOpened(!0));case 63:return Ht(!1),Gt(null),e.next=67,ze((function(e){return Object(o.a)(Object(o.a)({},e),{},{createDialogOpen:!1})}));case 67:En(d,p),la({currentProject:d,editorTabs:b}),e.next=76;break;case 71:e.prev=71,e.t3=e.catch(1),O=br(),v=O.getWriteErrorMessage,x=v?v(e.t3):{id:"An error occurred when opening or saving the project. Try again later or choose another location to save the project to."},Object(w.a)({message:t._(x),rawError:e.t3,errorId:"project-creation-save-as-error"});case 76:return e.prev=76,Xt(!1),ot(!1),Rr(null,null),e.finish(76);case 81:case"end":return e.stop()}}),e,null,[[1,71,76,81],[46,51]])})));return function(t,n){return e.apply(this,arguments)}}(),Sa=l.useCallback(Object(a.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(kr.current&&wr.current){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,yr((function(){return{project:kr.current,fileMetadata:wr.current,storageProvider:pr(),storageProviderOperations:br(),authenticatedUser:Ge}}));case 4:case"end":return e.stop()}}),e)}))),[kr,wr,yr,pr,br,Ge]),Pa=Object(Me.a)(Sa);Object(ae.d)(jn.current?jn.current.launchCommand:function(){}),Object(oe.a)({i18n:hr,project:s.currentProject,previewEnabled:!!s.currentProject&&s.currentProject.getLayoutsCount()>0,onOpenProjectManager:Ur,hasPreviewsRunning:yn,allowNetworkPreview:!!et.current&&et.current.canDoNetworkPreview(),onLaunchPreview:Zr,onHotReloadPreview:Yr,onLaunchDebugPreview:ra,onLaunchNetworkPreview:qr,onOpenHomePage:ea,onCreateBlank:function(){return Ht(!0)},onOpenProject:function(){return ua()},onSaveProject:ga,onSaveProjectAs:fa,onCloseApp:Br,onCloseProject:function(){var e=Object(a.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ma();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onExportGame:l.useCallback((function(){return $t(!0)}),[]),onOpenLayout:function(e){Jr(e)},onOpenExternalEvents:Kr,onOpenExternalLayout:Qr,onOpenEventsFunctionsExtension:$r,onOpenCommandPalette:jn.current?jn.current.open:function(){},onOpenProfile:function(){return Ft(!0)},onOpenGamesDashboard:function(){return Tr("games-dashboard")}});var Ia=l.useMemo((function(){return{resourceSources:sr,onChooseResource:Ta,resourceExternalEditors:ur,getStorageProvider:pr,onFetchNewlyAddedResources:Pa}}),[sr,Ta,ur,pr,Pa]),Aa=at||cn,Da=Object(ae.e)(),Fa={i18n:hr,project:s.currentProject,recentProjectFiles:rn.getRecentProjectFiles(),shortcutMap:Da,isApplicationTopLevelMenu:!1},Ma={onChooseProject:function(){return ua()},onOpenRecentFile:pa,onSaveProject:ga,onSaveProjectAs:fa,onCloseProject:ma,onCloseApp:Br,onExportProject:function(){return $t(!0)},onCreateProject:function(){return ca(!0,null)},onCreateBlank:function(){return Ht(!0)},onOpenProjectManager:function(){return pt(!0)},onOpenHomePage:ea,onOpenDebugger:na,onOpenAbout:function(){return Pt(!0)},onOpenPreferences:function(){return Rt(!0)},onOpenLanguage:function(){return gt(!0)},onOpenProfile:function(){return Ft(!0)},onOpenGamesDashboard:function(){return Tr("games-dashboard")},setElectronUpdateStatus:function(e){ze((function(t){return Object(o.a)(Object(o.a)({},t),{},{updateStatus:e})}));var t=Object(H.d)(e),n=Object(H.c)(e);t&&(new window.Notification(t,{body:n}).onclick=function(){return Pt(!0)})}};return Object(_e.jsxs)("div",{className:"main-frame",children:[!!gr&&gr(Object(o.a)(Object(o.a)({},Fa),{},{isApplicationTopLevelMenu:!0}),Ma),Object(_e.jsx)(h.a,{projectName:nr?nr.getName():null,fileMetadata:rr,storageProvider:pr(),i18n:hr}),Object(_e.jsxs)(d.a,{open:bt,PaperProps:{style:Ne.drawerContent,className:"safe-area-aware-left-container"},ModalProps:{keepMounted:!0},onClose:Ur,children:[Object(_e.jsx)(x.a,{title:s.currentProject?s.currentProject.getName():"No project",onClose:Ur}),nr&&Object(_e.jsx)(m.a,{project:nr,onChangeProjectName:Ca,onSaveProjectProperties:ka,onOpenExternalEvents:Kr,onOpenLayout:function(e){Jr(e)},onOpenExternalLayout:Qr,onOpenEventsFunctionsExtension:$r,onInstallExtension:function(e){var t=s.currentProject;if(t){var n=e.name;if(t.hasEventsFunctionsExtensionNamed(n)){var r=t.getEventsFunctionsExtension(n);ze((function(e){return Object(o.a)(Object(o.a)({},e),{},{editorTabs:Object(S.d)(e.editorTabs,r)})}))}}},onDeleteLayout:function(t){var n=s.currentProject,r=e.i18n;n&&(k.b.showConfirmDialog(r._({id:"Are you sure you want to remove this scene? This can't be undone."}))&&ze((function(e){return Object(o.a)(Object(o.a)({},e),{},{editorTabs:Object(S.g)(e.editorTabs,t)})})).then((function(e){n.getFirstLayout()===t.getName()&&n.setFirstLayout(""),n.removeLayout(t.getName()),ia()})))},onDeleteExternalLayout:function(t){var n=s.currentProject,r=e.i18n;n&&(k.b.showConfirmDialog(r._({id:"Are you sure you want to remove this external layout? This can't be undone."}))&&ze((function(e){return Object(o.a)(Object(o.a)({},e),{},{editorTabs:Object(S.f)(e.editorTabs,t)})})).then((function(e){e.currentProject&&e.currentProject.removeExternalLayout(t.getName()),ia()})))},onDeleteEventsFunctionsExtension:function(t){var n=s.currentProject,r=e.i18n;n&&(k.b.showConfirmDialog(r._({id:"Are you sure you want to remove this extension? This can't be undone."}))&&ze((function(e){return Object(o.a)(Object(o.a)({},e),{},{editorTabs:Object(S.d)(e.editorTabs,t)})})).then((function(e){var r=t.getName();Pn.unloadProjectEventsFunctionsExtension(n,r),n.removeEventsFunctionsExtension(r),ia(),Pn.reloadProjectEventsFunctionsExtensions(n)})))},onDeleteExternalEvents:function(t){var n=e.i18n;s.currentProject&&(k.b.showConfirmDialog(n._({id:"Are you sure you want to remove these external events? This can't be undone."}))&&ze((function(e){return Object(o.a)(Object(o.a)({},e),{},{editorTabs:Object(S.e)(e.editorTabs,t)})})).then((function(e){e.currentProject&&e.currentProject.removeExternalEvents(t.getName()),ia()})))},onRenameLayout:function(t,n){var r=s.currentProject,a=e.i18n;if(r&&r.hasLayoutNamed(t)&&n!==t)if(""!==n)if(r.hasLayoutNamed(n))Object(w.c)(a._({id:"Another scene with this name already exists."}),{delayToNextTick:!0});else{var i=r.getLayout(t),c=t===r.getFirstLayout();ze((function(e){return Object(o.a)(Object(o.a)({},e),{},{editorTabs:Object(S.g)(e.editorTabs,i)})})).then((function(e){i.setName(n),hn.current&&hn.current.changeData(t,n),c&&r.setFirstLayout(n),ia()}))}else Object(w.c)(a._({id:"This name cannot be empty, please enter a new name."}),{delayToNextTick:!0})},onRenameExternalLayout:function(t,n){var r=s.currentProject,a=e.i18n;if(r&&r.hasExternalLayoutNamed(t)&&n!==t)if(""!==n)if(r.hasExternalLayoutNamed(n))Object(w.c)(a._({id:"Another external layout with this name already exists."}),{delayToNextTick:!0});else{var i=r.getExternalLayout(t);ze((function(e){return Object(o.a)(Object(o.a)({},e),{},{editorTabs:Object(S.f)(e.editorTabs,i)})})).then((function(e){i.setName(n),ia()}))}else Object(w.c)(a._({id:"This name cannot be empty, please enter a new name."}),{delayToNextTick:!0})},onRenameEventsFunctionsExtension:function(t,n){var r=s.currentProject,a=e.i18n;if(r&&r.hasEventsFunctionsExtensionNamed(t)&&n!==t)if(""!==n)if(Object(ce.a)(n,r))Object(w.c)(a._({id:"Another extension with this name already exists (or you used a reserved extension name). Please choose another name."}),{delayToNextTick:!0});else if(Re.Project.validateName(n)){var i=r.getEventsFunctionsExtension(t);ze((function(e){return Object(o.a)(Object(o.a)({},e),{},{editorTabs:Object(S.d)(e.editorTabs,i)})})).then((function(e){Re.WholeProjectRefactorer.renameEventsFunctionsExtension(r,i,t,n),i.setName(n),Pn.unloadProjectEventsFunctionsExtension(r,t),Pn.reloadProjectEventsFunctionsExtensions(r),ia()}))}else Object(w.c)(a._({id:"This name is invalid. Only use alphanumeric characters (0-9, a-z) and underscores. Digits are not allowed as the first character."}),{delayToNextTick:!0});else Object(w.c)(a._({id:"This name cannot be empty, please enter a new name."}),{delayToNextTick:!0})},onRenameExternalEvents:function(t,n){var r=s.currentProject,a=e.i18n;if(r&&r.hasExternalEventsNamed(t)&&n!==t)if(""!==n)if(r.hasExternalEventsNamed(n))Object(w.c)(a._({id:"Other external events with this name already exist."}),{delayToNextTick:!0});else{var i=r.getExternalEvents(t);ze((function(e){return Object(o.a)(Object(o.a)({},e),{},{editorTabs:Object(S.e)(e.editorTabs,i)})})).then((function(e){i.setName(n),ia()}))}else Object(w.c)(a._({id:"This name cannot be empty, please enter a new name."}),{delayToNextTick:!0})},onOpenResources:function(){!function(){var t=e.i18n;ze((function(e){return Object(o.a)(Object(o.a)({},e),{},{editorTabs:Object(S.q)(e.editorTabs,{label:t._({id:"Resources"}),projectItemName:null,renderEditorContainer:R.a,key:"resources"})})}))}(),pt(!1)},onOpenPlatformSpecificAssets:function(){return wt(!0)},eventsFunctionsExtensionsError:or,onReloadEventsFunctionsExtensions:function(){Pn.reloadProjectEventsFunctionsExtensions(nr)},freezeUpdate:!bt,unsavedChanges:In,hotReloadPreviewButtonProps:Xr,resourceManagementProps:Ia,shortcutMap:Da}),!s.currentProject&&Object(_e.jsx)(W.a,{children:Object(_e.jsx)(u.Trans,{id:"To begin, open or create a new project."})})]}),Object(_e.jsx)(Ae.a,{onBuildMenuTemplate:function(){return Object(te.a)(Object(te.b)(Fa),Ma)},children:Object(_e.jsx)(E.a,{hideLabels:!1,editorTabs:s.editorTabs,onClickTab:function(e){return t=e,void ze((function(e){return Object(o.a)(Object(o.a)({},e),{},{editorTabs:Object(S.a)(e.editorTabs,t)})})).then((function(e){return Oa(Object(S.j)(e.editorTabs),e)}));var t},onCloseTab:function(e){return function(e){Object(S.r)(s.editorTabs),ze((function(t){return Object(o.a)(Object(o.a)({},t),{},{editorTabs:Object(S.c)(t.editorTabs,e)})}))}(e)},onCloseOtherTabs:function(e){return function(e){Object(S.r)(s.editorTabs),ze((function(t){return Object(o.a)(Object(o.a)({},t),{},{editorTabs:Object(S.h)(t.editorTabs,e)})}))}(e)},onCloseAll:function(){Object(S.r)(s.editorTabs),ze((function(e){return Object(o.a)(Object(o.a)({},e),{},{editorTabs:Object(S.b)(e.editorTabs)})}))},onTabActivated:function(e){return Oa(e)},onDropTab:function(e,t){ze((function(n){return Object(o.a)(Object(o.a)({},n),{},{editorTabs:Object(S.o)(n.editorTabs,e,t)})}))}})}),Object(_e.jsx)(j.a,{ref:Ve,showProjectButtons:!["start page","debugger",null].includes(Object(S.j)(s.editorTabs)?Object(S.j)(s.editorTabs).key:null),canSave:!!s.currentProject&&!ct,onSave:ga,toggleProjectManager:Ur,exportProject:function(){return $t(!0)},onOpenDebugger:ra,hasPreviewsRunning:yn,onPreviewWithoutHotReload:Zr,onNetworkPreview:qr,onHotReloadPreview:Yr,canDoNetworkPreview:!!et.current&&et.current.canDoNetworkPreview(),setPreviewOverride:function(e){var t=e.isPreviewOverriden,n=e.overridenPreviewLayoutName,r=e.overridenPreviewExternalLayoutName;pn((function(e){return Object(o.a)(Object(o.a)({},e),{},{isPreviewOverriden:t,overridenPreviewLayoutName:n,overridenPreviewExternalLayoutName:r})}))},isPreviewEnabled:!!nr&&nr.getLayoutsCount()>0,previewState:bn}),Object(_e.jsx)(Oe.a,{gameId:s.currentProject?s.currentProject.getProjectUuid():"",children:Object(S.m)(s.editorTabs).map((function(t,n){var a=Object(S.k)(s.editorTabs)===n;return Object(_e.jsx)(T.c,{active:a,children:Object(_e.jsx)(se.a,{active:a,children:Object(_e.jsx)(N.a,{title:"This editor encountered a problem",scope:"mainframe",children:t.renderEditorContainer({isActive:a,extraEditorProps:t.extraEditorProps,project:nr,ref:function(e){return t.editorRef=e},setToolbar:function(e){return Hr(e,a)},projectItemName:t.projectItemName,setPreviewedLayout:Wr,onOpenExternalEvents:Kr,onOpenEvents:function(e){Jr(e,{openEventsEditor:!0,openSceneEditor:!1})},previewDebuggerServer:gn,hotReloadPreviewButtonProps:Xr,onOpenLayout:function(e){Jr(e,{openEventsEditor:!0,openSceneEditor:!1})},resourceManagementProps:Ia,onSave:ga,canSave:!!s.currentProject&&!ct,onCreateEventsFunction:sa,openInstructionOrExpression:aa,unsavedChanges:In,canOpen:!!e.storageProviders.filter((function(e){return!e.hiddenInOpenDialog})).length,canInstallPrivateAsset:wa,onChooseProject:function(){return ua()},onOpenRecentFile:pa,onOpenNewProjectSetupDialog:function(e){Gt(e),Ht(!0)},onOpenProjectManager:function(){return pt(!0)},onCloseProject:function(){return ma()},onCreateProject:function(e){return ca(!0,e)},onOpenProfile:function(){return Ft(!0)},onOpenHelpFinder:function(){return xt(!0)},onOpenLanguageDialog:function(){return gt(!0)},onOpenPreferences:function(){return Rt(!0)},onOpenAbout:function(){return Pt(!0)},selectInAppTutorial:xa,onLoadEventsFunctionsExtensions:function(){return Pn.loadProjectEventsFunctionsExtensions(nr)},onDeleteResource:function(e,t){t(!0)},onRenameResource:function(e,t,n){nr&&Object(je.j)(nr,Object(r.a)({},e.getName(),t)),n(!0)},openBehaviorEvents:oa})})})},t.key)}))}),Object(_e.jsx)(ie.a,{ref:jn}),Object(_e.jsx)(v.a,{show:Aa,progress:Jn,message:er}),Object(_e.jsx)(P.a,{open:vt,onClose:function(){return xt(!1)}}),Object(_e.jsx)(b.a,{open:s.snackMessageOpen,autoHideDuration:s.snackDuration,onClose:Er,ContentProps:{"aria-describedby":"snackbar-message"},message:Object(_e.jsx)("span",{id:"snackbar-message",children:s.snackMessage})}),!!ir&&Qt&&ir({onClose:function(){return $t(!1)},onChangeSubscription:function(){$t(!1)},project:s.currentProject,onSaveProject:ga}),s.createDialogOpen&&Object(_e.jsx)(q.d,{open:!0,onClose:function(){ze((function(e){return Object(o.a)(Object(o.a)({},e),{},{createDialogOpen:!1})}))},initialExampleShortHeader:s.initialExampleShortHeader,isProjectOpening:qt,onChoose:function(e){Gt(e),Ht(!0)}}),!!nr&&kt&&Object(_e.jsx)(O.a,{project:nr,open:!0,onApply:function(){return wt(!1)},onClose:function(){return wt(!1)},resourceManagementProps:Ia}),!!cr&&cr({getIncludeFileHashs:fn.getIncludeFileHashs,onExport:function(){return $t(!0)}},(function(e){et.current=e})),qe&&Qe&&!!nr&&Object(_e.jsx)(he.a,{project:nr,fileMetadata:rr,getStorageProvider:pr,i18n:hr,resourceSources:sr,onChooseResources:function(e){$e(null),Xe(null),Qe(e)},onClose:function(){$e(null),Xe(null),Qe([])},options:qe}),Dt&&Object(_e.jsx)(C.a,{currentProject:nr,open:!0,onClose:function(){Ft(!1)}}),Ut&&Object(_e.jsx)(Ce.a,{authenticatedUser:Ge,isOpening:qt,onClose:function(){return Ht(!1)},onCreate:function(e){return Ea(hr,e)},storageProviders:e.storageProviders,isFromExample:!!Vt,sourceExampleName:Vt?Vt.name:void 0}),Lt&&Object(_e.jsx)(f.a,{i18n:e.i18n,onClose:function(e){Rt(!1),e&&Dr()}}),ft&&Object(_e.jsx)(G.a,{open:!0,onClose:function(e){gt(!1),e&&Dr()}}),St&&Object(_e.jsx)(g.a,{open:!0,onClose:function(){return Pt(!1)},updateStatus:ar}),s.openFromStorageProviderDialogOpen&&Object(_e.jsx)(J.a,{onClose:function(){return ua(!1)},storageProviders:e.storageProviders,onChooseProvider:function(e){ua(!1),br(e),ba()}}),s.saveToStorageProviderDialogOpen&&Object(_e.jsx)(K.a,{onClose:function(){return ja(!1)},storageProviders:e.storageProviders,onChooseProvider:function(e){ja(!1),ha(e)}}),wn(),Sn(),vr(),Cr(),Object(_e.jsx)(y.a,{shouldPrompt:!!s.currentProject,i18n:e.i18n,language:e.i18n.language,hasUnsavedChanges:In.hasUnsavedChanges}),Object(_e.jsx)(z.a,{}),Bn&&Object(_e.jsx)(me.a,{open:!0,tutorialCompletionStatus:Bn.userProgress?Bn.userProgress.progress.every((function(e){return 100===e}))?"complete":"started":"notStarted",tutorialId:Bn.tutorialId,startTutorial:ya,onClose:function(){Un(null)}}),s.gdjsDevelopmentWatcherEnabled&&fr&&fr(),!!vn.length&&Object(_e.jsx)(le.a,{logs:vn,onClose:xn,onLaunchNewPreview:function(){xn(),Zr()}}),Dn&&Object(_e.jsx)(Wn,Object(o.a)({ref:hn,tutorial:Dn,startStepIndex:_n,startProjectData:Ln,project:nr,endTutorial:function(e){!nr||rr&&!In.hasUnsavedChanges?va(e):Yn(!0)}},zn)),Zn&&Object(_e.jsx)(Te.a,{onSaveProject:ga,onClose:function(){return Yn(!1)},isSavingProject:ct,canEndTutorial:!!rr&&!In.hasUnsavedChanges,endTutorial:function(){return va(!0)}})]})}}).call(this,n(25))},,,,,function(e,t,n){"use strict";var r=n(17),a=n.n(r),o=new Set;if("undefined"!==typeof window){var i,s=function(){return o.forEach((function(e){return e()}))};window.addEventListener("resize",(function(){clearTimeout(i),i=setTimeout(s,200)}))}t.a=function(e){a.a.useEffect((function(){return o.add(e),function(){o.delete(e)}}),[e])}},,function(e,t,n){"use strict";var r=n(3),a=n(17),o=n.n(a),i=n(905),s=n(8);t.a=o.a.memo((function(e){return Object(s.jsx)(i.a,Object(r.a)(Object(r.a)({},e),{},{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:Object(s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.57046 3.408C3.71787 3.3169 3.90194 3.30862 4.05694 3.38612L12.3903 7.55278C12.5597 7.63748 12.6667 7.81061 12.6667 8C12.6667 8.18938 12.5597 8.36251 12.3903 8.44721L4.05694 12.6139C3.90194 12.6914 3.71787 12.6831 3.57046 12.592C3.42305 12.5009 3.33333 12.34 3.33333 12.1667V3.83333C3.33333 3.66004 3.42305 3.49911 3.57046 3.408ZM4.33333 4.64235V11.3576L11.0486 8L4.33333 4.64235Z",fill:"currentColor"})}))}))},,,,function(e,t,n){"use strict";var r=n(3),a=n(17),o=n.n(a),i=n(905),s=n(8);t.a=o.a.memo((function(e){return Object(s.jsxs)(i.a,Object(r.a)(Object(r.a)({},e),{},{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[Object(s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 5.75C4 4.78351 4.78351 4 5.75 4H9.25C10.2165 4 11 4.78351 11 5.75V18.2502C11 19.2167 10.2165 20.0002 9.25 20.0002H5.75C4.78352 20.0002 4 19.2167 4 18.2502V5.75ZM5.75 5.5C5.61193 5.5 5.5 5.61193 5.5 5.75V18.2502C5.5 18.3883 5.61192 18.5002 5.75 18.5002H9.25C9.38808 18.5002 9.5 18.3883 9.5 18.2502V5.75C9.5 5.61193 9.38807 5.5 9.25 5.5H5.75Z",fill:"currentColor"}),Object(s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13 5.75C13 4.78352 13.7835 4 14.75 4H18.25C19.2165 4 20 4.78352 20 5.75V9.25025C20 10.2168 19.2165 11.0002 18.25 11.0002H14.75C13.7835 11.0002 13 10.2168 13 9.25025V5.75ZM14.75 5.5C14.6119 5.5 14.5 5.61192 14.5 5.75V9.25025C14.5 9.38828 14.6119 9.5002 14.75 9.5002H18.25C18.3881 9.5002 18.5 9.38828 18.5 9.25025V5.75C18.5 5.61192 18.3881 5.5 18.25 5.5H14.75Z",fill:"currentColor"}),Object(s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13 14.75C13 13.7835 13.7835 13 14.75 13H18.25C19.2165 13 20 13.7835 20 14.75V18.2502C20 19.2167 19.2165 20.0002 18.25 20.0002H14.75C13.7835 20.0002 13 19.2167 13 18.2502V14.75ZM14.75 14.5C14.6119 14.5 14.5 14.6119 14.5 14.75V18.2502C14.5 18.3883 14.6119 18.5002 14.75 18.5002H18.25C18.3881 18.5002 18.5 18.3883 18.5 18.2502V14.75C18.5 14.6119 18.3881 14.5 18.25 14.5H14.75Z",fill:"currentColor"})]}))}))},function(e,t,n){"use strict";var r=n(3),a=n(17),o=n.n(a),i=n(905),s=n(8);t.a=o.a.memo((function(e){return Object(s.jsxs)(i.a,Object(r.a)(Object(r.a)({},e),{},{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[Object(s.jsx)("path",{d:"M6.75 19.25H17.25C18.3546 19.25 19.25 18.3546 19.25 17.25V9.82843C19.25 9.29799 19.0393 8.78929 18.6642 8.41421L15.5858 5.33579C15.2107 4.96071 14.702 4.75 14.1716 4.75H6.75C5.64543 4.75 4.75 5.64543 4.75 6.75V17.25C4.75 18.3546 5.64543 19.25 6.75 19.25Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),Object(s.jsx)("path",{d:"M8.75 19V15.75C8.75 15.1977 9.19772 14.75 9.75 14.75H14.25C14.8023 14.75 15.25 15.1977 15.25 15.75V19",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),Object(s.jsx)("path",{d:"M8.75 5V8.25",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})]}))}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=300},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(9),a=n(17),o=n(322),i=n(321),s=n(295),c=n(26),u=n(39),l=n(90),d=n.n(l),b=n(296),p=n(393),j=n(8),h=d.a.filter((function(e){return"en"!==e.languageCode&&("pseudo_LOCALE"!==e.languageCode||c.b.isDev())})),f=h.filter((function(e){return e.translationRatio>.5})),g=h.filter((function(e){return e.translationRatio<.5})),m=function(e){var t=e.translationRatio||0,n=(100*e.translationRatio).toFixed(0),r=t>0;return Object(j.jsx)(i.a,{value:e.languageCode,primaryText:"".concat(e.languageNativeName," (").concat(e.languageName,")").concat(r?" - ~".concat(n,"%"):""),disabled:!r},e.languageCode)};t.a=function(e){var t=e.onLanguageChanged,n=Object(a.useContext)(u.a),l=n.values,d=n.setLanguage;return Object(j.jsxs)(s.a,{noMargin:!0,children:[Object(j.jsx)(s.c,{noMargin:!0,expand:!0,children:Object(j.jsxs)(o.a,{floatingLabelText:Object(j.jsx)(r.Trans,{id:"Choose GDevelop language"}),value:l.language,onChange:function(e,n,r){d(r),t(r)},fullWidth:!0,children:[Object(j.jsx)(i.a,{value:"en",primaryText:"English (default)"}),f.map((function(e){return m(e)})),g.map((function(e){return m(e)}))]})}),Object(j.jsx)(b.a,{children:Object(j.jsx)(r.Trans,{id:"You can <0>help to translate GDevelop in your language</0>.",components:[Object(j.jsx)(p.a,{href:"https://crowdin.com/project/gdevelop",onClick:function(){return c.b.openExternalURL("https://crowdin.com/project/gdevelop")}})]})})]})}},,,function(e,t,n){"use strict";n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return b})),n.d(t,"e",(function(){return p})),n.d(t,"b",(function(){return j})),n.d(t,"a",(function(){return h})),n.d(t,"g",(function(){return f})),n.d(t,"f",(function(){return g}));var r=n(2),a=n(34),o=n(0),i=n.n(o),s=n(9),c=n(17),u=n.n(c),l=n(8),d=function(e){return"update-available"===e.status?"A new update is available!":""},b=function(e){return"update-available"===e.status?"It will be downloaded and installed automatically (unless you deactivated this in preferences)":""},p=function(e){return"checking-for-update"===e?"Checking for update...":"update-available"===e?"A new update is available!":"update-not-available"===e?"No update available. You're using the latest version!":"error"===e?"Error while checking update":"download-progress"===e?"A new update is being downloaded...":"update-downloaded"===e?"A new update will be installed after you quit and relaunch GDevelop":""},j=function(e){return"update-available"===e?"Update GDevelop to latest version":"Check again for new updates"},h=function(e){return"update-available"===e},f=function(){var e=u.a.useState("unknown"),t=Object(a.a)(e,2),n=t[0],o=t[1];return u.a.useEffect((function(){Object(r.a)(i.a.mark((function e(){var t,n,r,a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!navigator.serviceWorker){e.next=8;break}return t=navigator,n=t.serviceWorker,r=!!n.controller,o(r?"installed":"not-installed"),e.next=6,n.getRegistration();case 6:(a=e.sent)&&(s=a.installing)&&("installed"===s.state?o("update-ready"):o("update-installing"));case 8:case"end":return e.stop()}}),e)})))()}),[]),n},g=function(e){return"not-installed"===e?Object(l.jsx)(s.Trans,{id:"Not installed as an app. No updates available."}):"installed"===e?Object(l.jsx)(s.Trans,{id:"Installed as an app. No updates available."}):"update-installing"===e?Object(l.jsx)(s.Trans,{id:"An update is installing."}):"update-ready"===e?Object(l.jsx)(s.Trans,{id:"An update is ready to be installed. Close ALL GDevelop apps or tabs in your browser, then open it again."}):Object(l.jsx)(s.Trans,{id:"Unknown status."})}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(17),a=function(){var e=r.useRef(!1);return r.useEffect((function(){return e.current=!0,function(){e.current=!1}}),[]),e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(328),a=n.n(r),o=n(954),i=n.n(o),s=(n(17),n(295)),c=n(305),u=n(8),l=function(e){return Object(u.jsx)(s.a,{expand:!0,noMargin:e.noMargin,children:Object(u.jsx)(s.c,{children:Object(u.jsx)(c.a,{primary:!0,onClick:e.onClick,label:e.primaryText,id:e.id,icon:"search"===e.kind?Object(u.jsx)(i.a,{}):Object(u.jsx)(a.a,{}),fullWidth:!0})})})}},function(e,t,n){"use strict";var r=n(17),a={showAlertDialog:function(e){},showConfirmDialog:function(e){},showConfirmDeleteDialog:function(e){}},o=r.createContext(a);t.a=o},function(e,t,n){"use strict";t.a=function(e,t,n){if(!t)return null;if(e.values.hiddenTutorialHints[n])return null;var r=t.find((function(e){return e.id===n}));return r||(console.warn("Tutorial with id ".concat(n," not found")),null)}},function(e,t,n){"use strict";var r=n(9),a=n(17),o=n(39),i=n(312),s=n(26),c=n(305),u=n(963),l=n.n(u),d=n(1423),b=n.n(d),p=n(8);t.a=function(e){var t=e.tutorial,n=a.useContext(o.a).showTutorialHint;return Object(p.jsx)(r.I18n,{children:function(e){e.i18n;return Object(p.jsx)(i.a,{kind:"info",children:t.title,renderLeftIcon:function(){return Object(p.jsx)("img",{alt:"",style:{width:128,borderRadius:4,aspectRatio:"16 / 9"},src:t.thumbnailUrl})},renderRightButton:function(){return Object(p.jsx)(c.a,{icon:"video"===t.type?Object(p.jsx)(l.a,{}):Object(p.jsx)(b.a,{}),label:"video"===t.type?Object(p.jsx)(r.Trans,{id:"Watch the tutorial"}):Object(p.jsx)(r.Trans,{id:"Read the tutorial"}),onClick:function(){s.b.openExternalURL(t.link)}})},onHide:function(){n(t.id,!1)}})}})}},,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(3),a=n(17),o=n.n(a),i=n(905),s=n(8);t.a=o.a.memo((function(e){return Object(s.jsx)(i.a,Object(r.a)(Object(r.a)({},e),{},{children:Object(s.jsx)("path",{d:"M19 2h-4.18C14.4.84 13.3 0 12 0c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm7 18H5V4h2v3h10V4h2v16z"})}))}))},,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(9),a=n(12),o=n.n(a),i=n(303),s=n(296),c=n(8),u=o()("electron"),l=function(){return u?null:Object(c.jsx)(i.c,{title:Object(c.jsx)(r.Trans,{id:"An external editor is opened."}),cannotBeDismissed:!0,noMobileFullScreen:!0,open:!0,maxWidth:"sm",id:"external-editor-opened-dialog",children:Object(c.jsx)(s.a,{children:Object(c.jsx)(r.Trans,{id:"Save your changes or close the external editor to continue."})})})}},,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(9),a=(n(17),n(295)),o=n(296),i=n(8);function s(e){var t=e.label,n=e.description,s=e.elementsWithWords;return Object(i.jsxs)(a.a,{noMargin:!0,children:[Object(i.jsx)(o.a,{size:"sub-title",children:t}),n&&Object(i.jsx)(o.a,{size:"body",children:n}),s&&Object(i.jsx)(o.a,{size:"body",children:Object(i.jsx)("i",{children:Object(i.jsx)(r.Trans,{id:"in {elementsWithWords}",values:{elementsWithWords:s}})})})]})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return e?"object"!=typeof e?null:"object"===typeof e.response&&e.response&&"number"===typeof e.response.status?{status:e.response.status,code:"object"===typeof e.response.data&&e.response.data&&"string"===typeof e.response.data.code?e.response.data.code:null}:null:null}},function(e,t,n){"use strict";var r=n(3),a=n(17),o=n(9),i=n(564),s=n(1017),c=n.n(s),u=n(296),l=n(295),d=n(306),b=n(297),p=n(8),j={bulletIcon:{width:20,height:20,marginRight:10},bulletText:{flex:1}};t.a=function(e){var t=a.useContext(d.a);return Object(p.jsx)(o.I18n,{children:function(n){var a=n.i18n;return Object(p.jsxs)(i.a,{isHighlighted:e.isHighlighted,background:e.background,children:[Object(p.jsxs)(l.c,{noMargin:!0,justifyContent:"space-between",alignItems:"center",children:[Object(p.jsx)(u.a,{size:"block-title",children:Object(p.jsx)("span",{children:Object(p.jsx)("b",{children:e.plan.name})})}),Object(p.jsx)(u.a,{color:"secondary",children:e.hidePrice||null===e.plan.monthlyPriceInEuros?null:0===e.plan.monthlyPriceInEuros?Object(p.jsx)(o.Trans,{id:"Free"}):Object(p.jsx)(o.Trans,{id:"{0}\u20ac/month",values:{0:e.plan.monthlyPriceInEuros}})})]}),Object(p.jsx)(u.a,{color:"secondary",noMargin:!0,children:e.plan.smallDescription?a._(e.plan.smallDescription):""}),Object(p.jsx)(l.c,{children:Object(p.jsx)(l.a,{noMargin:!0,children:e.plan.descriptionBullets.map((function(n,o){return Object(p.jsx)(l.a,{expand:!0,noMargin:!0,children:Object(p.jsxs)(l.c,{noMargin:!0,alignItems:"center",children:[e.isHighlighted?Object(p.jsx)(c.a,{style:Object(r.a)(Object(r.a)({},j.bulletIcon),{},{color:t.message.valid})}):Object(p.jsx)(c.a,{style:j.bulletIcon}),Object(p.jsx)(u.a,{style:j.bulletText,children:a._(n.message)})]})},o)}))})}),e.actions&&Object(p.jsx)(b.b,{expand:!0,justifyContent:"flex-end",noMargin:!0,children:e.actions})]})}})}},,function(e,t,n){"use strict";n.d(t,"b",(function(){return b}));var r=n(3),a=n(17),o=(n(320),n(340)),i=n(375),s=n(306),c=n(552),u=n(565),l=n(8),d=100,b={position:"relative",display:"inline-block",width:d,height:d,justifyContent:"center",alignItems:"center",lineHeight:"100px",textAlign:"center"},p={spriteThumbnail:Object(r.a)({},b),spriteThumbnailImage:{position:"relative",maxWidth:d,maxHeight:d,verticalAlign:"middle",pointerEvents:"none"},checkboxContainer:{textAlign:"initial",position:"absolute",width:34,height:64,bottom:0,right:0}};t.a=function(e){var t=e.onContextMenu,n=e.resourcesLoader,d=e.resourceName,b=e.project,j=a.useContext(s.a),h=Object(c.a)(a.useCallback((function(e){t&&t(e.clientX,e.clientY)}),[t])),f=j.imageThumbnail.selectedBorderColor,g=j.imagePreview.borderColor,m=e.selected?f:g,O=Object(r.a)(Object(r.a)({},p.spriteThumbnail),{},{border:"1px solid ".concat(m)},e.style);return Object(l.jsxs)("div",Object(r.a)(Object(r.a)({title:d,style:O,onContextMenu:function(e){e.stopPropagation(),t&&t(e.clientX,e.clientY)}},h),{},{children:[Object(l.jsx)(u.a,{}),Object(l.jsx)(i.a,{style:p.spriteThumbnailImage,alt:d,src:n.getResourceFullUrl(b,d,{})}),e.selectable&&Object(l.jsx)("div",{style:p.checkboxContainer,children:Object(l.jsx)(o.a,{checked:!!e.selected,onCheck:function(t,n){return e.onSelect&&e.onSelect(n)}})})]}))}},function(e,t,n){"use strict";var r=n(3),a=n(9),o=n(17),i=n(296),s=n(295),c=n(297),u=n(393),l=n(306),d=n(439),b=n(8),p={subscriptionContainer:{display:"flex",borderRadius:10,alignItems:"center"},diamondIcon:{width:50,height:50}};t.a=function(e){var t=o.useContext(d.a).openSubscriptionDialog,n=o.useContext(l.a),j=Object(r.a)(Object(r.a)({},p.subscriptionContainer),{},{border:"1px solid ".concat(n.palette.primary)});return Object(b.jsxs)("div",{style:j,children:[Object(b.jsx)("img",{src:"res/diamond.svg",style:p.diamondIcon,alt:"diamond"}),Object(b.jsxs)(c.b,{alignItems:"center",expand:!0,children:[Object(b.jsx)(s.a,{noMargin:!0,expand:!0,children:e.children}),Object(b.jsx)(s.a,{children:Object(b.jsx)(u.a,{href:"#",onClick:function(){t({reason:e.subscriptionDialogOpeningReason})},children:Object(b.jsx)(i.a,{noMargin:!0,color:"inherit",children:Object(b.jsx)(a.Trans,{id:"Upgrade"})})})})]})]})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var r=n(2),a=n(34),o=n(0),i=n.n(o),s=n(17),c=n(471),u=n(1021),l=n(520),d=n(314),b=n(8),p=function(e){if(e)return"Error while loading users"},j=function(e){var t=e.userIds,n=e.onChange,o=e.floatingLabelText,j=e.helperText,h=e.disabled,f=Object(d.a)(),g=s.useState([]),m=Object(a.a)(g,2),O=m[0],v=m[1],x=Object(s.useState)(""),y=Object(a.a)(x,2),C=y[0],k=y[1],w=Object(s.useState)(!1),T=Object(a.a)(w,2),E=T[0],S=T[1],P=s.useState([]),I=Object(a.a)(P,2),A=I[0],D=I[1],F=s.useState(null),M=Object(a.a)(F,2),_=M[0],L=M[1],R=Object(c.a)(Object(r.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(L(null),C){e.next=4;break}return D([]),e.abrupt("return");case 4:return e.prev=4,S(!0),e.next=8,Object(l.e)(C);case 8:t=e.sent,D(t),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(4),L(e.t0),console.error("Could not load the users: ",e.t0);case 16:return e.prev=16,S(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[4,12,16,19]])}))),500);s.useEffect((function(){R()}),[R,C]);var N=s.useCallback(Object(r.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(L(null),t.length){e.next=4;break}return v([]),e.abrupt("return");case 4:return e.prev=4,S(!0),e.next=8,Object(l.c)(t);case 8:n=e.sent,v(t.map((function(e){var t=n[e];return t?{text:t.username||"(no username)",value:t.id}:null})).filter(Boolean)),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(4),L(e.t0),console.error("Could not load the users: ",e.t0);case 16:return e.prev=16,S(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[4,12,16,19]])}))),[t]);return s.useEffect((function(){N()}),[N]),Object(b.jsx)(u.a,{hintText:{id:"Start typing a username"},floatingLabelText:o,helperText:j,value:O,onChange:function(e,t){t&&(v(t),n(t.map((function(e){return{username:e.text,userId:e.value}}))),f())},inputValue:C,onInputChange:function(e,t){k(t)},dataSource:A.map((function(e){return e.username&&e.id?{text:e.username,value:e.id}:null})).filter(Boolean),loading:E||h,fullWidth:!0,error:p(_),disableAutoTranslate:!0})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(3),a=(n(17),n(9)),o=n(2715),i=n(2723),s=n(2597),c=n(374),u=n(2580),l=n(2589),d=n(423),b=n(296),p=n(8),j=function(e,t){return Object(p.jsx)(u.a,{dense:!0,component:"div",style:c.b.listItem,children:Object(p.jsx)(l.a,{style:c.b.listItemText,primary:Object(p.jsx)("div",{title:e.value,style:d.a,children:e.text})})})},h=Object(s.a)({root:{height:25},deleteIcon:{cursor:"default"}});function f(e){var t=h();return Object(p.jsx)(a.I18n,{children:function(n){var s=n.i18n;return Object(p.jsx)(i.a,{multiple:!0,value:e.value,onChange:e.onChange,inputValue:e.inputValue,onInputChange:e.onInputChange,options:e.dataSource,PaperComponent:c.a,renderOption:j,getOptionLabel:function(e){return e.text},getOptionDisabled:function(t){return t.disabled||!!e.value.find((function(e){return e&&e.value===t.value}))||e.optionsLimit&&e.value.length>=e.optionsLimit},getOptionSelected:function(e,t){return e.value===t.value},loading:e.loading,ListboxProps:{className:e.disableAutoTranslate?"notranslate":""},renderInput:function(t){return Object(p.jsx)(o.a,Object(r.a)(Object(r.a)({},t),{},{color:"secondary",InputProps:Object(r.a)(Object(r.a)({},t.InputProps),{},{placeholder:e.hintText&&s._(e.hintText)}),label:e.floatingLabelText,helperText:e.error||e.helperText,variant:"filled",error:!!e.error,disabled:e.disabled||e.loading}))},fullWidth:e.fullWidth,disabled:e.disabled||e.loading,noOptionsText:Object(p.jsx)(b.a,{noMargin:!0,children:Object(p.jsx)(a.Trans,{id:"No options"})}),loadingText:Object(p.jsx)(b.a,{noMargin:!0,children:Object(p.jsx)(a.Trans,{id:"Loading..."})}),ChipProps:{classes:t,className:e.disableAutoTranslate?"notranslate":""}})}})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(3),a=n(9),o=(n(17),n(316)),i=n(327),s=n(8),c={display:"block",objectFit:"cover"},u={width:272,height:153},l=function(e){var t=e.thumbnailUrl,n=e.gameName,l=e.background,d=void 0===l?"light":l;return t?Object(s.jsx)("img",{src:t,style:Object(r.a)(Object(r.a)({},c),u),alt:n,title:n}):Object(s.jsx)(i.a,{variant:"outlined",style:Object(r.a)(Object(r.a)({},u),{},{whiteSpace:"normal",display:"flex"}),background:d,children:Object(s.jsx)(o.a,{children:Object(s.jsx)(a.Trans,{id:"No thumbnail set"})})})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var r=n(2),a=n(34),o=n(0),i=n.n(o),s=n(9),c=n(17),u=n(303),l=n(298),d=n(1680),b=n.n(d),p=n(1275),j=n(396),h=n(318),f=n(778),g=n(569),m=n(319),O=n(433),v=n(328),x=n.n(v),y=n(8);function C(e){var t=e.project,n=e.onClose,o=e.onInstallExtension,d=e.onExtensionInstalled,v=e.onCreateNew,C=c.useState(!1),k=Object(a.a)(C,2),w=k[0],T=k[1],E=c.useState(!1),S=Object(a.a)(E,2),P=S[0],I=S[1],A=c.useContext(j.a),D=c.useContext(m.a),F=Object(O.h)(D,O.e,f.b),M=function(){var e=Object(r.a)(i.a.mark((function e(n,r){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(T(!0),e.prev=1,!r){e.next=9;break}return o(r),e.next=6,F(n,t,A,r);case 6:a=e.sent,e.next=12;break;case 9:return e.next=11,Object(f.a)(n,A,t);case 11:a=e.sent;case 12:if(!a){e.next=16;break}return I(!0),d&&d(),e.abrupt("return",!0);case 16:return e.abrupt("return",!1);case 17:return e.prev=17,T(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[1,,17,20]])})));return function(t,n){return e.apply(this,arguments)}}(),_=A.getEventsFunctionsExtensionOpener();return Object(y.jsx)(s.I18n,{children:function(e){var a=e.i18n;return Object(y.jsxs)(u.c,{title:Object(y.jsx)(s.Trans,{id:"Search for New Extensions"}),id:"extension-search-dialog",fullHeight:!0,actions:[Object(y.jsx)(l.a,{id:"close-button",label:Object(y.jsx)(s.Trans,{id:"Close"}),primary:!0,onClick:n,disabled:w},"close")],secondaryActions:[Object(y.jsx)(h.a,{helpPagePath:"/extensions/search"},"help"),_?Object(y.jsx)(l.a,{leftIcon:Object(y.jsx)(b.a,{}),label:Object(y.jsx)(s.Trans,{id:"Import extension"}),onClick:function(){M(a)},disabled:w},"import"):null,v?Object(y.jsx)(l.a,{onClick:v,label:Object(y.jsx)(s.Trans,{id:"Create a new extension"}),leftIcon:Object(y.jsx)(x.a,{})},"create-new"):null],flexBody:!0,open:!0,cannotBeDismissed:w,onRequestClose:n,children:[Object(y.jsx)(p.a,{isInstalling:w,onInstall:function(){var e=Object(r.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",M(a,t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),project:t,showOnlyWithBehaviors:!1}),Object(y.jsx)(g.a,{identifier:"extension-installed-explanation",message:Object(y.jsx)(s.Trans,{id:"The extension was added to the project. You can now use it in the list of actions/conditions and, if it's a behavior, in the list of behaviors for an object."}),show:P})]})}})}},,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(9),a=n(17),o=n(323),i=n(348),s=n(639),c=n(379),u=n(316),l=n(8),d={container:{flex:1},grid:{overflowX:"hidden"}},b=function(e){var t=e.disableAutoTranslate,n=e.searchItems,b=e.getSearchItemUniqueId,p=e.renderSearchItem,j=e.error,h=e.onRetry,f=a.useRef(null),g=a.useRef(0),m=a.useRef({}),O=a.useCallback((function(e,t){return m.current[b(e)]!==t&&(m.current[b(e)]=t,!0)}),[b]),v=a.useCallback((function(e){var t=e.index;if(!n||!n[t])return 90;var r=n[t];return m.current[b(r)]||90}),[n,b]),x=a.useCallback((function(e){var t=e.key,r=e.rowIndex,a=e.style;if(!n)return null;var o=n[r];return o?Object(l.jsx)("div",{style:a,children:p(o,(function(e){O(o,e)&&f.current&&f.current.recomputeGridSize(0,r)}))},t):null}),[n,O,p]);return n?0===n.length?Object(l.jsx)(u.a,{children:Object(l.jsx)(r.Trans,{id:"No results returned for your search. Try something else or typing at least 2 characters."})}):Object(l.jsx)(s.a,{title:"An error occurred when displaying search results",scope:"list-search-result",children:Object(l.jsx)("div",{style:d.container,className:t?"notranslate":"",children:Object(l.jsx)(c.a,{children:function(e){var t=e.width,r=e.height;return g.current!==t&&(m.current={},g.current=t),Object(l.jsx)(c.e,{ref:function(e){e&&e.recomputeGridSize(0,0),f.current=e},width:t,height:r,columnCount:1,columnWidth:t,rowHeight:v,rowCount:n.length,cellRenderer:x,style:d.grid})}})})}):j?Object(l.jsx)(i.a,{onRetry:h,children:Object(l.jsx)(r.Trans,{id:"Can't load the results. Verify your internet connection or retry later."})}):Object(l.jsx)(o.a,{})}},,,,,,,,,,,,,,function(e,t,n){"use strict";(function(e){var r=n(34),a=n(9),o=n(17),i=n.n(o),s=n(311),c=n(305),u=n(303),l=n(410),d=n(316),b=n(1681),p=n(430),j=n(1044),h=n.n(j),f=n(340),g=n(1683),m=n(297),O=n(66),v=n(613),x=n(295),y=n(480),C=n(523),k=n(453),w=n(472),T=n(8),E=e.gd;t.a=function(e){var t=e.open,n=e.layout,o=e.project,j=e.onApply,S=e.onClose,P=e.onOpenMoreSettings,I=e.onEditVariables,A=e.resourceManagementProps,D=i.a.useState(n.getWindowDefaultTitle()),F=Object(r.a)(D,2),M=F[0],_=F[1],L=i.a.useState(n.stopSoundsOnStartup()),R=Object(r.a)(L,2),N=R[0],B=R[1],U=i.a.useState({r:n.getBackgroundColorRed(),g:n.getBackgroundColorGreen(),b:n.getBackgroundColorBlue(),a:1}),H=Object(r.a)(U,2),W=H[0],z=H[1];i.a.useEffect((function(){t&&n&&(_(n.getWindowDefaultTitle()),B(n.stopSoundsOnStartup()),z({r:n.getBackgroundColorRed(),g:n.getBackgroundColorGreen(),b:n.getBackgroundColorBlue(),a:1}))}),[t,n]);var V=function(){n.setWindowDefaultTitle(M),n.setStopSoundsOnStartup(N),n.setBackgroundColor(W?W.r:0,W?W.g:0,W?W.b:0),j()},G=[Object(T.jsx)(u.a,{label:Object(T.jsx)(a.Trans,{id:"Ok"}),primary:!0,onClick:V},"ok")],Z=n.getAllBehaviorSharedDataNames().toJSArray().map((function(e){var t=n.getBehaviorSharedData(e);if(Object(g.a)(E,t))return null;var r=t.getProperties(),a=Object(p.a)(r,(function(e){return t.getProperties()}),(function(e,n,r){t.updateProperty(n,r)})),i=t.getTypeName(),c=E.MetadataProvider.getBehaviorMetadata(E.JsPlatform.get(),i),u=Object(w.a)(i),l=c.getIconFilename();return!!a.length&&Object(T.jsxs)(C.a,{defaultExpanded:!0,id:"behavior-parameters-".concat(e),children:[Object(T.jsxs)(C.c,{actions:[Object(T.jsx)(v.a,{size:"small",helpPagePath:c.getHelpPath()},"help")],children:[l?Object(T.jsx)(k.a,{src:l,alt:c.getFullName(),size:20}):null,Object(T.jsx)(x.a,{expand:!0,children:Object(T.jsx)(s.b,{value:e,margin:"none",fullWidth:!0,disabled:!0,onChange:function(e,t){},id:"behavior-".concat(e,"-name-text-field")})})]}),Object(T.jsx)(C.b,{children:Object(T.jsxs)(x.a,{expand:!0,noMargin:!0,noOverflowParent:!0,children:[[].length?Object(T.jsx)(x.c,{children:Object(T.jsx)(m.a,{expand:!0,children:u.map((function(e){return Object(T.jsx)(y.a,{tutorialId:e},e)}))})}):null,Object(T.jsx)(x.c,{children:Object(T.jsx)(b.a,{behaviorSharedData:t,project:o,resourceManagementProps:A},e)})]})})]},e)})).filter(Boolean);return Object(T.jsx)(u.c,{title:Object(T.jsx)(a.Trans,{id:"{0} properties",values:{0:n.getName()}}),actions:G,secondaryActions:[Object(T.jsx)(c.a,{label:Object(T.jsx)(a.Trans,{id:"Edit scene variables"}),fullWidth:!0,onClick:function(){I(),S()}},"edit-scene-variables")],onRequestClose:S,onApply:V,open:t,maxWidth:"sm",children:Object(T.jsxs)(m.a,{expand:!0,noMargin:!0,children:[Object(T.jsx)(s.b,{floatingLabelText:Object(T.jsx)(a.Trans,{id:"Window title"}),fullWidth:!0,type:"text",value:M,onChange:function(e,t){return _(t)}}),Object(T.jsx)(f.a,{checked:N,label:Object(T.jsx)(a.Trans,{id:"Stop music and sounds on startup"}),onCheck:function(e,t){return B(t)}}),Object(T.jsx)(l.a,{floatingLabelText:Object(T.jsx)(a.Trans,{id:"Scene background color"}),fullWidth:!0,disableAlpha:!0,color:Object(O.f)(W),onChange:function(e){return z(Object(O.i)(e))}}),!h()(Z)&&Object(T.jsx)(d.a,{children:Object(T.jsx)(a.Trans,{id:"Any additional properties will appear here if you add behaviors to objects, like Physics behavior."})}),Z,P&&Object(T.jsx)(c.a,{label:Object(T.jsx)(a.Trans,{id:"Open advanced settings"}),fullWidth:!0,onClick:function(){P&&P(),S()}})]})})}}).call(this,n(25))},,,function(e,t,n){"use strict";var r=n(9),a=(n(17),n(510)),o=n(481),i=n(8);t.a=function(e){return Object(i.jsx)(a.a,{open:e.open,variablesContainer:e.layout.getVariables(),onCancel:e.onClose,onApply:e.onApply,title:Object(i.jsx)(r.Trans,{id:"{0} variables",values:{0:e.layout.getName()}}),emptyPlaceholderTitle:Object(i.jsx)(r.Trans,{id:"Add your first scene variable"}),emptyPlaceholderDescription:Object(i.jsx)(r.Trans,{id:"These variables hold additional information on a scene."}),helpPagePath:"/all-features/variables/scene-variables",hotReloadPreviewButtonProps:e.hotReloadPreviewButtonProps,onComputeAllVariableNames:function(){return o.a.findAllLayoutVariables(e.project.getCurrentPlatform(),e.project,e.layout)}})}},function(e,t,n){"use strict";function r(e,t){for(var n=t.getCurrentPlatform().getAllPlatformExtensions(),r=0;r<n.size();r++)if(n.at(r).getName()===e)return!0;return t.hasEventsFunctionsExtensionNamed(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(3),a=n(5),o=n(6),i=Object(a.a)((function e(){var t=this;Object(o.a)(this,e),this.registerCommand=function(e,n){if(t._commands[e])return console.warn("Tried to register command ".concat(e,", but it is already registered."));t._commands[e]=n},this.deregisterCommand=function(e){if(!t._commands[e])return console.warn("Tried to deregister command ".concat(e,", but it is not registered."));delete t._commands[e]},this.getNamedCommand=function(e){var n=t._commands[e];return n?Object(r.a)({name:e},n):null},this.getAllNamedCommands=function(){return Object.keys(t._commands).map((function(e){var n=t._commands[e];return Object(r.a)(Object(r.a)({},n),{},{name:e})}))},this._commands={}}))},function(e,t,n){"use strict";var r=n(17);t.a=function(e){var t=Object(r.useRef)(null),n=t.current;if(null!==n)return n;var a=e();return t.current=a,a}},function(e,t,n){"use strict";var r=n(3),a=n(17),o=n.n(a),i=n(905),s=n(8);t.a=o.a.memo((function(e){return Object(s.jsx)(i.a,Object(r.a)(Object(r.a)({},e),{},{width:"17",height:"16",viewBox:"0 0 17 16",fill:"none",children:Object(s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.38082 2.20631C9.58606 2.29331 9.70892 2.50568 9.68203 2.72698L9.2316 6.43332H13.3338C13.5266 6.43332 13.7022 6.54413 13.7851 6.71812C13.8681 6.89212 13.8437 7.0983 13.7223 7.24808L8.53714 13.6481C8.3968 13.8213 8.15875 13.8807 7.95351 13.7937C7.74826 13.7067 7.6254 13.4943 7.65229 13.273L8.10272 9.56666H4.00049C3.80773 9.56666 3.63214 9.45585 3.54917 9.28186C3.46621 9.10786 3.49065 8.90168 3.612 8.7519L8.79718 2.3519C8.93752 2.17869 9.17557 2.1193 9.38082 2.20631ZM5.04909 8.56666H8.66716C8.81028 8.56666 8.94653 8.62799 9.04143 8.73512C9.13633 8.84224 9.18077 8.9849 9.16351 9.12698L8.85476 11.6675L12.2852 7.43332H8.66716C8.52404 7.43332 8.38779 7.37199 8.29289 7.26486C8.19799 7.15773 8.15355 7.01507 8.17081 6.873L8.47956 4.33248L5.04909 8.56666Z",fill:"currentColor"})}))}))},function(e,t,n){"use strict";n(17);var r=n(9),a=n(2600),o=n(2602),i=n(296),s=n(364),c=n(295),u=n(8),l={dialogContent:{padding:10,overflow:"hidden",display:"flex",flexDirection:"row"}},d={enter:0,exit:150};t.a=function(e){var t=null===e.progress||void 0===e.progress;return Object(u.jsx)(r.I18n,{children:function(n){var r=n.i18n;return Object(u.jsx)(a.a,{open:e.show,transitionDuration:d,children:Object(u.jsx)(o.a,{style:l.dialogContent,children:Object(u.jsx)("div",{style:{width:e.message?250:void 0},children:Object(u.jsxs)(c.a,{noMargin:!0,alignItems:"center",expand:!0,children:[Object(u.jsx)(s.a,{size:50,disableShrink:t,value:t?void 0:e.progress,variant:t?"indeterminate":"determinate"}),e.message&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(c.d,{}),Object(u.jsx)(i.a,{noMargin:!0,align:"center",children:r._(e.message)})]})]})})})})}})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(1692),a=n.n(r),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{size:40},n=t.size,r=a()(e.trim().toLowerCase());return"https://www.gravatar.com/avatar/".concat(r,"?s=").concat(n,"&d=retro")}},function(e,t,n){"use strict";n.d(t,"b",(function(){return c}));n(17);var r=n(9),a=n(296),o=n(2597),i=n(8),s=Object(o.a)((function(e){return{container:{borderRadius:4,padding:"2px 4px",backdropFilter:function(t){return t.withOverlay&&"light"===e.palette.type?"brightness(40%)":void 0},backgroundColor:function(t){return t.withOverlay&&"light"===e.palette.type?void 0:e.palette.background.alternate.startsWith("#")?e.palette.background.alternate+"BB":e.palette.background.alternate},color:function(t){return t.withOverlay&&"light"===e.palette.type?"#FAFAFA":void 0}}}})),c=function(e,t){return"\u20ac ".concat(e.number(t/100,{minimumFractionDigits:2,maximumFractionDigits:2}).replace(/\D00$/,""))};t.a=function(e){var t=e.value,n=e.withOverlay,o=e.owned,u=s({withOverlay:n});return Object(i.jsx)(r.I18n,{children:function(e){var n=e.i18n;return Object(i.jsx)("div",{className:u.container,children:Object(i.jsx)(a.a,{noMargin:!0,size:"sub-title",color:"inherit",children:o?Object(i.jsx)(r.Trans,{id:"\u2705 Owned"}):c(n,t)})})}})}},function(e,t,n){"use strict";var r=n(3),a=(n(17),n(2626)),o=n(8);t.a=function(e){return Object(o.jsx)(a.a,Object(r.a)({color:"secondary",variant:"dot"},e))}},,function(e,t,n){"use strict";n(17);var r=n(2628),a=n(2629),o=n(2630),i=n(2631),s=n(2632),c=n(2633),u=n(2634),l=n(2635),d=n(2636),b=n(2637),p=n(295),j=n(8),h={icon:{padding:5}};t.a=function(e){var t=e.url;return Object(j.jsxs)(p.c,{children:[Object(j.jsx)(r.a,{url:t,style:h.icon,quote:"Try the game I just created with GDevelop.io",hashtag:"#gdevelop",children:Object(j.jsx)(a.a,{size:32,round:!0})}),Object(j.jsx)(o.a,{url:t,title:"Try the game I just created with r/gdevelop",style:h.icon,children:Object(j.jsx)(i.a,{size:32,round:!0})}),Object(j.jsx)(s.a,{title:"Try the game I just created with GDevelop.io",hashtags:["gdevelop"],url:t,style:h.icon,children:Object(j.jsx)(c.a,{size:32,round:!0})}),Object(j.jsx)(u.a,{title:"Try the game I just created with GDevelop.io",url:t,style:h.icon,children:Object(j.jsx)(l.a,{size:32,round:!0})}),Object(j.jsx)(d.a,{subject:"My GDevelop game",body:"Try the game I just created with GDevelop.io",url:t,style:h.icon,children:Object(j.jsx)(b.a,{size:32,round:!0})})]})}},function(e,t,n){"use strict";var r=n(34),a=n(9),o=n(17),i=n(559),s=n(310),c=n(297),u=n(305),l=n(311),d=n(26),b=n(645),p=n(8);t.a=function(e){var t=e.url,n=o.useState(!1),j=Object(r.a)(n,2),h=j[0],f=j[1],g=function(){t&&(navigator.clipboard.writeText(t),f(!0))},m=function(){t&&d.b.openExternalURL(t)};return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(c.d,{noFloatingLabelText:!0,renderTextField:function(){return Object(p.jsx)(l.b,{value:t,readOnly:!0,fullWidth:!0,endAdornment:Object(p.jsx)(s.a,{onClick:g,tooltip:{id:"Copy"},edge:"end",children:Object(p.jsx)(i.a,{})})})},renderButton:function(e){return Object(p.jsx)(u.a,{primary:!0,id:"open-online-export-button",label:Object(p.jsx)(a.Trans,{id:"Open"}),onClick:m,style:e})}}),Object(p.jsx)(b.a,{message:Object(p.jsx)(a.Trans,{id:"Copied to clipboard!"}),visible:h,hide:function(){return f(!1)}})]})}},function(e,t,n){"use strict";var r=n(2),a=n(0),o=n.n(a),i=n(9),s=(n(17),n(1059)),c=n.n(s),u=n(298),l=n(295),d=n(8);t.a=function(e){var t=e.url,n=function(){var e=Object(r.a)(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&navigator.share){e.next=2;break}return e.abrupt("return");case 2:return n={title:"My GDevelop game",text:"Try the game I just created with #gdevelop",url:t},e.prev=3,e.next=6,navigator.share(n);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),console.error("Couldn't share the game",e.t0);case 11:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(){return e.apply(this,arguments)}}();return navigator.share?Object(d.jsx)(l.c,{justifyContent:"flex-end",children:Object(d.jsx)(u.a,{label:Object(d.jsx)(i.Trans,{id:"Share"}),onClick:n,leftIcon:Object(d.jsx)(c.a,{})})}):null}},,function(e,t,n){"use strict";var r=n(3),a=n(17),o=n.n(a),i=n(905),s=n(8);t.a=o.a.memo((function(e){return Object(s.jsx)(i.a,Object(r.a)(Object(r.a)({},e),{},{children:Object(s.jsx)("path",{d:"M12,20L15.46,14H15.45C15.79,13.4 16,12.73 16,12C16,10.8 15.46,9.73 14.62,9H19.41C19.79,9.93 20,10.94 20,12A8,8 0 0,1 12,20M4,12C4,10.54 4.39,9.18 5.07,8L8.54,14H8.55C9.24,15.19 10.5,16 12,16C12.45,16 12.88,15.91 13.29,15.77L10.89,19.91C7,19.37 4,16.04 4,12M15,12A3,3 0 0,1 12,15A3,3 0 0,1 9,12A3,3 0 0,1 12,9A3,3 0 0,1 15,12M12,4C14.96,4 17.54,5.61 18.92,8H12C10.06,8 8.45,9.38 8.08,11.21L5.7,7.08C7.16,5.21 9.44,4 12,4M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"})}))}))},,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(2),a=n(6),o=n(5),i=n(0),s=n.n(i),c=n(377),u=n(1066),l=18e5,d=function(){function e(){var t=this;Object(a.a)(this,e),this.runningWatchers={},this.nextWatcherId=0,this._pollBuild=function(){var e=Object(r.a)(s.a.mark((function e(n,r){var a,o,i,l,d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.nextWatcherId.toString(),t.nextWatcherId++,t.runningWatchers[a]=!0,o=null;case 4:if(t.authenticatedUser){e.next=6;break}return e.abrupt("return");case 6:if(i=t.authenticatedUser,l=i.getAuthorizationHeader,d=i.firebaseUser){e.next=9;break}return e.abrupt("return");case 9:return e.prev=9,console.info("Checking progress of build ".concat(n,"...")),e.next=13,Object(c.e)(l,d.uid,n);case 13:o=e.sent,t.onBuildUpdated&&t.onBuildUpdated(o),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(9),console.warn("Error while watching build progress:",e.t0);case 20:return e.next=22,Object(u.a)(r);case 22:if(t.runningWatchers[a]){e.next=25;break}return console.info("Stopping watch of build ".concat(n,".")),e.abrupt("return");case 25:if(o&&"pending"===o.status){e.next=4;break}case 26:console.info("Watch of build ".concat(n," finished."));case 27:case"end":return e.stop()}}),e,null,[[9,17]])})));return function(t,n){return e.apply(this,arguments)}}()}return Object(o.a)(e,[{key:"start",value:function(e){var t=this,n=e.authenticatedUser,r=e.builds,a=e.onBuildUpdated;this.stop(),this.authenticatedUser=n,this.onBuildUpdated=a,r.forEach((function(e){"pending"===e.status&&((!e.createdAt||e.createdAt<Date.now()-l)&&(!e.updatedAt||e.updatedAt<Date.now()-l)?console.info("Ignoring a build for polling as it's too old and still pending",e):t._pollBuild(e.id,r.length>1?5e3:1500))}))}},{key:"stop",value:function(){this.runningWatchers={}}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return new Promise((function(t){return setTimeout(t,e)}))}},function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return g}));var r=n(2),a=n(34),o=n(0),i=n.n(o),s=n(9),c=n(17),u=n.n(c),l=n(771),d=n(621),b=n(298),p=n(303),j=n(319),h=n(8),f=function(e,t){var n=function(e){return e},r=t.name,a=t.authorIds,o=t.authorUsernames,i=t.description,s=t.categories;e.setName(r);var c=e.getCategories();c.clear(),s.forEach((function(e){return c.push_back(e)})),e.setDescription(i);var u=e.getAuthorIds();u.clear(),a.forEach((function(e){return u.push_back(e)}));var l=e.getAuthorUsernames();return l.clear(),o.forEach((function(e){return l.push_back(e)})),e.setPlayableWithKeyboard(t.playWithKeyboard),e.setPlayableWithGamepad(t.playWithGamepad),e.setPlayableWithMobile(t.playWithMobile),e.setOrientation(t.orientation),Object(d.a)(n,Object(d.c)(n,e))},g=function(e){var t=e.project,n=e.publicGame,o=e.onClose,c=e.onApply,d=e.isLoading,g=u.a.useContext(j.a).profile,m=n.authors.map((function(e){return e.id})),O=n.authors.map((function(e){return e.username})).filter(Boolean),v=n.owners.map((function(e){return e.id})),x=u.a.useState(n.gameName),y=Object(a.a)(x,2),C=y[0],k=y[1],w=u.a.useState(n.categories),T=Object(a.a)(w,2),E=T[0],S=T[1],P=u.a.useState(n.description),I=Object(a.a)(P,2),A=I[0],D=I[1],F=u.a.useState(m),M=Object(a.a)(F,2),_=M[0],L=M[1],R=u.a.useState(O),N=Object(a.a)(R,2),B=N[0],U=N[1],H=u.a.useState(v),W=Object(a.a)(H,2),z=W[0],V=W[1],G=u.a.useState(n.playWithKeyboard),Z=Object(a.a)(G,2),Y=Z[0],q=Z[1],X=u.a.useState(n.playWithGamepad),J=Object(a.a)(X,2),K=J[0],Q=J[1],$=u.a.useState(n.playWithMobile),ee=Object(a.a)($,2),te=ee[0],ne=ee[1],re=u.a.useState(n.orientation),ae=Object(a.a)(re,2),oe=ae[0],ie=ae[1],se=u.a.useState(n.userSlug||g&&g.username||""),ce=Object(a.a)(se,2),ue=ce[0],le=ce[1],de=u.a.useState(n.gameSlug||Object(l.b)(n.gameName)),be=Object(a.a)(de,2),pe=be[0],je=be[1],he=u.a.useState(n.discoverable),fe=Object(a.a)(he,2),ge=fe[0],me=fe[1],Oe=function(){var e=Object(r.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!f(t,{name:C,categories:E||[],description:A||"",authorIds:_,authorUsernames:B,playWithKeyboard:!!Y,playWithGamepad:!!K,playWithMobile:!!te,orientation:oe||"default"})){e.next=3;break}return e.next=3,c({ownerIds:z,userSlug:ue,gameSlug:pe,discoverable:ge});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ve=[Object(h.jsx)(b.a,{label:Object(h.jsx)(s.Trans,{id:"Back"}),primary:!1,onClick:o,disabled:d},"back"),Object(h.jsx)(p.a,{label:Object(h.jsx)(s.Trans,{id:"Save"}),primary:!0,onClick:Oe,disabled:d},"save")];return Object(h.jsx)(p.c,{title:n.gameName,actions:ve,cannotBeDismissed:d,onRequestClose:o,onApply:Oe,open:!0,children:Object(h.jsx)(l.a,{name:C,setName:k,categories:E,setCategories:S,description:A,setDescription:D,project:t,authorIds:_,setAuthorIds:L,setAuthorUsernames:U,ownerIds:z,setOwnerIds:V,setPlayableWithKeyboard:q,playWithKeyboard:Y,setPlayableWithGamepad:Q,playWithGamepad:K,setPlayableWithMobile:ne,playWithMobile:te,setOrientation:ie,orientation:oe,setUserSlug:le,userSlug:ue,setGameSlug:je,gameSlug:pe,setDiscoverable:me,discoverable:ge,displayThumbnail:!0,thumbnailUrl:n.thumbnailUrl})})}},function(e,t,n){"use strict";var r=n(2),a=n(34),o=n(1),i=n(3),s=n(0),c=n.n(s),u=n(17),l=n(648),d=n(454),b=n(319),p=n(519),j=n(8),h=function(e){return"PREFER_UNIQUE"===e.playerUnicityDisplayChoice},f=function(e,t){switch(t.type){case"SET_LEADERBOARDS":var n=t.payload;if(!n)return Object(i.a)(Object(i.a)({},e),{},{leaderboardsByIds:null,currentLeaderboardId:null,currentLeaderboard:null});var r=n.reduce((function(e,t){return e[t.id]=t,e}),{}),s=!e.currentLeaderboard&&n&&n.length>0,c=n.find((function(e){return e.primary})),u=(e.currentLeaderboard?r[e.currentLeaderboard.id]:void 0)||e.currentLeaderboard,l=s?c||n[0]:u;return Object(i.a)(Object(i.a)({},e),{},{leaderboardsByIds:r,displayOnlyBestEntry:!!l&&h(l),currentLeaderboardId:l?l.id:null,currentLeaderboard:l});case"SET_ENTRIES":return Object(i.a)(Object(i.a)({},e),{},{entries:t.payload});case"PURGE_NAVIGATION":return Object(i.a)(Object(i.a)({},e),{},{entries:null,pageIndex:0,mapPageIndexToUri:{}});case"SET_NEXT_PAGE_URI":var d=e.pageIndex+1;return Object(i.a)(Object(i.a)({},e),{},{mapPageIndexToUri:Object(i.a)(Object(i.a)({},e.mapPageIndexToUri),{},Object(o.a)({},d,t.payload))});case"SET_PAGE_INDEX":return Object(i.a)(Object(i.a)({},e),{},{pageIndex:t.payload});case"SELECT_LEADERBOARD":if(!e.leaderboardsByIds)return e;var b=e.leaderboardsByIds[t.payload];return Object(i.a)(Object(i.a)({},e),{},{displayOnlyBestEntry:h(b),currentLeaderboardId:b.id,currentLeaderboard:b});case"CHANGE_DISPLAY_ONLY_BEST_ENTRY":return Object(i.a)(Object(i.a)({},e),{},{displayOnlyBestEntry:t.payload});case"UPDATE_OR_CREATE_LEADERBOARD":var p={};return e.leaderboardsByIds&&Object.entries(e.leaderboardsByIds).forEach((function(e){var n=Object(a.a)(e,2),r=n[0],o=n[1];p[r]=Object(i.a)(Object(i.a)({},o),{},{primary:t.payload.primary?void 0:o.primary})})),p[t.payload.id]=t.payload,Object(i.a)(Object(i.a)({},e),{},{displayOnlyBestEntry:h(t.payload),leaderboardsByIds:p,currentLeaderboardId:t.payload.id,currentLeaderboard:t.payload});case"REMOVE_LEADERBOARD":var j=Object(i.a)({},e.leaderboardsByIds);delete j[t.payload];var f=Object.keys(j);return 0===f.length?Object(i.a)(Object(i.a)({},e),{},{displayOnlyBestEntry:!1,leaderboardsByIds:j,currentLeaderboard:null,currentLeaderboardId:null}):Object(i.a)(Object(i.a)({},e),{},{displayOnlyBestEntry:h(j[f[0]]),leaderboardsByIds:j,currentLeaderboard:j[f[0]],currentLeaderboardId:f[0]});default:return Object(i.a)({},e)}};t.a=function(e){var t=e.gameId,n=e.children,o=u.useContext(b.a),i=u.useRef(!1),s=u.useReducer(f,{currentLeaderboardId:null,currentLeaderboard:null,leaderboardsByIds:null,displayOnlyBestEntry:!1,entries:null,mapPageIndexToUri:{},pageIndex:0}),h=Object(a.a)(s,2),g=h[0],m=g.currentLeaderboardId,O=g.currentLeaderboard,v=g.leaderboardsByIds,x=g.displayOnlyBestEntry,y=g.entries,C=g.mapPageIndexToUri,k=g.pageIndex,w=h[1],T=u.useCallback(function(){var e=Object(r.a)(c.a.mark((function e(n){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.current){e.next=14;break}return i.current=!0,e.prev=2,n&&n.shouldClearBeforeFetching&&w({type:"SET_LEADERBOARDS",payload:null}),e.next=6,Object(d.j)(o,t);case 6:if(r=e.sent){e.next=9;break}return e.abrupt("return");case 9:r.sort((function(e,t){return e.name.localeCompare(t.name)})),w({type:"SET_LEADERBOARDS",payload:r});case 11:return e.prev=11,i.current=!1,e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[2,,11,14]])})));return function(t){return e.apply(this,arguments)}}(),[t,o]),E=u.useCallback(function(){var e=Object(r.a)(c.a.mark((function e(n){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w({type:"SET_ENTRIES",payload:null}),e.next=3,Object(d.b)(o,t,n);case 3:if(r=e.sent){e.next=6;break}return e.abrupt("return");case 6:w({type:"UPDATE_OR_CREATE_LEADERBOARD",payload:r});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t,o]),S=u.useCallback(function(){var e=Object(r.a)(c.a.mark((function e(n){var r,a,o,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m){e.next=2;break}return e.abrupt("return");case 2:return r=n&&n.uri?n.uri:null,w({type:"SET_ENTRIES",payload:null}),e.next=6,Object(d.k)(t,m,{pageSize:10,onlyBestEntry:x,forceUri:r});case 6:if(a=e.sent){e.next=9;break}return e.abrupt("return");case 9:o=a.entries,a.nextPageUri&&w({type:"SET_NEXT_PAGE_URI",payload:a.nextPageUri}),i=[],i=x?o.map((function(e){return Object(d.g)(e)})):o.map((function(e){return Object(d.f)(e)})),w({type:"SET_ENTRIES",payload:i});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[m,x,t]),P=u.useCallback((function(e){w({type:"SELECT_LEADERBOARD",payload:e})}),[]),I=u.useCallback((function(e){w({type:"CHANGE_DISPLAY_ONLY_BEST_ENTRY",payload:e})}),[]),A=function(){var e=Object(r.a)(c.a.mark((function e(n){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m){e.next=2;break}return e.abrupt("return");case 2:return n.sort&&w({type:"PURGE_NAVIGATION"}),e.next=5,Object(d.o)(o,t,m,n);case 5:if(r=e.sent){e.next=8;break}return e.abrupt("return");case 8:if(w({type:"UPDATE_OR_CREATE_LEADERBOARD",payload:r}),!n.sort){e.next=12;break}return e.next=12,S();case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(r.a)(c.a.mark((function e(){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m){e.next=2;break}return e.abrupt("return");case 2:return w({type:"PURGE_NAVIGATION"}),e.next=5,Object(d.l)(o,t,m);case 5:if(n=e.sent){e.next=8;break}return e.abrupt("return");case 8:w({type:"UPDATE_OR_CREATE_LEADERBOARD",payload:n}),S();case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(r.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m&&v){e.next=2;break}return e.abrupt("return");case 2:return w({type:"PURGE_NAVIGATION"}),e.next=5,Object(d.c)(o,t,m);case 5:w({type:"REMOVE_LEADERBOARD",payload:m});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(r.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Object(d.d)(o,t,m,n);case 4:S({uri:k>0?C[k]:null});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=u.useCallback(Object(r.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=C[k+1]){e.next=3;break}return e.abrupt("return");case 3:return w({type:"SET_PAGE_INDEX",payload:k+1}),e.next=6,S({uri:t});case 6:case"end":return e.stop()}}),e)}))),[S,C,k]),L=u.useCallback(Object(r.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1!==k){e.next=6;break}return w({type:"SET_PAGE_INDEX",payload:0}),e.next=4,S();case 4:e.next=12;break;case 6:if(t=C[k-1]){e.next=9;break}return e.abrupt("return");case 9:return w({type:"SET_PAGE_INDEX",payload:k-1}),e.next=12,S({uri:t});case 12:case"end":return e.stop()}}),e)}))),[S,C,k]),R=u.useCallback(Object(r.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w({type:"SET_PAGE_INDEX",payload:0}),e.next=3,S();case 3:case"end":return e.stop()}}),e)}))),[S]);u.useEffect((function(){w({type:"SET_LEADERBOARDS",payload:null}),w({type:"PURGE_NAVIGATION"})}),[t]),u.useEffect((function(){m&&t&&(w({type:"PURGE_NAVIGATION"}),S())}),[m,x,S,t]);var N=u.useRef(null),B=u.useRef(null);return u.useEffect((function(){N.current===m&&B.current&&O&&!O.resetLaunchedAt&&S(),N.current=m,B.current=O?O.resetLaunchedAt:null}),[O,m,S]),Object(p.a)((function(){T({shouldClearBeforeFetching:!1})}),!v||Object.values(v).every((function(e){return!e.resetLaunchedAt}))?null:5e3),Object(j.jsx)(l.a.Provider,{value:{leaderboards:v?Object.values(v):null,currentLeaderboard:O,displayOnlyBestEntry:x,browsing:{entries:y,goToNextPage:C[k+1]?_:null,goToPreviousPage:1===k||C[k-1]?L:null,goToFirstPage:0===k?null:R},setDisplayOnlyBestEntry:I,createLeaderboard:E,listLeaderboards:T,selectLeaderboard:P,updateLeaderboard:A,resetLeaderboard:D,deleteLeaderboard:F,deleteLeaderboardEntry:M,fetchLeaderboardEntries:S},children:n})}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"c",(function(){return O})),n.d(t,"b",(function(){return v})),n.d(t,"a",(function(){return x}));var r=n(3),a=n(6),o=n(5),i=n(10),s=n(11),c=n(17),u=n(612),l=n.n(u),d=n(2721),b=n(497),p=n(552),j=n(295),h=n(306),f=n(467),g=n(8),m={tabContentContainer:{width:"100%",position:"relative",textAlign:"initial",minHeight:0,display:"flex",flex:1},tabLabel:{maxWidth:360,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",fontSize:"15px"},tabLabelAndIcon:{display:"flex",alignItems:"center",marginLeft:10,marginRight:10},closeButton:{marginRight:5,marginLeft:5}},O=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"shouldComponentUpdate",value:function(e){return this.props.active||e.active}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.active;return Object(g.jsx)("div",{style:Object(r.a)(Object(r.a)({},m.tabContentContainer),n?void 0:{display:"none"}),children:t})}}]),n}(c.Component),v=function(e){var t=e.hideLabels,n=e.children,r={maxWidth:"100%",display:t?"none":"flex",flexWrap:"nowrap",overflowX:"overlay",overflowY:"hidden",marginTop:6};return Object(g.jsx)("div",{className:"almost-invisible-scrollbar",style:r,children:n})};function x(e){var t=e.id,n=e.data,a=e.active,o=e.onClose,i=e.onCloseOthers,s=e.onCloseAll,u=e.label,O=e.icon,v=e.closable,x=e.onClick,y=e.onActivated;c.useEffect((function(){a&&y()}),[a,y]);var C=c.useRef(null),k=function(e){e.stopPropagation(),C.current&&C.current.open(e.clientX,e.clientY)},w=c.useCallback((function(e){e.nativeEvent&&1===e.nativeEvent.button&&o()}),[o]),T=Object(p.a)(c.useCallback((function(e){C.current&&C.current.open(e.clientX,e.clientY)}),[C])),E=c.useContext(h.a),S=a?E.closableTabs.selectedTextColor:E.closableTabs.textColor;return Object(g.jsxs)(c.Fragment,{children:[Object(g.jsxs)("span",{style:{flexShrink:0,position:"relative",display:"inline-block",marginRight:2,borderTopRightRadius:8,borderTopLeftRadius:8,borderTop:"1px solid black",borderRight:"1px solid black",borderLeft:"1px solid black",borderBottom:"none",borderColor:a?E.closableTabs.selectedBorderColor:E.closableTabs.backgroundColor,backgroundColor:a?E.closableTabs.selectedBackgroundColor:E.closableTabs.backgroundColor},children:[Object(g.jsx)(d.a,Object(r.a)(Object(r.a)(Object(r.a)({onClick:x,onAuxClick:v?w:void 0,onContextMenu:k,"data-active":a?"true":void 0,id:t?"".concat(t,"-button"):void 0},Object(f.a)(n)),T),{},{focusRipple:!0,disableTouchRipple:!0,children:Object(g.jsxs)("span",{style:Object(r.a)(Object(r.a)({},m.tabLabelAndIcon),{},{height:E.closableTabs.height,color:S,fontFamily:E.closableTabs.fontFamily}),children:[O,O&&u?Object(g.jsx)(j.d,{}):null,u&&Object(g.jsx)("span",{style:m.tabLabel,children:u})]})})),v&&Object(g.jsx)(d.a,Object(r.a)(Object(r.a)({onClick:o,onAuxClick:w,onContextMenu:k},T),{},{focusRipple:!0,children:Object(g.jsx)(l.a,{style:Object(r.a)(Object(r.a)({},m.closeButton),{},{width:E.closableTabs.height/2,height:E.closableTabs.height}),htmlColor:S})}))]}),Object(g.jsx)(b.a,{ref:C,buildMenuTemplate:function(e){return[{label:e._({id:"Close"}),click:o,enabled:v},{label:e._({id:"Close others"}),click:i},{label:e._({id:"Close all"}),click:s}]}})]})}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return p}));var r=n(3),a=n(6),o=n(5),i=n(10),s=n(11),c=n(17),u=n(812),l=n(54),d=n(8),b=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).onBeginCreateEventsFunction=function(){Object(l.k)({step:"begin",parentEditor:"scene-events-editor"})},e.onCreateEventsFunction=function(t,n){e.props.onCreateEventsFunction(t,n,"scene-events-editor")},e}return Object(o.a)(n,[{key:"shouldComponentUpdate",value:function(e){return this.props.isActive||e.isActive}},{key:"componentDidMount",value:function(){if(this.props.isActive){var e=this.getLayout();this.props.setPreviewedLayout(e?e.getName():null)}}},{key:"componentDidUpdate",value:function(e){if(!e.isActive&&this.props.isActive){var t=this.getLayout();this.props.setPreviewedLayout(t?t.getName():null)}}},{key:"getProject",value:function(){return this.props.project}},{key:"updateToolbar",value:function(){this.editor&&this.editor.updateToolbar()}},{key:"forceUpdateEditor",value:function(){}},{key:"getLayout",value:function(){var e=this.props,t=e.project,n=e.projectItemName;return t&&n&&t.hasLayoutNamed(n)?t.getLayout(n):null}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,r=t.projectItemName,a=this.getLayout();return a&&n?Object(d.jsx)(u.a,{ref:function(t){return e.editor=t},setToolbar:this.props.setToolbar,onOpenLayout:this.props.onOpenLayout,resourceManagementProps:this.props.resourceManagementProps,openInstructionOrExpression:this.props.openInstructionOrExpression,onCreateEventsFunction:this.onCreateEventsFunction,onBeginCreateEventsFunction:this.onBeginCreateEventsFunction,unsavedChanges:this.props.unsavedChanges,project:n,scope:{layout:a},globalObjectsContainer:n,objectsContainer:a,events:a.getEvents(),onOpenExternalEvents:this.props.onOpenExternalEvents,isActive:this.props.isActive}):Object(d.jsxs)("div",{children:["No layout called ",r," found!"]})}}]),n}(c.Component),p=function(e){return Object(d.jsx)(b,Object(r.a)({},e))}},function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return G})),n.d(t,"a",(function(){return J}));var r=n(19),a=n(1),o=n(7),i=n(3),s=n(18),c=n(6),u=n(5),l=n(10),d=n(11),b=n(9),p=n(17),j=n.n(p),h=n(1116),f=n.n(h),g=n(1861),m=n(307),O=n(578),v=n(2516),x=n(1966),y=n(317),C=n.n(y),k=n(349),w=n(388),T=n(378),E=(n(1967),n(1144),n(1968)),S=n(475),P=n(375),I=n(295),A=n(962),D=n(961),F=n(448),M=n(669),_=n(1969),L=n(824),R=n(306),N=n(467),B=n(8),U=["className"],H=e.gd,W="events-sheet-events-dnd-type",z=T.a.getThumbnail.bind(T.a),V={container:{flex:1,position:"relative"},defaultEventContainer:{marginRight:10,position:"relative"},smallEventContainer:{marginRight:0,position:"relative"},eventComponentContainer:{display:"flex",flexDirection:"row",justifyContent:"stretch",position:"relative"}},G=function(e){return"small"===e?11:22},Z=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a)))._onEventUpdated=function(){e.forceUpdate()},e._onEventContextMenu=function(t){t.preventDefault(),e.props.onEventContextMenu(t.clientX,t.clientY)},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this._container?this._container.offsetHeight:0;this.props.eventsHeightsCache.setEventHeight(this.props.event,e)}},{key:"componentDidUpdate",value:function(){var e=this._container?this._container.offsetHeight:0;this.props.eventsHeightsCache.setEventHeight(this.props.event,e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.event,r=t.project,a=t.scope,o=t.disabled,i=v.a.getEventComponent(n);return Object(B.jsx)("div",{ref:function(t){return e._container=t},onClick:this.props.onEventClick,onContextMenu:this._onEventContextMenu,children:!!i&&Object(B.jsxs)("div",{style:V.eventComponentContainer,children:[this.props.connectDragSource(Object(B.jsx)("div",{className:k.i})),Object(B.jsx)("div",{style:V.container,children:Object(B.jsx)(i,{project:r,scope:a,event:n,globalObjectsContainer:this.props.globalObjectsContainer,objectsContainer:this.props.objectsContainer,selected:Object(O.r)(this.props.selection,n),selection:this.props.selection,leftIndentWidth:this.props.leftIndentWidth,onUpdate:this._onEventUpdated,onAddNewInstruction:this.props.onAddNewInstruction,onPasteInstructions:this.props.onPasteInstructions,onMoveToInstruction:this.props.onMoveToInstruction,onMoveToInstructionsList:this.props.onMoveToInstructionsList,onInstructionClick:this.props.onInstructionClick,onInstructionDoubleClick:this.props.onInstructionDoubleClick,onInstructionContextMenu:this.props.onInstructionContextMenu,onAddInstructionContextMenu:this.props.onAddInstructionContextMenu,onEndEditingEvent:this.props.onEndEditingEvent,onParameterClick:this.props.onParameterClick,onOpenExternalEvents:this.props.onOpenExternalEvents,onOpenLayout:this.props.onOpenLayout,disabled:o,renderObjectThumbnail:this.props.renderObjectThumbnail,screenType:this.props.screenType,eventsSheetHeight:this.props.eventsSheetHeight,windowWidth:this.props.windowWidth})})]})})}}]),n}(p.Component),Y=function(e){var t=e.className,n=Object(s.a)(e,U),r=j.a.useContext(R.a);return Object(B.jsx)(g.a,Object(i.a)({className:"".concat(k.f," ").concat(r.eventsSheetRootClassName," ").concat(t)},n))},q=function(){},X=function(e){return e.treeIndex},J=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,e)).DragSourceAndDropTarget=Object(F.a)(W),r.DropTarget=Object(M.a)(W),r._eventsToTreeData=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],i=Object(m.mapFor)(0,e.getEventsCount(),(function(i){var s=e.getEventAt(i);t.push(s);var c=a||s.isDisabled(),u=o.concat(t.length-1);return{title:r._renderEvent,event:s,eventsList:e,indexInList:i,rowIndex:t.length-1,expanded:!s.isFolded(),disabled:c,depth:n,key:s.ptr,children:r._eventsToTreeData(s.getSubEvents(),s.isFolded()?[]:t,n+1,c,u).treeData,nodePath:u}})),s=Object(D.a)(r.props.preferences,r.props.tutorials,"intro-event-system"),c=[0===n?{title:function(){return Object(B.jsx)(E.a,{onAddEvent:function(e){return r.props.onAddNewEvent(e,r.props.events)},DnDComponent:r.DropTarget,draggedNode:r.state.draggedNode,rootEventsList:e})},event:null,indexInList:e.getEventsCount(),disabled:!1,depth:0,fixedHeight:40,children:[]}:null,0===n&&0!==e.getEventsCount()&&s?{title:function(){return Object(B.jsx)(I.c,{justifyContent:"center",children:Object(B.jsx)(A.a,{tutorial:s})})},event:null,indexInList:e.getEventsCount()+1,disabled:!1,depth:0,fixedHeight:150,children:[],key:"eventstree-tutorial-node"}:null,0===n&&0===e.getEventsCount()?{title:function(){return Object(B.jsx)(S.a,{title:Object(B.jsx)(b.Trans,{id:"Add your first event"}),description:Object(B.jsx)(b.Trans,{id:"Events define the rules of a game."}),actionLabel:Object(B.jsx)(b.Trans,{id:"Add an event"}),helpPagePath:"/events",tutorialId:"intro-event-system",actionButtonId:"add-event-button",onAction:function(){return r.props.onAddNewEvent("BuiltinCommonInstructions::Standard",r.props.events)}})},event:null,indexInList:e.getEventsCount()+1,disabled:!1,depth:0,fixedHeight:300,children:[]}:null].filter(Boolean);return{treeData:c.length?i.concat(c):i,flatData:t}},r._canDrag=function(e){return!!e&&!!e.event},r._canDrop=function(e){return!0},r._onDrop=function(e,t){var n=r.state.draggedNode;if(n){e({node:n,targetNode:t});var a=n.nodePath,o=n.event;if(r._onEndDrag(),!o)return void console.warn("EventsSheet: No event found in dragged node.");var i=r.getEventRow(o);r.props.onEventMoved(a[a.length-1],i)}},r._onVisibilityToggle=function(e){var t=e.node.event;t&&(t.setFolded(!t.isFolded()),r.forceEventsUpdate())},r._renderObjectThumbnail=function(e){var t=r.props,n=t.project,o=t.scope;if(!t.showObjectThumbnails)return null;var i=Object(w.a)(n,o.layout,e);return i?Object(B.jsx)(P.a,{className:C()(Object(a.a)({},k.j,!0)),alt:"",src:z(n,i.getConfiguration())}):null},r._temporaryUnfoldNode=function(e,t){var n=t.event;if(n){var a=r.temporaryUnfoldedNodes.some((function(e){return t.key===e.key}));e?r._hoverTimerId||t.expanded||a||(r._hoverTimerId=window.setTimeout((function(){n.setFolded(!1),r.temporaryUnfoldedNodes.push(t),r.forceEventsUpdate()}),1e3)):(window.clearTimeout(r._hoverTimerId),r._hoverTimerId=null)}},r._restoreFoldedNodes=function(){r.temporaryUnfoldedNodes.forEach((function(e){return e.event&&e.event.setFolded(!0)})),r.temporaryUnfoldedNodes=[],r.forceEventsUpdate()},r._getRowHeight=function(e){var t=e.node;return t?t.event?r.eventsHeightsCache.getEventHeight(t.event):t.fixedHeight||0:0},r._onEndDrag=function(){r.state.draggedNode&&(r.setState({draggedNode:null}),r._restoreFoldedNodes(),r.forceEventsUpdate())},r._renderEvent=function(e){var t=e.node,n=t.event,a=t.depth,s=t.disabled;if(!n)return null;var c=Object(o.a)(r),u=c.DragSourceAndDropTarget,l=c.DropTarget,d=!!r.state.draggedNode&&(Object(L.a)(r.state.draggedNode,t)||t.key===r.state.draggedNode.key);return Object(B.jsx)(u,{beginDrag:function(){return r.setState({draggedNode:t}),t},canDrag:function(){return r._canDrag(t)},canDrop:function(){return r._canDrop(t)},drop:function(){},endDrag:r._onEndDrag,children:function(e){var o=e.connectDragSource,c=e.connectDropTarget,u=e.isOverLazy;r._temporaryUnfoldNode(u,t);var b,p=Object(B.jsxs)("div",Object(i.a)(Object(i.a)({style:Object(i.a)({opacity:d?.5:1},(b=r.props.windowWidth,"small"===b?V.smallEventContainer:V.defaultEventContainer))},Object(N.a)({rowIndex:t.rowIndex.toString()})),{},{children:[Object(B.jsx)(Z,{project:r.props.project,scope:r.props.scope,globalObjectsContainer:r.props.globalObjectsContainer,objectsContainer:r.props.objectsContainer,event:n,eventsHeightsCache:r.eventsHeightsCache,selection:r.props.selection,leftIndentWidth:a*G(r.props.windowWidth),onAddNewInstruction:function(e){return r.props.onAddNewInstruction(n,e)},onPasteInstructions:function(e){return r.props.onPasteInstructions(n,e)},onMoveToInstruction:function(e){return r.props.onMoveToInstruction(n,e)},onMoveToInstructionsList:function(e){return r.props.onMoveToInstructionsList(n,e)},onInstructionClick:function(e){return r.props.onInstructionClick(n,e)},onInstructionDoubleClick:function(e){return r.props.onInstructionDoubleClick(n,e)},onParameterClick:function(e){return r.props.onParameterClick(n,e)},onEventClick:function(){return r.props.onEventClick({eventsList:t.eventsList,event:n,indexInList:t.indexInList})},onEndEditingEvent:function(){return r.props.onEndEditingEvent(n)},onEventContextMenu:function(e,a){return r.props.onEventContextMenu(e,a,{eventsList:t.eventsList,event:n,indexInList:t.indexInList})},onInstructionContextMenu:function(){for(var e,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return(e=r.props).onInstructionContextMenu.apply(e,[n].concat(a))},onAddInstructionContextMenu:function(){for(var e,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return(e=r.props).onAddInstructionContextMenu.apply(e,[n].concat(a))},onOpenExternalEvents:r.props.onOpenExternalEvents,onOpenLayout:function(e){r.props.onOpenLayout(e)},disabled:s,renderObjectThumbnail:r._renderObjectThumbnail,screenType:r.props.screenType,eventsSheetHeight:r.props.eventsSheetHeight,connectDragSource:o,windowWidth:r.props.windowWidth},n.ptr),r.state.draggedNode&&Object(B.jsx)(_.b,{node:t,draggedNode:r.state.draggedNode,draggedNodeHeight:r._getRowHeight({node:r.state.draggedNode}),DnDComponent:l,onDrop:r._onDrop,activateTargets:!d&&!!r.state.draggedNode,windowWidth:r.props.windowWidth,getNodeAtPath:function(e){return Object(g.c)({path:e,treeData:r.state.treeData,getNodeKey:X}).node}})]}));return d?p:c(p)}})},r._isNodeHighlighted=function(e){var t=e.node,n=e.searchQuery;if(!n)return!1;var r=t.event;return!!r&&n.find((function(e){return H.compare(e,r)}))},r._scrollUp=function(){r._list&&r._list.container.scrollBy({top:-5})},r._scrollDown=function(){r._list&&r._list.container.scrollBy({top:5})},r.temporaryUnfoldedNodes=[],r.eventsHeightsCache=new x.a(Object(o.a)(r)),r.state=Object(i.a)(Object(i.a)({},r._eventsToTreeData(e.events)),{},{draggedNode:null,isScrolledTop:!0,isScrolledBottom:!1}),r}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.onHeightsChanged()}},{key:"componentDidUpdate",value:function(e){var t=this.props.preferences.values.hiddenTutorialHints,n=e.preferences.values.hiddenTutorialHints;t["intro-event-system"]!==n["intro-event-system"]&&this.setState(Object(i.a)(Object(i.a)({},this.state),{},{treeData:this.state.treeData.filter((function(e){return"eventstree-tutorial-node"!==e.key}))}))}},{key:"componentWillUnmount",value:function(){this._hoverTimerId&&clearTimeout(this._hoverTimerId)}},{key:"onHeightsChanged",value:function(e){var t=this;this.forceUpdate((function(){t._list&&t._list.wrappedInstance.current&&t._list.wrappedInstance.current.recomputeRowHeights(),e&&e()}))}},{key:"forceEventsUpdate",value:function(e){var t=this;this.setState(this._eventsToTreeData(this.props.events),(function(){t._list&&t._list.wrappedInstance.current&&t._list.wrappedInstance.current.recomputeRowHeights(),e&&e()}))}},{key:"scrollToRow",value:function(e){if(-1!==e){var t=this._list;if(t){var n=t.wrappedInstance.current;n&&n.scrollToRow(e)}}}},{key:"unfoldForEvent",value:function(e){H.EventsListUnfolder.unfoldWhenContaining(this.props.events,e),this.forceEventsUpdate()}},{key:"foldAll",value:function(){H.EventsListUnfolder.foldAll(this.props.events),this.forceEventsUpdate()}},{key:"unfoldToLevel",value:function(e){H.EventsListUnfolder.unfoldToLevel(this.props.events,e),this.forceEventsUpdate()}},{key:"getEventRow",value:function(e){return f()(this.state.flatData,(function(t){return t.ptr===e.ptr}))}},{key:"getEventContextAtRowIndexes",value:function(e){var t=Object(g.b)({treeData:this.state.treeData,getNodeKey:X,ignoreCollapsed:!0});return e.map((function(e){if(!t[e])return null;var n=t[e].node,r=n.event,a=n.eventsList,o=n.indexInList;return r?{event:r,eventsList:a,indexInList:o}:null})).filter(Boolean)}},{key:"render",value:function(){var e=this,t=this.state.treeData?Object(r.a)(this.state.treeData):null,n=this.props.fontSize||14;return Object(B.jsxs)("div",{style:Object(i.a)(Object(i.a)({},V.container),{},{fontSize:"".concat(n,"px"),"--icon-size":"".concat(Math.round(1.14*n),"px"),"--instruction-missing-parameter-min-height":"".concat(Math.round(1.1*n),"px"),"--instruction-missing-parameter-min-width":"".concat(Math.round(3*n),"px")}),children:["touch"!==this.props.screenType&&Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(_.a,{DnDComponent:this.DropTarget,direction:"top",activateTargets:!!this.state.draggedNode&&!this.state.isScrolledTop,onHover:this._scrollUp}),Object(B.jsx)(_.a,{DnDComponent:this.DropTarget,direction:"bottom",activateTargets:!!this.state.draggedNode&&!this.state.isScrolledBottom,onHover:this._scrollDown})]}),Object(B.jsx)(Y,{treeData:t,scaffoldBlockPxWidth:G(this.props.windowWidth),onChange:q,onVisibilityToggle:this._onVisibilityToggle,canDrag:!1,rowHeight:this._getRowHeight,searchMethod:this._isNodeHighlighted,searchQuery:this.props.searchResults,searchFocusOffset:this.props.searchFocusOffset,className:this.props.searchResults?k.g:"",reactVirtualizedListProps:{ref:function(t){return e._list=t},onScroll:function(t){e.props.onScroll&&e.props.onScroll(),e.setState({isScrolledTop:0===t.scrollTop,isScrolledBottom:t.clientHeight+t.scrollTop>=t.scrollHeight})},scrollToAlignment:"center"},slideRegionSize:-10})]})}}]),n}(p.Component);J.defaultProps={selection:Object(O.b)()}}).call(this,n(25))},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n(17);var r=n(349),a=n(8);function o(e){var t=e.canDrop;return Object(a.jsx)("div",{className:t?r.e:r.b})}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return v}));var r=n(3),a=n(18),o=n(6),i=n(5),s=n(10),c=n(11),u=n(19),l=n(9),d=n(17),b=n(415),p=n(374),j=n(394),h=n(388),f=n(378),g=n(8),m=["value","onChange","onChoose","project","globalObjectsContainer","objectsContainer","allowedObjectType","requiredObjectCapability","noGroups","errorTextIfInvalid","margin","onRequestClose","onApply","id","excludedObjectOrGroupNames"],O=e.gd,v=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"focus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._field&&this._field.focus(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.value,o=t.onChange,i=t.onChoose,s=t.project,c=t.globalObjectsContainer,d=t.objectsContainer,v=t.allowedObjectType,x=t.requiredObjectCapability,y=t.noGroups,C=t.errorTextIfInvalid,k=t.margin,w=t.onRequestClose,T=t.onApply,E=t.id,S=t.excludedObjectOrGroupNames,P=Object(a.a)(t,m),I=function(e){var t=e.project,n=e.globalObjectsContainer,r=e.objectsContainer,a=e.noGroups,o=e.allowedObjectType,i=e.excludedObjectOrGroupNames,s=Object(b.d)(n,r,o||void 0),c=s.allObjectsList.map((function(e){var n=e.object;return{text:n.getName(),value:n.getName(),renderIcon:t?function(){return Object(g.jsx)(j.a,{iconSize:24,src:f.a.getThumbnail(t,n.getConfiguration())})}:void 0}})),l=a?[]:s.allGroupsList.map((function(e){var t=e.group;return{text:t.getName(),value:t.getName()}})),d=[].concat(Object(u.a)(c),[{type:"separator"}],Object(u.a)(l));return i?d.filter((function(e){var t=e.value;return!i.includes(t)})):d}({project:s,globalObjectsContainer:c,objectsContainer:d,noGroups:y,allowedObjectType:v,excludedObjectOrGroupNames:S}),A=0!==I.filter((function(e){return void 0!==e.text&&n===e.text})).length,D=function(e){var t=e.project,n=e.globalObjectsContainer,r=e.objectsContainer,a=e.requiredObjectCapability,o=e.objectName;if(!a)return!0;if(!t)return!0;var i=Object(h.a)(n,r,o);return!i||!O.MetadataProvider.getObjectMetadata(t.getCurrentPlatform(),i.getType()).isUnsupportedBaseObjectCapability(a)}({project:s,requiredObjectCapability:x,globalObjectsContainer:c,objectsContainer:d,objectName:n}),F=D?A?void 0:C:Object(g.jsx)(l.Trans,{id:"This object exists, but can't be used here."});return Object(g.jsx)(p.c,Object(r.a)({margin:k,hintText:{id:"Choose an object"},value:n,onChange:o,onChoose:i,onRequestClose:w,onApply:T,dataSource:I,errorText:F,ref:function(t){return e._field=t},id:E},P))}}]),n}(d.Component)}).call(this,n(25))},,,,,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return d}));var r=n(6),a=n(5),o=n(10),i=n(11),s=n(416),c=n(399),u=(n(320),n(329)),l=e.gd,d=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(e,a,o,i,s,c){var l;Object(r.a)(this,n),(l=t.call(this,e,a,o,i,s,c))._isItalic=!1,l._isBold=!1,l._characterSize=0,l._wrapping=!1,l._wrappingWidth=0,l._styleFontDirty=!0,l._fontName="",l._fontFamily="",l._colorR=0,l._colorG=0,l._colorB=0,l._textAlignment="left";var d=new u.TextStyle({fontFamily:"Arial",fontSize:20,align:"left",padding:5});return l._pixiObject=new u.Text("",d),l._pixiObject.anchor.x=.5,l._pixiObject.anchor.y=.5,l._pixiContainer.addChild(l._pixiObject),l._styleFontDirty=!0,l.update(),l}return Object(a.a)(n,[{key:"update",value:function(){var e=this,t=l.asTextObjectConfiguration(this._associatedObjectConfiguration);if(this._pixiObject.text=t.getString(),(t.isItalic()!==this._isItalic||t.isBold()!==this._isBold||t.getCharacterSize()!==this._characterSize||t.getTextAlignment()!==this._textAlignment||this._instance.hasCustomSize()!==this._wrapping||this._instance.getCustomWidth()!==this._wrappingWidth&&this._wrapping)&&(this._isItalic=t.isItalic(),this._isBold=t.isBold(),this._characterSize=t.getCharacterSize(),this._textAlignment=t.getTextAlignment(),this._wrapping=this._instance.hasCustomSize(),this._wrappingWidth=this._instance.getCustomWidth(),this._styleFontDirty=!0),this._fontName!==t.getFontName()&&(this._fontName=t.getFontName(),c.a.loadFontFamily(this._project,t.getFontName()).then((function(t){e._fontFamily=t,e._styleFontDirty=!0})).catch((function(e){console.warn("Unable to load font family for RenderedTextInstance",e)}))),this._styleFontDirty&&(this._pixiObject.style.fontFamily=this._fontFamily||"Arial",this._pixiObject.style.fontSize=Math.max(1,this._characterSize),this._pixiObject.style.fontStyle=this._isItalic?"italic":"normal",this._pixiObject.style.fontWeight=this._isBold?"bold":"normal",this._pixiObject.style.wordWrap=this._wrapping,this._pixiObject.style.wordWrapWidth=this._wrappingWidth<=1?1:this._wrappingWidth,this._pixiObject.style.breakWords=!0,this._pixiObject.style.align=this._textAlignment,this._pixiObject.dirty=!0,this._styleFontDirty=!1),t.getColorR()===this._colorR&&t.getColorG()===this._colorG&&t.getColorB()===this._colorB||(this._colorR=t.getColorR(),this._colorG=t.getColorG(),this._colorB=t.getColorB(),this._pixiObject.style.fill="rgb("+this._colorR+","+this._colorG+","+this._colorB+")",this._pixiObject.dirty=!0),this._instance.hasCustomSize()){var n="right"===this._textAlignment?1:"center"===this._textAlignment?.5:0,r=this._instance.getCustomWidth(),a=(r-this._pixiObject.width)*(n-.5);this._pixiObject.position.x=this._instance.getX()+r/2,this._pixiObject.anchor.x=.5-a/this._pixiObject.width}else this._pixiObject.position.x=this._instance.getX()+this._pixiObject.width/2,this._pixiObject.anchor.x=.5;this._pixiObject.position.y=this._instance.getY()+this._pixiObject.height/2,this._pixiObject.rotation=s.a.toRad(this._instance.getAngle())}},{key:"getDefaultWidth",value:function(){return this._pixiObject.width}},{key:"getDefaultHeight",value:function(){return this._pixiObject.height}}],[{key:"getThumbnail",value:function(e,t,n){return"CppPlatform/Extensions/texticon24.png"}}]),n}(s.a)}).call(this,n(25))},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(6),a=n(5),o=n(10),i=n(11),s=n(416),c=(n(399),n(320),n(329));function u(e){return function(t){Object(o.a)(s,t);var n=Object(i.a)(s);function s(t,a,o,i,u,l){var d;return Object(r.a)(this,s),(d=n.call(this,t,a,o,i,u,l))._pixiObject=new c.Sprite(c.Texture.from(e)),d._pixiContainer.addChild(d._pixiObject),d}return Object(a.a)(s,[{key:"update",value:function(){this._pixiObject.position.x=this._instance.getX(),this._pixiObject.position.y=this._instance.getY(),this._pixiObject.rotation=this._instance.getAngle()*Math.PI/180}}],[{key:"getThumbnail",value:function(t,n,r){return e}}]),s}(s.a)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e,t){return e||(t&&t.isOptional()?t.getDefaultValue():"")}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(3),a=n(6),o=n(5),i=n(10),s=n(11),c=n(17),u=n(356),l=n(8),d=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"focus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._field&&this._field.focus(e)}},{key:"render",value:function(){var e=this;return Object(l.jsx)(u.a,Object(r.a)({expressionType:"number",ref:function(t){return e._field=t}},this.props))}}]),n}(c.Component)},function(e,t,n){"use strict";(function(e){n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return b})),n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return j})),n.d(t,"e",(function(){return h}));var r=n(19),a=n(307),o=n(432),i=n.n(o),s=n(528),c=e.gd,u=function(e){return"number"===e},l=function(e,t,n){return Object(a.mapVector)(t.keys(),(function(r){var a=t.get(r);if(!a.isShown())return null;if(n.objectMetadata&&n.objectMetadata.isUnsupportedBaseObjectCapability(a.getRequiredBaseObjectCapability()))return null;for(var o=[],i=0;i<a.getParametersCount();i++)n.objectMetadata&&0===i||n.behaviorMetadata&&i<=1||a.getParameter(i).isCodeOnly()||o.push(a.getParameter(i));var s=a.getGroup();return{type:r,name:r,displayedName:a.getFullName(),fullGroupName:[e,s].filter(Boolean).join("/"),iconFilename:a.getSmallIconFilename(),metadata:a,parameters:o,scope:n,isPrivate:a.isPrivate(),isRelevantForLayoutEvents:a.isRelevantForLayoutEvents(),isRelevantForFunctionEvents:a.isRelevantForFunctionEvents(),isRelevantForAsynchronousFunctionEvents:a.isRelevantForAsynchronousFunctionEvents(),isRelevantForCustomObjectEvents:a.isRelevantForCustomObjectEvents()}})).filter(Boolean)},d=function(e){var t=c.asPlatform(c.JsPlatform.get()).getAllPlatformExtensions();return i()(Object(a.mapVector)(t,(function(t){var n=Object(s.e)(t),a={extension:t,objectMetadata:void 0,behaviorMetadata:void 0};return[].concat(Object(r.a)(u(e)?[]:l(n,t.getAllStrExpressions(),a)),Object(r.a)(l(n,t.getAllExpressions(),a)))})))},b=function(e,t){var n=c.MetadataProvider.getExtensionAndObjectMetadata(c.JsPlatform.get(),t),a=n.getExtension(),o={extension:a,objectMetadata:n.getMetadata()},i=[].concat(Object(r.a)(u(e)?[]:l("",a.getAllStrExpressionsForObject(t),o)),Object(r.a)(l("",a.getAllExpressionsForObject(t),o)));if(""!==t){var s=c.MetadataProvider.getExtensionAndObjectMetadata(c.JsPlatform.get(),"").getExtension();i=[].concat(Object(r.a)(i),Object(r.a)(u(e)?[]:l("",s.getAllStrExpressionsForObject(""),o)),Object(r.a)(l("",s.getAllExpressionsForObject(""),o)))}return i},p=function(e,t){var n=c.MetadataProvider.getExtensionAndBehaviorMetadata(c.JsPlatform.get(),t),a=n.getExtension(),o={extension:a,behaviorMetadata:n.getMetadata()};return[].concat(Object(r.a)(u(e)?[]:l("",a.getAllStrExpressionsForBehavior(t),o)),Object(r.a)(l("",a.getAllExpressionsForBehavior(t),o)))},j=function(e){var t=[],n=[],o=d(e),i=c.asPlatform(c.JsPlatform.get()).getAllPlatformExtensions();return Object(a.mapVector)(i,(function(r){var o=Object(s.e)(r);Object(a.mapVector)(r.getExtensionObjectsTypes(),(function(n){var a=r.getObjectMetadata(n),i={extension:r,objectMetadata:a};u(e)||t.push.apply(t,l(o,r.getAllStrExpressionsForObject(n),i)),t.push.apply(t,l(o,r.getAllExpressionsForObject(n),i))})),Object(a.mapVector)(r.getBehaviorsTypes(),(function(t){var a=r.getBehaviorMetadata(t),i={extension:r,behaviorMetadata:a};u(e)||n.push.apply(n,l(o,r.getAllStrExpressionsForBehavior(t),i)),n.push.apply(n,l(o,r.getAllExpressionsForBehavior(t),i))}))})),[].concat(Object(r.a)(o),t,n)},h=function(e,t){if(!t)return e;var n=t.toLowerCase();return function(e){if(!t)return e;for(var r=0;r<e.length;++r)if(e[r].type.toLowerCase()===n){var a=e[r];e.splice(r,1),e.unshift(a)}return e}(e.filter((function(e){return-1!==e.type.toLowerCase().indexOf(n)})))}}).call(this,n(25))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e,t){if(!t)return e;switch(e){case"Ads":return t._({id:"Ads"});case"Visual effect":return t._({id:"Visual effect"});case"Text":return t._({id:"Text"});case"Audio":return t._({id:"Audio"});case"Advanced":return t._({id:"Advanced"});case"Camera":return t._({id:"Camera"});case"Input":return t._({id:"Input"});case"Game mechanic":return t._({id:"Game mechanic"});case"Movement":return t._({id:"Movement"});case"Network":return t._({id:"Network"});case"Third-party":return t._({id:"Third-party"});case"User interface":return t._({id:"User interface"});case"General":return t._({id:"General"});default:return e}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n(17);var r=n(336),a=n(394),o=n(529),i=n(568),s=n(8),c=function(e){var t=e.id,n=e.instructionOrExpressionMetadata,c=e.iconSize,u=e.onClick,l=e.selectedValue,d=e.matches,b=function(e){var t=n[e];if(d&&d.length){var r=d.filter((function(t){return t.key===e}));r.length&&(t=Object(s.jsx)(i.a,{text:t,matchesCoordinates:r[0].indices}))}return t};return Object(s.jsx)(r.b,{id:t,selected:l===Object(o.b)(n.type),primaryText:b("displayedName"),secondaryText:b("fullGroupName"),leftIcon:Object(s.jsx)(a.a,{iconSize:c,src:n.iconFilename}),onClick:u,disableAutoTranslate:!0},Object(o.a)(n))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(643),a=(n(17),n(336)),o=n(394),i=n(409),s=n(432),c=n.n(s),u=n(529),l=n(8),d=function e(t){var n=t.instructionTreeNode,s=t.onChoose,d=t.iconSize,b=t.useSubheaders,p=t.selectedValue,j=t.selectedItemRef,h=t.initiallyOpenedPath,f=t.getGroupIconSrc,g=t.parentGroupIconSrc,m=h||[],O=Object(r.a)(m),v=O[0],x=O.slice(1);return c()(Object.keys(n).map((function(t){var r=n[t];if(!r)return null;if("string"===typeof r.type){var c=r,h=Object(u.b)(r.type),m=p===h;return Object(l.jsx)(a.b,{primaryText:t,selected:m,id:"instruction-item-"+c.type.replace(/:/g,"-"),leftIcon:Object(l.jsx)(o.a,{iconSize:d,src:c.iconFilename}),onClick:function(){s(c.type,c)},ref:m?j:void 0},h)}var O=r;if(b){var y=f(t)||g;return[Object(l.jsx)(i.a,{children:t},Object(u.g)(t))].concat(e({instructionTreeNode:O,onChoose:s,iconSize:d,useSubheaders:!1,selectedValue:p,selectedItemRef:j,initiallyOpenedPath:x,getGroupIconSrc:f,parentGroupIconSrc:y}))}var C=v===t,k=f(t)||g;return Object(l.jsx)(a.b,{primaryText:t,autoGenerateNestedIndicator:!0,initiallyOpen:C,leftIcon:k?Object(l.jsx)(o.a,{iconSize:d,src:k}):null,renderNestedItems:function(){return e({instructionTreeNode:O,onChoose:s,iconSize:d,selectedValue:p,selectedItemRef:j,initiallyOpenedPath:C?x:void 0,getGroupIconSrc:f,parentGroupIconSrc:k})}},t)})))}},function(e,t,n){"use strict";n.d(t,"b",(function(){return u}));var r=n(9),a=n(17),o=n(307),i=n(316),s=n(297),c=n(8),u=function(e){return 0!==Object(o.mapFor)(0,e.getParametersCount(),(function(t){return!e.getParameter(t).isCodeOnly()})).filter((function(e){return e})).length};t.a=function(e){var t=e.expressionMetadata,n=e.parameterValues,l=e.project,d=e.scope,b=e.globalObjectsContainer,p=e.objectsContainer,j=e.parameterRenderingService,h=e.onChangeParameter;if(!j)return console.error("Missing parameterRenderingService for ExpressionParametersEditor"),null;var f=t.getParametersCount(),g={getParametersCount:function(){return f},getParameter:function(e){return n[e]||""}};return Object(c.jsxs)(s.a,{children:[Object(o.mapFor)(0,t.getParametersCount(),(function(e){var r=t.getParameter(e),o=j.getParameterComponent(r.getType());return r.isCodeOnly()?null:Object(c.jsx)(a.Fragment,{children:Object(c.jsx)(o,{expressionMetadata:t,expression:g,parameterMetadata:r,parameterIndex:e,value:n[e],onChange:function(t){return h(e,t)},project:l,scope:d,globalObjectsContainer:b,objectsContainer:p,parameterRenderingService:j})},e)})),!u(t)&&Object(c.jsx)(i.a,{children:Object(c.jsx)(r.Trans,{id:"There is nothing to configure."})})]})}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return d}));var r=n(19),a=n(432),o=n.n(a),i=n(307),s=n(1138),c=n.n(s),u=e.gd,l=function(e){for(var t=0;t<e.length;++t)if(-1!==",.\"()[]{}()[],+-<>?^=:!+-/* '".indexOf(e[t]))return!1;return!0},d=function(e){if(!e)return[];var t=function e(t,n,a,o){var i=a?l(t):o,s={name:t,isValidName:i};return n.getType()===u.Variable.Structure?[s].concat(Object(r.a)(c()(n.getAllChildrenNames().toJSArray(),(function(r){return e(l(r)?"".concat(t,".").concat(r):"".concat(t,"[").concat('"'+r.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"',"]"),n.getChild(r),!1,i)})))):n.getType()===u.Variable.Array?[s].concat(Object(r.a)(c()(new Array(n.getChildrenCount()).fill(""),(function(r,a){return e("".concat(t,"[").concat(a,"]"),n.getAtIndex(a),!1,i)})))):[s]};return o()(Object(i.mapFor)(0,e.count(),(function(n){return t(e.getNameAt(n),e.getAt(n),!0,!0)})))}}).call(this,n(25))},,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));var r=n(307),a=e.gd,o=function(e,t){return Object(r.mapVector)(t.getParametersForEvents(e),(function(e){return e.isCodeOnly()||a.ParameterMetadata.isObject(e.getType())||a.ParameterMetadata.isBehavior(e.getType())?null:e})).filter(Boolean)}}).call(this,n(25))},function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return j}));var r=n(6),a=n(5),o=n(10),i=n(11),s=n(9),c=n(17),u=n(822),l=n(510),d=n(481),b=n(8),p=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={editorOpen:!1},e}return Object(a.a)(n,[{key:"focus",value:function(){this._field&&this._field.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,r=t.scope,a=r.layout,o=function(){return n&&a?d.a.findAllLayoutVariables(n.getCurrentPlatform(),n,a):[]};return Object(b.jsxs)(c.Fragment,{children:[Object(b.jsx)(u.a,{variablesContainer:a?a.getVariables():null,onComputeAllVariableNames:o,parameterMetadata:this.props.parameterMetadata,value:this.props.value,onChange:this.props.onChange,isInline:this.props.isInline,onRequestClose:this.props.onRequestClose,onApply:this.props.onApply,ref:function(t){return e._field=t},onOpenDialog:function(){return e.setState({editorOpen:!0})},globalObjectsContainer:this.props.globalObjectsContainer,objectsContainer:this.props.objectsContainer,scope:r}),this.state.editorOpen&&a&&Object(b.jsx)(l.a,{title:Object(b.jsx)(s.Trans,{id:"{0} variables",values:{0:a.getName()}}),open:!0,variablesContainer:a.getVariables(),onCancel:function(){return e.setState({editorOpen:!1})},onApply:function(){e.setState({editorOpen:!1}),e._field&&e._field.updateAutocompletions()},emptyPlaceholderTitle:Object(b.jsx)(s.Trans,{id:"Add your first scene variable"}),emptyPlaceholderDescription:Object(b.jsx)(s.Trans,{id:"These variables hold additional information on a scene."}),helpPagePath:"/all-features/variables/scene-variables",onComputeAllVariableNames:o})]})}}]),n}(c.Component),j=function(e){return Object(u.b)(e,"res/types/scenevar.png","scene variable")}},,,function(e,t,n){"use strict";(function(e){n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"e",(function(){return b})),n.d(t,"g",(function(){return p})),n.d(t,"f",(function(){return j}));var r=n(449),a=n(578),o=n(338),i=e.gd,s="EventsAndInstructions",c=function(){if(!r.b.has(s))return!1;var e=r.b.get(s),t=r.a.extractNumberProperty(e,"eventsCount");return null!==t&&t>0},u=function(){if(!r.b.has(s))return!1;var e=r.b.get(s),t=r.a.extractNumberProperty(e,"conditionsCount");return null!==t&&t>0},l=function(){if(!r.b.has(s))return!1;var e=r.b.get(s),t=r.a.extractNumberProperty(e,"actionsCount");return null!==t&&t>0},d=function(e){var t=new i.EventsList,n=new i.InstructionsList,c=new i.InstructionsList;Object(a.h)(e).forEach((function(e){return t.insertEvent(e,t.getEventsCount())})),Object(a.j)(e).forEach((function(e){e.isCondition?c.insert(e.instruction,c.size()):n.insert(e.instruction,n.size())})),r.b.set(s,{eventsList:Object(o.b)(t),eventsCount:t.getEventsCount(),actionsList:Object(o.b)(n),actionsCount:n.size(),conditionsList:Object(o.b)(c),conditionsCount:c.size()}),t.delete(),n.delete(),c.delete()},b=function(e,t){var n=Object(a.c)(t);if(!n||!c())return!1;var u=r.b.get(s),l=r.a.extractArrayProperty(u,"eventsList");if(!l)return!1;var d=new i.EventsList;return Object(o.c)(d,l,"unserializeFrom",e),n.eventsList.insertEvents(d,0,d.getEventsCount(),n.indexInList),d.delete(),!0},p=function(e,t){if(!Object(a.n)(t)&&!Object(a.o)(t)||!u()&&!l())return!1;var n=r.b.get(s),c=r.a.extractArrayProperty(n,"actionsList"),d=r.a.extractArrayProperty(n,"conditionsList");if(!c||!d)return!1;var b=new i.InstructionsList,p=new i.InstructionsList;Object(o.c)(b,c,"unserializeFrom",e),Object(o.c)(p,d,"unserializeFrom",e);var j=Object(a.e)(t);j&&(j.isCondition?j.instrsList.insertInstructions(p,0,p.size(),j.indexInList):j.instrsList.insertInstructions(b,0,b.size(),j.indexInList));var h=Object(a.f)(t);return h&&(h.isCondition?h.instrsList.insertInstructions(p,0,p.size(),h.instrsList.size()):h.instrsList.insertInstructions(b,0,b.size(),h.instrsList.size())),p.delete(),b.delete(),!0},j=function(e,t){if(!u()&&!l())return!1;var n=r.b.get(s),a=r.a.extractArrayProperty(n,"actionsList"),c=r.a.extractArrayProperty(n,"conditionsList");if(a&&c){var d=new i.InstructionsList,b=new i.InstructionsList;return Object(o.c)(d,a,"unserializeFrom",e),Object(o.c)(b,c,"unserializeFrom",e),t.isCondition?t.instrsList.insertInstructions(b,0,b.size(),t.instrsList.size()):t.instrsList.insertInstructions(d,0,d.size(),t.instrsList.size()),b.delete(),d.delete(),!0}}}).call(this,n(25))},function(e,t,n){},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return s}));var r=n(432),a=n.n(r),o=n(307),i=e.gd,s=function(){var e=i.asPlatform(i.JsPlatform.get()).getAllPlatformExtensions();return a()(Object(o.mapFor)(0,e.size(),(function(t){var n=e.at(t).getAllEvents();return n.keys().toJSArray().filter((function(e){return"BuiltinAsync::Async"!==e})).map((function(e){var t=n.get(e);return{type:e,fullName:t.getFullName(),description:t.getDescription()}}))})))}}).call(this,n(25))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return B}));var r=n(3),a=n(19),o=n(6),i=n(5),s=n(10),c=n(11),u=n(9),l=n(775),d=n(17),b=n(328),p=n.n(b),j=n(2733),h=n(666),f=n(528),g=n(667),m=n(336),O=n(361),v=n(331),x=n(352),y=n(409),C=n(415),k=n(731),w=n(305),T=n(297),E=n(1973),S=n(1974),P=n(1134),I=n(1135),A=n(316),D=n(509),F=n(529),M=n(638),_=n(295),L=n(8),R=e.gd,N=function(e){return R.JsPlatform.get().getInstructionOrExpressionGroupMetadata(e).getIcon()},B=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={searchText:"",selectedObjectTags:[],searchResults:{objects:[],groups:[],instructions:[],tags:[]}},e._searchBar=d.createRef(),e._scrollView=d.createRef(),e._selectedItem=d.createRef(),e.freeInstructionsInfo=Object(g.a)(Object(f.c)(e.props.isCondition,e.props.i18n),e.props.scope),e.freeInstructionsInfoTree=Object(h.a)(e.freeInstructionsInfo),e.initialInstructionTypePath=Object(h.b)(e.freeInstructionsInfoTree,e.props.chosenInstructionType),e.instructionSearchApi=null,e.objectSearchApi=null,e.groupSearchApi=null,e.tagSearchApi=null,e.reEnumerateInstructions=function(t){e.freeInstructionsInfo=Object(g.a)(Object(f.c)(e.props.isCondition,t),e.props.scope),e.freeInstructionsInfoTree=Object(h.a)(e.freeInstructionsInfo),e.forceUpdate()},e.allInstructionsInfo=Object(g.a)(Object(f.b)(e.props.isCondition),e.props.scope),e._search=function(t){if(""!==t){var n=Object(M.b)(t);e.setState({searchResults:{objects:e.objectSearchApi?e.objectSearchApi.search(n).map((function(e){return{item:e.item,matches:Object(M.d)(e,t)}})):[],groups:e.groupSearchApi?e.groupSearchApi.search(n).map((function(e){return{item:e.item,matches:Object(M.d)(e,t)}})):[],instructions:e.instructionSearchApi?e.instructionSearchApi.search(Object(M.a)(t,["displayedName","fullGroupName"])).map((function(e){return{item:e.item,matches:Object(M.d)(e,t)}})):[],tags:e.tagSearchApi?e.tagSearchApi.search(n).map((function(e){return{item:e.item,matches:Object(M.d)(e,t)}})):[]}})}},e._selectTag=function(t){e.setState({selectedObjectTags:[].concat(Object(a.a)(e.state.selectedObjectTags),[t]),searchText:""}),e._searchBar.current&&e._searchBar.current.focus()},e._getAllObjectTags=function(){var t=e.props,n=t.globalObjectsContainer,r=t.objectsContainer,a=new Set;return Object(C.c)(n,r).allObjectsList.forEach((function(e){var t=e.object;Object(D.c)(t.getTags()).forEach((function(e){return a.add(e)}))})),Array.from(a)},e._buildObjectTagsMenuTemplate=function(t){var n=e.state.selectedObjectTags;return Object(D.a)({noTagLabel:t._({id:"No tags - add a tag to an object first"}),getAllTags:e._getAllObjectTags,selectedTags:n,onChange:function(t){e.setState({selectedObjectTags:t})}})},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this._selectedItem.current&&this._scrollView.current&&this._scrollView.current.scrollTo(this._selectedItem.current);var e=Object(C.d)(this.props.globalObjectsContainer,this.props.objectsContainer),t=e.allObjectsList,n=e.allGroupsList;this.instructionSearchApi=new l.a(Object(f.a)(this.allInstructionsInfo),Object(r.a)(Object(r.a)({},M.c),{},{keys:[{name:"displayedName",weight:5},{name:"fullGroupName",weight:1}]})),this.objectSearchApi=new l.a(t,Object(r.a)(Object(r.a)({},M.c),{},{getFn:function(e,t){return e.object.getName()},keys:["name"]})),this.groupSearchApi=new l.a(n,Object(r.a)(Object(r.a)({},M.c),{},{getFn:function(e,t){return e.group.getName()},keys:["name"]})),this.tagSearchApi=new l.a(this._getAllObjectTags(),Object(r.a)({},M.c))}},{key:"render",value:function(){var e=this,t=this.props,n=t.style,a=t.globalObjectsContainer,o=t.objectsContainer,i=t.project,s=t.chosenInstructionType,c=t.onChooseInstruction,l=t.chosenObjectName,b=t.onChooseObject,h=t.isCondition,f=t.currentTab,g=t.onChangeTab,D=t.onSearchStartOrReset,M=t.onClickMore,R=this.state,B=R.searchText,U=R.selectedObjectTags,H=R.searchResults,W=a!==i,z=Object(C.d)(a,o),V=z.allObjectsList,G=z.allGroupsList,Z=!!B,Y=[],q=[],X=[],J=[];Z?(Y=H.objects,q=H.groups,X=H.instructions,J=H.tags):(Y=V.map((function(e){return{item:e,matches:[]}})),q=G.map((function(e){return{item:e,matches:[]}})));var K=Y.filter((function(e){return Object(C.f)(e.item,U)})),Q=X.slice(0,20),$=Z?Math.max(X.length-20,0):0,ee=!Z||!!K.length||!!q.length||!!Q.length||!!J.length,te=function(){Z&&(K.length>0?b(K[0].item.object.getName()):q.length>0?b(q[0].item.group.getName()):J.length>0?e._selectTag(J[0].item):Q.length>0&&c(Q[0].item.type,Q[0].item))};return Object(L.jsx)(u.I18n,{children:function(t){var a=t.i18n;return Object(L.jsxs)("div",{id:"instruction-or-object-selector",style:Object(r.a)({minHeight:0},n),children:[Object(L.jsx)(O.a,{id:"search-bar",value:B,onChange:function(t){var n=e.state.searchText;t&&e._search(t),e.setState({searchText:t}),(!n&&t||n&&!t)&&D&&D()},onRequestSearch:te,buildMenuTemplate:function(){return e._buildObjectTagsMenuTemplate(a)},ref:e._searchBar,autoFocus:e.props.focusOnMount?"desktop":void 0,placeholder:h?{id:"Search objects or conditions"}:{id:"Search objects or actions"}}),!Z&&Object(L.jsx)(_.c,{children:Object(L.jsx)(_.a,{expand:!0,noMargin:!0,children:Object(L.jsx)(x.a,{value:f,onChange:g,options:[{label:Object(L.jsx)(u.Trans,{id:"Objects"}),value:"objects"},{label:h?Object(L.jsx)(u.Trans,{id:"Other conditions"}):Object(L.jsx)(u.Trans,{id:"Other actions"}),value:"free-instructions"}]})})}),Object(L.jsxs)(v.a,{ref:e._scrollView,autoHideScrollbar:!0,children:[!Z&&"objects"===f&&Object(L.jsx)(k.a,{tags:U,onChange:function(t){return e.setState({selectedObjectTags:t})}}),ee&&Object(L.jsxs)(m.a,{children:[(Z||"objects"===f)&&Object(L.jsxs)(d.Fragment,{children:[K.map((function(e,t){var n=e.item,r=e.matches;return Object(S.a)({project:i,objectWithContext:n,iconSize:24,onClick:function(){return b(n.object.getName())},matchesCoordinates:r.length?r[0].indices:[],selectedValue:l?Object(F.f)(l):void 0,id:"object-item-"+t,data:{objectName:n.object.getName()}})})),q.length>0&&Object(L.jsx)(y.a,{children:Object(L.jsx)(u.Trans,{id:"Object groups"})}),q.map((function(e){var t=e.item,n=e.matches;return Object(E.a)({groupWithContext:t,iconSize:24,onClick:function(){return b(t.group.getName())},matchesCoordinates:n.length?n[0].indices:[],selectedValue:l?Object(F.f)(l):void 0})}))]}),Z&&"objects"===f&&J.length>0&&Object(L.jsx)(y.a,{children:Object(L.jsx)(u.Trans,{id:"Object tags"})}),"objects"===f&&J.map((function(t){var n=t.item;t.matches;return Object(L.jsx)(m.b,{primaryText:Object(L.jsx)(j.a,{label:n}),onClick:function(){e._selectTag(n)},disableAutoTranslate:!0},n)})),Z&&Q.length>0&&Object(L.jsx)(y.a,{children:h?Object(L.jsx)(u.Trans,{id:"Conditions"}):Object(L.jsx)(u.Trans,{id:"Actions"})}),Z&&Q.map((function(e){var t=e.item,n=e.matches;return Object(P.a)({instructionOrExpressionMetadata:t,iconSize:24,id:"instruction-item-".concat(t.type.replace(/:/g,"-")),onClick:function(){return c(t.type,t)},selectedValue:s?Object(F.b)(s):void 0,matches:n})})),!Z&&"free-instructions"===f&&Object(L.jsxs)(L.Fragment,{children:[Object(I.a)({instructionTreeNode:e.freeInstructionsInfoTree,onChoose:c,iconSize:24,useSubheaders:!0,selectedValue:s?Object(F.b)(s):void 0,initiallyOpenedPath:e.initialInstructionTypePath,selectedItemRef:e._selectedItem,getGroupIconSrc:N}),M&&Object(L.jsx)(T.c,{justifyContent:"center",children:Object(L.jsx)(w.a,{primary:!0,icon:Object(L.jsx)(p.a,{}),onClick:M,label:h?Object(L.jsx)(u.Trans,{id:"Search for new conditions in extensions"}):Object(L.jsx)(u.Trans,{id:"Search for new actions in extensions"})})})]}),$>0&&Object(L.jsx)(m.b,{primaryText:Object(L.jsx)(u.Trans,{id:"And {remainingResultsCount} more results.",values:{remainingResultsCount:$}}),disabled:!0,secondaryText:Object(L.jsx)(u.Trans,{id:"Refine your search with more specific keyword to see them."})})]}),!Z&&"objects"===f&&!V.length&&Object(L.jsx)(A.a,{children:W?Object(L.jsx)(u.Trans,{id:"There are no objects. Objects will appear if you add some as parameters."}):Object(L.jsx)(u.Trans,{id:"There is no object in your game or in this scene. Start by adding an new object in the scene editor, using the objects list."})}),!ee&&Object(L.jsx)(A.a,{children:Object(L.jsx)(u.Trans,{id:"Nothing corresponding to your search. Choose an object first or browse the list of actions/conditions."})})]})]})}},"tags")}}]),n}(d.PureComponent)}).call(this,n(25))},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(3),a=n(17),o=n(295),i=n(306),s=n(8),c={display:"flex"},u=function(e){var t=e.columnsRenderer,n=e.getColumns,u=a.useContext(i.a),l=n();return Object(s.jsx)(o.c,{noMargin:!0,expand:!0,children:l.map((function(e,n){var a=e.columnName,o=t[a],i=l[n].ratio||1;if(!o)return null;var d=0===n,b=n===l.length-1,p=d?0:i>1?4*(i+1):4,j=b?0:i>1?4*(i+1):4;return Object(s.jsx)("div",{style:Object(r.a)(Object(r.a)({},c),{},{flex:i,paddingLeft:p,paddingRight:j,borderRight:b?void 0:"2px solid ".concat(u.dialog.separator)}),children:o()},a)}))})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return W}));var r=n(2),a=n(34),o=n(0),i=n.n(o),s=n(9),c=n(17),u=n(303),l=n(318),d=n(298),b=n(409),p=n(394),j=n(352),h=n(336),f=n(403),g=n.n(f),m=n(397),O=n.n(m),v=n(1975),x=n.n(v),y=n(295),C=n(60),k=n(671),w=n(470),T=n(1149),E=n(361),S=n(316),P=n(1275),I=n(26),A=n(396),D=n(778),F=n(569),M=n(331),_=n(319),L=n(433),R=n(309),N=n(363),B=n(8),U={disabledItem:{opacity:.6}},H=function(e){var t=e.i18n,n=e.behaviorMetadata,r=e.alreadyInstalled,a=e.onClick,o=e.disabled;return Object(B.jsx)(h.b,{leftIcon:Object(B.jsx)(p.a,{src:n.iconFilename,iconSize:40,isGDevelopIcon:!0}),primaryText:"".concat(n.fullName," ").concat(r?t._({id:"(already added to this object)"}):""),secondaryText:n.description,secondaryTextLines:2,onClick:a,style:o?U.disabledItem:void 0,disabled:o,id:"behavior-item-"+n.type.replace(/:/g,"-")},n.type)};function W(e){var t=e.project,n=e.eventsFunctionsExtension,o=e.open,p=e.onClose,f=e.onChoose,m=e.objectType,v=e.objectBehaviorsTypes,U=Object(R.b)(),W=c.useState(!1),z=Object(a.a)(W,2),V=z[0],G=z[1],Z=c.useState(""),Y=Object(a.a)(Z,2),q=Y[0],X=Y[1],J=c.useState("installed"),K=Object(a.a)(J,2),Q=K[0],$=K[1],ee=c.useRef(null),te=c.useRef(null),ne=c.useState(!1),re=Object(a.a)(ne,2),ae=re[0],oe=re[1],ie=c.useState(0),se=Object(a.a)(ie,2),ce=se[0],ue=se[1],le=c.useContext(A.a),de=c.useContext(_.a),be=Object(L.h)(de,L.e,D.b),pe=t.getCurrentPlatform(),je=c.useMemo((function(){return t&&pe?Object(T.a)(pe,t,n):[]}),[t,pe,n,ce]),he=Object(N.c)();if(c.useEffect((function(){setTimeout((function(){he&&ee.current&&ee.current.focus()}),20)}),[he]),!o||!t)return null;var fe=Object(k.a)(),ge=Object(T.b)(je,q),me=ge.filter((function(e){var t=e.type;return!fe[t]})),Oe=ge.filter((function(e){var t=e.type;return!!fe[t]})),ve=Object(L.h)(de,L.a,(function(e,t){var n=t.type,r=t.defaultName;return fe[n]&&Object(C.b)(e._(fe[n].warning)),f(n,r)})),xe=function(e){return v.includes(e.type)},ye=function(e){return(""===e.objectType||e.objectType===m)&&!xe(e)},Ce=!!q&&!me.length&&!Oe.length,ke=function(){var e=Object(r.a)(i.a.mark((function e(n,r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return oe(!0),e.prev=1,e.next=4,be(n,t,le,r);case 4:if(!e.sent){e.next=10;break}return ue(Date.now()),$("installed"),te.current&&te.current.scrollToBottom(),e.abrupt("return",!0);case 10:return e.abrupt("return",!1);case 11:return e.prev=11,oe(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,,11,14]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(B.jsx)(s.I18n,{children:function(e){var n=e.i18n;return Object(B.jsxs)(u.c,{title:Object(B.jsx)(s.Trans,{id:"Add a new behavior to the object"}),actions:[Object(B.jsx)(d.a,{label:Object(B.jsx)(s.Trans,{id:"Close"}),primary:!1,onClick:p},"close")],secondaryActions:[Object(B.jsx)(l.a,{helpPagePath:"/behaviors"},"help")],open:!0,onRequestClose:p,flexColumnBody:!0,fullHeight:!0,id:"new-behavior-dialog",fixedContent:Object(B.jsx)(j.a,{value:Q,onChange:$,options:[{label:Object(B.jsx)(s.Trans,{id:"Installed behaviors"}),value:"installed"},{label:Object(B.jsx)(s.Trans,{id:"Search new behaviors"}),value:"search"}],variant:"small"===U?"scrollable":void 0}),children:["installed"===Q&&Object(B.jsxs)(c.Fragment,{children:[Object(B.jsx)(y.c,{children:Object(B.jsx)(y.a,{expand:!0,noMargin:!0,children:Object(B.jsx)(E.a,{value:q,onRequestSearch:function(){me.length?ve(n,me[0]):V&&Oe.length&&ve(n,Oe[0])},onChange:X,ref:ee,placeholder:{id:"Search installed behaviors"}})})}),Ce&&Object(B.jsx)(S.a,{children:Object(B.jsx)(s.Trans,{id:"No behavior found for your search. Try another search, or search for new behaviors to install."})}),Object(B.jsxs)(M.a,{ref:te,children:[Object(B.jsxs)(h.a,{children:[me.map((function(e,t){return Object(B.jsx)(H,{i18n:n,behaviorMetadata:e,alreadyInstalled:xe(e),onClick:function(){return ve(n,e)},disabled:!ye(e)},t)})),V&&!!Oe.length&&Object(B.jsx)(b.a,{children:"Deprecated (old, prefer not to use anymore)"}),V&&Oe.map((function(e,t){return Object(B.jsx)(H,{i18n:n,behaviorMetadata:e,alreadyInstalled:xe(e),onClick:function(){return ve(n,e)},disabled:!ye(e)},t)}))]}),Object(B.jsx)(y.c,{justifyContent:"center",alignItems:"center",children:Object(B.jsx)(d.a,{leftIcon:V?Object(B.jsx)(O.a,{}):Object(B.jsx)(g.a,{}),primary:!1,onClick:function(){G(!V)},label:V?Object(B.jsx)(s.Trans,{id:"Hide deprecated (old) behaviors"}):Object(B.jsx)(s.Trans,{id:"Show deprecated (old) behaviors"})},"toggle-deprecated")}),Object(B.jsx)(y.c,{justifyContent:"center",alignItems:"center",children:Object(B.jsx)(d.a,{leftIcon:Object(B.jsx)(x.a,{}),primary:!1,onClick:function(){return I.b.openExternalURL(Object(w.a)("/behaviors/events-based-behaviors"))},label:Object(B.jsx)(s.Trans,{id:"Create your own behavior"})})})]})]}),"search"===Q&&Object(B.jsx)(y.c,{expand:!0,children:Object(B.jsx)(y.a,{expand:!0,noMargin:!0,children:Object(B.jsx)(P.a,{project:t,isInstalling:ae,onInstall:function(){var e=Object(r.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ke(n,t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),showOnlyWithBehaviors:!0})})}),Object(B.jsx)(F.a,{identifier:"extension-installed-explanation",message:Object(B.jsx)(s.Trans,{id:"The behavior was added to the project. You can now add it to your object."}),show:0!==ce})]})}})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var r=n(307),a=n(432),o=n.n(a),i=function(e,t,n){var a=e.getAllPlatformExtensions();return o()(Object(r.mapFor)(0,a.size(),(function(e){var t=a.at(e);return t.getBehaviorsTypes().toJSArray().map((function(e){return{behaviorType:e,behaviorMetadata:t.getBehaviorMetadata(e)}})).filter((function(e){return!e.behaviorMetadata.isPrivate()||n&&t.getName()===n.getName()})).map((function(e){var n=e.behaviorType,r=e.behaviorMetadata;return{extension:t,behaviorMetadata:r,type:n,defaultName:r.getDefaultName(),fullName:r.getFullName(),description:r.getDescription(),iconFilename:r.getIconFilename(),objectType:r.getObjectType()}}))})))},s=function(e,t){if(!t)return e;var n=t.toLowerCase();return e.filter((function(e){return-1!==e.fullName.toLowerCase().indexOf(n)||-1!==e.description.toLowerCase().indexOf(n)}))}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var r=n(95),a=n(26),o=e.gd,i=function(e,t,n,i){if(function(e,t){return e.getAllBehaviorNames().toJSArray().filter((function(n){return e.getBehavior(n).getTypeName()===t})).length}(t,n)&&!a.b.showConfirmDialog("There is already a behavior of this type attached to the object. It's possible to add this behavior again, but it's unusual and may not always be supported properly. Are you sure you want to add this behavior again?"))return!1;var s=Object(r.a)(i,(function(e){return t.hasBehaviorNamed(e)}));return o.WholeProjectRefactorer.addBehaviorAndRequiredBehaviors(e,t,n,s),!0},s=function(e){return e.getAllBehaviorNames().toJSArray().map((function(t){return e.getBehavior(t).getTypeName()}))}}).call(this,n(25))},function(e,t,n){"use strict";var r=n(3),a=n(17),o=n.n(a),i=n(905),s=n(8);t.a=o.a.memo((function(e){return Object(s.jsxs)(i.a,Object(r.a)(Object(r.a)({},e),{},{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[Object(s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.79526 4.23503C10.0797 4.53617 10.0661 5.01085 9.76497 5.29526L5.8423 9L9.76497 12.7047C10.0661 12.9892 10.0797 13.4638 9.79526 13.765C9.51085 14.0661 9.03617 14.0797 8.73503 13.7953L4.23503 9.54526C4.08502 9.40358 4 9.20635 4 9C4 8.79366 4.08502 8.59642 4.23503 8.45474L8.73503 4.20474C9.03617 3.92033 9.51085 3.9339 9.79526 4.23503Z",fill:"currentColor"}),Object(s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.75 9C4.75 8.58579 5.08579 8.25 5.5 8.25H15.25C17.8733 8.25 20 10.3767 20 13V19.25C20 19.6642 19.6642 20 19.25 20C18.8358 20 18.5 19.6642 18.5 19.25V13C18.5 11.2051 17.0449 9.75 15.25 9.75H5.5C5.08579 9.75 4.75 9.41422 4.75 9Z",fill:"currentColor"})]}))}))},function(e,t,n){"use strict";var r=n(3),a=n(17),o=n.n(a),i=n(905),s=n(8);t.a=o.a.memo((function(e){return Object(s.jsxs)(i.a,Object(r.a)(Object(r.a)({},e),{},{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[Object(s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.2047 4.23503C14.4891 3.9339 14.9638 3.92033 15.265 4.20474L19.765 8.45474C19.915 8.59642 20 8.79366 20 9C20 9.20635 19.915 9.40358 19.765 9.54526L15.265 13.7953C14.9638 14.0797 14.4891 14.0661 14.2047 13.765C13.9203 13.4638 13.9339 12.9892 14.235 12.7047L18.1577 9L14.235 5.29526C13.9339 5.01085 13.9203 4.53617 14.2047 4.23503Z",fill:"currentColor"}),Object(s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 13C4 10.3767 6.12664 8.25 8.75 8.25H19.25C19.6642 8.25 20 8.58579 20 9C20 9.41422 19.6642 9.75 19.25 9.75H8.75C6.95508 9.75 5.5 11.2051 5.5 13V19.25C5.5 19.6642 5.16421 20 4.75 20C4.33579 20 4 19.6642 4 19.25V13Z",fill:"currentColor"})]}))}))},function(e,t,n){"use strict";(function(e){n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"g",(function(){return b})),n.d(t,"h",(function(){return p})),n.d(t,"f",(function(){return j})),n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return f}));var r=n(19),a=n(338),o=n(307),i=n(460),s=n(668),c=e.gd,u=function(e){var t=e.globalObjectsContainer,n=e.objectsContainer,o=e.serializedEvents,i=e.project,u=e.eventsFunction;u.setName("MyFunction"),u.setFunctionType(c.EventsFunction.Action),Object(a.c)(u.getEvents(),o,"unserializeFrom",i);var l=new c.EventsContextAnalyzer(c.JsPlatform.get(),t,n);l.launch(u.getEvents());var d=l.getEventsContext(),b=d.getReferencedObjectOrGroupNames().toNewVectorString().toJSArray(),p=d.getObjectNames().toNewVectorString().toJSArray(),j=b.filter((function(e){return-1===p.indexOf(e)})).map((function(e){return Object(s.a)(t,n,e)})).filter(Boolean),h=j.filter((function(e){return!b.some((function(t){return e.find(t)}))})),f=h.map((function(e){return e.getName()})),g=p.filter((function(e){return!h.some((function(t){return t.find(e)}))})),m=u.getParameters();m.clear(),[].concat(Object(r.a)(f),Object(r.a)(g)).forEach((function(e){var r=new c.ParameterMetadata;r.setType("objectList"),r.setName(e),r.setExtraInfo(c.getTypeOfObject(t,n,e,!0)),m.push_back(r),d.getBehaviorNamesOfObjectOrGroup(e).toNewVectorString().toJSArray().forEach((function(e){var r=new c.ParameterMetadata;r.setType("behavior"),r.setName(e),r.setExtraInfo(c.getTypeOfBehavior(t,n,e,!1)),m.push_back(r)}))})),j.filter((function(e){return!f.includes(e.getName())})).forEach((function(e){e&&u.getObjectGroups().insert(e,0)})),l.delete()},l=function(e,t){var n=new c.Instruction;return n.setType(Object(i.b)(e,t)),n.setParametersCount(t.getParameters().size()+1+1),Object(o.mapVector)(t.getParameters(),(function(e,t){n.setParameter(1+t,e.getName())})),n},d=function(e){return c.Project.validateName(e)},b=function(e){return c.Project.validateName(e)},p=function(e,t){return!e.hasEventsFunctionsExtensionNamed(t)},j=function(e,t,n){return!e.hasEventsFunctionsExtensionNamed(t)||!e.getEventsFunctionsExtension(t).hasEventsFunctionNamed(n.getName())},h=function(e,t,n){return""!==t&&b(t)&&""!==n.getName()&&d(n.getName())&&j(e,t,n)&&""!==n.getFullName()&&""!==n.getSentence()},f=function(e){return e.getParameters().size()>7}}).call(this,n(25))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return M}));var r=n(1),a=n(3),o=n(6),i=n(5),s=n(10),c=n(11),u=n(9),l=n(17),d=n(295),b=n(307),p=n(305),j=n(310),h=n(316),f=n(350),g=n(318),m=n(324),O=n(400),v=n(60),x=n(672),y=n(460),C=n(328),k=n.n(C),w=n(385),T=n(297),E=n(389),S=n(95),P=n(1155),I=n(405),A=n(8),D=e.gd,F={parametersContainer:{flex:1}},M=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(o.a)(this,n);for(var i=arguments.length,s=new Array(i),c=0;c<i;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={longDescriptionShownIndexes:{}},e._addParameter=function(){var t=e.props.eventsFunction.getParameters(),n=Object(b.mapVector)(t,(function(e){return e.getName()})),r=new D.ParameterMetadata;r.setType("objectList");var a=Object(S.a)("Parameter",(function(e){return n.includes(e)}));r.setName(a),t.push_back(r),r.delete(),e.forceUpdate(),e.props.onParametersUpdated()},e._removeParameter=function(t){var n=e.props.eventsFunction.getParameters();D.removeFromVectorParameterMetadata(n,t),e.forceUpdate(),e.props.onParametersUpdated()},e._addLongDescription=function(t){e.setState((function(e){return{longDescriptionShownIndexes:Object(a.a)(Object(a.a)({},e.longDescriptionShownIndexes),{},Object(r.a)({},t,!0))}}))},e._removeLongDescription=function(t){e.props.eventsFunction.getParameters().at(t).setLongDescription(""),e.setState((function(e){return{longDescriptionShownIndexes:Object(a.a)(Object(a.a)({},e.longDescriptionShownIndexes),{},Object(r.a)({},t,!1))}}))},e._moveParameters=function(t,n){var r=e.props,a=r.eventsFunction,o=r.eventsBasedBehavior,i=r.eventsBasedObject,s=a.getParameters();o?e.props.onMoveBehaviorEventsParameter&&e.props.onMoveBehaviorEventsParameter(o,a,t,n,(function(r){r&&(D.swapInVectorParameterMetadata(s,t,n),e.forceUpdate(),e.props.onParametersUpdated())})):i?e.props.onMoveObjectEventsParameter&&e.props.onMoveObjectEventsParameter(i,a,t,n,(function(r){r&&(D.swapInVectorParameterMetadata(s,t,n),e.forceUpdate(),e.props.onParametersUpdated())})):e.props.onMoveFreeEventsParameter&&e.props.onMoveFreeEventsParameter(a,t,n,(function(r){r&&(D.swapInVectorParameterMetadata(s,t,n),e.forceUpdate(),e.props.onParametersUpdated())}))},e._setStringSelectorExtraInfo=function(t){return function(n){t.setExtraInfo(JSON.stringify(n)),e.forceUpdate()}},e}return Object(i.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.project,r=t.eventsFunction,a=t.eventsBasedBehavior,o=t.eventsBasedObject,i=t.eventsFunctionsContainer,s=t.freezeParameters,c=t.helpPagePath;if(!!a&&Object(x.k)(r.getName()))return Object(A.jsx)(h.a,{children:Object(A.jsx)(u.Trans,{id:'This is a "lifecycle method". It will be called automatically by the game engine and has two parameters: "Object" (the object the behavior is acting on) and "Behavior" (the behavior itself).'})});if(!a&&Object(x.l)(r.getName()))return Object(A.jsxs)(d.a,{noMargin:!0,children:[Object(A.jsx)(w.a,{kind:"info",identifier:"lifecycle-events-function-included-only-if-extension-used",children:Object(A.jsx)(u.Trans,{id:"For the lifecycle functions to be executed, you need the extension to be used in the game, either by having at least one action, condition or expression used, or a behavior of the extension added to an object. Otherwise, the extension won't be included in the game."})}),Object(A.jsx)(h.a,{children:Object(A.jsx)(u.Trans,{id:'This is a "lifecycle function". It will be called automatically by the game engine. It has no parameters. Only global objects can be used as the events will be run for all scenes in your game.'})})]});var C=i&&r.getFunctionType()===D.EventsFunction.ActionWithOperator?r.getParametersForEvents(i):r.getParameters(),S=a?2:o?1:0,M=function(e){return r.getFunctionType()===D.EventsFunction.ActionWithOperator||s||e<S},_=S,L=S+(r.getFunctionType()===D.EventsFunction.ActionWithOperator?1:0),R=function(e){return e>=L},N=function(t,n){return R(n)&&(!!t.getLongDescription()||!!e.state.longDescriptionShownIndexes[n])},B=a?y.a.BehaviorFunction:o?y.a.ObjectFunction:y.a.FreeFunction;return Object(A.jsx)(u.I18n,{children:function(t){var a=t.i18n;return Object(A.jsxs)(d.a,{noMargin:!0,expand:!0,children:[Object(A.jsx)(d.c,{noMargin:!0,children:Object(A.jsxs)("div",{style:F.parametersContainer,children:[Object(b.mapVector)(C,(function(t,r){return Object(A.jsxs)(l.Fragment,{children:[Object(A.jsxs)(O.b,{noPadding:!0,children:[Object(A.jsx)(O.a,{firstChild:!0,children:Object(A.jsx)(u.Trans,{id:"Parameter #{0}:",values:{0:r+B}})}),Object(A.jsx)(d.a,{expand:!0,noMargin:!0,children:Object(A.jsx)(m.a,{commitOnBlur:!0,margin:"none",translatableHintText:{id:"Enter the parameter name (mandatory)"},value:t.getName(),onChange:function(n){(function(e,t){return t?!!D.Project.validateName(t)||(Object(v.c)(e._({id:"This name is invalid. Only use alphanumeric characters (0-9, a-z) and underscores. Digits are not allowed as the first character."}),{delayToNextTick:!0}),!1):(Object(v.c)(e._({id:"The name of a parameter can not be empty. Enter a name for the parameter or you won't be able to use it."}),{delayToNextTick:!0}),!1)})(a,n)&&(t.setName(n),e.forceUpdate(),e.props.onParametersUpdated())},disabled:M(r),fullWidth:!0})}),Object(A.jsx)(f.a,{element:Object(A.jsx)(j.a,{children:Object(A.jsx)(I.a,{})}),buildMenuTemplate:function(n){return[{label:n._({id:"Delete"}),enabled:!M(r),click:function(){return e._removeParameter(r)}},{type:"separator"},{label:n._({id:"Add a Long Description"}),enabled:!M(r),visible:!N(t,r),click:function(){return e._addLongDescription(r)}},{label:n._({id:"Remove the Long Description"}),enabled:!M(r),visible:N(t,r),click:function(){return e._removeLongDescription(r)}},{label:n._({id:"Move up"}),click:function(){return e._moveParameters(r,r-1)},enabled:!M(r)&&r-1>=0&&!M(r-1)},{label:n._({id:"Move down"}),click:function(){return e._moveParameters(r,r+1)},enabled:!M(r)&&r+1<C.size()&&!M(r+1)}]}})]}),Object(A.jsx)(d.c,{children:Object(A.jsxs)(T.a,{expand:!0,noMargin:!0,children:[Object(A.jsx)(P.a,{project:n,valueTypeMetadata:t.getValueTypeMetadata(),disabled:M(r),isTypeSelectorShown:(o=r,o>=_),onTypeUpdated:function(){return e.props.onParametersUpdated()},getLastObjectParameterObjectType:function(){return Object(E.a)(C,r)}}),R(r)&&Object(A.jsx)(m.a,{commitOnBlur:!0,floatingLabelText:Object(A.jsx)(u.Trans,{id:"Label"}),floatingLabelFixed:!0,value:t.getDescription(),onChange:function(n){t.setDescription(n),e.forceUpdate()},fullWidth:!0,disabled:M(r)&&!s}),N(t,r)&&Object(A.jsx)(m.a,{commitOnBlur:!0,floatingLabelText:Object(A.jsx)(u.Trans,{id:"Long description"}),floatingLabelFixed:!0,value:t.getLongDescription(),onChange:function(n){t.setLongDescription(n),e.forceUpdate()},multiline:!0,fullWidth:!0,disabled:M(r)&&!s})]})})]},r);var o})),0===C.size()?Object(A.jsx)(h.a,{children:Object(A.jsx)(u.Trans,{id:"No parameters for this function."})}):null,Object(A.jsx)(d.a,{children:Object(A.jsx)(d.c,{justifyContent:"flex-end",expand:!0,children:!s&&Object(A.jsx)(p.a,{primary:!0,label:Object(A.jsx)(u.Trans,{id:"Add a parameter"}),onClick:e._addParameter,icon:Object(A.jsx)(k.a,{}),disabled:r.getFunctionType()===D.EventsFunction.ActionWithOperator})})})]})}),c?Object(A.jsx)(d.c,{children:Object(A.jsx)(g.a,{helpPagePath:c})}):Object(A.jsx)(d.d,{})]})}})}}]),n}(l.Component)}).call(this,n(25))},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(9),a=(n(17),n(322)),o=n(321),i=n(324),s=n(1156),c=n(1157),u=n(297),l=n(828),d=n(314),b=n(8),p=function(e){var t=e.getExtraInfo(),n=[];try{""!==t&&(n=JSON.parse(t)),Array.isArray(n)||(n=[])}catch(r){console.error("Cannot parse parameter extraInfo: ",r)}return n},j=function(e){return e.startsWith("object")?"object":"scene"},h=function(e){return e.startsWith("object")?e.substring("object".length):e.substring("scene".length)};function f(e){var t=e.project,n=e.valueTypeMetadata,f=e.disabled,g=e.isTypeSelectorShown,m=e.onTypeUpdated,O=e.getLastObjectParameterObjectType,v=e.isExpressionType,x=Object(d.a)();return Object(b.jsx)(r.I18n,{children:function(e){e.i18n;return Object(b.jsxs)(u.a,{noMargin:!0,expand:!0,children:[Object(b.jsxs)(u.c,{noMargin:!0,children:[g&&Object(b.jsxs)(a.a,{floatingLabelText:Object(b.jsx)(r.Trans,{id:"Type"}),value:n.getName(),onChange:function(e,t,r){n.setName(r),n.setOptional(!1),n.setDefaultValue(""),x(),m()},disabled:f,fullWidth:!0,children:[!v&&Object(b.jsx)(o.a,{value:"objectList",primaryText:{id:"Objects"}}),!v&&Object(b.jsx)(o.a,{value:"behavior",primaryText:{id:"Behavior (for the previous object)"}}),Object(b.jsx)(o.a,{value:"expression",primaryText:{id:"Number"}}),Object(b.jsx)(o.a,{value:"string",primaryText:{id:"String (text)"}}),Object(b.jsx)(o.a,{value:"stringWithSelector",primaryText:{id:"String from a list of options (text)"}}),Object(b.jsx)(o.a,{value:"key",primaryText:{id:"Keyboard Key (text)"}}),Object(b.jsx)(o.a,{value:"mouse",primaryText:{id:"Mouse button (text)"}}),Object(b.jsx)(o.a,{value:"color",primaryText:{id:"Color (text)"}}),Object(b.jsx)(o.a,{value:"layer",primaryText:{id:"Layer (text)"}}),Object(b.jsx)(o.a,{value:"sceneName",primaryText:{id:"Scene name (text)"}}),!v&&Object(b.jsx)(o.a,{value:"yesorno",primaryText:{id:"Yes or No (boolean)"}}),!v&&Object(b.jsx)(o.a,{value:"trueorfalse",primaryText:{id:"True or False (boolean)"}}),Object(b.jsx)(o.a,{value:"objectPointName",primaryText:{id:"Object point (text)"}}),Object(b.jsx)(o.a,{value:"objectAnimationName",primaryText:{id:"Object animation (text)"}}),Object(b.jsx)(o.a,{value:"identifier",primaryText:{id:"Identifier (text)"}})]}),n.isObject()&&Object(b.jsx)(s.a,{project:t,value:n.getExtraInfo(),onChange:function(e){n.setExtraInfo(e),x(),m()},disabled:f}),n.isBehavior()&&Object(b.jsx)(c.a,{project:t,objectType:O(),value:n.getExtraInfo(),onChange:function(e){n.setExtraInfo(e),x(),m()},disabled:f}),"yesorno"===n.getName()&&Object(b.jsxs)(a.a,{floatingLabelText:Object(b.jsx)(r.Trans,{id:"Default value"}),value:"yes"===n.getDefaultValue()?"yes":"no",onChange:function(e,t,r){n.setOptional(!0),n.setDefaultValue(r),x(),m()},fullWidth:!0,children:[Object(b.jsx)(o.a,{value:"yes",primaryText:{id:"Yes"}}),Object(b.jsx)(o.a,{value:"no",primaryText:{id:"No"}})]}),"trueorfalse"===n.getName()&&Object(b.jsxs)(a.a,{floatingLabelText:Object(b.jsx)(r.Trans,{id:"Default value"}),value:"True"===n.getDefaultValue()?"True":"False",onChange:function(e,t,r){n.setOptional(!0),n.setDefaultValue(r),x(),m()},fullWidth:!0,children:[Object(b.jsx)(o.a,{value:"True",primaryText:{id:"True"}}),Object(b.jsx)(o.a,{value:"False",primaryText:{id:"False"}})]}),"identifier"===n.getName()&&Object(b.jsxs)(a.a,{floatingLabelText:Object(b.jsx)(r.Trans,{id:"Scope"}),value:j(n.getExtraInfo()),onChange:function(e,t,r){var a=h(n.getExtraInfo());n.setExtraInfo(r+a),x(),m()},fullWidth:!0,children:[Object(b.jsx)(o.a,{value:"scene",primaryText:{id:"Scene"}}),Object(b.jsx)(o.a,{value:"object",primaryText:{id:"Object"}})]}),"identifier"===n.getName()&&Object(b.jsx)(i.a,{commitOnBlur:!0,floatingLabelText:Object(b.jsx)(r.Trans,{id:"Identifier name"}),floatingLabelFixed:!0,value:h(n.getExtraInfo()),onChange:function(e){var t=j(n.getExtraInfo());n.setExtraInfo(t+e),x(),m()},fullWidth:!0})]}),"stringWithSelector"===n.getName()&&Object(b.jsx)(l.a,{disabled:f,extraInfo:p(n),setExtraInfo:function(e){n.setExtraInfo(JSON.stringify(e)),x(),m()}})]})}})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(6),a=n(5),o=n(10),i=n(11),s=n(9),c=n(17),u=n(322),l=n(321),d=n(415),b=n(8),p=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={objectMetadata:Object(d.b)(e.props.project)},e}return Object(a.a)(n,[{key:"render",value:function(){var e=this.props,t=e.disabled,n=e.value,r=e.onChange,a=e.floatingLabelText,o=e.allowedObjectTypes,i=this.state.objectMetadata,c=function(e){return!!o&&-1===o.indexOf(e)};return Object(b.jsxs)(u.a,{floatingLabelText:a||Object(b.jsx)(s.Trans,{id:"Object type"}),value:n,onChange:function(e,t,n){r(n)},disabled:t,fullWidth:!0,children:[Object(b.jsx)(l.a,{value:"",primaryText:{id:"Any object"},disabled:c("")}),i.map((function(e){return""===e.name?null:Object(b.jsx)(l.a,{value:e.name,primaryText:e.fullName,disabled:c(e.name)},e.name)}))]})}}]),n}(c.Component)},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(6),a=n(5),o=n(10),i=n(11),s=n(9),c=n(17),u=n(322),l=n(321),d=n(1149),b=n(8),p=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={behaviorMetadata:Object(d.a)(e.props.project.getCurrentPlatform(),e.props.project,e.props.eventsFunctionsExtension)},e}return Object(a.a)(n,[{key:"render",value:function(){var e=this.props,t=e.disabled,n=e.objectType,r=e.value,a=e.onChange,o=this.state.behaviorMetadata,i=!!o.find((function(e){return e.type===r}));return Object(b.jsxs)(u.a,{floatingLabelText:Object(b.jsx)(s.Trans,{id:"Behavior type"}),value:r,onChange:function(e,t,n){a(n)},disabled:t,fullWidth:!0,children:[o.map((function(e){return Object(b.jsx)(l.a,{value:e.type,primaryText:e.fullName,disabled:""!==e.objectType&&e.objectType!==n},e.type)})),!i&&r&&Object(b.jsx)(l.a,{value:r,primaryText:r})]})}}]),n}(c.Component)},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return P}));var r=n(6),a=n(5),o=n(10),i=n(11),s=n(24),c=n(9),u=n(17),l=n(295),d=n(322),b=n(321),p=n(307),j=n(318),h=n(324),f=n(672),g=n(316),m=n(460),O=n(297),v=n(385),x=n(374),y=n(1155),C=n(312),k=n(8),w=e.gd,T=function(e,t,n,r){var a=r.getSentence();if(!a)return e._({id:"Enter the sentence that will be displayed in the events sheet"});var o,i=t?m.a.BehaviorFunction:n?m.a.ObjectFunction:m.a.FreeFunction,c=r.getFunctionType(),u=(t||n)&&c===w.EventsFunction.ExpressionAndCondition,l=Object(p.mapVector)(r.getParameters(),(function(e,t){if(e.getValueTypeMetadata().isBehavior())return null;if(0===t&&u)return null;var n="_PARAM".concat(t+i,"_");return-1===a.indexOf(n)?n:null})).filter(Boolean),d=r.getParameters().size(),b=a.matchAll(/_PARAM(\d+)_/g),j=[],h=Object(s.a)(b);try{for(h.s();!(o=h.n()).done;){var f=o.value,g=parseInt(f[1],10);(g-i>=d||g-i<0)&&j.push(f[0])}}catch(O){h.e(O)}finally{h.f()}return l.length||j.length?[l.length?e._({id:"The sentence is probably missing this/these parameter(s):"})+" "+l.join(", "):null,j.length?e._({id:"The sentence displays one or more wrongs parameters:"})+" "+j.join(", "):null].filter(Boolean).join(" - "):void 0},E=function(e,t){return e===w.EventsFunction.Condition?{id:"Example: Is flashing"}:e===w.EventsFunction.Expression?t.isNumber()?{id:"Example: Remaining life"}:{id:"Example: Equipped shield name"}:{id:"Example: Flash the object"}},S=function(e,t){return e===w.EventsFunction.Condition?{id:"Example: Check if the object is flashing."}:e===w.EventsFunction.Expression?t.isNumber()?{id:"Example: Return the number of remaining lives for the player."}:{id:"Example: Return the name of the shield equipped by the player."}:{id:"Example: Make the object flash for 5 seconds."}},P=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.project,r=t.eventsFunction,a=t.freezeEventsFunctionType,o=t.onConfigurationUpdated,i=t.helpPagePath,s=t.renderConfigurationHeader,u=t.eventsBasedBehavior,m=t.eventsBasedObject,P=t.getFunctionGroupNames,I=t.eventsFunctionsContainer,A=r.getFunctionType();if(!!u&&!m&&Object(f.k)(r.getName()))return Object(k.jsx)(g.a,{children:Object(k.jsx)(c.Trans,{id:'This is a "lifecycle method". It will be called automatically by the game engine for each instance living on the scene having the behavior.'})});if(!!m&&!u&&Object(f.m)(r.getName()))return Object(k.jsx)(g.a,{children:Object(k.jsx)(c.Trans,{id:'This is a "lifecycle method". It will be called automatically by the game engine for each instance living on the scene.'})});if(!u&&!m&&Object(f.l)(r.getName()))return Object(k.jsxs)(l.a,{noMargin:!0,children:[Object(k.jsx)(v.a,{kind:"info",identifier:"lifecycle-events-function-included-only-if-extension-used",children:Object(k.jsx)(c.Trans,{id:"For the lifecycle functions to be executed, you need the extension to be used in the game, either by having at least one action, condition or expression used, or a behavior of the extension added to an object. Otherwise, the extension won't be included in the game."})}),Object(k.jsx)(g.a,{children:Object(k.jsx)(c.Trans,{id:'This is a "lifecycle function". It will be called automatically by the game engine. It has no parameters. Only global objects can be used as the events will be run for all scenes in your game.'})})]});var D=I&&A===w.EventsFunction.ActionWithOperator&&I.hasEventsFunctionNamed(r.getGetterName())?I.getEventsFunction(r.getGetterName()):null;return Object(k.jsx)(c.I18n,{children:function(t){var f=t.i18n;return Object(k.jsxs)(O.a,{expand:!0,noMargin:!0,children:[s?s():null,Object(k.jsxs)(O.c,{alignItems:"center",noMargin:!0,children:[Object(k.jsx)(l.c,{alignItems:"center",noMargin:!0,children:Object(k.jsxs)(d.a,{value:A,floatingLabelText:Object(k.jsx)(c.Trans,{id:"Function type"}),fullWidth:!0,disabled:!!a,onChange:function(t,n,a){var i=a;r.setFunctionType(i),o&&o("type"),e.forceUpdate()},children:[Object(k.jsx)(b.a,{value:w.EventsFunction.Action,primaryText:{id:"Action"}}),Object(k.jsx)(b.a,{value:w.EventsFunction.Condition,primaryText:{id:"Condition"}}),Object(k.jsx)(b.a,{value:w.EventsFunction.Expression,primaryText:{id:"Expression"}}),Object(k.jsx)(b.a,{value:w.EventsFunction.ExpressionAndCondition,primaryText:{id:"Expression and condition"}}),Object(k.jsx)(b.a,{value:w.EventsFunction.ActionWithOperator,primaryText:{id:"Action with operator"}})]})}),Object(k.jsx)(l.a,{expand:!0,noMargin:!0,children:A===w.EventsFunction.ActionWithOperator?Object(k.jsx)(d.a,{value:D&&D.getName()||"",floatingLabelText:Object(k.jsx)(c.Trans,{id:"Related expression and condition"}),fullWidth:!0,onChange:function(t,n,a){r.setGetterName(a),o&&o(),e.forceUpdate()},children:I?Object(p.mapFor)(0,I.getEventsFunctionsCount(),(function(e){var t=I.getEventsFunctionAt(e);return t.getFunctionType()===w.EventsFunction.ExpressionAndCondition&&Object(k.jsx)(b.a,{value:t.getName(),primaryText:t.getFullName()||t.getName()},t.getName())})):[]}):Object(k.jsx)(h.a,{commitOnBlur:!0,floatingLabelText:Object(k.jsx)(c.Trans,{id:"Full name displayed in editor"}),translatableHintText:E(A,r.getExpressionType()),value:r.getFullName(),onChange:function(t){r.setFullName(t),o&&o(),e.forceUpdate()},fullWidth:!0})}),Object(k.jsx)(l.a,{expand:!0,noMargin:!0,children:A===w.EventsFunction.ActionWithOperator?Object(k.jsx)(h.a,{disabled:!0,floatingLabelText:Object(k.jsx)(c.Trans,{id:"Group name"}),fullWidth:!0,value:D?D.getGroup():"",onChange:function(e){}}):Object(k.jsx)(x.c,{floatingLabelText:Object(k.jsx)(c.Trans,{id:"Group name"}),hintText:{id:"Leave it empty to use the default group for this extension."},fullWidth:!0,value:r.getGroup(),onChange:function(t){r.setGroup(t),o&&o(),e.forceUpdate()},dataSource:P?P().map((function(e){return{text:e,value:e}})):[],openOnFocus:!0})})]}),Object(k.jsx)(l.c,{noMargin:!0,children:A===w.EventsFunction.ActionWithOperator?Object(k.jsx)(h.a,{disabled:!0,commitOnBlur:!0,floatingLabelText:Object(k.jsx)(c.Trans,{id:"Description, displayed in editor"}),fullWidth:!0,multiline:!0,value:D?"Change "+D.getDescription():"",onChange:function(e){}}):Object(k.jsx)(h.a,{commitOnBlur:!0,floatingLabelText:A===w.EventsFunction.ExpressionAndCondition?Object(k.jsx)(c.Trans,{id:'Description, displayed in editor (automatically prefixed by "Compare" or "Return")'}):Object(k.jsx)(c.Trans,{id:"Description, displayed in editor"}),translatableHintText:S(A,r.getExpressionType()),fullWidth:!0,multiline:!0,value:r.getDescription(),onChange:function(t){r.setDescription(t),o&&o(),e.forceUpdate()}})}),A===w.EventsFunction.ActionWithOperator?Object(k.jsx)(l.c,{noMargin:!0,children:Object(k.jsx)(h.a,{disabled:!0,commitOnBlur:!0,floatingLabelText:Object(k.jsx)(c.Trans,{id:"Sentence in Events Sheet"}),fullWidth:!0,value:D?"Change "+D.getSentence()+" of _PARAM0_":"",onChange:function(e){}})}):(A===w.EventsFunction.Action||A===w.EventsFunction.Condition||A===w.EventsFunction.ExpressionAndCondition)&&Object(k.jsx)(l.c,{noMargin:!0,children:Object(k.jsx)(h.a,{commitOnBlur:!0,floatingLabelText:u&&A===w.EventsFunction.ExpressionAndCondition?Object(k.jsx)(c.Trans,{id:'Sentence in Events Sheet (automatically suffixed by "of _PARAM0_")'}):Object(k.jsx)(c.Trans,{id:"Sentence in Events Sheet"}),translatableHintText:{id:"Note: write _PARAMx_ for parameters, e.g: Flash _PARAM1_ for 5 seconds"},fullWidth:!0,value:r.getSentence(),onChange:function(t){r.setSentence(t),o&&o(),e.forceUpdate()},errorText:T(f,u,m,r)})}),r.isExpression()&&Object(k.jsx)(y.a,{isExpressionType:!0,project:n,valueTypeMetadata:r.getExpressionType(),isTypeSelectorShown:!0,onTypeUpdated:function(){o&&o()},getLastObjectParameterObjectType:function(){return""}}),r.isAsync()&&Object(k.jsx)(C.a,{kind:"info",children:Object(k.jsx)(c.Trans,{id:'This is an asynchronous action, meaning that the actions and sub-events following it will wait for it to end. Don\'t forget to use the action "End asynchronous function" to mark the end of the action.'})}),i?Object(k.jsx)(l.c,{noMargin:!0,children:Object(k.jsx)(j.a,{helpPagePath:i})}):Object(k.jsx)(l.d,{})]})}})}}]),n}(u.Component)}).call(this,n(25))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(17),a=n(310),o=n(612),i=n.n(o),s=n(1159),c=n(8),u={container:{padding:0,width:32,height:32},icon:{width:16,height:16}};function l(e){var t=r.useContext(s.MosaicContext).mosaicActions,n=r.useContext(s.MosaicWindowContext).mosaicWindowActions;return Object(c.jsx)(a.a,{onClick:function(){t.remove(n.getPath())},style:u.container,children:Object(c.jsx)(i.a,{htmlColor:"inherit",style:u.icon})})}},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return f}));var r=n(3),a=n(2),o=n(6),i=n(5),s=n(10),c=n(11),u=n(0),l=n.n(u),d=n(17),b=n(2131),p=n(8),j={container:{display:"flex",flex:1,minWidth:0}},h=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i)))._onBehaviorEdited=Object(a.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.props.onLoadEventsFunctionsExtensions();case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.warn("Error while loading events functions extensions - ignoring this in the context of the EventsFunctionsExtensionEditorContainer.",t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])}))),e._onObjectEdited=Object(a.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.props.onLoadEventsFunctionsExtensions();case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.warn("Error while loading events functions extensions - ignoring this in the context of the EventsFunctionsExtensionEditorContainer.",t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])}))),e.previewWillStart=function(){e.props.isActive&&e.props.onLoadEventsFunctionsExtensions()},e}return Object(i.a)(n,[{key:"getProject",value:function(){return this.props.project}},{key:"getLayout",value:function(){return null}},{key:"updateToolbar",value:function(){this.editor&&this.editor.updateToolbar()}},{key:"forceUpdateEditor",value:function(){}},{key:"shouldComponentUpdate",value:function(e){return this.props.isActive||e.isActive}},{key:"componentDidUpdate",value:function(e){e.isActive&&!this.props.isActive&&this.props.onLoadEventsFunctionsExtensions()}},{key:"componentWillUnmount",value:function(){this.props.isActive&&this.props.onLoadEventsFunctionsExtensions()}},{key:"getEventsFunctionsExtension",value:function(){var e=this.props,t=e.project,n=e.projectItemName;return t&&n&&t.hasEventsFunctionsExtensionNamed(n)?t.getEventsFunctionsExtension(n):null}},{key:"selectEventsFunctionByName",value:function(e,t){this.editor&&this.editor.selectEventsFunctionByName(e,t)}},{key:"selectEventsBasedBehaviorByName",value:function(e){this.editor&&this.editor.selectEventsBasedBehaviorByName(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,r=t.projectItemName,a=this.getEventsFunctionsExtension();if(!a||!n)return Object(p.jsxs)("div",{children:["No extension called ",r," found!"]});var o=this.props.extraEditorProps||{},i=o.initiallyFocusedFunctionName,s=o.initiallyFocusedBehaviorName;return Object(p.jsx)("div",{style:j.container,children:Object(p.jsx)(b.a,{project:n,eventsFunctionsExtension:a,setToolbar:this.props.setToolbar,resourceManagementProps:this.props.resourceManagementProps,openInstructionOrExpression:this.props.openInstructionOrExpression,onCreateEventsFunction:this.props.onCreateEventsFunction,initiallyFocusedFunctionName:i,initiallyFocusedBehaviorName:s,onBehaviorEdited:this._onBehaviorEdited,onObjectEdited:this._onObjectEdited,ref:function(t){return e.editor=t},unsavedChanges:this.props.unsavedChanges},a.ptr)})}}]),n}(d.Component),f=function(e){return Object(p.jsx)(h,Object(r.a)({},e))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var r=n(19),a=n(6),o=n(5),i=n(10),s=n(11),c=n(9),u=n(17),l=n.n(u),d=n(379),b=n(357),p=n(361),j=n(95),h=n(60),f=n(538),g=n(415),m=n(26),O=n(338),v=n(295),x=n(328),y=n.n(x),C=n(586),k=n(8),w={listContainer:{flex:1}},T=function(e){return e.group.getName()},E=function(e){return e.global},S=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).displayedObjectGroupsList=[],e.displayedGlobalObjectGroupsList=[],e.state={renamedGroupWithContext:null,selectedGroupWithContext:null,searchText:""},e.addGroup=function(){var t=e.props,n=t.globalObjectGroups,r=t.objectGroups,a=Object(j.a)("Group",(function(e){return r.has(e)||n.has(e)})),o=r.insertNew(a,r.count());e._onObjectGroupModified(),e.props.onGroupAdded&&e.props.onGroupAdded(),e._onEditName({group:o,global:!1})},e._onDelete=function(t){var n=t.group,r=t.global,a=e.props,o=a.globalObjectGroups,i=a.objectGroups;m.b.showConfirmDialog("Are you sure you want to remove this group? This can't be undone.")&&e.props.onDeleteGroup(t,(function(t){t&&(r?o.remove(n.getName()):i.remove(n.getName()),e._onObjectGroupModified(),e.props.onGroupRemoved&&e.props.onGroupRemoved())}))},e._onEditName=function(t){e.setState({renamedGroupWithContext:t},(function(){e.sortableList&&e.sortableList.forceUpdateGrid()}))},e._onDuplicate=function(t){var n=t.group,r=t.global,a=e.props,o=a.globalObjectGroups,i=a.objectGroups,s=r?o:i,c=Object(j.a)(n.getName(),(function(e){return s.has(e)}),""),u=s.insertNew(c,s.getPosition(n.getName())+1);return Object(O.c)(u,Object(O.b)(n),"unserializeFrom"),u.setName(c),e._onObjectGroupModified(),{group:u,global:r}},e._onRename=function(t,n){var r=t.group,a=e.props,o=a.globalObjectGroups,i=a.objectGroups;e.setState({renamedGroupWithContext:null}),r.getName()!==n&&(i.has(n)||o.has(n)?Object(h.c)("Another object with this name already exists",{delayToNextTick:!0}):e.props.canRenameGroup(n)&&e.props.onRenameGroup(t,n,(function(t){t&&(r.setName(n),e._onObjectGroupModified(),e.props.onGroupRenamed&&e.props.onGroupRenamed())})))},e._setAsGlobalGroup=function(t){var n=t.group,r=e.props,a=r.globalObjectGroups,o=r.objectGroups,i=n.getName();a.has(i)?Object(h.c)("A global object with this name already exists. Please change the object name before setting it as a global object",{delayToNextTick:!0}):m.b.showConfirmDialog("This group will be loaded and available in all the scenes. This is only recommended for groups that you reuse a lot and can't be undone. Make this group global?")&&(a.insert(n,a.count()),o.remove(i),e._onObjectGroupModified())},e._onObjectGroupModified=function(){e.props.unsavedChanges&&e.props.unsavedChanges.triggerUnsavedChanges(),e.forceUpdate()},e._canMoveSelectionTo=function(t){return!!e.state.selectedGroupWithContext&&(e.state.selectedGroupWithContext.global===t.global||!(e.state.selectedGroupWithContext.global||!t.global||0!==e.displayedGlobalObjectGroupsList.indexOf(t)))},e._moveSelectionTo=function(t){var n=e.state.selectedGroupWithContext;if(n){var r,a,o,i=e.props,s=i.globalObjectGroups,c=i.objectGroups,u=n.global===t.global,l=!n.global&&t.global&&0===s.getPosition(t.group.getName());if(u)a=(r=n.global?s:c).getPosition(n.group.getName()),o=r.getPosition(t.group.getName());else{if(!l)return;a=(r=c).getPosition(n.group.getName()),o=e.state.searchText?r.getPosition(e.displayedObjectGroupsList[e.displayedObjectGroupsList.length-1].group.getName())+1:r.count()}o>a&&(o-=1),r.move(a,o),e._onObjectGroupModified(),e.sortableList&&e.sortableList.forceUpdateGrid()}},e._renderGroupMenuTemplate=function(t){return function(n,r){return[{label:t._({id:"Duplicate"}),click:function(){return e._onDuplicate(n)}},{type:"separator"},{label:t._({id:"Edit group"}),click:function(){return e.props.onEditGroup(n.group)}},{type:"separator"},{label:t._({id:"Rename"}),click:function(){return e._onEditName(n)}},{label:t._({id:"Set as global group"}),enabled:!E(n),click:function(){return e._setAsGlobalGroup(n)},visible:!1!==e.props.canSetAsGlobalGroup},{label:t._({id:"Delete"}),click:function(){return e._onDelete(n)}},{type:"separator"},{label:t._({id:"Add a new group..."}),click:e.addGroup}]}},e}return Object(o.a)(n,[{key:"shouldComponentUpdate",value:function(e,t){return this.state.renamedGroupWithContext!==t.renamedGroupWithContext||this.state.selectedGroupWithContext!==t.selectedGroupWithContext||this.state.searchText!==t.searchText||(this.props.globalObjectGroups!==e.globalObjectGroups||this.props.objectGroups!==e.objectGroups)}},{key:"render",value:function(){var e=this,t=this.props,n=t.globalObjectGroups,a=t.objectGroups,o=this.state.searchText,i=Object(g.a)(a).map((function(e){return{group:e,global:!1}})),s=Object(g.a)(n).map((function(e){return{group:e,global:!0}}));this.displayedObjectGroupsList=Object(g.e)(i,{searchText:o}),this.displayedGlobalObjectGroupsList=Object(g.e)(s,{searchText:o});var u=Object(g.e)([].concat(Object(r.a)(i),Object(r.a)(s)),{searchText:o}),l=a.ptr+";"+n.ptr,j=this.state.renamedGroupWithContext?u.find(Object(g.h)(this.state.renamedGroupWithContext)):null;return Object(k.jsxs)(b.a,{children:[Object(k.jsx)(v.c,{children:Object(k.jsx)(v.a,{expand:!0,children:Object(k.jsx)(p.a,{value:o,onRequestSearch:function(){},onChange:function(t){return e.setState({searchText:t})},placeholder:{id:"Search object groups"}})})}),Object(k.jsx)("div",{style:w.listContainer,children:Object(k.jsx)(d.a,{children:function(t){var n=t.height,r=t.width;return Object(k.jsx)(c.I18n,{children:function(t){var a=t.i18n;return Object(k.jsx)(f.a,{ref:function(t){return e.sortableList=t},fullList:u,width:r,height:n,getItemName:T,getItemId:function(e,t){return"group-item-"+t},isItemBold:E,onEditItem:function(t){return e.props.onEditGroup(t.group)},selectedItems:[],onItemSelected:function(t){e.setState({selectedGroupWithContext:t})},renamedItem:j,onRename:e._onRename,buildMenuTemplate:e._renderGroupMenuTemplate(a),onMoveSelectionToItem:e._moveSelectionTo,canMoveSelectionToItem:e._canMoveSelectionTo,reactDndType:"GD_GROUP_WITH_CONTEXT"},l)}})}})}),Object(k.jsx)(v.c,{children:Object(k.jsx)(v.a,{expand:!0,children:Object(k.jsx)(C.a,{label:Object(k.jsx)(c.Trans,{id:"Add a new group"}),primary:!0,onClick:this.addGroup,id:"add-new-group-button",icon:Object(k.jsx)(y.a,{})})})})]})}}]),n}(l.a.Component);S.defaultProps={onDeleteGroup:function(e,t){return t(!0)},onRenameGroup:function(e,t,n){return n(!0)}}},function(e,t,n){"use strict";var r=n(9),a=(n(17),n(298)),o=n(2134),i=n(303),s=n(553),c=n(314),u=n(8);t.a=function(e){var t=e.project,n=e.group,l=e.onApply,d=e.onCancel,b=e.globalObjectsContainer,p=e.objectsContainer,j=Object(c.a)(),h=Object(s.a)({serializableObject:n,onCancel:d}),f=h.onCancelChanges,g=h.notifyOfChange;return Object(u.jsx)(i.c,{title:Object(u.jsx)(r.Trans,{id:"Edit {0}",values:{0:n.getName()}}),actions:[Object(u.jsx)(a.a,{label:Object(u.jsx)(r.Trans,{id:"Cancel"}),keyboardFocused:!0,onClick:f},"cancel"),Object(u.jsx)(i.a,{label:Object(u.jsx)(r.Trans,{id:"Apply"}),primary:!0,onClick:l},"apply")],onRequestClose:f,onApply:l,open:!0,children:Object(u.jsx)(o.a,{project:t,group:n,globalObjectsContainer:b,objectsContainer:p,onSizeUpdated:j,onObjectGroupUpdated:g})},n.ptr)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return h}));var r=n(2),a=n(34),o=n(0),i=n.n(o),s=n(17),c=n(634),u=n(370),l=n(857),d=n(464),b=n(8),p=s.createContext({filters:null,authors:null,licenses:null,searchResults:null,fetchResourcesAndFilters:function(){},error:null,searchText:"",setSearchText:function(){},filtersState:{chosenFilters:new Set,addFilter:function(){},removeFilter:function(){},chosenCategory:null,setChosenCategory:function(){}}}),j=function(e){return e.name+"\n"+e.tags.join(", ")},h=function(e){var t=e.children,n=s.useState(null),o=Object(a.a)(n,2),h=o[0],f=o[1],g=s.useState(null),m=Object(a.a)(g,2),O=m[0],v=m[1],x=s.useState(null),y=Object(a.a)(x,2),C=y[0],k=y[1],w=s.useState(null),T=Object(a.a)(w,2),E=T[0],S=T[1],P=s.useState(null),I=Object(a.a)(P,2),A=I[0],D=I[1],F=s.useRef(!1),M=s.useState(""),_=Object(a.a)(M,2),L=_[0],R=_[1],N=Object(c.b)(),B=s.useContext(d.a).environment,U=s.useCallback((function(){h||F.current||Object(r.a)(i.a.mark((function e(){var t,n,r,a,o,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D(null),F.current=!0,e.prev=2,e.next=5,Object(u.l)({environment:B});case 5:return t=e.sent,n=t.resources,r=t.filters,e.next=10,Object(u.i)({environment:B});case 10:return a=e.sent,e.next=13,Object(u.j)({environment:B});case 13:o=e.sent,s={},n.forEach((function(e){s[e.url]=e})),console.info("Loaded ".concat(n.length," resources from the asset store.")),f(s),v(r),k(a),S(o),e.next=27;break;case 23:e.prev=23,e.t0=e.catch(2),console.error("Unable to load the assets from the asset store:",e.t0),D(e.t0);case 27:F.current=!1;case 28:case"end":return e.stop()}}),e,null,[[2,23]])})))()}),[h,F,B]),H=N.chosenCategory,W=N.chosenFilters,z=Object(l.b)(h,j,L,H,W),V=s.useMemo((function(){return{searchResults:z,fetchResourcesAndFilters:U,filters:O,authors:C,licenses:E,error:A,searchText:L,setSearchText:R,filtersState:N}}),[z,A,O,C,E,L,N,U]);return Object(b.jsx)(p.Provider,{value:V,children:t})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return b}));var r=n(19),a=n(3),o=n(34),i=n(17),s={chosenCategory:null,chosenFilters:new Set,addFilter:function(){},removeFilter:function(){},setChosenCategory:function(){}},c={openedAssetShortHeader:null,openedAssetCategory:null,openedAssetPack:null,openedPrivateAssetPackListingData:null,filtersState:s,displayAssets:!1},u={openedAssetShortHeader:null,openedAssetCategory:null,openedAssetPack:null,openedPrivateAssetPackListingData:null,filtersState:s,displayAssets:!0},l=function(e){return e===c||!e.openedAssetShortHeader&&!e.openedPrivateAssetPackListingData&&!e.openedAssetPack&&e.filtersState===s&&!e.displayAssets},d=function(e){return!l(e)&&!e.openedAssetShortHeader&&!e.openedPrivateAssetPackListingData},b=function(){var e=i.useState({previousPages:[c]}),t=Object(o.a)(e,2),n=t[0],l=t[1],b=n.previousPages;return i.useMemo((function(){return{getCurrentPage:function(){return b[b.length-1]},backToPreviousPage:function(){b.length>1&&l({previousPages:b.slice(0,b.length-1)})},openHome:function(){l({previousPages:[c]})},clearHistory:function(){l((function(e){if(e.previousPages.length<=1)return e;var t=e.previousPages[e.previousPages.length-1];return{previousPages:[c,t]}}))},openSearchResultPage:function(){l((function(e){var t=e.previousPages[e.previousPages.length-1];return d(t)?e:Object(a.a)(Object(a.a)({},e),{},{previousPages:[].concat(Object(r.a)(e.previousPages),[u])})}))},openTagPage:function(e){l((function(t){return Object(a.a)(Object(a.a)({},t),{},{previousPages:[].concat(Object(r.a)(t.previousPages),[{openedAssetShortHeader:null,openedAssetCategory:null,openedAssetPack:null,openedPrivateAssetPackListingData:null,displayAssets:!0,filtersState:{chosenCategory:{node:{name:e,allChildrenTags:[],children:[]},parentNodes:[]},chosenFilters:new Set,addFilter:function(){},removeFilter:function(){},setChosenCategory:function(){}}}])})}))},openAssetCategoryPage:function(e){l((function(t){return Object(a.a)(Object(a.a)({},t),{},{previousPages:[].concat(Object(r.a)(t.previousPages),[{openedAssetShortHeader:null,openedAssetCategory:e,openedAssetPack:null,openedPrivateAssetPackListingData:null,filtersState:s,displayAssets:!1}])})}))},openPackPage:function(e){l((function(t){var n=t.previousPages[t.previousPages.length-1];return Object(a.a)(Object(a.a)({},t),{},{previousPages:[].concat(Object(r.a)(t.previousPages),[{openedAssetShortHeader:null,openedAssetCategory:n&&n.openedAssetCategory||null,openedAssetPack:e,openedPrivateAssetPackListingData:null,displayAssets:!0,filtersState:{chosenCategory:{node:{name:e.tag,allChildrenTags:[],children:[]},parentNodes:[]},chosenFilters:new Set,addFilter:function(){},removeFilter:function(){},setChosenCategory:function(){}}}])})}))},openPrivateAssetPackInformationPage:function(e){l((function(t){return Object(a.a)(Object(a.a)({},t),{},{previousPages:[].concat(Object(r.a)(t.previousPages),[{openedAssetShortHeader:null,openedAssetCategory:null,openedAssetPack:null,openedPrivateAssetPackListingData:e,filtersState:s,displayAssets:!1}])})}))},openDetailPage:function(e){l((function(t){return Object(a.a)(Object(a.a)({},t),{},{previousPages:[].concat(Object(r.a)(t.previousPages),[{openedAssetShortHeader:e,openedAssetCategory:null,openedAssetPack:null,openedPrivateAssetPackListingData:null,filtersState:s,displayAssets:!1}])})}))}}}),[b])}},,,,function(e,t,n){"use strict";var r=n(3),a=n(17),o=n.n(a),i=n(905),s=n(8);t.a=o.a.memo((function(e){return Object(s.jsx)(i.a,Object(r.a)(Object(r.a)({},e),{},{children:Object(s.jsx)("path",{fill:"currentColor",d:"M18.41,7.41L17,6L11,12L17,18L18.41,16.59L13.83,12L18.41,7.41M12.41,7.41L11,6L5,12L11,18L12.41,16.59L7.83,12L12.41,7.41Z"})}))}))},function(e,t,n){"use strict";n(17);var r=n(2735),a=n(2720),o=n(8),i=Object(a.a)((function(e){return{valueLabel:{"& > span > span":{color:e.palette.secondary.contrastText}}}}));t.a=function(e){var t=i();return Object(o.jsx)(r.a,{classes:t,color:"secondary",marks:e.marks,valueLabelDisplay:e.valueLabelDisplay,value:e.value,scale:e.scale,track:!1,onChange:function(t,n){return e.onChange(n)},min:e.min,max:e.max,step:e.step})}},function(e,t,n){"use strict";var r=n(34),a=n(9),o=n(17),i=n.n(o),s=n(295),c=n(297),u=n(533),l=n(983),d=n.n(l),b=n(1211),p=n.n(b),j=n(2150),h=n.n(j),f=n(856),g=n.n(f),m=n(311),O=n(298),v=n(296),x=n(314),y=n(323),C=n(8),k={imageContainer:{position:"relative",display:"flex",flex:1,width:"100%",height:"calc(100% - 80px)"},loaderContainer:{position:"absolute",left:"calc(50% - 30px)",top:"calc(50% - 30px)"},timeField:{width:75},timeIcon:{paddingLeft:6,paddingRight:8}};t.a=function(e){var t=e.animationName,n=e.resourceNames,o=e.getImageResourceSource,l=e.isImageResourceSmooth,b=e.timeBetweenFrames,j=e.onChangeTimeBetweenFrames,f=e.isLooping,w=e.hideCheckeredBackground,T=e.hideControls,E=e.initialZoom,S=e.fixedHeight,P=e.fixedWidth,I=e.isAssetPrivate,A=e.hideAnimationLoader,D=Object(x.a)(),F=i.a.useState(Math.round(1/b)),M=Object(r.a)(F,2),_=M[0],L=M[1],R=i.a.useRef(),N=i.a.useRef(),B=i.a.useRef(0),U=i.a.useRef(b),H=i.a.useRef(!1),W=i.a.useRef(0),z=i.a.useRef(n[0]),V=i.a.useRef(f),G=i.a.useRef(t),Z=i.a.useRef(new Array(n.length).fill(!1)),Y=i.a.useRef(null),q=i.a.useState(!0),X=Object(r.a)(q,2),J=X[0],K=X[1];i.a.useEffect((function(){b!==U.current&&(U.current=b,L(Math.round(1/b))),f!==V.current&&(V.current=f),t!==G.current&&(G.current=t,Z.current=new Array(n.length).fill(!1))}),[b,f,t,n]);var Q=function(){W.current=0,B.current=0,H.current=!1,D()},$=i.a.useCallback((function(e){var t=N.current,r=W.current,a=B.current,o=U.current,i=H.current,s=V.current,c=n.length,u=Z.current[r];if(t&&u){var l=r,d=a+(i?0:(e-t)/1e3);if(d>o){var b=Math.floor(d/o);l+=b,(d-=b*o)<0&&(d=0)}l>=c&&(l=s?l%c:c-1),l<0&&(l=0),W.current=l,B.current=d;var p=n[W.current];r!==l&&(p===z.current?Z.current[W.current]=!0:(Z.current[W.current]=!1,Y.current=setTimeout((function(){console.warn("The image took too long to load, displaying a loader."),K(!0)}),500)),z.current=p,D())}R.current=requestAnimationFrame($),N.current=e}),[D,n]);i.a.useEffect((function(){return R.current=requestAnimationFrame($),function(){R.current&&cancelAnimationFrame(R.current)}}),[$]);var ee=i.a.useCallback((function(){Z.current[W.current]=!0,!Z.current.some((function(e){return!e}))&&K(!1),Y.current&&(clearTimeout(Y.current),Y.current=null),D()}),[D]);W.current>=n.length&&(W.current=0);var te=n[W.current];return Object(C.jsxs)(s.a,{expand:!0,noOverflowParent:!0,noMargin:!0,children:[Object(C.jsxs)("div",{style:k.imageContainer,children:[Object(C.jsx)(u.a,{resourceName:te,imageResourceSource:o(te),isImageResourceSmooth:l(te),initialZoom:E,hideCheckeredBackground:w,hideControls:T,fixedHeight:S,fixedWidth:P,onImageLoaded:ee,isImagePrivate:I,hideLoader:!0}),!A&&J&&Object(C.jsx)("div",{style:k.loaderContainer,children:Object(C.jsx)(y.a,{})})]}),!T&&Object(C.jsx)(s.a,{noMargin:!0,children:Object(C.jsxs)(c.c,{alignItems:"center",children:[Object(C.jsxs)(c.b,{alignItems:"center",justifyContent:"center",noMargin:!0,children:[Object(C.jsx)(v.a,{children:Object(C.jsx)(a.Trans,{id:"FPS:"})}),Object(C.jsx)(m.b,{margin:"none",value:_,onChange:function(e,t){var n=parseFloat(t);if(n>0){L(n);var r=parseFloat((1/n).toFixed(4));U.current=r,j&&j(r),Q()}},id:"direction-time-between-frames",type:"number",step:1,min:1,max:100,style:k.timeField,autoFocus:"desktop"}),Object(C.jsx)(g.a,{style:k.timeIcon}),Object(C.jsx)(m.b,{margin:"none",value:U.current,onChange:function(e,t){var n=parseFloat(t);n>0&&(L(Math.round(1/n)),U.current=n,j&&j(n),Q())},id:"direction-time-between-frames",type:"number",step:.005,precision:2,min:.01,max:5,style:k.timeField})]}),Object(C.jsxs)(c.b,{alignItems:"center",justifyContent:"center",noMargin:!0,children:[Object(C.jsx)(O.a,{leftIcon:Object(C.jsx)(d.a,{}),label:Object(C.jsx)(a.Trans,{id:"Replay"}),onClick:Q}),Object(C.jsx)(O.a,{leftIcon:H.current?Object(C.jsx)(p.a,{}):Object(C.jsx)(h.a,{}),label:H.current?"Play":"Pause",onClick:function(){H.current=!H.current,D()}})]})]})})]})}},,,function(e,t,n){"use strict";var r=n(2),a=n(34),o=n(0),i=n.n(o),s=n(9),c=n(17),u=n(370),l=n(296),d=n(303),b=n(386),p=n(305),j=n(452),h=n(295),f=n(641),g=n(396),m=n(60),O=n(436),v=n(587),x=n(476),y=n.n(x),C=n(297),k=n(2722),w=n(2659),T=n(307),E=n(2598),S=n(312),P=n(1280),I=n(8);t.a=function(e){var t=e.assetPack,n=e.assetShortHeaders,o=e.addedAssetIds,x=e.onClose,A=e.onAssetsAdded,D=e.project,F=e.objectsContainer,M=e.onObjectsAddedFromAssets,_=e.canInstallPrivateAsset,L=e.resourceManagementProps,R=n.filter((function(e){return!o.has(e.id)})),N=0===R.length,B=!N&&R.length===n.length,U=c.useState(!1),H=Object(a.a)(U,2),W=H[0],z=H[1],V=c.useMemo((function(){return n.some((function(e){return Object(u.g)(e)}))}),[n]),G=c.useMemo((function(){return _()}),[_]),Z=c.useContext(g.a),Y=c.useContext(v.a).installPrivateAsset,q=Object(P.c)(),X=Object(P.b)(),J=c.useState(""),K=Object(a.a)(J,2),Q=K[0],$=K[1],ee=Object(T.mapFor)(0,D.getLayoutsCount(),(function(e){return D.getLayoutAt(e).getName()})),te=F?null:Object(I.jsxs)(C.a,{noMargin:!0,children:[Object(I.jsx)(l.a,{children:Object(I.jsx)(s.Trans,{id:"Choose where to add the assets:"})}),Object(I.jsxs)(w.a,{"aria-label":"Associated scene",name:"associated-layout",value:Q,onChange:function(e){return $(e.target.value)},children:[Object(I.jsx)(E.a,{value:"",control:Object(I.jsx)(k.a,{color:"secondary"}),label:Object(I.jsx)(s.Trans,{id:"Global objects in the project"}),disabled:W}),ee.map((function(e){return Object(I.jsx)(E.a,{value:e,control:Object(I.jsx)(k.a,{color:"secondary"}),label:e,disabled:W},e)}))]})]}),ne=F||(D.hasLayoutNamed(Q)?D.getLayout(Q):D),re=c.useCallback(function(){var e=Object(r.a)(i.a.mark((function e(t){var n,a,o,s,c,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.length){e.next=2;break}return e.abrupt("return");case 2:return z(!0),e.prev=3,e.next=6,q(t);case 6:return n=e.sent,e.next=9,Object(f.d)({assets:n,project:D});case 9:if(a=e.sent,e.t0=a.outOfDateExtensionShortHeaders.length>0,!e.t0){e.next=15;break}return e.next=14,X(a.outOfDateExtensionShortHeaders);case 14:e.t0=e.sent;case 15:return o=e.t0,e.next=18,Object(f.f)({requiredExtensionInstallation:a,shouldUpdateExtension:o,eventsFunctionsExtensionsState:Z,project:D});case 18:return e.next=20,y.a.withConcurrency(6).for(n).process(function(){var e=Object(r.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(u.g)(t)){e.next=6;break}return e.next=3,Y({asset:t,project:D,objectsContainer:ne});case 3:e.t0=e.sent,e.next=9;break;case 6:return e.next=8,Object(f.e)({asset:t,project:D,objectsContainer:ne});case 8:e.t0=e.sent;case 9:if(n=e.t0){e.next=12;break}throw new Error("Unable to install the asset.");case 12:return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 20:if(s=e.sent,c=s.results,!(l=s.errors).length){e.next=25;break}throw new Error("Error(s) while installing assets. The first error is: "+l[0].message);case 25:return M(c.map((function(e){return e.createdObjects})).flat()),e.next=28,L.onFetchNewlyAddedResources();case 28:z(!1),A(),e.next=37;break;case 32:e.prev=32,e.t1=e.catch(3),z(!1),console.error("Error while installing the assets",e.t1),Object(m.a)({message:"There was an error while installing the assets. Verify your internet connection or try again later.",rawError:e.t1,errorId:"install-asset-pack-error"});case 37:case"end":return e.stop()}}),e,null,[[3,32]])})));return function(t){return e.apply(this,arguments)}}(),[q,D,X,Z,M,L,A,Y,ne]),ae=V&&!G?{actionButton:Object(I.jsx)(p.a,{label:Object(I.jsx)(s.Trans,{id:"Add the assets"}),primary:!0,disabled:!0,onClick:function(){}},"continue"),onApply:function(){},content:Object(I.jsx)(S.a,{kind:"warning",children:Object(I.jsx)(l.a,{children:Object(I.jsx)(s.Trans,{id:"You need to save this project as a cloud project to install premium assets. Please save your project and try again."})})})}:W?{actionButton:Object(I.jsx)(b.a,{label:Object(I.jsx)(s.Trans,{id:"Please wait..."}),disabled:!0,onClick:function(){}},"loading"),onApply:function(){},content:Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(l.a,{children:Object(I.jsx)(s.Trans,{id:"Installing assets..."})}),Object(I.jsx)(h.c,{expand:!0,children:Object(I.jsx)(O.a,{})})]})}:N?{actionButton:Object(I.jsx)(p.a,{label:Object(I.jsx)(s.Trans,{id:"Install again"}),primary:!1,onClick:function(){return re(n)}},"install-again"),onApply:function(){return re(n)},content:Object(I.jsx)(l.a,{children:Object(I.jsx)(s.Trans,{id:"You already have these {0} assets installed, do you want to add them again?",values:{0:n.length}})})}:B?{actionButton:Object(I.jsx)(p.a,{label:Object(I.jsx)(s.Trans,{id:"Add the assets"}),primary:!0,onClick:function(){return re(n)}},"continue"),onApply:function(){return re(n)},content:Object(I.jsx)(l.a,{children:Object(I.jsx)(s.Trans,{id:"You're about to add {0} assets.",values:{0:n.length}})})}:{actionButton:Object(I.jsx)(j.a,{label:Object(I.jsx)(s.Trans,{id:"Install the missing assets"}),primary:!0,onClick:function(){re(R)},buildMenuTemplate:function(e){return[{label:e._({id:"Install all the assets"}),click:function(){return re(n)}}]}},"install-missing"),onApply:function(){return re(R)},content:Object(I.jsx)(l.a,{children:Object(I.jsx)(s.Trans,{id:"You already have {0} asset(s) in your scene. Do you want to add the remaining {1} one(s)?",values:{0:n.length-R.length,1:R.length}})})};return Object(I.jsx)(d.c,{title:t?t.name:Object(I.jsx)(s.Trans,{id:"Assets"}),maxWidth:"sm",open:!0,onRequestClose:function(){W||x()},cannotBeDismissed:!0,actions:[W?null:Object(I.jsx)(b.a,{label:Object(I.jsx)(s.Trans,{id:"Cancel"}),onClick:x},"cancel"),ae.actionButton],onApply:ae.onApply,children:Object(I.jsxs)(h.a,{noMargin:!0,children:[ae.content,te]})})}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(19),a=n(307),o=function(e){var t=new Set;return Object(a.mapFor)(0,e.getObjectsCount(),(function(n){var r=e.getObjectAt(n).getAssetStoreId();r&&t.add(r)})),t},i=function(e,t){var n=o(e);if(t){var i=o(t);n=new Set([].concat(Object(r.a)(n),Object(r.a)(i)))}else Object(a.mapFor)(0,e.getLayoutsCount(),(function(t){var a=e.getLayoutAt(t);n=new Set([].concat(Object(r.a)(n),Object(r.a)(o(a))))}));return n}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return F}));var r=n(6),a=n(5),o=n(10),i=n(11),s=n(3),c=n(2),u=n(34),l=n(0),d=n.n(l),b=n(9),p=n(17),j=n(298),h=n(588),f=n(303),g=n(318),m=n(2179),O=n(352),v=n(553),x=n(324),y=n(295),C=n(314),k=n(554),w=n(1221),T=n(733),E=n(54),S=n(511),P=n(424),I=n(8),A=e.gd,D=function(e){var t=e.openBehaviorEvents,n=p.useState(e.initialTab||"properties"),r=Object(u.a)(n,2),a=r[0],o=r[1],i=p.useState(e.objectName),l=Object(u.a)(i,2),h=l[0],D=l[1],F=Object(C.a)(),M=Object(v.a)({serializableObject:e.object,useProjectToUnserialize:e.project,onCancel:e.onCancel}),_=M.onCancelChanges,L=M.notifyOfChange,R=M.hasUnsavedChanges,N=p.useMemo((function(){return A.MetadataProvider.getObjectMetadata(e.project.getCurrentPlatform(),e.object.getType())}),[e.project,e.object]),B=e.editorComponent,U=function(){e.onApply(),e.onRename(h)},H=Object(S.a)("intro-variables").DismissableTutorialMessage;p.useEffect((function(){"behaviors"===a&&Object(E.h)({parentEditor:"object-editor-dialog"})}),[a]);var W=Object(P.a)().showConfirmation,z=p.useCallback(function(){var e=Object(c.a)(d.a.mark((function e(n,r){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!R()){e.next=6;break}return e.next=3,W({title:{id:"Discard changes and open events"},message:{id:"You've made some changes here. Are you sure you want to discard them and open the behavior events?"},confirmButtonLabel:{id:"Yes, discard my changes"},dismissButtonLabel:{id:"Stay there"}});case 3:if(e.sent){e.next=6;break}return e.abrupt("return");case 6:_(),t(n,r);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[R,_,t,W]);return Object(I.jsxs)(f.c,{title:Object(I.jsx)(b.Trans,{id:"Edit {objectName}",values:{objectName:h}}),actions:[Object(I.jsx)(j.a,{label:Object(I.jsx)(b.Trans,{id:"Cancel"}),onClick:_},"cancel"),Object(I.jsx)(f.a,{label:Object(I.jsx)(b.Trans,{id:"Apply"}),id:"apply-button",primary:!0,onClick:U},"apply")],secondaryActions:[Object(I.jsx)(g.a,{helpPagePath:e.helpPagePath},"help-button"),Object(I.jsx)(k.b,Object(s.a)({},e.hotReloadPreviewButtonProps),"hot-reload-preview-button")],onRequestClose:_,onApply:U,open:e.open,fullHeight:!0,flexBody:!0,fixedContent:Object(I.jsx)(O.a,{value:a,onChange:o,options:[{label:Object(I.jsx)(b.Trans,{id:"Properties"}),value:"properties"},{label:Object(I.jsx)(b.Trans,{id:"Behaviors"}),value:"behaviors",id:"behaviors-tab"},{label:Object(I.jsx)(b.Trans,{id:"Variables"}),value:"variables"},N.isUnsupportedBaseObjectCapability("effect")?null:{label:Object(I.jsx)(b.Trans,{id:"Effects"}),value:"effects"}].filter(Boolean)}),id:"object-editor-dialog",children:["properties"===a&&B?Object(I.jsxs)(y.a,{noMargin:!0,expand:!0,useFullHeight:!0,noOverflowParent:!0,children:[Object(I.jsx)(y.c,{children:Object(I.jsx)(y.a,{expand:!0,noMargin:!0,children:Object(I.jsx)(x.a,{fullWidth:!0,id:"object-name",commitOnBlur:!0,floatingLabelText:Object(I.jsx)(b.Trans,{id:"Object name"}),floatingLabelFixed:!0,value:h,translatableHintText:{id:"Object Name"},onChange:function(t){t!==h&&e.canRenameObject(t)&&(D(t),L())},autoFocus:"desktop"})})}),Object(I.jsx)(B,{objectConfiguration:e.object.getConfiguration(),project:e.project,resourceManagementProps:e.resourceManagementProps,onSizeUpdated:F,objectName:e.objectName,onObjectUpdated:L})]}):null,"behaviors"===a&&Object(I.jsx)(m.a,{object:e.object,project:e.project,eventsFunctionsExtension:e.eventsFunctionsExtension,resourceManagementProps:e.resourceManagementProps,onSizeUpdated:F,onUpdateBehaviorsSharedData:e.onUpdateBehaviorsSharedData,onBehaviorsUpdated:L,openBehaviorEvents:z}),"variables"===a&&Object(I.jsxs)(y.a,{expand:!0,noMargin:!0,children:[e.object.getVariables().count()>0&&H&&Object(I.jsx)(y.c,{children:Object(I.jsx)(y.a,{noMargin:!0,expand:!0,children:H})}),Object(I.jsx)(T.a,{commitChangesOnBlur:!0,variablesContainer:e.object.getVariables(),emptyPlaceholderTitle:Object(I.jsx)(b.Trans,{id:"Add your first object variable"}),emptyPlaceholderDescription:Object(I.jsx)(b.Trans,{id:"These variables hold additional information on an object."}),helpPagePath:"/all-features/variables/object-variables",onComputeAllVariableNames:e.onComputeAllVariableNames,onVariablesUpdated:L})]}),"effects"===a&&Object(I.jsx)(w.a,{target:"object",project:e.project,resourceManagementProps:e.resourceManagementProps,effectsContainer:e.object.getEffects(),onEffectsUpdated:function(){F(),L()}})]},e.object&&e.object.ptr)},F=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={editorComponent:null,castToObjectType:null,helpPagePath:null,objectName:""},e}return Object(a.a)(n,[{key:"UNSAFE_componentWillMount",value:function(){this._loadFrom(this.props.object)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){(!this.props.open&&e.open||e.open&&this.props.object!==e.object)&&this._loadFrom(e.object)}},{key:"_loadFrom",value:function(e){if(e){var t=h.a.getEditorConfiguration(this.props.project,e.getType());if(!t)return this.setState({editorComponent:null,castToObjectType:null});this.setState({editorComponent:t.component,helpPagePath:t.helpPagePath,castToObjectType:t.castToObjectType,objectName:e.getName()})}}},{key:"render",value:function(){var e=this.props,t=e.object,n=e.initialTab,r=this.state,a=r.editorComponent,o=r.castToObjectType,i=r.helpPagePath;return t&&o?Object(p.createElement)(D,Object(s.a)(Object(s.a)({},this.props),{},{editorComponent:a,key:this.props.object&&this.props.object.ptr,helpPagePath:i,object:t,objectName:this.state.objectName,initialTab:n})):null}}]),n}(p.Component)}).call(this,n(25))},function(e,t,n){"use strict";t.a={nameColumn:{width:"40%"},coordinateColumn:{width:96},toolColumn:{width:24,height:32}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(6),a=n(5),o=n(10),i=n(11),s=n(9),c=n(17),u=n(322),l=n(321),d=n(447),b=n(307),p=n(486),j=n(297),h=n(8),f=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e=this.props,t=e.spriteConfiguration,n=e.animationIndex,r=e.directionIndex,a=e.spriteIndex,o=e.sameForAllAnimations,i=e.sameForAllSprites,f=e.chooseAnimation,g=e.chooseDirection,m=e.chooseSprite,O=e.setSameForAllAnimations,v=e.setSameForAllSprites,x=e.setSameForAllAnimationsLabel,y=e.setSameForAllSpritesLabel,C=Object(p.l)(t,n,r,a),k=C.animation,w=C.direction;return Object(h.jsxs)(c.Fragment,{children:[Object(h.jsxs)(j.c,{children:[Object(h.jsx)(u.a,{fullWidth:!0,floatingLabelText:Object(h.jsx)(s.Trans,{id:"Animation"}),value:this.props.animationIndex,onChange:function(e,t,n){return f(parseInt(n,10)||0)},children:Object(b.mapFor)(0,t.getAnimationsCount(),(function(e){var n=t.getAnimation(e);return Object(h.jsx)(l.a,{value:e,primaryText:{id:"Animation #{i} {0}",values:{0:n.getName(),i:e}}},e)}))}),k&&k.getDirectionsCount()>1&&Object(h.jsx)(u.a,{fullWidth:!0,floatingLabelText:Object(h.jsx)(s.Trans,{id:"Direction"}),value:this.props.directionIndex,onChange:function(e,t,n){return g(parseInt(n,10)||0)},children:Object(b.mapFor)(0,k.getDirectionsCount(),(function(e){return Object(h.jsx)(l.a,{value:e,primaryText:{id:"Direction #{i}",values:{i:e}}},e)}))}),w&&Object(h.jsx)(u.a,{fullWidth:!0,floatingLabelText:Object(h.jsx)(s.Trans,{id:"Frame"}),value:this.props.spriteIndex,onChange:function(e,t,n){return m(parseInt(n,10)||0)},children:Object(b.mapFor)(0,w.getSpritesCount(),(function(e){return Object(h.jsx)(l.a,{value:e,primaryText:{id:"Frame #{i}",values:{i:e}}},e)}))})]}),Object(h.jsx)(d.a,{label:x,labelPosition:"right",toggled:o,onToggle:function(e,t){return O(t)}}),Object(h.jsx)(d.a,{label:y,labelPosition:"right",toggled:i,onToggle:function(e,t){return v(t)}})]})}}]),n}(c.Component)},function(e,t,n){"use strict";t.a={coordinateColumn:{width:96},toolColumn:{width:24}}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s}));var r=n(307),a=e.gd,o=function(e){var t=e.size();if(t>0){var n=0,o=e.at(t-1),i=o.x,s=o.y,u=-1;Object(r.mapFor)(0,t,(function(t){var r=e.at(t),a=r.x,o=r.y,c=a-i,l=o-s,d=c*c+l*l;d>u&&(u=d,n=t),i=a,s=o}));var l=e.at(c(n-1,t)),d=e.at(n),b=new a.Vector2f;b.x=(l.x+d.x)/2,b.y=(l.y+d.y)/2,e.push_back(b),e.moveVector2fInVector(t,n),b.delete()}else{var p=new a.Vector2f;e.push_back(p),p.delete()}},i=function(e,t,n,a,o){var i=a*a,s=o*o,d=Number.POSITIVE_INFINITY,b=0,p=0,j=[0,0];if(Object(r.mapVector)(e,(function(e,a){var o=e.getVertices(),s=o.at(o.size()-1),c=s.x,h=s.y;Object(r.mapVector)(o,(function(e,r){var o=e.x,s=e.y;j=l(t,n,c,h,o,s,j);var f=u(j[0],j[1],c,h)>i&&u(j[0],j[1],o,s)>i,g=u(t,n,j[0],j[1]);g<d&&f&&(d=g,b=a,p=r),c=o,h=s}))})),d<s){var h=e.at(b).getVertices(),f=h.at(c(p-1,h.size())),g=h.at(p);return{x:(j=l(t,n,f.x,f.y,g.x,g.y,j))[0],y:j[1],polygonIndex:b,vertexIndex:p}}return null},s=function(e,t,n,r){var a=n*n,o=r*r,i=e.at(t);if(e.size()<=3)return null;var s=e.at(c(t-1,e.size())),d=e.at(c(t+1,e.size())),b=i.x,p=i.y,j=s.x,h=s.y,f=d.x,g=d.y;if(u(b,p,j,h)<a)return[j,h];if(u(b,p,f,g)<a)return[f,g];var m=l(b,p,s.x,s.y,d.x,d.y);return u(b,p,m[0],m[1])<o?m:null},c=function(e,t){return(e%t+t)%t},u=function(e,t,n,r){var a=e-n,o=t-r;return a*a+o*o},l=function(e,t,n,r,a,o){var i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[0,0],s=u(n,r,a,o);if(0===s)return[n,r];var c=Math.max(0,Math.min(1,((e-n)*(a-n)+(t-r)*(o-r))/s));return i[0]=n+c*(a-n),i[1]=r+c*(o-r),i}}).call(this,n(25))},function(e,t,n){"use strict";n.d(t,"a",(function(){return H}));var r=n(1),a=n(3),o=n(34),i=n(17),s=n(9),c=n(328),u=n.n(c),l=n(295),d=n(322),b=n(321),p=n(307),j=n(305),h=n(310),f=n(350),g=n(324),m=n(95),O=n(450),v=n(385),x=n(347),y=n(345),C=n(314),k=n(39),w=n(823),T=n(331),E=n(475),S=n(433),P=n(319),I=n(448),A=n(556),D=n(618),F=n(297),M=n(296),_=n(306),L=n(405),R=n(8),N=Object(I.a)("effects-list"),B={rowContainer:{display:"flex",flexDirection:"column",marginTop:5},rowContent:{display:"flex",flex:1,alignItems:"center"}},U=function(e,t){return e.find((function(e){return e.type===t}))};function H(e){var t=e.effectsContainer,n=e.onEffectsUpdated,c=i.useRef(null),I=i.useContext(_.a),H=i.useContext(k.a),W=i.useContext(P.a),z=H.values.showEffectParameterNames,V=H.setShowEffectParameterNames,G=i.useState({}),Z=Object(o.a)(G,2),Y=Z[0],q=Z[1],X=i.useMemo((function(){return Object(w.b)(e.project)}),[e.project]),J=Object(C.a)(),K=Object(S.h)(W,S.c,(function(){var e=Object(m.a)("Effect",(function(e){return t.hasEffectNamed(e)}));t.insertNewEffect(e,t.getEffectsCount()),J(),n()}));return Object(R.jsx)(s.I18n,{children:function(o){var m=o.i18n;return Object(R.jsx)(l.a,{noMargin:!0,expand:!0,useFullHeight:!0,children:0!==t.getEffectsCount()?Object(R.jsxs)(i.Fragment,{children:[Object(R.jsxs)(T.a,{children:[t.getEffectsCount()>3&&Object(R.jsx)(l.c,{children:Object(R.jsx)(l.a,{children:Object(R.jsx)(v.a,{identifier:"too-much-effects",kind:"warning",children:Object(R.jsx)(s.Trans,{id:"Using a lot of effects can have a severe negative impact on the rendering performance, especially on low-end or mobile devices. Consider using less effects if possible. You can also disable and re-enable effects as needed using events."})})})}),Object(R.jsx)(l.c,{children:Object(R.jsx)(l.a,{noMargin:!0,expand:!0,children:Object(p.mapFor)(0,t.getEffectsCount(),(function(o){var u=t.getEffectAt(o),p=u.getEffectType(),j=U(X,p);return Object(R.jsx)(N,{beginDrag:function(){return c.current=u,{}},canDrag:function(){return!0},canDrop:function(){return!0},drop:function(){!function(e){var r=c.current;if(r){var a=t.getEffectPosition(r.getName()),o=t.getEffectPosition(e.getName());t.moveEffect(a,o>a?o-1:o),J(),n()}}(u)},children:function(o){var c=o.connectDragSource,v=o.connectDropTarget,C=o.isOver,k=o.canDrop;return v(Object(R.jsxs)("div",{style:B.rowContainer,children:[C&&Object(R.jsx)(D.a,{canDrop:k}),Object(R.jsxs)("div",{style:Object(a.a)(Object(a.a)({},B.rowContent),{},{backgroundColor:I.list.itemsBackgroundColor}),children:[c(Object(R.jsxs)("span",{children:[Object(R.jsx)(l.d,{}),Object(R.jsx)(A.a,{}),Object(R.jsx)(l.d,{})]})),Object(R.jsxs)(F.c,{expand:!0,children:[Object(R.jsxs)(l.c,{noMargin:!0,expand:!0,alignItems:"center",children:[Object(R.jsx)(M.a,{noMargin:!0,noShrink:!0,children:Object(R.jsx)(s.Trans,{id:"Effect name:"})}),Object(R.jsx)(l.d,{}),Object(R.jsx)(g.a,{margin:"none",commitOnBlur:!0,errorText:Y[u.ptr],translatableHintText:{id:"Enter the effect name"},value:u.getName(),onChange:function(e){!function(e,o){if(o!==e.getName()){if(Y[e.ptr]){var i=Object(a.a)({},Y);delete i[e.ptr],q(i)}o?t.hasEffectNamed(o)?q(Object(a.a)(Object(a.a)({},Y),{},Object(r.a)({},e.ptr,Object(R.jsx)(s.Trans,{id:"The effect name {newName} is already taken",values:{newName:o}})))):(e.setName(o),J(),n()):q(Object(a.a)(Object(a.a)({},Y),{},Object(r.a)({},e.ptr,Object(R.jsx)(s.Trans,{id:"Effects cannot have empty names"}))))}}(u,e)},fullWidth:!0})]}),Object(R.jsxs)(l.c,{noMargin:!0,expand:!0,alignItems:"center",children:[Object(R.jsx)(M.a,{noMargin:!0,noShrink:!0,children:Object(R.jsx)(s.Trans,{id:"Type:"})}),Object(R.jsx)(l.d,{}),Object(R.jsx)(d.a,{margin:"none",value:p,onChange:function(e,t,r){return function(e,t){e.setEffectType(t);var r=U(X,t);r&&Object(w.c)(e,r.effectMetadata),J(),n()}(u,r)},fullWidth:!0,translatableHintText:{id:"Choose the effect to apply"},children:X.map((function(t){return Object(R.jsx)(b.a,{value:t.type,primaryText:t.fullName,disabled:"object"===e.target&&t.isMarkedAsNotWorkingForObjects},t.type)}))})]})]}),Object(R.jsx)(f.a,{element:Object(R.jsx)(h.a,{size:"small",children:Object(R.jsx)(L.a,{})}),buildMenuTemplate:function(e){return[{label:e._({id:"Delete"}),click:function(){return e=u.getName(),t.removeEffect(e),J(),void n();var e}},{type:"separator"},{type:"checkbox",label:e._({id:"Show Parameter Names"}),checked:z,click:function(){return V(!z)}}]}}),Object(R.jsx)(l.d,{})]}),p&&Object(R.jsx)(l.c,{expand:!0,noMargin:!0,children:Object(R.jsxs)(l.a,{expand:!0,children:[j?Object(R.jsxs)(i.Fragment,{children:[Object(R.jsx)(l.c,{children:Object(R.jsx)(x.a,{children:Object(R.jsx)(y.a,{source:j.description})})}),Object(R.jsx)(O.a,{instances:[u],schema:j.parametersSchema,project:e.project,resourceManagementProps:e.resourceManagementProps,renderExtraDescriptionText:z?function(e){return m._({id:"Parameter name in events: `{parameterName}`",values:{parameterName:e}})}:void 0})]}):null,Object(R.jsx)(l.d,{})]})})]},u.ptr))}},u.ptr)}))})})]}),Object(R.jsx)(l.a,{children:Object(R.jsx)(l.c,{justifyContent:"flex-end",expand:!0,children:Object(R.jsx)(j.a,{primary:!0,label:Object(R.jsx)(s.Trans,{id:"Add an effect"}),onClick:K,icon:Object(R.jsx)(u.a,{})})})})]}):Object(R.jsx)(l.a,{noMargin:!0,expand:!0,justifyContent:"center",children:Object(R.jsx)(E.a,{title:Object(R.jsx)(s.Trans,{id:"Add your first effect"}),description:Object(R.jsx)(s.Trans,{id:"Effects create visual changes to the object."}),actionLabel:Object(R.jsx)(s.Trans,{id:"Add an effect"}),helpPagePath:"object"===e.target?"/objects/effects":"/interface/scene-editor/layer-effects",onAction:K})})})}})}},function(e,t,n){"use strict";var r=n(3),a=(n(17),n(905)),o=n(8);t.a=function(e){return Object(o.jsx)(a.a,Object(r.a)(Object(r.a)({},e),{},{viewBox:"0 -6 24 24",children:Object(o.jsx)("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:Object(o.jsxs)("g",{id:"Activate",fillRule:"nonzero",children:[Object(o.jsx)("rect",{id:"Rectangle-path",fill:"#27AAE1",x:"0",y:"0",width:"24",height:"10.2857143"}),Object(o.jsx)("rect",{id:"Rectangle-path",fill:"#2B3990",x:"1.71428571",y:"1.71428571",width:"10.2857143",height:"6.85714286"}),Object(o.jsx)("polygon",{id:"Shape",fill:"#FFFFFF",points:"20.5710245 1.71428571 18.8571429 3.42897546 17.1432612 5.14285714 15.4285714 6.85673883 17.1432612 8.57142857 18.8571429 6.85673883 20.5710245 5.14285714 22.2857143 3.42897546"}),Object(o.jsx)("polygon",{id:"Shape",fill:"#FFFFFF",points:"18.8567388 3.42857143 17.1428571 5.14326117 15.4289755 3.42857143 13.7142857 5.14326117 15.4289755 6.85714286 18.8567388 6.85714286 20.5714286 5.14326117"})]})})}))}},function(e,t,n){"use strict";var r=n(3),a=(n(17),n(905)),o=n(8);t.a=function(e){return Object(o.jsx)(a.a,Object(r.a)(Object(r.a)({},e),{},{viewBox:"0 -6 24 24",children:Object(o.jsx)("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:Object(o.jsxs)("g",{id:"Deactivate",fillRule:"nonzero",children:[Object(o.jsx)("rect",{id:"Rectangle-path",fill:"#2B3990",x:"0",y:"0",width:"24",height:"10.2857143"}),Object(o.jsx)("polygon",{id:"Shape",fill:"#FFFFFF",points:"6.85673883 1.71428571 5.14285714 3.42897546 3.42897546 1.71428571 1.71428571 3.42897546 3.42897546 5.14285714 1.71428571 6.85673883 3.42897546 8.57142857 5.14285714 6.85673883 6.85673883 8.57142857 8.57142857 6.85673883 6.85673883 5.14285714 8.57142857 3.42897546"}),Object(o.jsx)("rect",{id:"Rectangle-path",fill:"#27AAE1",x:"12",y:"1.71428571",width:"10.2857143",height:"6.85714286"})]})})}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return C})),n.d(t,"b",(function(){return k}));var r=n(3),a=n(6),o=n(5),i=n(10),s=n(11),c=n(9),u=n(17),l=n.n(u),d=n(812),b=n(305),p=n(567),j=n(1225),h=n(296),f=n(295),g=n(54),m=n(318),O=n(619),v=n(673),x=n(8),y={container:{display:"flex",flex:1}},C=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={externalPropertiesDialogOpen:!1},e.saveExternalProperties=function(t){var n=e.getExternalEvents();n&&(n.setAssociatedLayout(t.layoutName),e.setState({externalPropertiesDialogOpen:!1},(function(){return e.updateToolbar()})))},e.openExternalPropertiesDialog=function(){e.setState({externalPropertiesDialogOpen:!0})},e.onBeginCreateEventsFunction=function(){Object(g.k)({step:"begin",parentEditor:"external-events-editor"})},e.onCreateEventsFunction=function(t,n){e.props.onCreateEventsFunction(t,n,"external-events-editor")},e}return Object(o.a)(n,[{key:"shouldComponentUpdate",value:function(e){return this.props.isActive||e.isActive}},{key:"getProject",value:function(){return this.props.project}},{key:"updateToolbar",value:function(){this.editor&&this.editor.updateToolbar()}},{key:"forceUpdateEditor",value:function(){}},{key:"getExternalEvents",value:function(){var e=this.props,t=e.project,n=e.projectItemName;return t&&n&&t.hasExternalEventsNamed(n)?t.getExternalEvents(n):null}},{key:"getLayout",value:function(){var e=this.props.project;if(!e)return null;var t=this.getAssociatedLayoutName();return t?e.getLayout(t):null}},{key:"getAssociatedLayoutName",value:function(){var e=this.props.project;if(!e)return null;var t=this.getExternalEvents();if(!t)return null;var n=t.getAssociatedLayout();return e.hasLayoutNamed(n)?n:null}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,r=t.projectItemName,a=this.getExternalEvents(),o=this.getLayout();return a&&n?Object(x.jsxs)("div",{style:y.container,children:[o&&Object(x.jsx)(d.a,{ref:function(t){return e.editor=t},setToolbar:this.props.setToolbar,onOpenLayout:this.props.onOpenLayout,resourceManagementProps:this.props.resourceManagementProps,openInstructionOrExpression:this.props.openInstructionOrExpression,onCreateEventsFunction:this.onCreateEventsFunction,onBeginCreateEventsFunction:this.onBeginCreateEventsFunction,unsavedChanges:this.props.unsavedChanges,project:n,scope:{layout:o,externalEvents:a},globalObjectsContainer:n,objectsContainer:o,events:a.getEvents(),onOpenSettings:this.openExternalPropertiesDialog,settingsIcon:Object(x.jsx)(v.a,{}),onOpenExternalEvents:this.props.onOpenExternalEvents,isActive:this.props.isActive}),!o&&Object(x.jsxs)(p.a,{children:[Object(x.jsx)(h.a,{children:Object(x.jsx)(c.Trans,{id:"To edit the external events, choose the scene in which it will be included"})}),Object(x.jsx)(f.c,{justifyContent:"center",children:Object(x.jsx)(b.a,{label:Object(x.jsx)(c.Trans,{id:"Choose the scene"}),primary:!0,onClick:this.openExternalPropertiesDialog})}),Object(x.jsx)(f.c,{justifyContent:"flex-start",noMargin:!0,children:Object(x.jsx)(O.a,{tutorialId:"Intermediate-externals",label:Object(x.jsx)(c.Trans,{id:"Watch tutorial"}),renderIfNotFound:Object(x.jsx)(m.a,{helpPagePath:"/interface/events-editor/external-events"})})})]}),Object(x.jsx)(j.a,{title:Object(x.jsx)(c.Trans,{id:"Configure the external events"}),helpTexts:[Object(x.jsx)(c.Trans,{id:'In order to use these external events, you still need to add a "Link" event in the events sheet of the corresponding scene'})],open:this.state.externalPropertiesDialogOpen,project:n,onChoose:this.saveExternalProperties,layoutName:this.getAssociatedLayoutName(),onClose:function(){return e.setState({externalPropertiesDialogOpen:!1})}})]}):Object(x.jsxs)("div",{children:["No external events called ",r," found!"]})}}]),n}(l.a.Component),k=function(e){return Object(x.jsx)(C,Object(r.a)({},e))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(34),a=n(9),o=n(17),i=n(298),s=n(2598),c=n(2722),u=n(2659),l=n(303),d=n(307),b=n(296),p=n(347),j=n(295),h=n(8);function f(e){var t=e.open,n=e.onChoose,f=e.layoutName,g=e.onClose,m=e.project,O=e.title,v=e.helpTexts,x=f||"",y=o.useState(x),C=Object(r.a)(y,2),k=C[0],w=C[1],T=o.useCallback((function(){k&&n({layoutName:k})}),[n,k]),E=[Object(h.jsx)(i.a,{label:Object(h.jsx)(a.Trans,{id:"Cancel"}),primary:!1,onClick:g},"cancel"),Object(h.jsx)(l.a,{label:Object(h.jsx)(a.Trans,{id:"Choose"}),primary:!0,onClick:T,disabled:!k},"choose")],S=Object(d.mapFor)(0,m.getLayoutsCount(),(function(e){return m.getLayoutAt(e).getName()}));return Object(h.jsx)(l.c,{title:O,actions:E,open:t,onRequestClose:g,onApply:T,maxWidth:"sm",children:Object(h.jsxs)(j.a,{noMargin:!0,children:[v&&v.map((function(e,t){return Object(h.jsx)(j.c,{children:Object(h.jsx)(p.a,{children:e})},t)})),Object(h.jsx)(j.c,{children:Object(h.jsx)(b.a,{children:Object(h.jsx)(a.Trans,{id:"Choose the associated scene:"})})}),Object(h.jsx)(u.a,{"aria-label":"Associated scene",name:"associated-layout",value:k,onChange:function(e){return w(e.target.value)},children:S.map((function(e){return Object(h.jsx)(s.a,{value:e,control:Object(h.jsx)(c.a,{color:"secondary"}),label:e},e)}))})]})})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return C}));var r=n(3),a=n(6),o=n(5),i=n(10),s=n(11),c=n(9),u=n(17),l=n(305),d=n(1227),b=n(338),p=n(567),j=n(1225),h=n(295),f=n(296),g=n(693),m=n(619),O=n(318),v=n(8),x={container:{display:"flex",flex:1}},y=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={externalPropertiesDialogOpen:!1},e.saveExternalProperties=function(t){var n=e.getExternalLayout();n&&(n.setAssociatedLayout(t.layoutName),e.setState({externalPropertiesDialogOpen:!1},(function(){return e.updateToolbar()})))},e.openExternalPropertiesDialog=function(){e.setState({externalPropertiesDialogOpen:!0})},e.saveUiSettings=function(){var t=e.getExternalLayout(),n=e.editor;n&&t&&Object(b.c)(t.getAssociatedEditorSettings(),n.getInstancesEditorSettings())},e}return Object(o.a)(n,[{key:"getProject",value:function(){return this.props.project}},{key:"shouldComponentUpdate",value:function(e){return this.props.isActive||e.isActive}},{key:"componentDidMount",value:function(){if(this.props.isActive){var e=this.props.projectItemName,t=this.getLayout();this.props.setPreviewedLayout(t?t.getName():null,e)}}},{key:"componentDidUpdate",value:function(e){if(!e.isActive&&this.props.isActive){var t=this.props.projectItemName,n=this.getLayout();this.props.setPreviewedLayout(n?n.getName():null,t)}}},{key:"updateToolbar",value:function(){this.editor&&this.editor.updateToolbar()}},{key:"forceUpdateEditor",value:function(){}},{key:"getExternalLayout",value:function(){var e=this.props,t=e.project,n=e.projectItemName;return t&&n&&t.hasExternalLayoutNamed(n)?t.getExternalLayout(n):null}},{key:"getLayout",value:function(){var e=this.props.project;if(!e)return null;var t=this.getAssociatedLayoutName();return t?e.getLayout(t):void 0}},{key:"getAssociatedLayoutName",value:function(){var e=this.props.project;if(!e)return null;var t=this.getExternalLayout();if(!t)return null;var n=t.getAssociatedLayout();return e.hasLayoutNamed(n)?n:null}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,r=t.projectItemName,a=t.isActive,o=this.getExternalLayout(),i=this.getLayout();return o&&n?Object(v.jsxs)("div",{style:x.container,children:[i&&Object(v.jsx)(d.a,{setToolbar:this.props.setToolbar,resourceManagementProps:this.props.resourceManagementProps,unsavedChanges:this.props.unsavedChanges,hotReloadPreviewButtonProps:this.props.hotReloadPreviewButtonProps,ref:function(t){return e.editor=t},project:n,layout:i,initialInstances:o.getInitialInstances(),getInitialInstancesEditorSettings:function(){return Object(g.c)(Object(b.b)(o.getAssociatedEditorSettings()),Math.max(n.getGameResolutionWidth(),n.getGameResolutionHeight()))},onOpenEvents:this.props.onOpenEvents,onOpenMoreSettings:this.openExternalPropertiesDialog,isActive:a,canInstallPrivateAsset:this.props.canInstallPrivateAsset,openBehaviorEvents:this.props.openBehaviorEvents}),!i&&Object(v.jsxs)(p.a,{children:[Object(v.jsx)(f.a,{children:Object(v.jsx)(c.Trans,{id:"To edit the external layout, choose the scene in which it will be included"})}),Object(v.jsx)(h.c,{justifyContent:"center",children:Object(v.jsx)(l.a,{label:Object(v.jsx)(c.Trans,{id:"Choose the scene"}),primary:!0,onClick:this.openExternalPropertiesDialog})}),Object(v.jsx)(h.c,{justifyContent:"flex-start",noMargin:!0,children:Object(v.jsx)(m.a,{tutorialId:"Intermediate-externals",label:Object(v.jsx)(c.Trans,{id:"Watch tutorial"}),renderIfNotFound:Object(v.jsx)(O.a,{helpPagePath:"/interface/events-editor/external-events"})})})]}),Object(v.jsx)(j.a,{title:Object(v.jsx)(c.Trans,{id:"Configure the external layout"}),helpTexts:[Object(v.jsx)(c.Trans,{id:'In order to see your objects in the scene, you need to add an action "Create objects from external layout" in your events sheet.'}),Object(v.jsx)(c.Trans,{id:"You can also launch a preview from this external layout, but remember that it will still create objects from the scene, as well as trigger its events. Make sure to disable any action loading the external layout before doing so to avoid having duplicate objects!"})],open:this.state.externalPropertiesDialogOpen,project:n,layoutName:this.getAssociatedLayoutName(),onChoose:this.saveExternalProperties,onClose:function(){return e.setState({externalPropertiesDialogOpen:!1})}})]}):Object(v.jsxs)("div",{children:["No external layout called ",r," found!"]})}}]),n}(u.Component),C=function(e){return Object(v.jsx)(y,Object(r.a)({},e))}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return ue}));var r=n(19),a=n(3),o=n(6),i=n(5),s=n(7),c=n(10),u=n(11),l=n(9),d=n(17),b=n(642),p=n.n(b),j=n(860),h=n(1201),f=n(378),g=(n(1228),n(2210)),m=n(2211),O=n(2494),v=n(2216),x=n(2217),y=n(510),C=n(1216),k=n(2218),w=n(1202),T=n(692),E=n(2219),S=n(1043),P=n(2492),I=n(338),A=n(449),D=n(26),F=n(2220),M=n(531),_=n(569),L=n(497),R=n(60),N=n(549),B=n(388),U=n(2501),H=n(673),W=n(738),z=n(399),V=n(415),G=n(2221),Z=n(1197),Y=n(509),q=n(309),X=n(1046),J=n(39),K=n(2222),Q=n(481),$=n(558),ee=n(689),te=n(864),ne=n(102),re=n.n(ne),ae=n(8),oe=e.gd,ie="Instances",se={container:{display:"flex",flex:1,position:"relative",overflow:"hidden"}},ce={direction:"row",first:"properties",splitPercentage:23,second:{direction:"row",first:"instances-editor",second:"objects-list",splitPercentage:77}},ue=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var i;return Object(o.a)(this,n),(i=t.call(this,e)).openObjectsList=function(){i.editorMosaic&&(i.editorMosaic.openEditor("objects-list","end",75,"column")||i.setState({showObjectsListInfoBar:!0}))},i.openProperties=function(){i.editorMosaic&&(i.editorMosaic.openEditor("properties","start",25,"column")||i.setState({showPropertiesInfoBar:!0}))},i.openObjectGroupsList=function(){i.editorMosaic&&i.editorMosaic.openEditor("object-groups-list","end",75,"column")},i.toggleInstancesList=function(){i.editorMosaic&&(i.editorMosaic.openEditor("instances-list","end",75,"row")||i.setState({showInstancesInfoBar:!0}))},i.toggleLayersList=function(){i.editorMosaic&&(i.editorMosaic.openEditor("layers-list","end",75,"row")||i.setState({showLayersInfoBar:!0}))},i.toggleWindowMask=function(){i.setState({instancesEditorSettings:Object(a.a)(Object(a.a)({},i.state.instancesEditorSettings),{},{windowMask:!i.state.instancesEditorSettings.windowMask})})},i.toggleGrid=function(){i.setState({instancesEditorSettings:Object(a.a)(Object(a.a)({},i.state.instancesEditorSettings),{},{grid:!i.state.instancesEditorSettings.grid,snap:!i.state.instancesEditorSettings.grid})})},i.openSetupGrid=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];i.setState({setupGridOpen:e})},i.openSceneProperties=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];i.setState({scenePropertiesDialogOpen:e})},i.openObjectEditor=function(){if(i.instancesSelection.hasSelectedInstances()){var e=i.instancesSelection.getSelectedInstances()[0].getObjectName();i.editObjectByName(e)}},i.editLayerEffects=function(e){i.setState({editedLayer:e,editedLayerInitialTab:"effects"})},i.editLayer=function(e){i.setState({editedLayer:e,editedLayerInitialTab:"properties"})},i.editInstanceVariables=function(e){i.setState({variablesEditedInstance:e})},i.editLayoutVariables=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];i.setState({layoutVariablesDialogOpen:e})},i.editObject=function(e,t){var n=i.props.project;e?i.setState({editedObjectWithContext:{object:e,global:n.hasObjectNamed(e.getName())},editedObjectInitialTab:t||"properties"}):i.setState({editedObjectWithContext:null,editedObjectInitialTab:"properties"})},i.openObjectExporterDialog=function(e){e?i.setState({exportedObject:e}):i.setState({exportedObject:null})},i.editObjectByName=function(e,t){var n=i.props,r=n.project,a=n.layout;a.hasObjectNamed(e)?i.editObject(a.getObject(e),t):r.hasObjectNamed(e)&&i.editObject(r.getObject(e),t)},i.editGroup=function(e){i.setState({editedGroup:e})},i.setInstancesEditorSettings=function(e){i.setState({instancesEditorSettings:e})},i._onInstancesEditorSettingsMutated=re()((function(e){i.setInstancesEditorSettings(e)}),1e3,{leading:!1,trailing:!0}),i.undo=function(){i.instancesSelection.clearSelection(),i.setState({history:Object(W.f)(i.state.history,i.props.initialInstances)},(function(){i.editor&&i.editor.forceRemount(),i.updateToolbar()}))},i.redo=function(){i.instancesSelection.clearSelection(),i.setState({history:Object(W.d)(i.state.history,i.props.initialInstances)},(function(){i.editor&&i.editor.forceRemount(),i.updateToolbar()}))},i._onObjectSelected=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=[];e&&t.push(e),i.setState({selectedObjectsWithContext:t},(function(){i.updateToolbar()}))},i._createNewObjectAndInstanceUnderCursor=function(){i.editor&&(i.setState({newObjectInstanceSceneCoordinates:i.editor.getLastCursorSceneCoordinates()}),i._objectsList?i._objectsList.openNewObjectDialog():i.openObjectsList())},i._onAddInstanceUnderCursor=function(){if(i.state.selectedObjectsWithContext.length&&i.editor){var e=i.state.selectedObjectsWithContext[0],t=i.editor.getLastCursorSceneCoordinates();i._addInstance(t,e.object.getName()),i.setState({selectedObjectsWithContext:[e]})}},i.addInstanceAtTheCenter=function(e){var t=Object(s.a)(i).editor;t&&i._addInstance([t.grid.viewPosition.viewX,t.grid.viewPosition.viewY],e)},i._addInstance=function(e,t){if(t&&i.editor){var n=i.editor.addInstances(e,[t]);i._onInstancesAdded(n)}},i._onInstancesAdded=function(e){e.forEach((function(e){var t=Object(K.a)(e,i.props.layout,i.props.project);t&&i.setState({additionalWorkInfoBar:t,showAdditionalWorkInfoBar:!0})})),i.setState({history:Object(W.e)(i.state.history,i.props.initialInstances,"ADD")},(function(){return i.updateToolbar()}))},i._onInstancesSelected=function(e){var t=i.props,n=t.project,r=t.layout,a=p()(e.map((function(e){return e.getObjectName()}))),o=Object(V.c)(n,r,{names:a}).allObjectsList;i.setState({selectedObjectsWithContext:o},(function(){i.forceUpdatePropertiesEditor(),i.updateToolbar()}))},i._onInstanceDoubleClicked=function(e){i.editObjectByName(e.getObjectName())},i._onInstancesMoved=function(e){i.setState({history:Object(W.e)(i.state.history,i.props.initialInstances,"EDIT")},(function(){return i.forceUpdatePropertiesEditor()}))},i._onInstancesResized=function(e){i.setState({history:Object(W.e)(i.state.history,i.props.initialInstances,"EDIT")},(function(){return i.forceUpdatePropertiesEditor()}))},i._onInstancesRotated=function(e){i.setState({history:Object(W.e)(i.state.history,i.props.initialInstances,"EDIT")},(function(){return i.forceUpdatePropertiesEditor()}))},i._onInstancesModified=function(e){i.forceUpdate()},i._onSelectInstances=function(e,t){i.instancesSelection.selectInstances({instances:e,multiSelect:t,layersVisibility:null,ignoreSeal:!0}),i.editor&&i.editor.centerViewOnLastInstance(e),i.forceUpdateInstancesList(),i.forceUpdatePropertiesEditor(),i.updateToolbar()},i._addInstanceForNewObject=function(e){var t=i.state.newObjectInstanceSceneCoordinates;t&&(i._addInstance(t,e),i.setState({newObjectInstanceSceneCoordinates:null}))},i._onObjectCreated=function(e){var t=Object(K.b)(e,i.props.layout,i.props.project);t&&i.setState({additionalWorkInfoBar:t,showAdditionalWorkInfoBar:!0}),i.props.unsavedChanges&&i.props.unsavedChanges.triggerUnsavedChanges(),i._addInstanceForNewObject(e.getName())},i._onRemoveLayer=function(e,t){i.setState({layerRemoved:e,onCloseLayerRemoveDialog:function(n,r){i.setState({layerRemoved:null},(function(){n&&(null===r?(i.instancesSelection.unselectInstancesOnLayer(e),i.props.initialInstances.removeAllInstancesOnLayer(e)):i.props.initialInstances.moveInstancesToLayer(e,r)),t(n),i.editor&&i.editor.forceRemount(),i.forceUpdateLayersList(),i.forceUpdatePropertiesEditor(),i.updateToolbar()}))}})},i._onRenameObjectStart=function(e){var t=[];e&&t.push(e),i.setState({renamedObjectWithContext:e,selectedObjectsWithContext:t},(function(){i.updateToolbar()}))},i._startRenamingSelectedObject=function(){i._onRenameObjectStart(i.state.selectedObjectsWithContext[0])},i._onRenameLayer=function(e,t,n){i.props.initialInstances.moveInstancesToLayer(e,t),n(!0),i.forceUpdatePropertiesEditor()},i._onCreateLayer=function(){i.forceUpdatePropertiesEditor()},i._onDeleteObject=function(e){return function(t,n){var r=t.object,a=t.global,o=i.props,s=o.project,c=o.layout,u=D.b.showYesNoCancelDialog(e._({id:"Do you want to remove all references to this object in groups and events (actions and conditions using the object)?"}));if("cancel"!==u){var l="yes"===u;i.instancesSelection.unselectInstancesOfObject(r.getName()),a?oe.WholeProjectRefactorer.globalObjectOrGroupRemoved(s,r.getName(),!1,l):oe.WholeProjectRefactorer.objectOrGroupRemovedInLayout(s,c,r.getName(),!1,l),n(!0),i.forceUpdatePropertiesEditor(),i.updateToolbar()}}},i._canObjectOrGroupUseNewName=function(e,t){var n=i.props,r=n.project,a=n.layout;return a.hasObjectNamed(e)||r.hasObjectNamed(e)||a.getObjectGroups().has(e)||r.getObjectGroups().has(e)?(Object(R.c)(t._({id:"Another object or group with this name already exists."}),{delayToNextTick:!0}),!1):!!oe.Project.validateName(e)||(Object(R.c)(t._({id:"This name is invalid. Only use alphanumeric characters (0-9, a-z) and underscores. Digits are not allowed as the first character."}),{delayToNextTick:!0}),!1)},i._onRenameEditedObject=function(e){var t=i.state.editedObjectWithContext;t&&i._onRenameObjectFinish(t,e,(function(){}))},i._onRenameObjectFinish=function(e,t,n){var r=e.object,a=e.global,o=i.props,s=o.project,c=o.layout;r.getName()!==t&&(a?oe.WholeProjectRefactorer.globalObjectOrGroupRenamed(s,r.getName(),t,!1):oe.WholeProjectRefactorer.objectOrGroupRenamedInLayout(s,c,r.getName(),t,!1)),r.setName(t),i._onObjectSelected(e),n(!0)},i._onMoveInstancesZOrder=function(e){var t=i.instancesSelection.getSelectedInstances(),n=t.reduce((function(e,t){return t.isLocked()||e.add(t.getLayer()),e}),new Set),r=new oe.HighestZOrderFinder,a={};n.forEach((function(t){r.reset(),r.restrictSearchToLayer(t),i.props.initialInstances.iterateOverInstances(r),a[t]="back"===e?r.getLowestZOrder():r.getHighestZOrder()})),r.delete(),t.forEach((function(t){if(!t.isLocked()){var n=a[t.getLayer()];if(t.getZOrder()===n)return;t.setZOrder(n+("front"===e?1:-1))}})),i.forceUpdateInstancesList(),i.forceUpdatePropertiesEditor()},i._onDeleteGroup=function(e,t){var n=e.group,r=e.global,a=i.props,o=a.project,s=a.layout,c=D.b.showConfirmDialog("Do you want to remove all references to this group in events (actions and conditions using the group)?");r?oe.WholeProjectRefactorer.globalObjectOrGroupRemoved(o,n.getName(),!0,!!c):oe.WholeProjectRefactorer.objectOrGroupRemovedInLayout(o,s,n.getName(),!0,!!c),t(!0)},i._onRenameGroup=function(e,t,n){var r=e.group,a=e.global,o=i.props,s=o.project,c=o.layout;r.getName()!==t&&(a?oe.WholeProjectRefactorer.globalObjectOrGroupRenamed(s,r.getName(),t,!0):oe.WholeProjectRefactorer.objectOrGroupRenamedInLayout(s,c,r.getName(),t,!0)),n(!0)},i.deleteSelection=function(){i.instancesSelection.getSelectedInstances().forEach((function(e){e.isLocked()||i.props.initialInstances.removeInstance(e)})),i.instancesSelection.clearSelection(),i.editor&&i.editor.clearHighlightedInstance(),i.setState({selectedObjectsWithContext:[],history:Object(W.e)(i.state.history,i.props.initialInstances,"DELETE")},(function(){i.updateToolbar(),i.forceUpdatePropertiesEditor()}))},i.zoomToInitialPosition=function(){i.editor&&i.editor.zoomToInitialPosition()},i.zoomToFitContent=function(){i.editor&&i.editor.zoomToFitContent()},i.zoomToFitSelection=function(){var e=i.instancesSelection.getSelectedInstances();i.editor&&i.editor.zoomToFitSelection(e)},i.getContextMenuZoomItems=function(e){return[{label:e._({id:"Zoom in"}),click:i.zoomIn,accelerator:"CmdOrCtrl+numadd"},{label:e._({id:"Zoom out"}),click:i.zoomOut,accelerator:"CmdOrCtrl+numsub"},{label:e._({id:"Zoom to fit selection"}),click:i.zoomToFitSelection,enabled:i.instancesSelection.hasSelectedInstances(),accelerator:"Shift+num1"},{label:e._({id:"Zoom to initial position"}),click:i.zoomToInitialPosition,accelerator:"Shift+num2"},{label:e._({id:"Zoom to fit content"}),click:i.zoomToFitContent,accelerator:"Shift+num3"}]},i.setZoomFactor=function(e){i.editor&&i.editor.setZoomFactor(e)},i.zoomIn=function(){i.editor&&i.editor.zoomBy(te.f)},i.zoomOut=function(){i.editor&&i.editor.zoomBy(te.g)},i._onContextMenu=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];i.contextMenu&&i.contextMenu.open(e,t,{ignoreSelectedObjectsForContextMenu:!!n})},i.buildContextMenu=function(e,t,n){var a=[];if(n.ignoreSelectedObjectsForContextMenu||0===i.state.selectedObjectsWithContext.length)a=[].concat(Object(r.a)(a),[{label:e._({id:"Paste"}),click:function(){return i.paste()},enabled:A.b.has(ie),accelerator:"CmdOrCtrl+V"},{type:"separator"},{label:e._({id:"Insert new..."}),click:function(){return i._createNewObjectAndInstanceUnderCursor()}},{type:"separator"}],Object(r.a)(i.getContextMenuZoomItems(e)));else{var o=i.state.selectedObjectsWithContext[0].object.getName();a=[].concat(Object(r.a)(a),[{label:e._({id:"Copy"}),click:function(){return i.copySelection()},enabled:i.instancesSelection.hasSelectedInstances(),accelerator:"CmdOrCtrl+C"},{label:e._({id:"Cut"}),click:function(){return i.cutSelection()},enabled:i.instancesSelection.hasSelectedInstances(),accelerator:"CmdOrCtrl+X"},{label:e._({id:"Paste"}),click:function(){return i.paste()},enabled:A.b.has(ie),accelerator:"CmdOrCtrl+V"},{label:e._({id:"Duplicate"}),enabled:i.instancesSelection.hasSelectedInstances(),click:function(){i.duplicateSelection()},accelerator:"CmdOrCtrl+D"},{type:"separator"},{label:e._({id:"Bring to front"}),enabled:i.instancesSelection.hasSelectedInstances(),click:function(){i._onMoveInstancesZOrder("front")}},{label:e._({id:"Send to back"}),enabled:i.instancesSelection.hasSelectedInstances(),click:function(){i._onMoveInstancesZOrder("back")}},{type:"separator"},{label:e._({id:"Delete"}),click:function(){return i.deleteSelection()},enabled:i.instancesSelection.hasSelectedInstances(),accelerator:"Delete"},{type:"separator"},{label:e._({id:"Edit object {0}",values:{0:Object(N.a)(o,14)}}),click:function(){return i.editObjectByName(o,"properties")}},{label:e._({id:"Edit object variables"}),click:function(){return i.editObjectByName(o,"variables")}},{label:e._({id:"Edit behaviors"}),click:function(){return i.editObjectByName(o,"behaviors")}},{label:e._({id:"Edit effects"}),click:function(){return i.editObjectByName(o,"effects")}}])}return a=[].concat(Object(r.a)(a),[{type:"separator"},{label:e._({id:"Open scene events"}),click:function(){return i.props.onOpenEvents(t.getName())}},{label:e._({id:"Open scene properties"}),click:function(){return i.openSceneProperties(!0)}}])},i.copySelection=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.useLastCursorPosition,n=e.pasteInTheForeground,r=i.instancesSelection.getSelectedInstances().map((function(e){return Object(I.b)(e)}));if(i.editor){var a=t?i.editor.getLastCursorSceneCoordinates():i.editor.getLastContextMenuSceneCoordinates();A.b.set(ie,{x:a[0],y:a[1],pasteInTheForeground:!!n,instances:r})}},i.cutSelection=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.useLastCursorPosition;i.copySelection({useLastCursorPosition:t,pasteInTheForeground:!0}),i.deleteSelection()},i.duplicateSelection=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(e.useLastCursorPosition,Object(s.a)(i)),n=t.editor;if(n){var r=i.instancesSelection.getSelectedInstances().map((function(e){return Object(I.b)(e)})),a=n.addSerializedInstances({position:[0,0],copyReferential:[-2*$.a,-2*$.a],serializedInstances:r,preventSnapToGrid:!0});i._onInstancesAdded(a),i.instancesSelection.clearSelection(),i.instancesSelection.selectInstances({instances:a,multiSelect:!0,layersVisibility:null})}},i.paste=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.useLastCursorPosition,n=Object(s.a)(i),r=n.editor;if(r){var a=t?r.getLastCursorSceneCoordinates():r.getLastContextMenuSceneCoordinates(),o=A.b.get(ie),c=A.a.extractArrayProperty(o,"instances"),u=A.a.extractNumberProperty(o,"x"),l=A.a.extractNumberProperty(o,"y"),d=A.a.extractBooleanProperty(o,"pasteInTheForeground")||!1;if(null!==u&&null!==l&&null!==c){var b=r.addSerializedInstances({position:a,copyReferential:[u,l],serializedInstances:c,addInstancesInTheForeground:d});i._onInstancesAdded(b),i.instancesSelection.clearSelection(),i.instancesSelection.selectInstances({instances:b,multiSelect:!0,layersVisibility:null})}}},i.onSelectAllInstancesOfObjectInLayout=function(e){var t=i.props.layout,n=Object(ee.c)(t,e);i.instancesSelection.selectInstances({instances:n,ignoreSeal:!0,multiSelect:!1,layersVisibility:null}),i.forceUpdateInstancesList(),i._onInstancesSelected(n)},i.updateBehaviorsSharedData=function(){var e=i.props,t=e.layout,n=e.project;t.updateBehaviorsSharedData(n)},i.forceUpdateObjectsList=function(){i._objectsList&&i._objectsList.forceUpdateList()},i.forceUpdateLayersList=function(){i._layersList&&i._layersList.forceUpdate()},i.forceUpdateInstancesList=function(){i._instancesList&&i._instancesList.forceUpdate()},i.forceUpdatePropertiesEditor=function(){i._propertiesEditor&&i._propertiesEditor.forceUpdate()},i.reloadResourcesFor=function(e){var t=i.props.project,n=new oe.ResourcesInUseHelper;e.getConfiguration().exposeResources(n);var r=n.getAllImages().toNewVectorString().toJSArray();n.delete(),z.a.loadTextures(t,r,(function(){}),(function(){i.editor&&i.editor.resetInstanceRenderersFor(e.getName())}))},i._getAllObjectTags=function(){var e=i.props,t=e.project,n=e.layout,r=new Set;return Object(V.c)(t,n).allObjectsList.forEach((function(e){var t=e.object;Object(Y.c)(t.getTags()).forEach((function(e){return r.add(e)}))})),Array.from(r)},i._buildObjectTagsMenuTemplate=function(e){var t=i.state.selectedObjectTags;return Object(Y.a)({noTagLabel:e._({id:"No tags - add a tag to an object first"}),getAllTags:i._getAllObjectTags,selectedTags:t,onChange:function(e){i.setState({selectedObjectTags:e})}})},i.instancesSelection=new T.a,i.state={setupGridOpen:!1,scenePropertiesDialogOpen:!1,layersListOpen:!1,onCloseLayerRemoveDialog:null,layerRemoved:null,editedLayer:null,editedLayerInitialTab:"properties",exportedObject:null,editedObjectWithContext:null,editedObjectInitialTab:"properties",variablesEditedInstance:null,newObjectInstanceSceneCoordinates:null,editedGroup:null,instancesEditorSettings:e.getInitialInstancesEditorSettings(),history:Object(W.c)(e.initialInstances,{historyMaxSize:50}),showObjectsListInfoBar:!1,layoutVariablesDialogOpen:!1,showPropertiesInfoBar:!1,showLayersInfoBar:!1,showInstancesInfoBar:!1,showAdditionalWorkInfoBar:!1,additionalWorkInfoBar:{identifier:"default-additional-work",message:"",touchScreenMessage:""},selectedObjectTags:[],renamedObjectWithContext:null,selectedObjectsWithContext:[]},i}return Object(i.a)(n,[{key:"componentDidUpdate",value:function(e,t){this.state.history!==t.history&&this.props.unsavedChanges&&this.props.unsavedChanges.triggerUnsavedChanges()}},{key:"getInstancesEditorSettings",value:function(){return this.state.instancesEditorSettings}},{key:"updateToolbar",value:function(){var e=this;this.props.setToolbar(Object(ae.jsx)(P.a,{instancesSelection:this.instancesSelection,openObjectsList:this.openObjectsList,openObjectGroupsList:this.openObjectGroupsList,openProperties:this.openProperties,deleteSelection:this.deleteSelection,toggleInstancesList:this.toggleInstancesList,toggleLayersList:this.toggleLayersList,toggleWindowMask:this.toggleWindowMask,toggleGrid:this.toggleGrid,isGridShown:function(){return!!e.state.instancesEditorSettings.grid},isWindowMaskShown:function(){return!!e.state.instancesEditorSettings.windowMask},openSetupGrid:this.openSetupGrid,setZoomFactor:this.setZoomFactor,getContextMenuZoomItems:this.getContextMenuZoomItems,canUndo:Object(W.b)(this.state.history),canRedo:Object(W.a)(this.state.history),undo:this.undo,redo:this.redo,onOpenSettings:this.openSceneProperties,settingsIcon:Object(ae.jsx)(H.a,{}),canRenameObject:1===this.state.selectedObjectsWithContext.length,onRenameObject:this._startRenamingSelectedObject}))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props.layout===e.layout&&this.props.initialInstances===e.initialInstances&&this.props.project===e.project||(this.instancesSelection.clearSelection(),this.openSetupGrid(!1),this.editInstanceVariables(null),this.openSceneProperties(!1))}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,r=t.layout,a=t.initialInstances,o=t.resourceManagementProps,i=t.isActive,s=this.instancesSelection.getSelectedInstances(),c=this.state.variablesEditedInstance?this.state.variablesEditedInstance.getObjectName():null,u=c?Object(B.a)(n,r,c):null,b=this.state.selectedObjectsWithContext.map((function(e){return e.object.getName()})),p={properties:{type:"secondary",title:{id:"Properties"},renderEditor:function(){return Object(ae.jsx)(l.I18n,{children:function(t){var a=t.i18n;return Object(ae.jsx)(g.a,{i18n:a,project:n,layout:r,instances:s,editInstanceVariables:e.editInstanceVariables,onEditObjectByName:e.editObjectByName,onInstancesModified:function(t){return e.forceUpdateInstancesList()},ref:function(t){return e._propertiesEditor=t},unsavedChanges:e.props.unsavedChanges,historyHandler:{undo:e.undo,redo:e.redo,canUndo:function(){return Object(W.b)(e.state.history)},canRedo:function(){return Object(W.a)(e.state.history)},saveToHistory:function(){return e.setState({history:Object(W.e)(e.state.history,e.props.initialInstances)})}}})}})}},"layers-list":{type:"secondary",title:{id:"Layers"},renderEditor:function(){return Object(ae.jsx)(O.a,{project:n,onEditLayerEffects:e.editLayerEffects,onEditLayer:e.editLayer,onRemoveLayer:e._onRemoveLayer,onRenameLayer:e._onRenameLayer,onCreateLayer:e._onCreateLayer,layersContainer:r,unsavedChanges:e.props.unsavedChanges,ref:function(t){return e._layersList=t},hotReloadPreviewButtonProps:e.props.hotReloadPreviewButtonProps})}},"instances-list":{type:"secondary",title:{id:"Instances List"},renderEditor:function(){return Object(ae.jsx)(m.a,{instances:a,selectedInstances:s,onSelectInstances:e._onSelectInstances,ref:function(t){return e._instancesList=t}})}},"instances-editor":{type:"primary",noTitleBar:!0,renderEditor:function(){return Object(ae.jsx)(F.a,{project:n,layout:r,initialInstances:a,instancesEditorSettings:e.state.instancesEditorSettings,onInstancesEditorSettingsMutated:e._onInstancesEditorSettingsMutated,instancesSelection:e.instancesSelection,onInstancesAdded:e._onInstancesAdded,onInstancesSelected:e._onInstancesSelected,onInstanceDoubleClicked:e._onInstanceDoubleClicked,onInstancesMoved:e._onInstancesMoved,onInstancesResized:e._onInstancesResized,onInstancesRotated:e._onInstancesRotated,selectedObjectNames:b,onContextMenu:e._onContextMenu,instancesEditorShortcutsCallbacks:{onCopy:function(){return e.copySelection({useLastCursorPosition:!0})},onCut:function(){return e.cutSelection({useLastCursorPosition:!0})},onPaste:function(){return e.paste({useLastCursorPosition:!0})},onDuplicate:function(){return e.duplicateSelection({useLastCursorPosition:!0})},onDelete:e.deleteSelection,onUndo:e.undo,onRedo:e.redo,onZoomOut:e.zoomOut,onZoomIn:e.zoomIn,onShift1:e.zoomToFitSelection,onShift2:e.zoomToInitialPosition,onShift3:e.zoomToFitContent},wrappedEditorRef:function(t){e.editor=t},pauseRendering:!i})}},"objects-list":{type:"secondary",title:{id:"Objects"},toolbarControls:[Object(ae.jsx)(l.I18n,{children:function(t){t.i18n;return Object(ae.jsx)(G.a,{buildMenuTemplate:function(t){return e._buildObjectTagsMenuTemplate(t)}})}},"tags"),Object(ae.jsx)(Z.a,{},"close")],renderEditor:function(){return Object(ae.jsx)(l.I18n,{children:function(t){var a=t.i18n;return Object(ae.jsx)(j.a,{getThumbnail:f.a.getThumbnail.bind(f.a),project:n,objectsContainer:r,layout:r,onSelectAllInstancesOfObjectInLayout:e.onSelectAllInstancesOfObjectInLayout,resourceManagementProps:e.props.resourceManagementProps,selectedObjectNames:b,canInstallPrivateAsset:e.props.canInstallPrivateAsset,onEditObject:e.props.onEditObject||e.editObject,onExportObject:e.openObjectExporterDialog,onDeleteObject:e._onDeleteObject(a),canRenameObject:function(t){return e._canObjectOrGroupUseNewName(t,a)},onObjectCreated:e._onObjectCreated,onObjectSelected:e._onObjectSelected,renamedObjectWithContext:e.state.renamedObjectWithContext,onRenameObjectStart:e._onRenameObjectStart,onRenameObjectFinish:e._onRenameObjectFinish,onAddObjectInstance:e.addInstanceAtTheCenter,onObjectPasted:function(){return e.updateBehaviorsSharedData()},selectedObjectTags:e.state.selectedObjectTags,onChangeSelectedObjectTags:function(t){return e.setState({selectedObjectTags:t})},getAllObjectTags:e._getAllObjectTags,ref:function(t){return e._objectsList=t},unsavedChanges:e.props.unsavedChanges,hotReloadPreviewButtonProps:e.props.hotReloadPreviewButtonProps})}})}},"object-groups-list":{type:"secondary",title:{id:"Object Groups"},renderEditor:function(){return Object(ae.jsx)(l.I18n,{children:function(t){var a=t.i18n;return Object(ae.jsx)(h.a,{globalObjectGroups:n.getObjectGroups(),objectGroups:r.getObjectGroups(),onEditGroup:e.editGroup,onDeleteGroup:e._onDeleteGroup,onRenameGroup:e._onRenameGroup,canRenameGroup:function(t){return e._canObjectOrGroupUseNewName(t,a)},unsavedChanges:e.props.unsavedChanges})}})}}};return Object(ae.jsxs)("div",{style:se.container,id:"scene-editor","data-active":i?"true":void 0,children:[Object(ae.jsx)(U.a,{project:n,layout:r,onEditObject:this.props.onEditObject||this.editObject,onEditObjectVariables:function(t){e.editObject(t,"variables")},onOpenSceneProperties:this.openSceneProperties,onOpenSceneVariables:this.editLayoutVariables,onEditObjectGroup:this.editGroup,onEditLayerEffects:this.editLayerEffects,onEditLayer:this.editLayer}),Object(ae.jsx)(q.a,{children:function(t){return Object(ae.jsx)(J.a.Consumer,{children:function(n){var r=n.getDefaultEditorMosaicNode,a=n.setDefaultEditorMosaicNode;return Object(ae.jsx)(M.a,{editors:p,limitToOneSecondaryEditor:"small"===t,initialNodes:"small"===t?r("scene-editor-small")||{direction:"portrait"===D.b.getOrientation()?"column":"row",first:"instances-editor",second:"objects-list",splitPercentage:70}:r("scene-editor")||ce,onPersistNodes:function(e){return a("small"===t?"scene-editor-small":"scene-editor",e)},ref:function(t){return e.editorMosaic=t}})}})}}),Object(ae.jsx)(l.I18n,{children:function(t){var a=t.i18n;return Object(ae.jsx)(d.Fragment,{children:e.state.editedObjectWithContext&&Object(ae.jsx)(C.a,{open:!0,object:e.state.editedObjectWithContext.object,initialTab:e.state.editedObjectInitialTab,project:n,resourceManagementProps:o,onComputeAllVariableNames:function(){var t=e.state.editedObjectWithContext;return t?Q.a.findAllObjectVariables(n.getCurrentPlatform(),n,r,t.object):[]},onCancel:function(){e.state.editedObjectWithContext&&e.reloadResourcesFor(e.state.editedObjectWithContext.object),e.editObject(null)},canRenameObject:function(t){return e._canObjectOrGroupUseNewName(t,a)},onRename:function(t){e._onRenameEditedObject(t)},onApply:function(){e.state.editedObjectWithContext&&e.reloadResourcesFor(e.state.editedObjectWithContext.object),e.editObject(null),e.updateBehaviorsSharedData(),e.forceUpdateObjectsList(),e.props.unsavedChanges&&e.props.unsavedChanges.triggerUnsavedChanges()},hotReloadPreviewButtonProps:e.props.hotReloadPreviewButtonProps,onUpdateBehaviorsSharedData:function(){return e.updateBehaviorsSharedData()},openBehaviorEvents:e.props.openBehaviorEvents})})}}),this.state.exportedObject&&Object(ae.jsx)(k.a,{object:this.state.exportedObject,onClose:function(){e.openObjectExporterDialog(null)}}),!!this.state.editedGroup&&Object(ae.jsx)(w.a,{project:n,group:this.state.editedGroup,objectsContainer:r,globalObjectsContainer:n,onCancel:function(){return e.editGroup(null)},onApply:function(){return e.editGroup(null)}}),Object(ae.jsx)(_.a,{identifier:"instance-drag-n-drop-explanation",message:Object(ae.jsx)(l.Trans,{id:"Drag and Drop the object to the scene or use the right click menu to add an instance of it."}),touchScreenMessage:Object(ae.jsx)(l.Trans,{id:"Drag and Drop the object icon to the scene or long press to show options to edit the object."}),show:!!this.state.selectedObjectsWithContext.length}),Object(ae.jsx)(_.a,{identifier:"objects-panel-explanation",message:Object(ae.jsx)(l.Trans,{id:"Objects panel is already opened: use it to add and edit objects."}),show:!!this.state.showObjectsListInfoBar}),Object(ae.jsx)(_.a,{identifier:"instance-properties-panel-explanation",message:Object(ae.jsx)(l.Trans,{id:"Properties panel is already opened. After selecting an instance on the scene, inspect and change its properties from this panel."}),show:!!this.state.showPropertiesInfoBar}),Object(ae.jsx)(_.a,{identifier:"layers-panel-explanation",message:Object(ae.jsx)(l.Trans,{id:"Layers panel is already opened. You can add new layers and apply effects on them from this panel."}),show:!!this.state.showLayersInfoBar}),Object(ae.jsx)(_.a,{identifier:"instances-panel-explanation",message:Object(ae.jsx)(l.Trans,{id:"Instances panel is already opened. You can search instances in the scene and click one to move the view to it."}),show:!!this.state.showInstancesInfoBar}),this.state.setupGridOpen&&Object(ae.jsx)(E.a,{instancesEditorSettings:this.state.instancesEditorSettings,onChangeInstancesEditorSettings:this.setInstancesEditorSettings,onCancel:function(){return e.openSetupGrid(!1)},onApply:function(){return e.openSetupGrid(!1)}}),!!this.state.variablesEditedInstance&&!!u&&Object(ae.jsx)(y.a,{open:!0,variablesContainer:this.state.variablesEditedInstance.getVariables(),inheritedVariablesContainer:u.getVariables(),onCancel:function(){return e.editInstanceVariables(null)},onApply:function(){return e.editInstanceVariables(null)},emptyPlaceholderTitle:Object(ae.jsx)(l.Trans,{id:"Add your first instance variable"}),emptyPlaceholderDescription:Object(ae.jsx)(l.Trans,{id:"Instance variables overwrite the default values of the variables of the object."}),helpPagePath:"/all-features/variables/instance-variables",title:Object(ae.jsx)(l.Trans,{id:"Instance Variables"}),onEditObjectVariables:u?function(){e.editObject(u,"variables"),e.editInstanceVariables(null)}:void 0,hotReloadPreviewButtonProps:this.props.hotReloadPreviewButtonProps,onComputeAllVariableNames:function(){var t=e.state.variablesEditedInstance;if(!t)return[];var a=Object(B.a)(n,r,t.getObjectName());return a?Q.a.findAllObjectVariables(n.getCurrentPlatform(),n,r,a):[]}}),!!this.state.layerRemoved&&this.state.onCloseLayerRemoveDialog&&Object(ae.jsx)(v.a,{open:!0,layersContainer:r,layerRemoved:this.state.layerRemoved,onClose:this.state.onCloseLayerRemoveDialog}),!!this.state.editedLayer&&Object(ae.jsx)(x.a,{project:n,resourceManagementProps:this.props.resourceManagementProps,layer:this.state.editedLayer,initialInstances:a,initialTab:this.state.editedLayerInitialTab,onClose:function(){return e.setState({editedLayer:null})},hotReloadPreviewButtonProps:this.props.hotReloadPreviewButtonProps}),this.state.scenePropertiesDialogOpen&&Object(ae.jsx)(S.a,{open:!0,project:n,layout:r,onClose:function(){return e.openSceneProperties(!1)},onApply:function(){return e.openSceneProperties(!1)},onEditVariables:function(){return e.editLayoutVariables(!0)},onOpenMoreSettings:this.props.onOpenMoreSettings,resourceManagementProps:this.props.resourceManagementProps}),!!this.state.layoutVariablesDialogOpen&&Object(ae.jsx)(X.a,{open:!0,project:n,layout:r,onApply:function(){return e.editLayoutVariables(!1)},onClose:function(){return e.editLayoutVariables(!1)},hotReloadPreviewButtonProps:this.props.hotReloadPreviewButtonProps}),Object(ae.jsx)(l.I18n,{children:function(t){var n=t.i18n;return Object(ae.jsxs)(d.Fragment,{children:[Object(ae.jsx)(_.a,{show:e.state.showAdditionalWorkInfoBar,identifier:e.state.additionalWorkInfoBar.identifier,message:n._(e.state.additionalWorkInfoBar.message),touchScreenMessage:n._(e.state.additionalWorkInfoBar.touchScreenMessage)}),Object(ae.jsx)(L.a,{ref:function(t){return e.contextMenu=t},buildMenuTemplate:function(t,n){return e.buildContextMenu(t,r,n)}})]})}})]})}}]),n}(d.Component);ue.defaultProps={setToolbar:function(){}}}).call(this,n(25))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return z}));var r=n(643),a=n(3),o=n(6),i=n(5),s=n(10),c=n(11),u=n(17),l=n(872),d=n.n(l),b=n(558),p=n(2191),j=n(491),h=n(2195),f=n(2196),g=n(2197),m=n(1230),O=n(2198),v=n(2199),x=n(2200),y=n(2201),C=n(2202),k=n(2203),w=n(329),T=n(2204),E=n(2205),S=n(2206),P=n(2207),I=n(2208),A=n(669),D=n(860),F=n(1229),M=(n(692),n(2209)),_=n(693),L=n(367),R=n(468),N=n(864),B=n(8),U=e.gd,H={canvasArea:{flex:1,position:"absolute",overflow:"hidden"},dropCursor:{cursor:"copy"}},W=Object(A.a)(D.b),z=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).lastContextMenuX=0,e.lastContextMenuY=0,e.lastCursorX=0,e.lastCursorY=0,e.fpsLimiter=new T.a(28),e._unmounted=!1,e._renderingPaused=!1,e.getZoomFactor=function(){return e.props.instancesEditorSettings.zoomFactor},e.setZoomFactor=function(t){e.props.instancesEditorSettings.zoomFactor=Object(N.b)(t),e.props.onInstancesEditorSettingsMutated(e.props.instancesEditorSettings)},e.addSerializedInstances=function(t){return e._instancesAdder.addSerializedInstances(t)},e.addInstances=function(t,n){return e._instancesAdder.addInstances(t,n)},e._onMouseMove=function(t,n){e.lastCursorX=t,e.lastCursorY=n},e._onBackgroundClicked=function(t,n){e.lastCursorX=t,e.lastCursorY=n,e.pixiRenderer.view.focus(),e.keyboardShortcuts.shouldMoveView()||e.selectionRectangle.startSelectionRectangle(t,n),e.keyboardShortcuts.shouldMultiSelect()||e.keyboardShortcuts.shouldMoveView()||(e.props.instancesSelection.clearSelection(),e.props.onInstancesSelected([]))},e._onPanMove=function(t,n,r,a){if(e.keyboardShortcuts.shouldMoveView()){var o=t/e.getZoomFactor(),i=n/e.getZoomFactor();e.scrollBy(-o,-i)}else e.selectionRectangle.updateSelectionRectangle(r,a)},e._getLayersVisibility=function(){for(var t=e.props.layout,n={},r=0;r<t.getLayersCount();r++)n[t.getLayerAt(r).getName()]=t.getLayerAt(r).getVisibility();return n},e._onPanEnd=function(){if(e.selectionRectangle.hasStartedSelectionRectangle()){var t=e.selectionRectangle.endSelectionRectangle();e.props.instancesSelection.selectInstances({instances:t,multiSelect:e.keyboardShortcuts.shouldMultiSelect(),layersVisibility:e._getLayersVisibility()}),t=e.props.instancesSelection.getSelectedInstances(),e.props.onInstancesSelected(t)}},e._onInstanceClicked=function(t){e.pixiRenderer.view.focus()},e._onInstanceRightClicked=function(t){e._onRightClicked(Object(a.a)(Object(a.a)({},t),{},{ignoreSelectedObjectNamesForContextMenu:!1}))},e._onRightClicked=function(t){var n=t.offsetX,r=t.offsetY,a=t.x,o=t.y,i=t.ignoreSelectedObjectNamesForContextMenu;e.lastContextMenuX=n,e.lastContextMenuY=r,e.props.onContextMenu&&e.props.onContextMenu(a,o,!!i)},e._onInstanceDoubleClicked=function(t){e.props.onInstanceDoubleClicked(t)},e._onOverInstance=function(t){e.highlightedInstance.setInstance(t)},e._onDownInstance=function(t,n,r){if(!e.keyboardShortcuts.shouldMoveView()){if(e.keyboardShortcuts.shouldCloneInstances())for(var a=e.props.instancesSelection.getSelectedInstances(),o=0;o<a.length;o++){var i=a[o];e.props.initialInstances.insertInitialInstance(i).resetPersistentUuid()}else e.props.instancesSelection.selectInstance({instance:t,multiSelect:e.keyboardShortcuts.shouldMultiSelect(),layersVisibility:e._getLayersVisibility()}),e.props.onInstancesSelected&&e.props.onInstancesSelected(e.props.instancesSelection.getSelectedInstances());e.instancesMover.startMove(n,r)}},e._onOutInstance=function(t){t===e.highlightedInstance.getInstance()&&e.highlightedInstance.setInstance(null)},e._onMoveInstance=function(t,n,r){var a=n/e.getZoomFactor(),o=r/e.getZoomFactor();if(e.keyboardShortcuts.shouldMoveView())e.scrollBy(-a,-o);else{e.props.instancesSelection.isInstanceSelected(t)||e._onInstanceClicked(t);var i=e.props.instancesSelection.getSelectedInstances();e.instancesMover.moveBy(i,a,o,e.keyboardShortcuts.shouldFollowAxis(),e.keyboardShortcuts.shouldNotSnapToGrid())}},e._onMoveInstanceEnd=function(){e.instancesMover.endMove();var t=e.props.instancesSelection.getSelectedInstances();e.props.onInstancesMoved(t)},e._onResize=function(t,n,r){var a=t/e.getZoomFactor(),o=n/e.getZoomFactor(),i=e.props.instancesSelection.getSelectedInstances(),s="touch"===e.props.screenType&&Object(m.a)(r)&&Object(m.b)(r)||e.keyboardShortcuts.shouldResizeProportionally();e.instancesResizer.resizeBy(i,a,o,r,s,e.keyboardShortcuts.shouldNotSnapToGrid())},e._onResizeEnd=function(){e.instancesResizer.endResize();var t=e.props.instancesSelection.getSelectedInstances();e.props.onInstancesResized(t)},e._onRotate=function(t,n){var r=t/e.getZoomFactor(),a=n/e.getZoomFactor(),o=e.props.instancesSelection.getSelectedInstances();e.instancesRotator.rotateBy(o,r,a,e.keyboardShortcuts.shouldResizeProportionally())},e._onRotateEnd=function(){e.instancesRotator.endRotate();var t=e.props.instancesSelection.getSelectedInstances();e.props.onInstancesRotated(t)},e.clearHighlightedInstance=function(){e.highlightedInstance.setInstance(null)},e.moveSelection=function(t,n){var r=e.props.instancesSelection.getSelectedInstances().filter((function(e){return!e.isLocked()}));r.forEach((function(e){e.setX(e.getX()+t),e.setY(e.getY()+n)})),e.props.onInstancesMoved(r)},e.getLastContextMenuSceneCoordinates=function(){return e.viewPosition.toSceneCoordinates(e.lastContextMenuX,e.lastContextMenuY)},e.getLastCursorSceneCoordinates=function(){return e.viewPosition.toSceneCoordinates(e.lastCursorX,e.lastCursorY)},e.getViewPosition=function(){return e.viewPosition},e._renderScene=function(){e._unmounted||e._renderingPaused||(e.fpsLimiter.shouldUpdate()&&!Object(R.h)()&&(e.backgroundColor.render(),e.viewPosition.render(),e.canvasCursor.render(),e.grid.render(),e.instancesRenderer.render(),e.highlightedInstance.render(),e.selectedInstances.render(),e.selectionRectangle.render(),e.windowBorder.render(),e.windowMask.render(),e.statusBar.render(),e.pixiRenderer.render(e.pixiContainer)),e.nextFrame=requestAnimationFrame(e._renderScene))},e.pauseSceneRendering=function(){e.nextFrame&&cancelAnimationFrame(e.nextFrame),e._renderingPaused=!0,Object(E.b)()},e.restartSceneRendering=function(){e._renderingPaused=!1,e._renderScene(),Object(E.a)()},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.canvasArea&&!this.pixiRenderer&&this._initializeCanvasAndRenderer()}},{key:"componentDidUpdate",value:function(){this.canvasArea&&!this.pixiRenderer&&this._initializeCanvasAndRenderer()}},{key:"_initializeCanvasAndRenderer",value:function(){var e=this,t=this.canvasArea;if(t){var n=this.props.project;this.keyboardShortcuts=new b.b({shortcutCallbacks:Object(a.a)({onMove:this.moveSelection},this.props.instancesEditorShortcutsCallbacks)}),this.pixiRenderer=w.autoDetectRenderer({width:this.props.width,height:this.props.height,preserveDrawingBuffer:!0,antialias:!1}),t.appendChild(this.pixiRenderer.view),this.pixiRenderer.view.style.outline="none",this.longTouchHandler=new M.a({canvas:this.pixiRenderer.view,onLongTouch:function(t){return e.props.onContextMenu(t.clientX,t.clientY)}}),this.pixiRenderer.view.onwheel=function(t){var n=e.getZoomFactor();if(e.keyboardShortcuts.shouldZoom())e.zoomOnCursorBy(Object(N.c)(-t.deltaY));else if(e.keyboardShortcuts.shouldScrollHorizontally()){var r=t.deltaY/(5*n);e.scrollBy(-r,0)}else{var a=t.deltaX/(5*n),o=t.deltaY/(5*n);e.scrollBy(a,o)}t.preventDefault()},this.pixiRenderer.view.setAttribute("tabIndex",-1),this.pixiRenderer.view.addEventListener("keydown",this.keyboardShortcuts.onKeyDown),this.pixiRenderer.view.addEventListener("keyup",this.keyboardShortcuts.onKeyUp),this.pixiRenderer.view.addEventListener("mousedown",this.keyboardShortcuts.onMouseDown),this.pixiRenderer.view.addEventListener("mouseup",this.keyboardShortcuts.onMouseUp),this.pixiRenderer.view.addEventListener("mousemove",(function(t){return e.props.onMouseMove(t)})),this.pixiRenderer.view.addEventListener("mouseout",(function(t){e.props.onMouseLeave(t)})),this.pixiRenderer.view.addEventListener("focusout",(function(t){e.keyboardShortcuts&&e.keyboardShortcuts.resetModifiers()})),this.pixiContainer=new w.Container,this.backgroundArea=new w.Container,this.backgroundArea.hitArea=new w.Rectangle(0,0,this.props.width,this.props.height),d.a.panable(this.backgroundArea),this.backgroundArea.on("mousedown",(function(t){return e._onBackgroundClicked(t.data.global.x,t.data.global.y)})),this.backgroundArea.on("rightclick",(function(t){var n=t.data.originalEvent;return e._onRightClicked({offsetX:n.offsetX,offsetY:n.offsetY,x:n.clientX,y:n.clientY,ignoreSelectedObjectNamesForContextMenu:!0}),!1})),this.backgroundArea.on("touchstart",(function(t){Object(F.b)(t.data&&t.data.originalEvent)||e._onBackgroundClicked(t.data.global.x,t.data.global.y)})),this.backgroundArea.on("mousemove",(function(t){var n=t.data.global.x||0,r=t.data.global.y||0;e._onMouseMove(n,r)})),this.backgroundArea.on("panmove",(function(t){return e._onPanMove(t.deltaX,t.deltaY,t.data.global.x,t.data.global.y)})),this.backgroundArea.on("panend",(function(t){return e._onPanEnd()})),this.pixiContainer.addChild(this.backgroundArea),this.viewPosition=new j.a({initialViewX:n?n.getGameResolutionWidth()/2:0,initialViewY:n?n.getGameResolutionHeight()/2:0,width:this.props.width,height:this.props.height,instancesEditorSettings:this.props.instancesEditorSettings}),this.pixiContainer.addChild(this.viewPosition.getPixiContainer()),this.grid=new x.a({viewPosition:this.viewPosition,instancesEditorSettings:this.props.instancesEditorSettings}),this.pixiContainer.addChild(this.grid.getPixiObject()),this.pinchHandler=new F.a({canvas:this.pixiRenderer.view,setZoomFactor:this.setZoomFactor,getZoomFactor:this.getZoomFactor,viewPosition:this.viewPosition}),this.canvasCursor=new P.a({canvas:t,shouldMoveView:function(){return e.keyboardShortcuts.shouldMoveView()}}),this._instancesAdder=new I.a({instances:this.props.initialInstances,instancesEditorSettings:this.props.instancesEditorSettings}),this._mountEditorComponents(this.props),this._renderScene(),this.props.onViewPositionChanged&&this.props.onViewPositionChanged(this.viewPosition)}}},{key:"forceRemount",value:function(){this._mountEditorComponents(this.props)}},{key:"_mountEditorComponents",value:function(e){this.highlightedInstance&&this.pixiContainer.removeChild(this.highlightedInstance.getPixiObject()),this.selectedInstances&&this.pixiContainer.removeChild(this.selectedInstances.getPixiContainer()),this.instancesRenderer&&(this.viewPosition.getPixiContainer().removeChild(this.instancesRenderer.getPixiContainer()),this.instancesRenderer.delete()),this.selectionRectangle&&(this.pixiContainer.removeChild(this.selectionRectangle.getPixiObject()),this.selectionRectangle.delete()),this.windowBorder&&this.pixiContainer.removeChild(this.windowBorder.getPixiObject()),this.windowMask&&this.pixiContainer.removeChild(this.windowMask.getPixiObject()),this.statusBar&&this.pixiContainer.removeChild(this.statusBar.getPixiObject()),this.backgroundColor=new k.a({layout:e.layout,pixiRenderer:this.pixiRenderer}),this.instancesRenderer=new p.a({project:e.project,layout:e.layout,instances:e.initialInstances,viewPosition:this.viewPosition,onOverInstance:this._onOverInstance,onMoveInstance:this._onMoveInstance,onMoveInstanceEnd:this._onMoveInstanceEnd,onDownInstance:this._onDownInstance,onOutInstance:this._onOutInstance,onInstanceClicked:this._onInstanceClicked,onInstanceRightClicked:this._onInstanceRightClicked,onInstanceDoubleClicked:this._onInstanceDoubleClicked}),this.selectionRectangle=new g.a({instances:e.initialInstances,instanceMeasurer:this.instancesRenderer.getInstanceMeasurer(),toSceneCoordinates:this.viewPosition.toSceneCoordinates}),this.selectedInstances=new h.a({instancesSelection:this.props.instancesSelection,onResize:this._onResize,onResizeEnd:this._onResizeEnd,onRotate:this._onRotate,onRotateEnd:this._onRotateEnd,instanceMeasurer:this.instancesRenderer.getInstanceMeasurer(),toCanvasCoordinates:this.viewPosition.toCanvasCoordinates,screenType:this.props.screenType}),this.highlightedInstance=new f.a({instanceMeasurer:this.instancesRenderer.getInstanceMeasurer(),toCanvasCoordinates:this.viewPosition.toCanvasCoordinates}),this.instancesResizer=new m.c({instanceMeasurer:this.instancesRenderer.getInstanceMeasurer(),instancesEditorSettings:this.props.instancesEditorSettings}),this.instancesRotator=new O.a(this.instancesRenderer.getInstanceMeasurer()),this.instancesMover=new v.a({instanceMeasurer:this.instancesRenderer.getInstanceMeasurer(),instancesEditorSettings:this.props.instancesEditorSettings}),this.windowBorder=new y.a({project:e.project,layout:e.layout,toCanvasCoordinates:this.viewPosition.toCanvasCoordinates}),this.windowMask=new C.a({project:e.project,viewPosition:this.viewPosition,instancesEditorSettings:this.props.instancesEditorSettings}),this.statusBar=new S.a({width:this.props.width,height:this.props.height,getLastCursorSceneCoordinates:this.getLastCursorSceneCoordinates}),this.pixiContainer.addChild(this.selectionRectangle.getPixiObject()),this.viewPosition.getPixiContainer().addChild(this.instancesRenderer.getPixiContainer()),this.pixiContainer.addChild(this.windowBorder.getPixiObject()),this.pixiContainer.addChild(this.windowMask.getPixiObject()),this.pixiContainer.addChild(this.selectedInstances.getPixiContainer()),this.pixiContainer.addChild(this.highlightedInstance.getPixiObject()),this.pixiContainer.addChild(this.statusBar.getPixiObject())}},{key:"componentWillUnmount",value:function(){this._unmounted=!0,this.selectionRectangle.delete(),this.instancesRenderer.delete(),this._instancesAdder.unmount(),this.pinchHandler.unmount(),this.longTouchHandler.unmount(),this.nextFrame&&cancelAnimationFrame(this.nextFrame),Object(E.b)(),this.pixiRenderer.destroy()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.width===this.props.width&&e.height===this.props.height||(this.pixiRenderer.resize(e.width,e.height),this.viewPosition.resize(e.width,e.height),this.statusBar.resize(e.width,e.height),this.backgroundArea.hitArea=new w.Rectangle(0,0,e.width,e.height),this.fpsLimiter.forceNextUpdate(),this._renderScene()),e.instancesEditorSettings!==this.props.instancesEditorSettings&&(this.grid.setInstancesEditorSettings(e.instancesEditorSettings),this.instancesMover.setInstancesEditorSettings(e.instancesEditorSettings),this.instancesResizer.setInstancesEditorSettings(e.instancesEditorSettings),this.windowMask.setInstancesEditorSettings(e.instancesEditorSettings),this.viewPosition.setInstancesEditorSettings(e.instancesEditorSettings),this._instancesAdder.setInstancesEditorSettings(e.instancesEditorSettings)),e.screenType!==this.props.screenType&&this.selectedInstances.setScreenType(this.props.screenType),this.props.layout===e.layout&&this.props.initialInstances===e.initialInstances&&this.props.project===e.project||this._mountEditorComponents(e),e.pauseRendering&&!this.props.pauseRendering&&this.pauseSceneRendering(),!e.pauseRendering&&this.props.pauseRendering&&this.restartSceneRendering()}},{key:"resetInstanceRenderersFor",value:function(e){this.instancesRenderer&&this.instancesRenderer.resetInstanceRenderersFor(e)}},{key:"zoomBy",value:function(e){this.setZoomFactor(this.getZoomFactor()*e)}},{key:"zoomOnCursorBy",value:function(e){var t=this.getLastCursorSceneCoordinates();this.setZoomFactor(this.getZoomFactor()*e);var n=this.getLastCursorSceneCoordinates();this.scrollBy(t[0]-n[0],t[1]-n[1])}},{key:"scrollBy",value:function(e,t){this.viewPosition.scrollBy(e,t),this.props.onViewPositionChanged&&this.props.onViewPositionChanged(this.viewPosition)}},{key:"scrollTo",value:function(e,t){this.viewPosition.scrollTo(e,t),this.props.onViewPositionChanged&&this.props.onViewPositionChanged(this.viewPosition)}},{key:"fitViewToRectangle",value:function(e,t){var n=t.adaptZoom,r=this.viewPosition.fitToRectangle(e);n&&this.setZoomFactor(r),this.props.onViewPositionChanged&&this.props.onViewPositionChanged(this.viewPosition)}},{key:"getBoundingClientRect",value:function(){return this.canvasArea?this.canvasArea.getBoundingClientRect():{left:0,top:0,right:0,bottom:0}}},{key:"zoomToFitContent",value:function(){var e=this.props.initialInstances;if(0!==e.getInstancesCount()){var t,n=this.instancesRenderer.getInstanceMeasurer(),r=new U.InitialInstanceJSFunctor;r.invoke=function(e){var r=U.wrapPointer(e,U.InitialInstance);t?t.union(n.getInstanceAABB(r,new L.a)):t=n.getInstanceAABB(r,new L.a)},e.iterateOverInstances(r),r.delete(),t&&this.fitViewToRectangle(t,{adaptZoom:!0})}}},{key:"zoomToInitialPosition",value:function(){var e=this.props.project.getGameResolutionWidth(),t=this.props.project.getGameResolutionHeight(),n=e/2,r=t/2;this.setZoomFactor(Object(_.b)(Math.max(t,e))),this.scrollTo(n,r)}},{key:"zoomToFitSelection",value:function(e){if(0!==e.length){var t=Object(r.a)(e),n=t[0],a=t.slice(1),o=this.instancesRenderer.getInstanceMeasurer(),i=o.getInstanceAABB(n,new L.a);a.forEach((function(e){i.union(o.getInstanceAABB(e,new L.a))})),this.fitViewToRectangle(i,{adaptZoom:!0})}}},{key:"centerViewOnLastInstance",value:function(e){if(0!==e.length){var t=this.instancesRenderer.getInstanceMeasurer().getInstanceAABB(e[e.length-1],new L.a);this.fitViewToRectangle(t,{adaptZoom:!1})}}},{key:"render",value:function(){var e=this;return this.props.project?Object(B.jsx)(W,{canDrop:function(){return!0},hover:function(t){var n=e._instancesAdder,r=e.viewPosition,a=e.canvasArea;if(n&&a&&r){var o=t.getClientOffset(),i=o.x,s=o.y,c=a.getBoundingClientRect(),u=r.toSceneCoordinates(i-c.left,s-c.top);n.createOrUpdateTemporaryInstancesFromObjectNames(u,e.props.selectedObjectNames)}},drop:function(t){var n=e._instancesAdder,r=e.viewPosition,a=e.canvasArea;if(n&&a&&r)if(t.didDrop())n.deleteTemporaryInstances();else{var o=t.getClientOffset(),i=o.x,s=o.y,c=a.getBoundingClientRect(),u=r.toSceneCoordinates(i-c.left,s-c.top),l=n.updateTemporaryInstancePositions(u);n.commitTemporaryInstances(),e.props.onInstancesAdded(l)}},children:function(t){var n=t.connectDropTarget,r=t.isOver;return e._instancesAdder&&!r&&e._instancesAdder.deleteTemporaryInstances(),n(Object(B.jsx)("div",{ref:function(t){return e.canvasArea=t},style:H.canvasArea}))}}):null}}]),n}(u.Component)}).call(this,n(25))},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));var r=n(5),a=n(6),o=(n(491),function(e){if(!e)return!1;var t=e.targetTouches;return t&&t.length>=2}),i=Object(r.a)((function e(t){var n=this,r=t.canvas,i=t.setZoomFactor,s=t.getZoomFactor,c=t.viewPosition;Object(a.a)(this,e),this._lastPinchCenterX=null,this._lastPinchCenterY=null,this._startPinch=function(){},this._onPinchMove=function(e,t,r){if(null===n._lastPinchCenterX||null===n._lastPinchCenterY)return n._lastPinchCenterX=e,void(n._lastPinchCenterY=t);var a=e-n._lastPinchCenterX,o=t-n._lastPinchCenterY,i=a/n._getZoomFactor(),s=o/n._getZoomFactor();n._viewPosition.scrollBy(-i,-s),n._lastPinchCenterX=e,n._lastPinchCenterY=t,n._setZoomFactor(n._getZoomFactor()*r)},this._endPinch=function(){n._lastPinchCenterX=null,n._lastPinchCenterY=null},this.unmount=function(){n._unregisterCanvasPinchDetector()},this._setZoomFactor=i,this._getZoomFactor=s,this._viewPosition=c,this._unregisterCanvasPinchDetector=function(e){var t=e.canvas,n=e.onPinchStart,r=e.onPinchMove,a=e.onPinchEnd,i=null;function s(){t.addEventListener("touchmove",c)}function c(e){if(o(e)){var t=e.targetTouches,a=t[0].clientX-t[1].clientX,s=t[0].clientY-t[1].clientY,c=Math.sqrt(a*a+s*s);if(!i)return i={p:{distance:c,date:new Date}},void n();var u=new Date;if(!(u-i.p.date<12)){var l={x:(t[0].clientX+t[1].clientX)/2,y:(t[0].clientY+t[1].clientY)/2},d=c/i.p.distance;r(l.x,l.y,d),i.p={distance:c,date:u}}}}function u(e){t.removeEventListener("touchmove",c),i&&(a(),i=null)}return t.addEventListener("touchstart",s),t.addEventListener("touchend",u),function(){t.removeEventListener("touchstart",s),t.removeEventListener("touchmove",c),t.removeEventListener("touchend",u)}}({canvas:r,onPinchStart:this._startPinch,onPinchMove:this._onPinchMove,onPinchEnd:this._endPinch})}))},function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return d}));var r=n(6),a=n(5),o=n(367),i=n(873),s=["TopLeft","BottomLeft","BottomRight","TopRight","Top","Left","Bottom","Right"],c={TopLeft:[0,0],BottomLeft:[0,1],BottomRight:[1,1],TopRight:[1,0],Top:[.5,0],Left:[0,.5],Bottom:[.5,1],Right:[1,.5]},u=function(e){return"Top"!==e&&"Bottom"!==e},l=function(e){return"Left"!==e&&"Right"!==e},d=function(){function e(t){var n=t.instanceMeasurer,a=t.instancesEditorSettings;Object(r.a)(this,e),this._initialSelectionAABB=null,this._unrotatedInstanceAABBs={},this._instanceAABBs={},this._instancePositions={},this.totalDeltaX=0,this.totalDeltaY=0,this._temporaryGrabbingPosition=[0,0],this.instanceMeasurer=n,this.instancesEditorSettings=a}return Object(a.a)(e,[{key:"setInstancesEditorSettings",value:function(e){this.instancesEditorSettings=e}},{key:"_getOrCreateInstanceAABB",value:function(e){var t=this._instanceAABBs[e.ptr];return t||(this._instanceAABBs[e.ptr]=this.instanceMeasurer.getInstanceAABB(e,new o.a))}},{key:"_getOrCreateUnrotatedInstanceAABB",value:function(e){var t=this._unrotatedInstanceAABBs[e.ptr];return t||(this._unrotatedInstanceAABBs[e.ptr]=this.instanceMeasurer.getUnrotatedInstanceAABB(e,new o.a))}},{key:"_getOrCreateInstanceOriginPosition",value:function(e){var t=this._instancePositions[e.ptr];return t||(this._instancePositions[e.ptr]={x:e.getX(),y:e.getY()})}},{key:"_getOrCreateSelectionAABB",value:function(e){var t=this._initialSelectionAABB;if(t)return t;if(!e.length)return null;(t=new o.a).setRectangle(this._getOrCreateInstanceAABB(e[0]));for(var n=1;n<e.length;n++)t.union(this._getOrCreateInstanceAABB(e[n]));return this._initialSelectionAABB=t,t}},{key:"resizeBy",value:function(e,t,n,r,a,o){this.totalDeltaX+=t,this.totalDeltaY+=n;var s=e.filter((function(e){return!e.isLocked()})),d=this._getOrCreateSelectionAABB(s);if(d){var b=c[r],p=d.left+d.width()*b[0],j=d.top+d.height()*b[1],h=this._temporaryGrabbingPosition;h[0]=p+this.totalDeltaX,h[1]=j+this.totalDeltaY,this.instancesEditorSettings.snap&&this.instancesEditorSettings.grid&&!o?Object(i.b)(h,this.instancesEditorSettings.gridWidth,this.instancesEditorSettings.gridHeight,this.instancesEditorSettings.gridOffsetX,this.instancesEditorSettings.gridOffsetY,this.instancesEditorSettings.gridType):(h[0]=Math.round(h[0]),h[1]=Math.round(h[1]));var f=h[0]-p,g=h[1]-j;u(r)||(f=0),l(r)||(g=0);var m="TopLeft"===r||"BottomLeft"===r||"Left"===r?-f:f,O="TopLeft"===r||"TopRight"===r||"Top"===r?-g:g,v=0!==d.width()?(d.width()+m)/d.width():m,x=0!==d.height()?(d.height()+O)/d.height():O,y=function(e){for(var t=0;t<e.length;t++)if(e[t].getAngle()%90!==0)return!0;return!1}(s);(a||y)&&(!l(r)||u(r)&&m*d.height()>O*d.width()?x=v:v=x),v=Math.max(0!==d.width()?1/d.width():1e-5,v),x=Math.max(0!==d.height()?1/d.height():1e-5,x);for(var C=d.right-c[r][0]*d.width(),k=d.bottom-c[r][1]*d.height(),w=0;w<s.length;w++){var T=s[w],E=this._getOrCreateUnrotatedInstanceAABB(T),S=this._getOrCreateInstanceOriginPosition(T),P=0!==E.width()?E.width():1,I=0!==E.height()?E.height():1,A=(T.getAngle()%360+360)%360,D=S.x,F=S.y,M=P,_=I;if(a||y||90!==A&&270!==A)M=v*P,_=x*I,D=(S.x-C)*v+C,F=(S.y-k)*x+k;else{M=x*P,_=v*I;var L=(E.centerX()-C)*v+C,R=(E.centerY()-k)*x+k;D=L+x*(S.x-E.centerX()),F=R+v*(S.y-E.centerY())}T.setX(Math.round(D)),T.setY(Math.round(F)),T.setCustomWidth(Math.round(M)),T.setCustomHeight(Math.round(_)),T.setHasCustomSize(!0)}}}},{key:"endResize",value:function(){this._initialSelectionAABB=null,this._unrotatedInstanceAABBs={},this._instanceAABBs={},this._instancePositions={},this.totalDeltaX=0,this.totalDeltaY=0}}]),e}()},function(e,t,n){"use strict";var r=n(307);t.a=function(e){return Object(r.mapFor)(0,e.getLayersCount(),(function(t){return{value:e.getLayerAt(t).getName(),label:e.getLayerAt(t).getName()||"Base layer",labelIsUserDefined:!!e.getLayerAt(t).getName()}}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n(17);var r=n(555),a=n(8),o={flexContainer:{display:"flex",flex:1,position:"relative"}},i=function(e){var t=e.children;return Object(a.jsx)(r.a,{bounds:!0,children:function(e){var n=e.contentRect,r=e.measureRef;return Object(a.jsx)("div",{style:o.flexContainer,ref:r,children:!!n&&!!n.bounds&&t({width:n.bounds.width,height:n.bounds.height})})}})}},function(e,t,n){"use strict";var r=n(3),a=n(17),o=n.n(a),i=n(905),s=n(8);t.a=o.a.memo((function(e){return Object(s.jsxs)(i.a,Object(r.a)(Object(r.a)({},e),{},{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[Object(s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.5126 5.17677C15.196 4.49332 16.3041 4.49332 16.9875 5.17677L18.8232 7.01253C19.5066 7.69595 19.5066 8.80397 18.8233 9.48739L9.53034 18.7803C9.43172 18.8789 9.30756 18.9481 9.17179 18.98L4.92179 19.98C4.66896 20.0395 4.40335 19.964 4.21968 19.7803C4.03602 19.5966 3.96046 19.331 4.01995 19.0782L5.01995 14.8282C5.0519 14.6924 5.12106 14.5683 5.21969 14.4696L14.5126 5.17677ZM15.9268 6.23739C15.8292 6.13978 15.6709 6.13978 15.5733 6.23739L6.43121 15.3794L5.75757 18.2424L8.62055 17.5688L17.7626 8.42677C17.7626 8.42678 17.7626 8.42677 17.7626 8.42677C17.8602 8.32913 17.8602 8.17081 17.7626 8.07317L15.9268 6.23739Z",fill:"currentColor"}),Object(s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13 19.25C13 18.8358 13.3358 18.5 13.75 18.5H19.25C19.6642 18.5 20 18.8358 20 19.25C20 19.6642 19.6642 20 19.25 20H13.75C13.3358 20 13 19.6642 13 19.25Z",fill:"currentColor"})]}))}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(3),a=n(6),o=n(5),i=n(10),s=n(11),c=n(17),u=n.n(c),l=n(2223),d=n(8),b=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"shouldComponentUpdate",value:function(e){return this.props.isActive||e.isActive}},{key:"getProject",value:function(){return this.props.project}},{key:"getLayout",value:function(){return null}},{key:"updateToolbar",value:function(){this.editor&&this.editor.updateToolbar()}},{key:"forceUpdateEditor",value:function(){}},{key:"componentDidUpdate",value:function(e){this.editor&&this.props.isActive&&e.isActive!==this.props.isActive&&this.editor.refreshResourcesList()}},{key:"render",value:function(){var e=this,t=this.props.project;return t?Object(d.jsx)(l.a,{setToolbar:this.props.setToolbar,onDeleteResource:this.props.onDeleteResource,onRenameResource:this.props.onRenameResource,resourceManagementProps:this.props.resourceManagementProps,ref:function(t){return e.editor=t},project:t}):null}}]),n}(u.a.Component),p=function(e){return Object(d.jsx)(b,Object(r.a)({},e))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return j}));var r=n(3),a=n(6),o=n(5),i=n(10),s=n(11),c=n(17),u=n(693),l=n(1227),d=n(338),b=n(8),p=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).saveUiSettings=function(){var t=e.getLayout(),n=e.editor;n&&t&&Object(d.c)(t.getAssociatedEditorSettings(),n.getInstancesEditorSettings())},e}return Object(o.a)(n,[{key:"getProject",value:function(){return this.props.project}},{key:"shouldComponentUpdate",value:function(e){return this.props.isActive||e.isActive}},{key:"componentDidMount",value:function(){if(this.props.isActive){var e=this.props.projectItemName;this.props.setPreviewedLayout(e)}}},{key:"componentDidUpdate",value:function(e){if(!e.isActive&&this.props.isActive){var t=this.props.projectItemName;this.props.setPreviewedLayout(t)}}},{key:"updateToolbar",value:function(){this.editor&&this.editor.updateToolbar()}},{key:"forceUpdateEditor",value:function(){this.editor&&this.editor.forceUpdateObjectsList()}},{key:"getLayout",value:function(){var e=this.props,t=e.project,n=e.projectItemName;return t&&n&&t.hasLayoutNamed(n)?t.getLayout(n):null}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,r=t.projectItemName,a=t.isActive,o=this.getLayout();return o&&n?Object(b.jsx)(l.a,{setToolbar:this.props.setToolbar,resourceManagementProps:this.props.resourceManagementProps,canInstallPrivateAsset:this.props.canInstallPrivateAsset,unsavedChanges:this.props.unsavedChanges,ref:function(t){return e.editor=t},project:n,layout:o,initialInstances:o.getInitialInstances(),getInitialInstancesEditorSettings:function(){return Object(u.c)(Object(d.b)(o.getAssociatedEditorSettings()),Math.max(n.getGameResolutionWidth(),n.getGameResolutionHeight()))},onOpenEvents:this.props.onOpenEvents,isActive:a,hotReloadPreviewButtonProps:this.props.hotReloadPreviewButtonProps,openBehaviorEvents:this.props.openBehaviorEvents}):Object(b.jsxs)("div",{children:["No layout called ",r," found!"]})}}]),n}(c.Component),j=function(e){return Object(b.jsx)(p,Object(r.a)({},e))}},,,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return l}));var r=n(9),a=(n(17),n(296)),o=n(305),i=n(312),s=n(295),c=n(8),u=function(e){if(!e.authenticated)return!1;var t=e.limits,n=e.cloudProjects;return!(!t||!n)&&n.filter((function(e){return!e.deletedAt})).length>=t.capabilities.cloudProjects.maximumCount},l=function(e){var t=e.onUpgrade,n=e.limits.capabilities.cloudProjects,u=n.maximumCount,l=n.canMaximumCountBeIncreased;return Object(c.jsx)(s.c,{noMargin:!0,children:Object(c.jsx)(s.a,{noMargin:!0,expand:!0,children:Object(c.jsxs)(i.a,{kind:"warning",renderRightButton:l?function(){return Object(c.jsx)(o.a,{primary:!0,label:Object(c.jsx)(r.Trans,{id:"Check our premiums plans"}),onClick:t})}:void 0,children:[Object(c.jsx)(a.a,{size:"block-title",children:Object(c.jsx)(r.Trans,{id:"You've reached your maximum storage of {maximumCount} cloud-based projects",values:{maximumCount:u}})}),Object(c.jsx)(a.a,{children:l?Object(c.jsx)(r.Trans,{id:"Update to GDevelop Premium to get more storage, leaderboards, and one-click packagings!"}):Object(c.jsx)(r.Trans,{id:"To keep using GDevelop cloud, consider deleting old, unused projects."})})]})})})}},,function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r=function(e){var t=e;return t?function(e){return t._(e)}:null},a=function(e){var t=e;return t?function(e){return t._(e)}:function(e){return e}}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return g})),n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return O}));var r=n(2),a=n(0),o=n.n(a),i=n(9),s=n(17),c=n(1271),u=n(303),l=n(298),d=n(570),b=n(54),p=n(492),j=n(60),h=n(8),f=e.gd,g=function(){var e=Object(r.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=f.ProjectHelper.createNewGDJSProject(),Object(b.u)({exampleUrl:"",exampleSlug:""}),e.abrupt("return",{project:t,storageProvider:null,fileMetadata:null});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(r.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://resources.gdevelop-app.com/examples-database/login-template.json",Object(b.u)({exampleUrl:t,exampleSlug:"login-template"}),e.abrupt("return",{project:null,storageProvider:p.a,fileMetadata:{fileIdentifier:t}});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(r.a)(o.a.mark((function e(t){var n,r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.i18n,r=t.exampleShortHeader,e.prev=1,e.next=4,Object(d.a)(r);case 4:return a=e.sent,Object(b.u)({exampleUrl:a.projectFileUrl,exampleSlug:r.slug}),e.abrupt("return",{project:null,storageProvider:p.a,fileMetadata:{fileIdentifier:a.projectFileUrl}});case 9:return e.prev=9,e.t0=e.catch(1),Object(j.a)({message:n._({id:"Unable to fetch the example."})+" "+n._({id:"Verify your internet connection or try again later."}),rawError:e.t0,errorId:"local-example-load-error"}),e.abrupt("return");case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();t.d=function(e){var t=e.open,n=e.onClose,a=e.initialExampleShortHeader,d=e.onChoose,b=e.isProjectOpening,p=s.useMemo((function(){return[Object(h.jsx)(l.a,{label:Object(h.jsx)(i.Trans,{id:"Close"}),primary:!1,onClick:n},"close"),Object(h.jsx)(u.a,{id:"create-blank-project-button",label:Object(h.jsx)(i.Trans,{id:"Create a blank project"}),primary:!0,onClick:function(){return d(null)}},"create-blank")]}),[n,d]);return t?Object(h.jsx)(i.I18n,{children:function(e){e.i18n;return Object(h.jsx)(u.c,{title:Object(h.jsx)(i.Trans,{id:"Create a new project"}),actions:p,onRequestClose:n,onApply:function(){d(null)},open:t,fullHeight:!0,flexColumnBody:!0,children:Object(h.jsx)(c.a,{focusOnMount:!0,isOpening:b,onOpen:function(){var e=Object(r.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),initialExampleShortHeader:a})})}}):null}}).call(this,n(25))},function(e,t,n){"use strict";var r=n(17),a=n(9),o=n(2580),i=n(2588),s=n(2589),c=n(319),u=n(295),l=n(296),d=n(305),b=n(298),p=n(2720),j=n(8),h=Object(p.a)((function(e){return{root:{border:"1px solid ".concat(e.palette.divider),borderRadius:8}}}));t.a=function(e){var t=e.storageProvider,n=e.onChooseProvider,p=r.useContext(c.a),f=h(),g=t.needUserAuthentication&&!p.authenticated,m=!t.disabled&&(!t.needUserAuthentication||!g);return Object(j.jsx)(a.I18n,{children:function(e){var r=e.i18n;return Object(j.jsxs)(o.a,{classes:f,disabled:t.disabled,onClick:m?function(){return n(t)}:null,button:m,children:[Object(j.jsx)(i.a,{children:t.renderIcon?t.renderIcon({}):void 0}),Object(j.jsx)(s.a,{children:Object(j.jsxs)(u.c,{justifyContent:"space-between",alignItems:"center",children:[Object(j.jsx)(l.a,{noMargin:!0,children:r._(t.name)}),g&&Object(j.jsxs)(u.c,{noMargin:!0,children:[Object(j.jsx)(b.a,{label:r._({id:"Create an Account"}),onClick:function(){return p.onCreateAccount()}}),Object(j.jsx)(u.d,{}),Object(j.jsx)(d.a,{primary:!0,label:r._({id:"Login with GDevelop"}),onClick:function(){return p.onLogin()}})]})]})})]},t.internalName)}})}},function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return p}));var r=n(3),a=n(18),o=n(19),i=n(440),s=n(101),c=n(26),u=n(12),l=["onClickSendEvent","onClickOpenLink","eventArgs"],d=n.n(u)()("electron"),b=function(e){var t=e.shortcutMap,n=e.i18n,r=e.recentProjectFiles,a=e.project,c=e.isApplicationTopLevelMenu,u={label:n._({id:"File"}),submenu:[{label:n._({id:"Create"}),submenu:[{label:n._({id:"New empty project..."}),accelerator:Object(i.a)(t.CREATE_NEW_PROJECT),onClickSendEvent:"main-menu-create-blank"},{label:n._({id:"New project from template..."}),onClickSendEvent:"main-menu-create-template"}]},{type:"separator"},{label:n._({id:"Open..."}),accelerator:Object(i.a)(t.OPEN_PROJECT),onClickSendEvent:"main-menu-open"},{label:n._({id:"Open Recent"}),submenu:r.map((function(e){return{label:e.fileMetadata.fileIdentifier,onClickSendEvent:"main-menu-open-recent",eventArgs:e}}))},{type:"separator"},{label:n._({id:"Save"}),accelerator:Object(i.a)(t.SAVE_PROJECT),onClickSendEvent:"main-menu-save",enabled:!!a},{label:n._({id:"Save as..."}),accelerator:Object(i.a)(t.SAVE_PROJECT_AS),onClickSendEvent:"main-menu-save-as",enabled:!!a},{type:"separator"},{label:n._({id:"Export (web, iOS, Android)..."}),accelerator:Object(i.a)(t.EXPORT_GAME),onClickSendEvent:"main-menu-export",enabled:!!a},{type:"separator"},{label:n._({id:"Close Project"}),accelerator:Object(i.a)(t.CLOSE_PROJECT),onClickSendEvent:"main-menu-close",enabled:!!a}].concat(Object(o.a)(Object(s.e)()&&c?[]:[{type:"separator"},{label:n._({id:"My Profile"}),onClickSendEvent:"main-menu-open-profile"},{label:n._({id:"Games Dashboard"}),onClickSendEvent:"main-menu-open-games-dashboard"},{label:n._({id:"Preferences"}),onClickSendEvent:"main-menu-open-preferences"},{label:n._({id:"Language"}),onClickSendEvent:"main-menu-open-language"}].concat(Object(o.a)(d?[{type:"separator"},{label:n._({id:"Exit GDevelop"}),accelerator:Object(i.a)(t.QUIT_APP),onClickSendEvent:"main-menu-close-app"}]:[]))))},l={label:n._({id:"Edit"}),submenu:[{label:n._({id:"Undo"}),role:"undo"},{label:n._({id:"Redo"}),role:"redo"},{type:"separator"},{label:n._({id:"Cut"}),role:"cut"},{label:n._({id:"Copy"}),role:"copy"},{label:n._({id:"Paste"}),role:"paste"},{label:n._({id:"Paste and Match Style"}),role:"pasteandmatchstyle"},{label:n._({id:"Delete"}),role:"delete"},{label:n._({id:"Select All"}),role:"selectall"}]},b={label:n._({id:"View"}),submenu:[{label:n._({id:"Show Project Manager"}),accelerator:Object(i.a)(t.OPEN_PROJECT_MANAGER),onClickSendEvent:"main-menu-open-project-manager",enabled:!!a},{label:n._({id:"Show Home"}),onClickSendEvent:"main-menu-open-home-page"},{label:n._({id:"Open Debugger"}),onClickSendEvent:"main-menu-open-debugger",enabled:!!a}].concat(Object(o.a)(d?[{type:"separator"},{label:n._({id:"Toggle Developer Tools"}),role:"toggledevtools"},{type:"separator"},{label:n._({id:"Toggle Fullscreen"}),role:"togglefullscreen"}]:[]))},p={label:n._({id:"Window"}),role:"window",submenu:[{label:n._({id:"Minimize"}),role:"minimize"}]},j={label:n._({id:"Help"}),role:"help",submenu:[{label:n._({id:"GDevelop website"}),onClickOpenLink:"http://gdevelop.io"},{type:"separator"},{label:n._({id:"GDevelop games on gd.games"}),onClickOpenLink:"https://gd.games"},{label:n._({id:"Community Forums"}),onClickOpenLink:"https://forum.gdevelop.io"},{label:n._({id:"Community Discord Chat"}),onClickOpenLink:"https://discord.gg/gdevelop"},{type:"separator"},{label:n._({id:"YouTube channel (tutorials and more)"}),onClickOpenLink:"https://www.youtube.com/c/gdevelopapp"},{label:n._({id:"TikTok"}),onClickOpenLink:"https://tiktok.com/@gdevelop"},{label:n._({id:"Twitter"}),onClickOpenLink:"https://twitter.com/gdevelopapp"},{label:n._({id:"Instagram"}),onClickOpenLink:"https://www.instagram.com/gdevelopapp"},{label:n._({id:"Facebook"}),onClickOpenLink:"https://facebook.com/gdevelopapp"},{type:"separator"},{label:n._({id:"Buy GDevelop goodies and swag"}),onClickOpenLink:"https://goodies.gdevelop.io"},{label:n._({id:"Contribute to GDevelop"}),onClickOpenLink:"https://gdevelop.io/page/contribute"},{label:n._({id:"Create Extensions for GDevelop"}),onClickOpenLink:"https://github.com/4ian/GDevelop/blob/master/newIDE/README-extensions.md"},{type:"separator"},{label:n._({id:"Help to Translate GDevelop"}),onClickOpenLink:"https://crowdin.com/project/gdevelop"},{label:n._({id:"Report a wrong translation"}),onClickOpenLink:"https://github.com/4ian/GDevelop/issues/969"}].concat(Object(o.a)(!Object(s.e)()&&c?[{type:"separator"},{label:n._({id:"About GDevelop"}),onClickSendEvent:"main-menu-open-about"}]:[]))},h=[u].concat(Object(o.a)(d?[l]:[]),[b],Object(o.a)(d?[p]:[]),[j]);return Object(s.e)()&&c&&(h.unshift({label:n._({id:"GDevelop 5"}),submenu:[{label:n._({id:"About GDevelop"}),onClickSendEvent:"main-menu-open-about"},{type:"separator"},{label:n._({id:"My Profile"}),onClickSendEvent:"main-menu-open-profile"},{label:n._({id:"Games Dashboard"}),onClickSendEvent:"main-menu-open-games-dashboard"},{label:n._({id:"Preferences"}),onClickSendEvent:"main-menu-open-preferences"},{label:n._({id:"Language"}),onClickSendEvent:"main-menu-open-language"},{type:"separator"},{role:"services",submenu:[]},{type:"separator"},{role:"hide"},{role:"hideothers"},{role:"unhide"},{type:"separator"},{role:"quit"}]}),l.submenu.push({type:"separator"},{label:n._({id:"Speech"}),submenu:[{role:"startspeaking"},{role:"stopspeaking"}]}),p.submenu=[{role:"minimize"},{role:"zoom"},{type:"separator"},{role:"front"}]),h},p=function(e,t){return function e(n){return n.map((function(n){var o=n.onClickSendEvent,i=n.onClickOpenLink,s=n.eventArgs,u=Object(a.a)(n,l),d=o||i;return Object(r.a)(Object(r.a)({},u),{},{click:d?function(){if(n.onClickSendEvent){var e=function(e,t){return{"main-menu-open":t.onChooseProject,"main-menu-open-recent":t.onOpenRecentFile,"main-menu-save":t.onSaveProject,"main-menu-save-as":t.onSaveProjectAs,"main-menu-close":t.onCloseProject,"main-menu-close-app":t.onCloseApp,"main-menu-export":t.onExportProject,"main-menu-create-template":t.onCreateProject,"main-menu-create-blank":t.onCreateBlank,"main-menu-open-project-manager":t.onOpenProjectManager,"main-menu-open-home-page":t.onOpenHomePage,"main-menu-open-debugger":t.onOpenDebugger,"main-menu-open-about":t.onOpenAbout,"main-menu-open-preferences":t.onOpenPreferences,"main-menu-open-language":t.onOpenLanguage,"main-menu-open-profile":t.onOpenProfile,"main-menu-open-games-dashboard":t.onOpenGamesDashboard,"update-status":t.setElectronUpdateStatus}[e]||function(){}}(n.onClickSendEvent,t);s?e(s):e()}n.onClickOpenLink&&c.b.openExternalURL(n.onClickOpenLink)}:void 0,submenu:n.submenu?e(n.submenu):void 0})}))}(e)}},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var r=n(2),a=n(34),o=n(19),i=n(0),s=n.n(i),c=n(9),u=n(17),l=n(534),d=n(319),b=n(312),p=n(297),j=n(372),h=n(295),f=n(436),g=n(327),m=n(306),O=n(305),v=n(8),x={audio:["audio/aac","audio/x-wav","audio/mpeg","audio/mp3","audio/ogg"],image:["image/jpeg","image/png","image/webp"],font:["font/ttf","font/otf"],video:["video/mp4","video/webm"],json:["application/json"],tilemap:["application/json"],tileset:["application/json"],bitmapFont:[]},y=function(e){var t=l.a.find((function(t){return t.kind===e}))||null,n=t?t.fileExtensions.map((function(e){return"."+e})):[],r=x[e]||[];return[].concat(Object(o.a)(r),Object(o.a)(n)).join(",")},C=function(e){var t=e.options,n=e.fileMetadata,o=e.getStorageProvider,i=e.onChooseResources,l=e.createNewResource,x=e.automaticallyOpenInput,C=u.useRef(null),k=u.useRef(!1),w=u.useContext(m.a),T=u.useContext(d.a),E=u.useState(null),S=Object(a.a)(E,2),P=S[0],I=S[1],A=u.useState(!1),D=Object(a.a)(A,2),F=D[0],M=D[1],_=u.useState([]),L=Object(a.a)(_,2),R=L[0],N=L[1],B=R.length>0,U=u.useMemo(o,[o]),H=n?n.fileIdentifier:null,W=u.useState(0),z=Object(a.a)(W,2),V=z[0],G=z[1],Z=u.useCallback(Object(r.a)(s.a.mark((function e(){var t,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C.current){e.next=3;break}return e.abrupt("return");case 3:if(H){e.next=5;break}return e.abrupt("return");case 5:return e.prev=5,M(!0),I(null),G(0),e.next=11,Object(j.p)(T,H,R,(function(e,t){G(e/t*100)}));case 11:if(t=e.sent,n=t.filter((function(e){return!!e.error})),r=t.filter((function(e){return!!e.url})),!n.length){e.next=18;break}throw n[0];case 18:r.length&&i(r.map((function(e){var t=e.url,n=e.resourceFile,r=l();return r.setFile(t||""),r.setName(n.name),r.setOrigin("cloud-project-resource",t||""),r})));case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(5),I(e.t0);case 24:return e.prev=24,M(!1),e.finish(24);case 27:case"end":return e.stop()}}),e,null,[[5,21,24,27]])}))),[R,T,i,l,H]),Y=R.map((function(e){return e.size>j.b?{filename:e.name,error:"too-large"}:null})).filter(Boolean),q="Cloud"===U.internalName&&!!n,X=!!T.authenticated,J=!F&&X&&q;u.useLayoutEffect((function(){x&&!k.current&&(k.current=!0,C.current&&C.current.click())}),[x]);var K=!F&&J&&B&&0===Y.length;return u.useEffect((function(){K&&!P&&Z()}),[K,Z,P]),Object(v.jsxs)(p.a,{noMargin:!0,children:[X?q?null:Object(v.jsx)(b.a,{kind:"warning",children:Object(v.jsx)(c.Trans,{id:"Your need to first save your game on GDevelop Cloud to upload your own resources."})}):Object(v.jsx)(b.a,{kind:"warning",children:Object(v.jsx)(c.Trans,{id:"Your need to first create your account, or login, to upload your own resources."})}),Object(v.jsx)(g.a,{variant:"outlined",background:"medium",children:Object(v.jsx)(h.c,{expand:!0,children:Object(v.jsx)(h.a,{expand:!0,children:Object(v.jsx)("input",{accept:y(t.resourceKind),style:{color:w.text.color.primary},multiple:t.multiSelection,type:"file",ref:C,disabled:!J,onChange:function(e){for(var t=[],n=0;n<e.currentTarget.files.length;n++)t.push(e.currentTarget.files[n]);N(t),I(null)}})})})}),Y.map((function(e){return"too-large"===e.error?Object(v.jsx)(b.a,{kind:"error",children:Object(v.jsx)(c.Trans,{id:"The file {0} is too large. Use files that are smaller for your game: each must be less than {1} MB.",values:{0:e.filename,1:j.b/1e3/1e3}})}):Object(v.jsx)(b.a,{kind:"error",children:Object(v.jsx)(c.Trans,{id:"The file {0} is invalid.",values:{0:e.filename}})})})),P&&Object(v.jsx)(b.a,{kind:"error",children:Object(v.jsx)(c.Trans,{id:"There was an error while uploading some resources. Verify your internet connection or try again later."})}),Object(v.jsx)(p.b,{alignItems:"center",justifyContent:"stretch",expand:!0,children:F?Object(v.jsx)(f.a,{expand:!0,value:V,variant:"determinate"}):null}),P&&Object(v.jsx)(h.c,{noMargin:!0,expand:!0,justifyContent:"flex-end",children:Object(v.jsx)(O.a,{primary:!0,label:Object(v.jsx)(c.Trans,{id:"Retry"}),onClick:Z})})]})}},function(e,t,n){"use strict";n.d(t,"d",(function(){return d})),n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return j}));var r=n(1),a=n(2),o=n(0),i=n.n(o),s=n(534),c=n(95),u=n(354),l=n(493),d=function(){var e=Object(a.a)(i.a.mark((function e(t){var n,r,a,o,d,b;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.project,r=t.baseNameForNewResources,a=t.resources,o=t.resourceKind,d=n.getResourcesManager(),b=a.map((function(e){var t=e.name,a=e.dataUrl,i=e.localFilePath,b=e.extension,p=e.originalIndex,j=Object(l.c)(a),h=j?URL.createObjectURL(j):"";if(t&&d.hasResource(t)){console.info("Updating resource "+t+".");var f=d.getResource(t);return f.setFile(h),Object(u.k)(f,{localFilePath:i,extension:b}),{resource:f,originalIndex:p,blobUrl:h}}var g=Object(c.a)(r,(function(e){return d.hasResource(e)}));console.info("Creating new resource "+g+"...");var m=Object(s.b)(o);return m?(m.setName(g),m.setFile(h),m.setMetadata(JSON.stringify({localFilePath:i,extension:b})),Object(u.a)(n,m),d.addResource(m),m.delete(),{resource:d.getResource(g),originalIndex:p,blobUrl:h}):(console.error("Could not create a resource for kind: "+o),null)})).filter(Boolean),e.abrupt("return",b);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(e){var t=e.modifiedResources,n=e.metadataKey,a=e.metadata;t.forEach((function(e){var t=e.resource,o=e.blobUrl;URL.revokeObjectURL(o),a&&Object(u.k)(t,Object(r.a)({},n,a))}))},p=function(e,t){t&&"object"===typeof t&&Array.isArray(t.resourceNames)&&(t.resourceNames=e)},j=function(e,t){if(!t)return null;try{var n=JSON.parse(t);if(n&&"object"===typeof n&&n[e])return n[e]}catch(r){console.warn("Malformed metadata for a resource - ignoring it.",r)}return null}},,,function(e,t,n){var r=n(1044),a=function(e,t,n){if(!n.runExtensionSanityTests)return{error:!0,message:"Missing runExtensionSanityTests in the extension module exports"};var a=n.runExtensionSanityTests(e,t);return r(a)?{error:!0,message:"One or more tests are failing for the extension (see rawError)",rawError:a}:{error:!1,message:"Tests passed successfully"}};e.exports={runExtensionSanityTests:a,loadExtension:function(e,t,n,r){if(!r.createExtension)return{message:"Extension module found, but no createExtension method is exported",error:!0};var o=null;try{if(!(o=r.createExtension(e,t)))return{message:"createExtension did not return any extension. Did you forget to return the extension created?",error:!0}}catch(s){return{message:"\ud83d\udea8 Exception caught while running createExtension. \ud83d\udca3 Please fix this error as this will make GDevelop crash at some point.",error:!0,dangerous:!0,rawError:s}}try{var i=a(t,o,r);if(i.error)return o.delete(),i}catch(s){return{message:"\ud83d\udea8 Exception caught while running runExtensionSanityTests. \ud83d\udca3 Please fix this error as this will make GDevelop crash at some point.",error:!0,dangerous:!0,rawError:s}}return n.addNewExtension(o),o.delete(),{message:"\u2705 Successfully loaded the extension.",error:!1}}}},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=/[/?<>\\:*|"]/g,a=/[\x00-\x1f\x80-\x9f]/g,o=/^\.+$/,i=/^(con|prn|aux|nul|com[0-9]|lpt[0-9])(\..*)?$/i,s=/[. ]+$/,c=/[&$+/=?@#]/g,u=/[|^%]/g,l="_";function d(e){return e.replace(r,l).replace(c,l).replace(u,l).replace(a,l).replace(o,l).replace(i,l).replace(s,l)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(2),a=n(0),o=n.n(a),i=n(372),s=n(451),c=n(493),u=n(354),l=function(){var e=Object(r.a)(o.a.mark((function e(t){var n,r,a,l,d,b,p,j,h,f,g,m;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.project,r=t.authenticatedUser,a=t.oldFileMetadata,l=t.newFileMetadata,t.oldStorageProvider,d=t.oldStorageProviderOperations,t.newStorageProvider,t.newStorageProviderOperations,b=t.onProgress,p={erroredResources:[]},j=l.fileIdentifier,h=function(e){var t=e.getResourcesManager();return t.getAllResourceNames().toJSArray().map((function(e){var n=t.getResource(e),r=n.getFile();return Object(u.h)(r)?Object(s.c)(r)?Object(i.i)(r)===j?null:{resource:n,url:r,filename:Object(i.h)(r)}:Object(u.e)(r)?(p.erroredResources.push({resourceName:n.getName(),error:new Error("Unsupported blob URL.")}),null):null:(p.erroredResources.push({resourceName:n.getName(),error:new Error("Unsupported relative file.")}),null)})).filter(Boolean)},f=h(n),d.onEnsureCanAccessResources&&d.onEnsureCanAccessResources(n,a),e.next=8,Object(c.d)({urlContainers:f,onProgress:function(e,t){b(e,2*t)}});case 8:return g=e.sent,m=Object(c.b)(g,(function(e,t){p.erroredResources.push({resourceName:e,error:t})})),e.next=12,Object(i.k)(r,j);case 12:return e.next=14,Object(i.p)(r,j,m.map((function(e){return e.file})),(function(e,t){b(t+e,2*t)}));case 14:return e.sent.forEach((function(e,t){var n=e.url,r=e.error,a=m[t].resource;!r&&n?a.setFile(n):p.erroredResources.push({resourceName:a.getName(),error:r||new Error("Unknown error during upload.")})})),e.abrupt("return",p);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(2),a=n(0),o=n.n(a),i=n(476),s=n.n(i),c=n(40),u=n.n(c),l=n(354),d=function(){var e=Object(r.a)(o.a.mark((function e(t){var n,a,i,c,d,b,p,j,h,f;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.project,a=t.fileMetadata,i=t.onProgress,c=n.getResourcesManager(),d=c.getAllResourceNames().toJSArray(),b=[],p=a.fileIdentifier,j=p.substr(0,p.lastIndexOf("/")+1),Object(l.f)(j)){e.next=8;break}return e.abrupt("return",{erroredResources:[]});case 8:return h=0,f=d.filter((function(e){var t=c.getResource(e);return!Object(l.h)(t.getFile())})),e.next=12,s.a.withConcurrency(20).for(f).process(function(){var e=Object(r.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.getResource(t),e.prev=1,r=new URL(n.getFile(),j).href,e.next=5,u.a.get(r,{timeout:3e3});case 5:n.setFile(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),b.push({resourceName:t,error:e.t0});case 11:i(h++,f.length);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}());case 12:return e.abrupt("return",{erroredResources:b});case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(2),a=n(0),o=n.n(a),i=n(372),s=n(493),c=n(431),u=n(354),l=n(1256),d=function(){var e=Object(r.a)(o.a.mark((function e(t){var n,r,a,d,b,p,j,h,f,g;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.project,r=t.fileMetadata,a=t.authenticatedUser,d=t.onProgress,b={erroredResources:[]},p=r.fileIdentifier,j=function(e){var t=e.getResourcesManager();return t.getAllResourceNames().toJSArray().map((function(e){var n=t.getResource(e),r=n.getFile();if(Object(u.h)(r)){if(Object(c.e)(r))return{resource:n,url:r,filename:Object(c.b)(r)};if(Object(u.e)(r)){var a=Object(u.i)(n).extension;return{resource:n,url:r,filename:Object(l.a)(n.getName()+(a||""))}}return null}return b.erroredResources.push({resourceName:n.getName(),error:new Error("Unsupported relative file.")}),null})).filter(Boolean)},h=j(n),e.next=7,Object(s.d)({urlContainers:h,onProgress:function(e,t){d(e,2*t)}});case 7:return f=e.sent,g=Object(s.b)(f,(function(e,t){b.erroredResources.push({resourceName:e,error:t})})),e.next=11,Object(i.k)(a,p);case 11:return e.next=13,Object(i.p)(a,p,g.map((function(e){return e.file})),(function(e,t){d(t+e,2*t)}));case 13:return e.sent.forEach((function(e,t){var n=e.url,r=e.error,a=g[t].resource;!r&&n?a.setFile(n):b.erroredResources.push({resourceName:a.getName(),error:r||new Error("Unknown error during upload.")})})),e.abrupt("return",b);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},,,,,,function(e,t,n){"use strict";var r=n(17),a=n.n(r),o=n(6),i=n(5),s=n(10),c=n(11),u=n(1180),l=n.n(u),d=n(1182),b=n.n(d),p=n(407),j=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return this.props.children}}]),n}(r.Component),h=Object(p.DragDropContext)(l()(b.a))(j),f=n(3),g=n(2),m=n(0),O=n.n(m),v=n(9),x=n(411),y=n(520),C=(n(67),n(23),n(34)),k=n(298),w=n(303),T=n(295),E=n(311),S=n(369),P=n(296),I=n(347),A=n(297),D=n(345),F=n(364),M=n(471),_=n(8),L={circularProgress:{height:20,width:20}},R=function(e,t){return!(!t||!t.allowEmpty||""!==e)||!!e&&/^[\w|-]+$/.test(e)&&e.length<31},N=Object(_.jsx)(v.Trans,{id:"Please pick a short username with only alphanumeric characters as well as _ and -"}),B=Object(_.jsx)(v.Trans,{id:"This username is already used, please pick another one."}),U=function(e){var t=e.initialUsername,n=e.value,a=e.onChange,o=e.errorText,i=e.allowEmpty,s=e.onAvailabilityChecked,c=e.onAvailabilityCheckLoading,u=e.isValidatingUsername,l=e.disabled,d=R(n,{allowEmpty:!!i})?void 0:N,b=r.useState(null),p=Object(C.a)(b,2),j=p[0],h=p[1],f=function(e){var t=e.usernameAvailability,n=e.error;s(t),h(n),c(!1)},m=Object(M.a)(function(){var e=Object(g.a)(O.a.mark((function e(n){var r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||t.toLowerCase()!==n.toLowerCase()){e.next=3;break}return f({usernameAvailability:{username:n,isAvailable:!0},error:null}),e.abrupt("return");case 3:if(n&&R(n,{allowEmpty:!!i})){e.next=6;break}return f({usernameAvailability:null,error:null}),e.abrupt("return");case 6:return e.prev=6,e.next=9,Object(y.d)(n);case 9:if(r=e.sent){e.next=14;break}throw new Error("Could not get username availability.");case 14:f({usernameAvailability:r,error:r.isAvailable?null:B});case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(6),console.error("Unable to check username availability.",e.t0),f({usernameAvailability:null,error:null});case 21:case"end":return e.stop()}}),e,null,[[6,17]])})));return function(t){return e.apply(this,arguments)}}(),500);return r.useEffect((function(){m(n)}),[n,m]),Object(_.jsx)(E.b,{autoFocus:"desktop",value:n,floatingLabelText:Object(_.jsx)(v.Trans,{id:"Username"}),fullWidth:!0,onChange:function(e,t){a(e,t),t&&c(!0)},errorText:d||j||o,endAdornment:u&&Object(_.jsx)(F.a,{style:L.circularProgress}),disabled:l})},H=n(340),W=n(318),z=n(590),V=n(393),G=n(309),Z=function(e){if(e)return"auth/invalid-email"===e.code?Object(_.jsx)(v.Trans,{id:"This email is invalid."}):"auth/user-disabled"===e.code?Object(_.jsx)(v.Trans,{id:"The user was disabled."}):"auth/user-not-found"===e.code?Object(_.jsx)(v.Trans,{id:"This user was not found: have you created your account?"}):"auth/email-already-in-use"===e.code?Object(_.jsx)(v.Trans,{id:"This email was already used for another account."}):"auth/operation-not-allowed"===e.code?Object(_.jsx)(v.Trans,{id:"Service seems to be unavailable, please try again later."}):"auth/requires-recent-login"===e.code?Object(_.jsx)(v.Trans,{id:"Please log out and log in again to verify your identify, then change your email."}):void 0},Y=function(e){if(e)return"auth/too-many-requests"===e.code?Object(_.jsx)(v.Trans,{id:"That's a lot of unsuccessful login attempts! Wait a bit before trying again or reset your password."}):"auth/wrong-password"===e.code?Object(_.jsx)(v.Trans,{id:"The password is invalid."}):"auth/weak-password"===e.code?Object(_.jsx)(v.Trans,{id:"This password is too weak: please use more letters and digits."}):void 0},q=function(e){var t=e.onClose,n=e.onGoToLogin,r=e.onCreateAccount,o=e.createAccountInProgress,i=e.error,s=Object(G.b)(),c={formContainer:{width:"small"==={windowWidth:s}.windowWidth?"95%":"60%",marginTop:20}},u=a.a.useState(""),l=Object(C.a)(u,2),d=l[0],b=l[1],p=a.a.useState(""),j=Object(C.a)(p,2),h=j[0],f=j[1],m=a.a.useState(""),x=Object(C.a)(m,2),y=x[0],F=x[1],M=a.a.useState(!1),L=Object(C.a)(M,2),N=L[0],B=L[1],q=a.a.useState(null),X=Object(C.a)(q,2),J=X[0],K=X[1],Q=a.a.useState(!1),$=Object(C.a)(Q,2),ee=$[0],te=$[1],ne=!o&&R(y,{allowEmpty:!0})&&!ee&&(!J||J.isAvailable),re=function(){var e=Object(g.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ne){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,r({email:d.trim(),password:h,username:y,getNewsletterEmail:N});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(){return e.apply(this,arguments)}}();return Object(_.jsx)(w.c,{title:null,id:"create-account-dialog",actions:[Object(_.jsx)(k.a,{label:Object(_.jsx)(v.Trans,{id:"Cancel"}),disabled:o,primary:!1,onClick:t},"close"),Object(_.jsx)(S.a,{isLoading:o,children:Object(_.jsx)(w.a,{label:Object(_.jsx)(v.Trans,{id:"Create account"}),id:"create-account-button",primary:!0,disabled:!ne,onClick:re})},"create-account")],secondaryActions:[Object(_.jsx)(W.a,{helpPagePath:"/interface/profile"},"help")],cannotBeDismissed:o,onApply:re,onRequestClose:function(){o||t()},maxWidth:"sm",open:!0,children:Object(_.jsxs)(A.a,{noMargin:!0,expand:!0,justifyContent:"center",alignItems:"center",children:[Object(_.jsx)(z.a,{fontSize:"large"}),Object(_.jsx)(P.a,{size:"title",align:"center",children:Object(_.jsx)(v.Trans,{id:"Sign up for free!"})}),Object(_.jsxs)(T.a,{noMargin:!0,alignItems:"center",children:[Object(_.jsx)(P.a,{size:"body2",noMargin:!0,align:"center",children:Object(_.jsx)(v.Trans,{id:"Welcome to GDevelop!"})}),Object(_.jsxs)(A.b,{noMargin:!0,children:[Object(_.jsx)(P.a,{size:"body2",noMargin:!0,align:"center",children:Object(_.jsx)(v.Trans,{id:"Already a member?"})}),Object(_.jsx)(V.a,{href:"#",onClick:n,disabled:o,children:Object(_.jsx)(P.a,{size:"body2",noMargin:!0,color:"inherit",children:Object(_.jsx)(v.Trans,{id:"Log in to your account"})})})]})]}),Object(_.jsx)("div",{style:c.formContainer,children:Object(_.jsx)("form",{onSubmit:function(e){e.preventDefault(),re()},autoComplete:"on",name:"createAccount",children:Object(_.jsxs)(A.a,{noMargin:!0,children:[Object(_.jsx)(U,{value:y,onChange:function(e,t){F(t)},allowEmpty:!0,onAvailabilityChecked:K,onAvailabilityCheckLoading:te,isValidatingUsername:ee,disabled:o}),Object(_.jsx)(E.b,{value:d,floatingLabelText:Object(_.jsx)(v.Trans,{id:"Email"}),errorText:Z(i),fullWidth:!0,required:!0,onChange:function(e,t){b(t)},onBlur:function(e){b(e.currentTarget.value.trim())},disabled:o}),Object(_.jsx)(E.b,{value:h,floatingLabelText:Object(_.jsx)(v.Trans,{id:"Password"}),errorText:Y(i),type:"password",fullWidth:!0,required:!0,onChange:function(e,t){f(t)},disabled:o}),Object(_.jsx)(H.a,{label:Object(_.jsx)(v.Trans,{id:"I want to receive the GDevelop Newsletter"}),checked:N,onCheck:function(e,t){B(t)},disabled:o}),Object(_.jsx)("input",{type:"submit",value:"Submit",style:{display:"none"}})]})})}),Object(_.jsx)(I.a,{children:Object(_.jsx)(D.a,{translatableSource:{id:"By creating an account and using GDevelop, you agree to the [Terms and Conditions](https://gdevelop.io/page/terms-and-conditions)."}})})]})})},X=/^(.+)@(.+)$/,J=function(e){var t=e.onClose,n=e.onForgotPassword,r=a.a.useState(""),o=Object(C.a)(r,2),i=o[0],s=o[1],c=a.a.useState(!1),u=Object(C.a)(c,2),l=u[0],d=u[1],b=a.a.useState(!1),p=Object(C.a)(b,2),j=p[0],h=p[1],f=a.a.useState(!0),m=Object(C.a)(f,2),x=m[0],y=m[1],I=function(){var e=Object(g.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.trim(),s(t),y(X.test(t)),!j&&i&&x){e.next=5;break}return e.abrupt("return");case 5:return h(!0),e.next=8,n({email:i});case 8:h(!1),d(!0);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(_.jsx)(w.c,{title:Object(_.jsx)(v.Trans,{id:"Reset your password"}),open:!0,actions:[Object(_.jsx)(k.a,{label:Object(_.jsx)(v.Trans,{id:"Close"}),onClick:t,disabled:j},"close"),l?null:Object(_.jsx)(S.a,{isLoading:j,children:Object(_.jsx)(w.a,{label:Object(_.jsx)(v.Trans,{id:"Reset password"}),primary:!0,onClick:I,disabled:j||!x})},"reset")],cannotBeDismissed:j,onRequestClose:t,maxWidth:"xs",onApply:I,children:l?Object(_.jsx)(T.a,{noMargin:!0,children:Object(_.jsx)(P.a,{children:Object(_.jsx)(v.Trans,{id:"You should have received an email containing instructions to reset and set a new password. Once it's done, you can use your new password in GDevelop."})})}):Object(_.jsx)("form",{onSubmit:function(e){e.preventDefault(),I()},autoComplete:"on",name:"resetPassword",children:Object(_.jsx)(T.a,{noMargin:!0,children:Object(_.jsx)(E.b,{autoFocus:"desktop",value:i,floatingLabelText:Object(_.jsx)(v.Trans,{id:"Email"}),onChange:function(e,t){x||y(!0),s(t)},errorText:x?void 0:Object(_.jsx)(v.Trans,{id:"Invalid email address."}),fullWidth:!0,onBlur:function(e){var t=e.currentTarget.value.trim();s(t),y(X.test(t))}})})})})},K={formContainer:{width:"60%",marginTop:20}},Q=function(e){var t=e.onClose,n=e.onGoToCreateAccount,r=e.onLogin,o=e.onForgotPassword,i=e.loginInProgress,s=e.error,c=a.a.useState(""),u=Object(C.a)(c,2),l=u[0],d=u[1],b=a.a.useState(""),p=Object(C.a)(b,2),j=p[0],h=p[1],f=a.a.useState(!1),g=Object(C.a)(f,2),m=g[0],O=g[1],x=function(){i||r({email:l.trim(),password:j})},y=[Object(_.jsx)(k.a,{label:Object(_.jsx)(v.Trans,{id:"Cancel"}),disabled:i,primary:!1,onClick:t},"cancel"),Object(_.jsx)(S.a,{isLoading:i,children:Object(_.jsx)(w.a,{id:"login-button",label:Object(_.jsx)(v.Trans,{id:"Login"}),primary:!0,onClick:x,disabled:i})},"login")];return Object(_.jsxs)(w.c,{title:null,id:"login-dialog",actions:y,secondaryActions:[Object(_.jsx)(W.a,{helpPagePath:"/interface/profile"},"help")],cannotBeDismissed:i,onRequestClose:t,onApply:function(){m||x()},maxWidth:"sm",open:!0,children:[Object(_.jsxs)(A.a,{noMargin:!0,expand:!0,justifyContent:"center",alignItems:"center",children:[Object(_.jsx)(z.a,{fontSize:"large"}),Object(_.jsx)(P.a,{size:"title",align:"center",children:Object(_.jsx)(v.Trans,{id:"Log in to your account"})}),Object(_.jsxs)(T.a,{noMargin:!0,alignItems:"center",children:[Object(_.jsx)(P.a,{size:"body2",noMargin:!0,children:Object(_.jsx)(v.Trans,{id:"Don't have an account yet?"})}),Object(_.jsx)(V.a,{href:"",onClick:n,disabled:i,children:Object(_.jsx)(P.a,{size:"body2",noMargin:!0,color:"inherit",children:Object(_.jsx)(v.Trans,{id:"Create an account"})})})]}),Object(_.jsx)("div",{style:K.formContainer,children:Object(_.jsx)("form",{onSubmit:function(e){e.preventDefault(),x()},autoComplete:"on",name:"login",children:Object(_.jsxs)(A.a,{noMargin:!0,children:[Object(_.jsx)(E.b,{autoFocus:"desktop",value:l,floatingLabelText:Object(_.jsx)(v.Trans,{id:"Email"}),errorText:Z(s),onChange:function(e,t){d(t)},onBlur:function(e){d(e.currentTarget.value.trim())},fullWidth:!0,disabled:i}),Object(_.jsx)(E.b,{value:j,floatingLabelText:Object(_.jsx)(v.Trans,{id:"Password"}),errorText:Y(s),type:"password",onChange:function(e,t){h(t)},fullWidth:!0,disabled:i}),Object(_.jsx)("input",{type:"submit",value:"Submit",style:{display:"none"}})]})})}),Object(_.jsx)(V.a,{href:"",onClick:function(){return O(!0)},disabled:i,children:Object(_.jsx)(P.a,{size:"body2",noMargin:!0,color:"inherit",children:Object(_.jsx)(v.Trans,{id:"Did you forget your password?"})})})]}),m&&Object(_.jsx)(J,{onClose:function(){return O(!1)},onForgotPassword:o})]})},$=n(54),ee=n(319),te=function(e){if(e)return"auth/username-used"===e.code?B:"auth/malformed-username"===e.code?N:void 0},ne=/^https:\/\/[^ ]+$/,re=Object(_.jsx)(v.Trans,{id:"Please enter a valid URL, starting with https://"}),ae=function(e){var t=e.profile,n=e.onClose,r=e.onEdit,o=e.updateProfileInProgress,i=e.error,s=a.a.useState(t.username||""),c=Object(C.a)(s,2),u=c[0],l=c[1],d=a.a.useState(t.description||""),b=Object(C.a)(d,2),p=b[0],j=b[1],h=a.a.useState(t.donateLink||""),f=Object(C.a)(h,2),g=f[0],m=f[1],O=a.a.useState(!!t.getGameStatsEmail),x=Object(C.a)(O,2),y=x[0],T=x[1],P=a.a.useState(!!t.getNewsletterEmail),I=Object(C.a)(P,2),D=I[0],F=I[1],M=a.a.useState(null),L=Object(C.a)(M,2),N=L[0],B=L[1],W=a.a.useState(!1),z=Object(C.a)(W,2),V=z[0],G=z[1],Z=!o&&R(u,{allowEmpty:!1})&&!V&&(!N||N.isAvailable),Y=g&&!ne.test(g)?re:void 0,q=function(){Z&&r({username:u,description:p,getGameStatsEmail:y,getNewsletterEmail:D,donateLink:g})},X=[Object(_.jsx)(k.a,{label:Object(_.jsx)(v.Trans,{id:"Back"}),disabled:o,primary:!1,onClick:n},"back"),Object(_.jsx)(S.a,{isLoading:o,children:Object(_.jsx)(w.a,{label:Object(_.jsx)(v.Trans,{id:"Save"}),primary:!0,disabled:!Z,onClick:q})},"edit")];return Object(_.jsx)(v.I18n,{children:function(e){var r=e.i18n;return Object(_.jsx)(w.c,{title:Object(_.jsx)(v.Trans,{id:"Edit your GDevelop profile"}),actions:X,maxWidth:"sm",cannotBeDismissed:o,onRequestClose:n,onApply:q,open:!0,children:Object(_.jsx)("form",{onSubmit:function(e){e.preventDefault(),q()},autoComplete:"on",name:"editProfile",children:Object(_.jsxs)(A.a,{noMargin:!0,children:[Object(_.jsx)(U,{initialUsername:t.username,value:u,onChange:function(e,t){l(t)},errorText:te(i),onAvailabilityChecked:B,onAvailabilityCheckLoading:G,isValidatingUsername:V,disabled:o}),Object(_.jsx)(E.b,{value:p,floatingLabelText:Object(_.jsx)(v.Trans,{id:"Bio"}),fullWidth:!0,multiline:!0,rows:3,rowsMax:5,translatableHintText:{id:"What are you using GDevelop for?"},onChange:function(e,t){j(t)},disabled:o,floatingLabelFixed:!0}),Object(_.jsx)(E.b,{value:g,floatingLabelText:Object(_.jsx)(v.Trans,{id:"Donate link"}),fullWidth:!0,translatableHintText:{id:"Do you have a Patreon? Ko-fi? Paypal?"},onChange:function(e,t){m(t)},disabled:o,floatingLabelFixed:!0,helperMarkdownText:r._({id:"Add a link to your donation page. It will be displayed on your gd.games profile and game pages."}),errorText:Y}),Object(_.jsx)(H.a,{label:Object(_.jsx)(v.Trans,{id:"I want to receive the GDevelop Newsletter"}),checked:D,onCheck:function(e,t){F(t)},disabled:o}),Object(_.jsx)(H.a,{label:Object(_.jsx)(v.Trans,{id:"I want to receive weekly stats about my games"}),checked:y,onCheck:function(e,t){T(t)},disabled:o}),Object(_.jsx)("input",{type:"submit",value:"Submit",style:{display:"none"}})]})})})}})},oe=function(e){var t=e.onClose,n=e.onChangeEmail,r=e.firebaseUser,o=e.changeEmailInProgress,i=e.error,s=a.a.useState(r.email),c=Object(C.a)(s,2),u=c[0],l=c[1],d=a.a.useState(!0),b=Object(C.a)(d,2),p=b[0],j=b[1],h=function(){var e=Object(g.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u.trim(),l(t),j(X.test(t)),!o&&u&&p){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,n({email:u});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(_.jsx)(w.c,{title:Object(_.jsx)(v.Trans,{id:"Change your email"}),actions:[Object(_.jsx)(k.a,{label:Object(_.jsx)(v.Trans,{id:"Back"}),disabled:o,primary:!1,onClick:t},"back"),Object(_.jsx)(S.a,{isLoading:o,children:Object(_.jsx)(w.a,{label:Object(_.jsx)(v.Trans,{id:"Save"}),primary:!0,onClick:h,disabled:o})},"change-email")],maxWidth:"xs",cannotBeDismissed:o,onRequestClose:t,onApply:h,open:!0,children:Object(_.jsx)("form",{onSubmit:function(e){e.preventDefault(),h()},autoComplete:"on",name:"changeEmail",children:Object(_.jsx)(A.a,{noMargin:!0,children:Object(_.jsx)(E.b,{value:u,floatingLabelText:Object(_.jsx)(v.Trans,{id:"Email"}),errorText:Z(i)||(p?null:Object(_.jsx)(v.Trans,{id:"Invalid email address"})),fullWidth:!0,disabled:o,required:!0,onChange:function(e,t){p||j(!0),l(t)},onBlur:function(e){var t=e.currentTarget.value.trim();l(t),j(X.test(t))}})})})})},ie=n(519),se=n(305),ce=n(905),ue=a.a.memo((function(e){return Object(_.jsxs)(ce.a,Object(f.a)(Object(f.a)({},e),{},{width:"11",height:"12",viewBox:"0 0 11 12",style:{fill:"none"},children:[Object(_.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 1.66663C4.07953 1.66663 3.33333 2.41282 3.33333 3.33329C3.33333 4.25377 4.07953 4.99996 5 4.99996C5.92048 4.99996 6.66667 4.25377 6.66667 3.33329C6.66667 2.41282 5.92048 1.66663 5 1.66663ZM2.33333 3.33329C2.33333 1.86053 3.52724 0.666626 5 0.666626C6.47276 0.666626 7.66667 1.86053 7.66667 3.33329C7.66667 4.80605 6.47276 5.99996 5 5.99996C3.52724 5.99996 2.33333 4.80605 2.33333 3.33329Z",fill:"currentColor"}),Object(_.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.16667 7.83329C2.6693 7.83329 1.58173 8.88923 1.0908 9.71832C0.998733 9.8738 1.02215 9.99692 1.10056 10.1007C1.1926 10.2224 1.38217 10.3333 1.63302 10.3333H5.16667C5.44281 10.3333 5.66667 10.5572 5.66667 10.8333C5.66667 11.1094 5.44281 11.3333 5.16667 11.3333H1.63302C1.09754 11.3333 0.600568 11.0976 0.302804 10.7036C-0.00859044 10.2917 -0.0782384 9.72992 0.230335 9.2088C0.901565 8.07522 2.3165 6.83329 5.16667 6.83329C5.44281 6.83329 5.66667 7.05715 5.66667 7.33329C5.66667 7.60944 5.44281 7.83329 5.16667 7.83329Z",fill:"currentColor"}),Object(_.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.1261 7.42795C10.3499 7.58963 10.4004 7.90217 10.2387 8.12604L8.07201 11.126C7.98157 11.2513 7.83834 11.3276 7.68398 11.333C7.52961 11.3383 7.38144 11.272 7.28256 11.1534L6.44922 10.1534C6.27244 9.94125 6.3011 9.62596 6.51324 9.44918C6.72538 9.2724 7.04066 9.30106 7.21744 9.5132L7.63844 10.0184L9.42799 7.54055C9.58967 7.31668 9.90222 7.26627 10.1261 7.42795Z",fill:"currentColor"})]}))}));function le(e){var t=e.onClose,n=e.authenticatedUser,r=e.sendEmailAutomatically,o=e.showSendEmailButton,i=e.onSendEmail,s=!!n.firebaseUser&&!!n.firebaseUser.emailVerified,c=a.a.useState(!1),u=Object(C.a)(c,2),l=u[0],d=u[1];return a.a.useEffect((function(){!s&&r&&i()}),[s,i,r]),Object(ie.a)((function(){n.onRefreshFirebaseProfile().catch((function(){}))}),s?null:5e3),Object(_.jsx)(w.c,{title:null,actions:[s?Object(_.jsx)(w.a,{label:Object(_.jsx)(v.Trans,{id:"Done!"}),primary:!0,onClick:t},"close"):Object(_.jsx)(k.a,{label:Object(_.jsx)(v.Trans,{id:"I'll do it later"}),primary:!1,onClick:t},"close")],maxWidth:"sm",open:!0,onRequestClose:t,onApply:t,children:Object(_.jsxs)(A.a,{noMargin:!0,expand:!0,justifyContent:"center",alignItems:"center",children:[Object(_.jsx)(z.a,{fontSize:"large"}),n.firebaseUser?n.firebaseUser.emailVerified?Object(_.jsxs)(A.b,{justifyContent:"center",alignItems:"center",children:[Object(_.jsx)(ue,{}),Object(_.jsx)(P.a,{size:"title",align:"center",children:Object(_.jsx)(v.Trans,{id:"Email verified"})})]}):Object(_.jsxs)(A.a,{noMargin:!0,alignItems:"center",children:[Object(_.jsx)(P.a,{size:"title",align:"center",children:Object(_.jsx)(v.Trans,{id:"Confirm your email"})}),Object(_.jsx)(P.a,{align:"center",children:Object(_.jsx)(v.Trans,{id:"You will get access to special discounts on the GDevelop asset store, as well as weekly stats about your games."})}),!l&&o?Object(_.jsx)(se.a,{primary:!0,label:Object(_.jsx)(v.Trans,{id:"Send it again"}),onClick:function(){d(!0),i()}}):Object(_.jsx)(I.a,{children:Object(_.jsxs)(A.b,{justifyContent:"center",alignItems:"center",children:[Object(_.jsx)(F.a,{size:20}),Object(_.jsx)(P.a,{children:Object(_.jsx)(v.Trans,{id:"Email sent to {0}, waiting for validation...",values:{0:n.firebaseUser.email}})})]})})]}):null]})})}var de=n(39),be=n(372),pe=be.d,je=n(370),he=n(322),fe=n(321),ge=n(406),me=n(324),Oe=[{value:"personal",label:{id:"Personal"}},{value:"student",label:{id:"Student"}},{value:"teacher",label:{id:"Teaching and Training"}},{value:"work-marketing",label:{id:"Marketing and Advertising"}},{value:"work-gamedev",label:{id:"Game studio"}},{value:"work-other",label:{id:"Work (other)"}},{value:"other",label:{id:"Other"}}],ve=[{value:"no-experience",label:{id:"None"}},{value:"nocode-experience",label:{id:"Some no-code or low-code engines"}},{value:"code-experience",label:{id:"Some code based engines (Unity, Unreal Engine...)"}},{value:"code-and-nocode-experience",label:{id:"Both low-code and code based engines"}}],xe=[{value:"friend",label:{id:"Friend/Word of mouth"}},{value:"search",label:{id:"Search engine"}},{value:"social",label:{id:"Social media"}},{value:"work",label:{id:"Work"}},{value:"school",label:{id:"School"}},{value:"youtube",label:{id:"Youtube"}},{value:"blog",label:{id:"Blog article"}},{value:"other",label:{id:"Other"}}],ye=[{value:"teach-students",label:{id:"Teach students the principles of Game Development and logic"}},{value:"train-workers",label:{id:"Train workers on specific scenarios"}},{value:"therapy",label:{id:"Develop tools for therapy or rehab"}},{value:"learning-support",label:{id:"Create learning supports for students"}},{value:"other",label:{id:"Other"}}],Ce=[{value:"learn-gamedev",label:{id:"Learn Game Development principles"}},{value:"create-fun",label:{id:"Create games for fun"}},{value:"create-community",label:{id:"Create games for my community"}},{value:"create-money",label:{id:"Create games for monetisation"}},{value:"other",label:{id:"Other"}}],ke=[{value:"1",label:{id:"1 person"}},{value:"2-4",label:{id:"2 to 4 people"}},{value:"5-9",label:{id:"5 to 9 people"}},{value:"10-19",label:{id:"10 to 19 people"}},{value:"20-99",label:{id:"20 to 99 people"}},{value:"100-299",label:{id:"100 to 299 people"}},{value:"300+",label:{id:"300 people or more"}}],we=function(e){var t=e.gdevelopUsage;return"teacher"===t||"work-marketing"===t||"work-gamedev"===t||"work-other"===t},Te=function(e){var t=e.gdevelopUsage,n=e.teamOrCompanySize,r=e.companyName,a=e.creationExperience,o=e.creationGoal,i=e.hearFrom;return!(!we({gdevelopUsage:t})||n&&r)||(!(!function(e){var t=e.gdevelopUsage;return!t||"personal"===t||"student"===t||"teacher"===t}({gdevelopUsage:t})||o)||!(i||t||a))},Ee=function(e){var t=e.profile,n=e.onClose,r=e.onSaveAdditionalUserInfo,o=e.updateInProgress,i=Object(G.b)(),s={formContainer:{width:"small"==={windowWidth:i}.windowWidth?"95%":"70%",marginTop:20}},c=a.a.useContext(ge.a).currentlyRunningInAppTutorial,u=a.a.useState(t.gdevelopUsage||""),l=Object(C.a)(u,2),d=l[0],b=l[1],p=a.a.useState(t.teamOrCompanySize||""),j=Object(C.a)(p,2),h=j[0],g=j[1],m=a.a.useState(t.companyName||""),O=Object(C.a)(m,2),x=O[0],y=O[1],E=a.a.useState(t.creationExperience||""),I=Object(C.a)(E,2),D=I[0],F=I[1],M=a.a.useState(t.creationGoal||""),L=Object(C.a)(M,2),R=L[0],N=L[1],B=a.a.useState(t.hearFrom||""),U=Object(C.a)(B,2),H=U[0],W=U[1],V=function(){o||r({gdevelopUsage:d,teamOrCompanySize:h,companyName:x,creationExperience:D,creationGoal:R,hearFrom:H})},Z={translatableHintText:{id:"Select one"},fullWidth:!0,disabled:o,disableUnderline:!0};if(c)return n(),null;var Y={usage:{title:Object(_.jsx)(v.Trans,{id:"What are you using GDevelop for?"}),options:Oe},teamOrCompanySize:we({gdevelopUsage:d})?{title:Object(_.jsx)(v.Trans,{id:"Company or Team size"}),options:ke}:void 0,companyName:we({gdevelopUsage:d})?{title:"teacher"===d?Object(_.jsx)(v.Trans,{id:"Company, University or School name"}):Object(_.jsx)(v.Trans,{id:"Company name"})}:void 0,creationExperience:{title:Object(_.jsx)(v.Trans,{id:"What kind of game engines have you used before?"}),options:ve},creationGoal:d&&"personal"!==d&&"student"!==d&&"teacher"!==d?void 0:{title:Object(_.jsx)(v.Trans,{id:"What do you want to accomplish with GDevelop?"}),options:"teacher"===d?ye:Ce},hearFrom:{title:Object(_.jsx)(v.Trans,{id:"How did you hear about GDevelop?"}),options:xe}};return Object(_.jsx)(w.c,{title:null,actions:[Object(_.jsx)(k.a,{label:Object(_.jsx)(v.Trans,{id:"Skip for now"}),primary:!1,onClick:n,disabled:o},"skip"),Object(_.jsx)(S.a,{isLoading:o,children:Object(_.jsx)(w.a,{label:Object(_.jsx)(v.Trans,{id:"Submit"}),primary:!0,onClick:V,disabled:o})},"submit-infos")],cannotBeDismissed:o,onApply:V,onRequestClose:function(){o||n()},maxWidth:"sm",open:!c,children:Object(_.jsxs)(A.a,{noMargin:!0,expand:!0,justifyContent:"center",alignItems:"center",children:[Object(_.jsx)(z.a,{fontSize:"large"}),Object(_.jsx)(P.a,{size:"title",align:"center",children:Object(_.jsx)(v.Trans,{id:"Tell us about yourself"})}),Object(_.jsx)(T.a,{noMargin:!0,alignItems:"center",children:Object(_.jsx)(P.a,{size:"body2",noMargin:!0,align:"center",children:Object(_.jsx)(v.Trans,{id:"Your answers will help us better understand our users and make the engine better for them. Of course, your answers will stay private and won't be sent to anyone else."})})}),Object(_.jsx)("div",{style:s.formContainer,children:Object(_.jsxs)(A.a,{noMargin:!0,children:[Object(_.jsx)(he.a,Object(f.a)(Object(f.a)({floatingLabelText:Y.usage.title,value:d,onChange:function(e,t,n){b(n)}},Z),{},{children:Y.usage.options.map((function(e){return Object(_.jsx)(fe.a,{value:e.value,primaryText:e.label},e.value)}))})),Y.teamOrCompanySize&&Object(_.jsx)(he.a,Object(f.a)(Object(f.a)({floatingLabelText:Y.teamOrCompanySize.title,value:h,onChange:function(e,t,n){g(n)}},Z),{},{children:Y.teamOrCompanySize.options.map((function(e){return Object(_.jsx)(fe.a,{value:e.value,primaryText:e.label},e.value)}))})),Y.companyName&&Object(_.jsx)(me.a,{floatingLabelText:Y.companyName.title,value:x,onChange:function(e){y((e||"").substr(0,60))},fullWidth:!0,disabled:o}),Object(_.jsx)(he.a,Object(f.a)(Object(f.a)({floatingLabelText:Y.creationExperience.title,value:D,onChange:function(e,t,n){F(n)}},Z),{},{children:Y.creationExperience.options.map((function(e){return Object(_.jsx)(fe.a,{value:e.value,primaryText:e.label},e.value)}))})),Y.creationGoal&&Object(_.jsx)(he.a,Object(f.a)(Object(f.a)({floatingLabelText:Y.creationGoal.title,value:R,onChange:function(e,t,n){N(n)}},Z),{},{children:Y.creationGoal.options.map((function(e){return Object(_.jsx)(fe.a,{value:e.value,primaryText:e.label},e.value)}))})),Object(_.jsx)(he.a,Object(f.a)(Object(f.a)({floatingLabelText:Y.hearFrom.title,value:H,onChange:function(e,t,n){W(n)}},Z),{},{children:Y.hearFrom.options.map((function(e){return Object(_.jsx)(fe.a,{value:e.value,primaryText:e.label},e.value)}))}))]})})]})})},Se=n(2730),Pe=n(19),Ie=function(){function e(t){Object(o.a)(this,e),this._promise=null,this._requestSender=t}return Object(i.a)(e,[{key:"launchRequestOrGetOngoingPromise",value:function(e){var t=this;return this._promise||(this._promise=this._requestSender.apply(this,Object(Pe.a)(e)).finally((function(){t._promise=null}))),this._promise}}]),e}(),Ae=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={authenticatedUser:ee.b,loginDialogOpen:!1,createAccountDialogOpen:!1,loginInProgress:!1,createAccountInProgress:!1,editProfileDialogOpen:!1,editInProgress:!1,additionalUserInfoDialogOpen:!1,authError:null,resetPasswordDialogOpen:!1,emailVerificationDialogOpen:!1,emailVerificationDialogProps:{sendEmailAutomatically:!1,showSendEmailButton:!1},forgotPasswordInProgress:!1,changeEmailDialogOpen:!1,changeEmailInProgress:!1,userSnackbarMessage:null},e._automaticallyUpdateUserProfile=!0,e._hasNotifiedUserAboutAdditionalInfo=!1,e._hasNotifiedUserAboutEmailVerification=!1,e._cloudProjectListingDeduplicator=new Ie(be.n),e._reloadFirebaseProfile=Object(g.a)(O.a.mark((function t(){var n,r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.authentication,t.prev=1,t.next=4,n.getFirebaseUser();case 4:if(r=t.sent){t.next=8;break}return e.setState((function(e){var t=e.authenticatedUser;return{authenticatedUser:Object(f.a)(Object(f.a)({},t),{},{authenticated:!1,profile:null,usages:null,limits:null,subscription:null})}})),t.abrupt("return",null);case 8:return e.setState((function(e){var t=e.authenticatedUser;return{authenticatedUser:Object(f.a)(Object(f.a)({},t),{},{authenticated:!0,firebaseUser:r})}})),t.abrupt("return",r);case 12:throw t.prev=12,t.t0=t.catch(1),console.error("Unable to fetch the authenticated Firebase user:",t.t0),t.t0;case 16:case"end":return t.stop()}}),t,null,[[1,12]])}))),e._fetchUserProfileWithoutThrowingErrors=Object(g.a)(O.a.mark((function t(){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e._fetchUserProfile();case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.error("Error while fetching the user profile - but ignoring it.",t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])}))),e._fetchUserProfile=Object(g.a)(O.a.mark((function t(){var n,r,a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.authentication,e.setState((function(e){var t=e.authenticatedUser;return{authenticatedUser:Object(f.a)(Object(f.a)({},t),{},{loginState:"loggingIn",cloudProjectsFetchingErrorLabel:null})}})),t.prev=2,t.next=5,e._reloadFirebaseProfile();case 5:if(r=t.sent){t.next=9;break}return e.setState((function(e){var t=e.authenticatedUser;return{authenticatedUser:Object(f.a)(Object(f.a)({},t),{},{loginState:"done"})}})),t.abrupt("return");case 9:t.next=15;break;case 11:throw t.prev=11,t.t0=t.catch(2),e.setState((function(e){var t=e.authenticatedUser;return{authenticatedUser:Object(f.a)(Object(f.a)({},t),{},{loginState:"done"})}})),t.t0;case 15:return Object(x.k)(n.getAuthorizationHeader,r.uid).then((function(t){return e.setState((function(e){var n=e.authenticatedUser;return{authenticatedUser:Object(f.a)(Object(f.a)({},n),{},{usages:t})}}))}),(function(e){console.error("Error while loading user usages:",e)})),Object(x.j)(n.getAuthorizationHeader,r.uid).then((function(t){return e.setState((function(e){var n=e.authenticatedUser;return{authenticatedUser:Object(f.a)(Object(f.a)({},n),{},{subscription:t})}}))}),(function(e){console.error("Error while loading user subscriptions:",e)})),Object(x.i)(n.getAuthorizationHeader,r.uid).then((function(t){return e.setState((function(e){var n=e.authenticatedUser;return{authenticatedUser:Object(f.a)(Object(f.a)({},n),{},{limits:t})}}))}),(function(e){console.error("Error while loading user limits:",e)})),e._cloudProjectListingDeduplicator.launchRequestOrGetOngoingPromise([n.getAuthorizationHeader,r.uid]).then((function(t){return e.setState((function(e){var n=e.authenticatedUser;return{authenticatedUser:Object(f.a)(Object(f.a)({},n),{},{cloudProjects:t})}}))}),(function(t){console.error("Error while loading user cloud projects:",t),e.setState((function(e){var t=e.authenticatedUser;return{authenticatedUser:Object(f.a)(Object(f.a)({},t),{},{cloudProjectsFetchingErrorLabel:Object(_.jsx)(v.Trans,{id:"We couldn't load your cloud projects. Verify your internet connection or try again later."})})}}))})),Object(je.m)(n.getAuthorizationHeader,{userId:r.uid}).then((function(t){return e.setState((function(e){var n=e.authenticatedUser;return{authenticatedUser:Object(f.a)(Object(f.a)({},n),{},{receivedAssetPacks:t})}}))}),(function(e){console.error("Error while loading received asset packs:",e)})),Object(je.n)(n.getAuthorizationHeader,{userId:r.uid}).then((function(t){return e.setState((function(e){var n=e.authenticatedUser;return{authenticatedUser:Object(f.a)(Object(f.a)({},n),{},{receivedAssetShortHeaders:t})}}))}),(function(e){console.error("Error while loading received asset short headers:",e)})),e._fetchUserBadges(),t.next=24,n.getUserProfile(n.getAuthorizationHeader);case 24:if((a=t.sent).isCreator){t.next=34;break}return t.prev=26,t.next=29,n.editUserProfile(n.getAuthorizationHeader,{isCreator:!0});case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(26),console.error("Error while updating the user profile:",t.t1);case 34:e.setState((function(e){var t=e.authenticatedUser;return{authenticatedUser:Object(f.a)(Object(f.a)({},t),{},{profile:a,loginState:"done"})}})),e._notifyUserAboutEmailVerificationAndAdditionalInfo();case 36:case"end":return t.stop()}}),t,null,[[2,11],[26,31]])}))),e._fetchUserSubscriptionLimitsAndUsages=Object(g.a)(O.a.mark((function t(){var n,r,a,o,i;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.props.authentication,r=e.state.authenticatedUser.firebaseUser){t.next=4;break}return t.abrupt("return");case 4:return t.prev=4,t.next=7,Object(x.k)(n.getAuthorizationHeader,r.uid);case 7:a=t.sent,e.setState((function(e){var t=e.authenticatedUser;return{authenticatedUser:Object(f.a)(Object(f.a)({},t),{},{usages:a})}})),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),console.error("Error while loading user usages:",t.t0);case 14:return t.prev=14,t.next=17,Object(x.j)(n.getAuthorizationHeader,r.uid);case 17:o=t.sent,e.setState((function(e){var t=e.authenticatedUser;return{authenticatedUser:Object(f.a)(Object(f.a)({},t),{},{subscription:o})}})),t.next=24;break;case 21:t.prev=21,t.t1=t.catch(14),console.error("Error while loading user subscriptions:",t.t1);case 24:return t.prev=24,t.next=27,Object(x.i)(n.getAuthorizationHeader,r.uid);case 27:i=t.sent,e.setState((function(e){var t=e.authenticatedUser;return{authenticatedUser:Object(f.a)(Object(f.a)({},t),{},{limits:i})}})),t.next=34;break;case 31:t.prev=31,t.t2=t.catch(24),console.error("Error while loading user limits:",t.t2);case 34:case"end":return t.stop()}}),t,null,[[4,11],[14,21],[24,31]])}))),e._fetchUserAssets=Object(g.a)(O.a.mark((function t(){var n,r,a,o;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.props.authentication,r=e.state.authenticatedUser.firebaseUser){t.next=4;break}return t.abrupt("return");case 4:return t.prev=4,t.next=7,Object(je.m)(n.getAuthorizationHeader,{userId:r.uid});case 7:a=t.sent,e.setState((function(e){var t=e.authenticatedUser;return{authenticatedUser:Object(f.a)(Object(f.a)({},t),{},{receivedAssetPacks:a})}})),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),console.error("Error while loading received asset packs:",t.t0);case 14:return t.prev=14,t.next=17,Object(je.n)(n.getAuthorizationHeader,{userId:r.uid});case 17:o=t.sent,e.setState((function(e){var t=e.authenticatedUser;return{authenticatedUser:Object(f.a)(Object(f.a)({},t),{},{receivedAssetShortHeaders:o})}})),t.next=24;break;case 21:t.prev=21,t.t1=t.catch(14),console.error("Error while loading received asset short headers:",t.t1);case 24:case"end":return t.stop()}}),t,null,[[4,11],[14,21]])}))),e._fetchUserCloudProjects=Object(g.a)(O.a.mark((function t(){var n,r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.props.authentication,r=e.state.authenticatedUser.firebaseUser){t.next=4;break}return t.abrupt("return");case 4:e.setState((function(e){var t=e.authenticatedUser;return{authenticatedUser:Object(f.a)(Object(f.a)({},t),{},{cloudProjectsFetchingErrorLabel:null})}})),e._cloudProjectListingDeduplicator.launchRequestOrGetOngoingPromise([n.getAuthorizationHeader,r.uid]).then((function(t){return e.setState((function(e){var n=e.authenticatedUser;return{authenticatedUser:Object(f.a)(Object(f.a)({},n),{},{cloudProjects:t})}}))}),(function(t){console.error("Error while loading user cloud projects:",t),e.setState((function(e){var t=e.authenticatedUser;return{authenticatedUser:Object(f.a)(Object(f.a)({},t),{},{cloudProjectsFetchingErrorLabel:Object(_.jsx)(v.Trans,{id:"We couldn't load your cloud projects. Verify your internet connection or try again later."})})}}))}));case 6:case"end":return t.stop()}}),t)}))),e._fetchUserBadges=Object(g.a)(O.a.mark((function t(){var n,r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.state.authenticatedUser.firebaseUser){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,t.next=6,Object(y.a)(n.uid);case 6:r=t.sent,e.setState((function(e){var t=e.authenticatedUser;return{authenticatedUser:Object(f.a)(Object(f.a)({},t),{},{badges:r})}})),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),console.error("Error while loading user badges:",t.t0);case 13:case"end":return t.stop()}}),t,null,[[3,10]])}))),e._notifyUserAboutEmailVerificationAndAdditionalInfo=function(){var t=e.state.authenticatedUser.profile;if(t){var n=Date.now()-t.createdAt<1e4;!e.state.authenticatedUser.firebaseUser||e.state.authenticatedUser.firebaseUser.emailVerified||e._hasNotifiedUserAboutEmailVerification?e._notifyUserAboutAdditionalInfo():setTimeout((function(){return e.openEmailVerificationDialog({open:!0,sendEmailAutomatically:!1,showSendEmailButton:!n})}),1e3)}},e._notifyUserAboutAdditionalInfo=function(){var t=e.state.authenticatedUser.profile;t&&t&&!e._hasNotifiedUserAboutAdditionalInfo&&Te(t)&&setTimeout((function(){return e.openAdditionalUserInfoDialog(!0)}),1e3)},e._doLogout=Object(g.a)(O.a.mark((function t(){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.props.authentication){t.next=3;break}return t.next=3,e.props.authentication.logout();case 3:e._resetAuthenticatedUser(),pe(),e.showUserSnackbar({message:Object(_.jsx)(v.Trans,{id:"You're now logged out"})});case 6:case"end":return t.stop()}}),t)}))),e._doLogin=function(){var t=Object(g.a)(O.a.mark((function t(n){var r,a,o;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.props.authentication){t.next=3;break}return t.abrupt("return");case 3:return e.setState({loginInProgress:!0,authError:null}),e._automaticallyUpdateUserProfile=!1,t.prev=5,t.next=8,r.login(n);case 8:return t.next=10,e._fetchUserProfileWithoutThrowingErrors();case 10:e.openLoginDialog(!1),a=e.state.authenticatedUser.profile,o=a?a.username:null,e.showUserSnackbar({message:o?Object(_.jsx)(v.Trans,{id:"\ud83d\udc4b Good to see you {username}!",values:{username:o}}):Object(_.jsx)(v.Trans,{id:"\ud83d\udc4b Good to see you!"})}),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(5),e.setState({authError:t.t0});case 19:e.setState({loginInProgress:!1}),e._automaticallyUpdateUserProfile=!0;case 21:case"end":return t.stop()}}),t,null,[[5,16]])})));return function(e){return t.apply(this,arguments)}}(),e._doEdit=function(){var t=Object(g.a)(O.a.mark((function t(n,r){var a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.props.authentication){t.next=3;break}return t.abrupt("return");case 3:return e.setState({editInProgress:!0,authError:null}),e._automaticallyUpdateUserProfile=!1,t.prev=5,t.next=8,a.editUserProfile(a.getAuthorizationHeader,{username:n.username,description:n.description,getGameStatsEmail:n.getGameStatsEmail,getNewsletterEmail:n.getNewsletterEmail,appLanguage:r.language,donateLink:n.donateLink});case 8:return t.next=10,e._fetchUserProfileWithoutThrowingErrors();case 10:e.openEditProfileDialog(!1),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(5),e.setState({authError:t.t0});case 16:e.setState({editInProgress:!1}),e._automaticallyUpdateUserProfile=!0;case 18:case"end":return t.stop()}}),t,null,[[5,13]])})));return function(e,n){return t.apply(this,arguments)}}(),e._doCreateAccount=function(){var t=Object(g.a)(O.a.mark((function t(n,r){var a,o,i;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.props.authentication){t.next=3;break}return t.abrupt("return");case 3:return e.setState({createAccountInProgress:!0,authError:null}),e._automaticallyUpdateUserProfile=!1,t.prev=5,t.next=8,a.createFirebaseAccount(n);case 8:return t.prev=8,t.next=11,a.createUser(a.getAuthorizationHeader,n,r.language);case 11:t.next=15;break;case 13:t.prev=13,t.t0=t.catch(8);case 15:return t.next=17,e._fetchUserProfileWithoutThrowingErrors();case 17:e.openCreateAccountDialog(!1),Object($.x)(n.email),o=e.state.authenticatedUser.profile,i=o?o.username:null,e.showUserSnackbar({message:i?Object(_.jsx)(v.Trans,{id:"\ud83d\udc4b Welcome to GDevelop {username}!",values:{username:i}}):Object(_.jsx)(v.Trans,{id:"\ud83d\udc4b Welcome to GDevelop!"})}),t.next=27;break;case 24:t.prev=24,t.t1=t.catch(5),e.setState({authError:t.t1});case 27:e.setState({createAccountInProgress:!1}),e._automaticallyUpdateUserProfile=!0;case 29:case"end":return t.stop()}}),t,null,[[5,24],[8,13]])})));return function(e,n){return t.apply(this,arguments)}}(),e._doSaveAdditionalUserInfo=function(){var t=Object(g.a)(O.a.mark((function t(n){var r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.props.authentication){t.next=3;break}return t.abrupt("return");case 3:return e.setState({editInProgress:!0}),e._automaticallyUpdateUserProfile=!1,t.prev=5,t.next=8,r.editUserProfile(r.getAuthorizationHeader,{gdevelopUsage:n.gdevelopUsage,teamOrCompanySize:n.teamOrCompanySize,companyName:n.companyName,creationExperience:n.creationExperience,creationGoal:n.creationGoal,hearFrom:n.hearFrom});case 8:return t.next=10,e._fetchUserProfileWithoutThrowingErrors();case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(5),console.error("Error while saving additional user info:",t.t0);case 15:return t.prev=15,e.openAdditionalUserInfoDialog(!1),e.showUserSnackbar({message:Object(_.jsx)(v.Trans,{id:"Thank you!"})}),t.finish(15);case 19:e.setState({editInProgress:!1}),e._automaticallyUpdateUserProfile=!0;case 21:case"end":return t.stop()}}),t,null,[[5,12,15,19]])})));return function(e){return t.apply(this,arguments)}}(),e._doForgotPassword=function(){var t=Object(g.a)(O.a.mark((function t(n){var r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.props.authentication){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,t.next=6,r.forgotPassword(n);case 6:t.next=10;break;case 8:t.prev=8,t.t0=t.catch(3);case 10:case"end":return t.stop()}}),t,null,[[3,8]])})));return function(e){return t.apply(this,arguments)}}(),e._doSendEmailVerification=Object(g.a)(O.a.mark((function t(){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.props.authentication){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,n.sendFirebaseEmailVerification();case 5:case"end":return t.stop()}}),t)}))),e._doAcceptGameStatsEmail=Object(g.a)(O.a.mark((function t(){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.props.authentication){t.next=3;break}return t.abrupt("return");case 3:return e.setState({editInProgress:!0,authError:null}),e._automaticallyUpdateUserProfile=!1,t.prev=5,t.next=8,n.acceptGameStatsEmail(n.getAuthorizationHeader);case 8:return t.next=10,e._fetchUserProfileWithoutThrowingErrors();case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(5),e.setState({authError:t.t0});case 15:e.setState({editInProgress:!1}),e._automaticallyUpdateUserProfile=!0;case 17:case"end":return t.stop()}}),t,null,[[5,12]])}))),e._doChangeEmail=function(){var t=Object(g.a)(O.a.mark((function t(n){var r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.props.authentication){t.next=3;break}return t.abrupt("return");case 3:return e.setState({changeEmailInProgress:!0,authError:null}),e._automaticallyUpdateUserProfile=!1,t.prev=5,t.next=8,r.changeEmail(r.getAuthorizationHeader,n);case 8:return t.next=10,e._fetchUserProfileWithoutThrowingErrors();case 10:e.openChangeEmailDialog(!1),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(5),e.setState({authError:t.t0});case 16:e.setState({changeEmailInProgress:!1}),e._automaticallyUpdateUserProfile=!0;case 18:case"end":return t.stop()}}),t,null,[[5,13]])})));return function(e){return t.apply(this,arguments)}}(),e.openEmailVerificationDialog=function(t){var n=t.open,r=void 0===n||n,a=t.sendEmailAutomatically,o=void 0!==a&&a,i=t.showSendEmailButton,s=void 0!==i&&i;e.setState({emailVerificationDialogOpen:r,emailVerificationDialogProps:{sendEmailAutomatically:!!r&&o,showSendEmailButton:!!r&&s}}),r||(e._hasNotifiedUserAboutEmailVerification=!0,e._notifyUserAboutAdditionalInfo())},e.openResetPassword=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e.setState({resetPasswordDialogOpen:t,authError:null})},e.openLoginDialog=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e.setState({loginDialogOpen:t,createAccountDialogOpen:!1,authError:null})},e.openAdditionalUserInfoDialog=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e._hasNotifiedUserAboutAdditionalInfo=!0,e.setState({additionalUserInfoDialogOpen:t,createAccountDialogOpen:!1,loginDialogOpen:!1})},e.showUserSnackbar=function(t){var n=t.message;e.setState({userSnackbarMessage:n?Object(_.jsx)("span",{children:n}):null})},e.openEditProfileDialog=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e.setState({editProfileDialogOpen:t,authError:null})},e.openCreateAccountDialog=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e.setState({loginDialogOpen:!1,createAccountDialogOpen:t,authError:null})},e.openChangeEmailDialog=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e.setState({changeEmailDialogOpen:t,authError:null})},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=Object(g.a)(O.a.mark((function e(){var t=this;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._resetAuthenticatedUser(),this.props.authentication.addUserLogoutListener(this._fetchUserProfileWithoutThrowingErrors),this.props.authentication.addUserUpdateListener((function(){t._automaticallyUpdateUserProfile?(console.info("Fetching user profile as the authenticated user changed..."),t._fetchUserProfileWithoutThrowingErrors()):console.info("The authenticated user changed, but not fetching the user profile again (deactivated).")})),!this.props.authentication.getFirebaseUserSync()){e.next=11;break}return console.info("Fetching user profile as authenticated user found at startup..."),this._automaticallyUpdateUserProfile=!1,e.next=8,this._fetchUserProfileWithoutThrowingErrors();case 8:this._automaticallyUpdateUserProfile=!0,e.next=11;break;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_resetAuthenticatedUser",value:function(){var e=this;this.setState((function(t){t.authenticatedUser;return{authenticatedUser:Object(f.a)(Object(f.a)({},ee.b),{},{onLogout:e._doLogout,onBadgesChanged:e._fetchUserBadges,onCloudProjectsChanged:e._fetchUserCloudProjects,onLogin:function(){return e.openLoginDialog(!0)},onEdit:function(){return e.openEditProfileDialog(!0)},onChangeEmail:function(){return e.openChangeEmailDialog(!0)},onCreateAccount:function(){return e.openCreateAccountDialog(!0)},onRefreshUserProfile:e._fetchUserProfile,onRefreshFirebaseProfile:function(){var t=Object(g.a)(O.a.mark((function t(){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e._reloadFirebaseProfile();case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),onSubscriptionUpdated:e._fetchUserSubscriptionLimitsAndUsages,onPurchaseSuccessful:e._fetchUserAssets,onSendEmailVerification:e._doSendEmailVerification,onOpenEmailVerificationDialog:function(t){var n=t.sendEmailAutomatically,r=t.showSendEmailButton;return e.openEmailVerificationDialog({open:!0,sendEmailAutomatically:n,showSendEmailButton:r})},onAcceptGameStatsEmail:e._doAcceptGameStatsEmail,getAuthorizationHeader:function(){return e.props.authentication.getAuthorizationHeader()}})}})),this._hasNotifiedUserAboutAdditionalInfo=!1,this._hasNotifiedUserAboutEmailVerification=!1}},{key:"render",value:function(){var e=this;return Object(_.jsx)(de.a.Consumer,{children:function(t){var n=t.values;return Object(_.jsxs)(r.Fragment,{children:[Object(_.jsx)(ee.a.Provider,{value:e.state.authenticatedUser,children:e.props.children}),e.state.loginDialogOpen&&Object(_.jsx)(Q,{onClose:function(){return e.openLoginDialog(!1)},onGoToCreateAccount:function(){return e.openCreateAccountDialog(!0)},onLogin:e._doLogin,loginInProgress:e.state.loginInProgress,error:e.state.authError,onForgotPassword:e._doForgotPassword}),e.state.authenticatedUser.profile&&e.state.editProfileDialogOpen&&Object(_.jsx)(ae,{profile:e.state.authenticatedUser.profile,onClose:function(){return e.openEditProfileDialog(!1)},onEdit:function(t){return e._doEdit(t,n)},updateProfileInProgress:e.state.editInProgress,error:e.state.authError}),e.state.authenticatedUser.firebaseUser&&e.state.changeEmailDialogOpen&&Object(_.jsx)(oe,{firebaseUser:e.state.authenticatedUser.firebaseUser,onClose:function(){return e.openChangeEmailDialog(!1)},onChangeEmail:e._doChangeEmail,changeEmailInProgress:e.state.changeEmailInProgress,error:e.state.authError}),e.state.createAccountDialogOpen&&Object(_.jsx)(q,{onClose:function(){return e.openCreateAccountDialog(!1)},onGoToLogin:function(){return e.openLoginDialog(!0)},onCreateAccount:function(t){return e._doCreateAccount(t,n)},createAccountInProgress:e.state.createAccountInProgress,error:e.state.authError}),e.state.additionalUserInfoDialogOpen&&e.state.authenticatedUser.profile&&Object(_.jsx)(Ee,{profile:e.state.authenticatedUser.profile,onClose:function(){return e.openAdditionalUserInfoDialog(!1)},onSaveAdditionalUserInfo:function(t){return e._doSaveAdditionalUserInfo(t)},updateInProgress:e.state.editInProgress}),e.state.emailVerificationDialogOpen&&Object(_.jsx)(le,Object(f.a)(Object(f.a)({authenticatedUser:e.state.authenticatedUser,onClose:function(){e.openEmailVerificationDialog({open:!1}),e.state.authenticatedUser.onRefreshFirebaseProfile().catch((function(){}))}},e.state.emailVerificationDialogProps),{},{onSendEmail:e._doSendEmailVerification})),Object(_.jsx)(Se.a,{open:!!e.state.userSnackbarMessage,autoHideDuration:3e3,onClose:function(){return e.showUserSnackbar({message:null})},ContentProps:{"aria-describedby":"snackbar-message"},message:Object(_.jsx)("span",{id:"snackbar-message",children:e.state.userSnackbarMessage})})]})}})}}]),n}(r.Component),De=n(809),Fe=n(777),Me=function(e){var t=e.children,n=r.useState(null),a=Object(C.a)(n,2),o=a[0],i=a[1],s=r.useCallback((function(e){i(e)}),[i]),c=r.useCallback((function(){i(null)}),[i]),u=r.useMemo((function(){return{openUserPublicProfile:s}}),[s]);return Object(_.jsxs)(r.Fragment,{children:[Object(_.jsx)(Fe.a.Provider,{value:u,children:t}),o&&Object(_.jsx)(De.a,{userId:o,onClose:c})]})},_e=n(58),Le=n(2299),Re=n(7),Ne=n(396),Be=n(460),Ue=n(60),He=n(2301),We=n.n(He),ze=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a)))._eventsFunctionCodeWriter=e.props.makeEventsFunctionCodeWriter({onWriteFile:e._onWriteFile.bind(Object(Re.a)(e))}),e._includeFileHashs={},e._lastLoadPromise=null,e.state={eventsFunctionsExtensionsError:null,loadProjectEventsFunctionsExtensions:e._loadProjectEventsFunctionsExtensions.bind(Object(Re.a)(e)),unloadProjectEventsFunctionsExtensions:e._unloadProjectEventsFunctionsExtensions.bind(Object(Re.a)(e)),unloadProjectEventsFunctionsExtension:e._unloadProjectEventsFunctionsExtension.bind(Object(Re.a)(e)),reloadProjectEventsFunctionsExtensions:e._reloadProjectEventsFunctionsExtensions.bind(Object(Re.a)(e)),ensureLoadFinished:e._ensureLoadFinished.bind(Object(Re.a)(e)),getEventsFunctionsExtensionWriter:function(){return e.props.eventsFunctionsExtensionWriter},getEventsFunctionsExtensionOpener:function(){return e.props.eventsFunctionsExtensionOpener},getIncludeFileHashs:function(){return e._includeFileHashs}},e}return Object(i.a)(n,[{key:"_onWriteFile",value:function(e){var t=e.includeFile,n=e.content;this._includeFileHashs[t]=We.a.h32(n,43981).toNumber()}},{key:"_ensureLoadFinished",value:function(){return this._lastLoadPromise?console.info("Waiting on the events functions extensions to finish loading..."):console.info("Events functions extensions are ready."),this._lastLoadPromise?this._lastLoadPromise.then((function(){console.info("Events functions extensions finished loading.")})):Promise.resolve()}},{key:"_loadProjectEventsFunctionsExtensions",value:function(e){var t=this,n=this.props.i18n,r=this._eventsFunctionCodeWriter;if(!e||!r)return Promise.resolve();var a=this._lastLoadPromise||Promise.resolve();return this._lastLoadPromise=a.then((function(){return Object(Be.f)(e,r,n)})).then((function(){return t.setState({eventsFunctionsExtensionsError:null})})).catch((function(e){t.setState({eventsFunctionsExtensionsError:e}),Object(Ue.a)({message:n._({id:"An error has occured during functions generation. If GDevelop is installed, verify that nothing is preventing GDevelop from writing on disk. If you're running GDevelop online, verify your internet connection and refresh functions from the Project Manager."}),rawError:e,errorId:"events-functions-extensions-load-error"})})).then((function(){t._lastLoadPromise=null})),this._lastLoadPromise}},{key:"_unloadProjectEventsFunctionsExtensions",value:function(e){Object(Be.h)(e)}},{key:"_unloadProjectEventsFunctionsExtension",value:function(e,t){Object(Be.g)(e,t)}},{key:"_reloadProjectEventsFunctionsExtensions",value:function(e){return e&&this._unloadProjectEventsFunctionsExtensions(e),this._loadProjectEventsFunctionsExtensions(e)}},{key:"render",value:function(){return Object(_.jsx)(Ne.a.Provider,{value:this.state,children:this.props.children})}}]),n}(r.Component),Ve=n(603),Ge=n(644),Ze=n(464),Ye=n(1203),qe=n(698),Xe=n(772),Je=n(512),Ke=n(960);var Qe=function(e){return Object(_.jsx)(v.I18n,{children:function(t){var n=t.i18n;return Object(_.jsx)(w.c,{title:n._(e.title),open:e.open,noMobileFullScreen:!0,actions:[Object(_.jsx)(k.a,{keyboardFocused:!0,label:e.dismissButtonLabel?n._(e.dismissButtonLabel):Object(_.jsx)(v.Trans,{id:"OK"}),onClick:e.onDismiss},"dismiss")],maxWidth:"xs",children:Object(_.jsx)(P.a,{children:n._(e.message)})})}})};var $e=function(e){return Object(_.jsx)(v.I18n,{children:function(t){var n=t.i18n;return Object(_.jsx)(w.c,{title:n._(e.title),open:e.open,actions:[Object(_.jsx)(k.a,{keyboardFocused:!0,label:e.dismissButtonLabel?n._(e.dismissButtonLabel):Object(_.jsx)(v.Trans,{id:"Cancel"}),onClick:e.onDismiss},"dismiss"),Object(_.jsx)(w.a,{label:e.confirmButtonLabel?n._(e.confirmButtonLabel):Object(_.jsx)(v.Trans,{id:"Confirm"}),onClick:e.onConfirm,primary:!0},"confirm")],maxWidth:"xs",noMobileFullScreen:!0,children:Object(_.jsx)(D.a,{translatableSource:e.message,isStandaloneText:!0})})}})};var et=function(e){var t=r.useState(""),n=Object(C.a)(t,2),a=n[0],o=n[1],i=a===e.confirmText,s=function(){i&&(e.onConfirm(),o(""))};return Object(_.jsx)(v.I18n,{children:function(t){var n=t.i18n;return Object(_.jsxs)(w.c,{title:n._(e.title),open:e.open,isDangerous:!0,onApply:s,onRequestClose:e.onDismiss,maxWidth:"sm",flexColumnBody:!0,actions:[Object(_.jsx)(k.a,{label:e.dismissButtonLabel?n._(e.dismissButtonLabel):Object(_.jsx)(v.Trans,{id:"Cancel"}),primary:!1,onClick:e.onDismiss},"cancel"),Object(_.jsx)(w.a,{label:e.confirmButtonLabel?n._(e.confirmButtonLabel):Object(_.jsx)(v.Trans,{id:"Confirm"}),primary:!0,onClick:s,disabled:!i},"confirm")],noMobileFullScreen:!0,children:[Object(_.jsx)(P.a,{size:"body",children:n._(e.message)}),Object(_.jsx)(T.b,{}),Object(_.jsx)(E.b,{autoFocus:"desktop",floatingLabelFixed:!0,floatingLabelText:n._(e.fieldMessage),value:a,onChange:function(e,t){return o(t)},hintText:e.confirmText})]})}})};var tt=function(e){var t=e.children,n=r.useState(!1),a=Object(C.a)(n,2),o=a[0],i=a[1],s=r.useState(null),c=Object(C.a)(s,2),u=c[0],l=c[1],d=r.useCallback((function(e){i(!0),l(e)}),[]),b=r.useState(!1),p=Object(C.a)(b,2),j=p[0],h=p[1],f=r.useState(null),g=Object(C.a)(f,2),m=g[0],O=g[1],v=r.useCallback((function(e){h(!0),O(e)}),[]),x=r.useState(!1),y=Object(C.a)(x,2),k=y[0],w=y[1],T=r.useState(null),E=Object(C.a)(T,2),S=E[0],P=E[1],I=r.useCallback((function(e){w(!0),P(e)}),[]);return Object(_.jsxs)(Ke.a.Provider,{value:{showAlertDialog:d,showConfirmDialog:v,showConfirmDeleteDialog:I},children:[t,u&&Object(_.jsx)(Qe,{open:o,onDismiss:function(){i(!1),u.callback()},dismissButtonLabel:u.dismissButtonLabel,title:u.title,message:u.message}),m&&Object(_.jsx)($e,{open:j,onConfirm:function(){h(!1),m.callback(!0)},confirmButtonLabel:m.confirmButtonLabel,onDismiss:function(){h(!1),m.callback(!1)},dismissButtonLabel:m.dismissButtonLabel,title:m.title,message:m.message}),S&&Object(_.jsx)(et,{open:k,onConfirm:function(){w(!1),S.callback(!0)},confirmButtonLabel:S.confirmButtonLabel,onDismiss:function(){w(!1),S.callback(!1)},dismissButtonLabel:S.dismissButtonLabel,title:S.title,message:S.message,fieldMessage:S.fieldMessage,confirmText:S.confirmText})]})},nt=n(885),rt=n(641),at=n(431),ot=n(587),it=function(e,t){var n=e.objectAssets;return Object(f.a)(Object(f.a)({},e),{},{objectAssets:n.map((function(e){return Object(f.a)(Object(f.a)({},e),{},{resources:e.resources.map((function(e){return Object(f.a)(Object(f.a)({},e),{},{file:Object(at.a)(e.file,t)})}))})}))})},st=function(e){var t=e.children,n=r.useContext(ee.a),a=n.profile,o=r.useState(null),i=Object(C.a)(o,2),s=i[0],c=i[1],u=r.useRef(!1),l=r.useCallback(function(){var e=Object(g.a)(O.a.mark((function e(t){var r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(at.c)(n.getAuthorizationHeader,{userId:t});case 2:return r=e.sent,c(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[n.getAuthorizationHeader]),d=function(){var e=Object(g.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:if(t=a.id,!u.current){e.next=5;break}return e.abrupt("return");case 5:return e.prev=5,u.current=!0,e.next=9,l(t);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(5),console.error("Could not fetch the authorization token",e.t0);case 14:return e.prev=14,u.current=!1,e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[5,11,14,17]])})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(g.a)(O.a.mark((function e(t,n){var r,o,i,c,u;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.environment,a){e.next=3;break}return e.abrupt("return");case 3:if(o=a.id,e.t0=s,e.t0){e.next=9;break}return e.next=8,l(a.id);case 8:e.t0=e.sent;case 9:return i=e.t0,e.prev=10,e.next=13,Object(je.b)(t,i,{environment:r});case 13:return c=e.sent,e.abrupt("return",c);case 17:if(e.prev=17,e.t1=e.catch(10),!e.t1.response||404!==e.t1.response.status){e.next=27;break}return e.next=22,l(o);case 22:return i=e.sent,e.next=25,Object(je.b)(t,i,{environment:r});case 25:return u=e.sent,e.abrupt("return",u);case 27:throw e.t1;case 28:case"end":return e.stop()}}),e,null,[[10,17]])})));return function(t,n){return e.apply(this,arguments)}}(),p=function(){var e=Object(g.a)(O.a.mark((function e(t){var n,r,o,i,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.asset,r=t.project,o=t.objectsContainer,a){e.next=3;break}throw new Error("Unable to install the asset because no profile was found.");case 3:if(e.t0=s,e.t0){e.next=8;break}return e.next=7,l(a.id);case 7:e.t0=e.sent;case 8:return i=e.t0,c=it(n,i),e.abrupt("return",Object(rt.a)({asset:c,project:r,objectsContainer:o}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(_.jsx)(ot.a.Provider,{value:{authorizationToken:s,updateAuthorizationToken:d,fetchPrivateAsset:b,installPrivateAsset:p},children:t})},ct=n(884),ut=n(439),lt=n(458),dt=n(639),bt=n(2664),pt=n(2716),jt=n(2732),ht=n(142),ft=n(465),gt=n(2309),mt=n.n(gt),Ot=n(306),vt=Object(ft.b)({plugins:[].concat(Object(Pe.a)(Object(pt.a)().plugins),[mt()()])}),xt=function(e){var t=e.children,n=e.forcedThemeName,a=r.useContext(de.a).values,o=a.themeName,i=a.language,s=Object(G.b)(),c=r.useMemo((function(){return Object(ht.a)({themeName:n||o,language:i,windowWidth:s})}),[n,o,i,s]);return Object(_.jsx)(Ot.a.Provider,{value:c.gdevelopTheme,children:Object(_.jsx)(jt.b,{jss:vt,children:Object(_.jsx)(bt.a,{theme:c.muiTheme,children:t})})})};t.a=function(e){var t=e.disableCheckForUpdates,n=e.authentication,r=e.children,a=e.makeEventsFunctionCodeWriter,o=e.eventsFunctionsExtensionWriter,i=e.eventsFunctionsExtensionOpener;return Object(_.jsx)(h,{children:Object(_.jsx)(Ve.a,{children:Object(_.jsx)(lt.a,{children:Object(_.jsx)(_e.a,{disableCheckForUpdates:t,children:Object(_.jsx)(de.a.Consumer,{children:function(e){var t=e.values;return Object(_.jsx)(Le.a,{language:t.language.replace("_","-"),children:Object(_.jsx)(xt,{children:Object(_.jsx)(dt.a,{title:"GDevelop encountered an issue",scope:"app",children:Object(_.jsx)(ct.b,{children:Object(_.jsx)(Ae,{authentication:n,children:Object(_.jsx)(Me,{children:Object(_.jsx)(v.I18n,{update:!0,children:function(e){var t=e.i18n;return Object(_.jsx)(ze,{i18n:t,makeEventsFunctionCodeWriter:a,eventsFunctionsExtensionWriter:o,eventsFunctionsExtensionOpener:i,children:Object(_.jsx)(tt,{children:Object(_.jsx)(ut.b,{children:Object(_.jsx)(Ge.a,{children:Object(_.jsx)(Ze.b,{children:Object(_.jsx)(Ye.b,{children:Object(_.jsx)(qe.b,{children:Object(_.jsx)(Xe.b,{children:Object(_.jsx)(Je.b,{children:Object(_.jsx)(nt.b,{children:Object(_.jsx)(st,{children:r({i18n:t})})})})})})})})})})})})}})})})})})})})}})})})})})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return it}));var r=n(3),a=n(6),o=n(5),i=n(10),s=n(11),c=n(9),u=n(17),l=n.n(u),d=n(1),b=n(500),p=n(305),j=n(298),h=n(905),f=n(8),g=l.a.memo((function(e){return Object(f.jsxs)(h.a,Object(r.a)(Object(r.a)({},e),{},{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[Object(f.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.25 5.75C8.66015 5.75 5.75 8.66015 5.75 12.25C5.75 15.8399 8.66015 18.75 12.25 18.75C15.8399 18.75 18.75 15.8399 18.75 12.25C18.75 8.66015 15.8399 5.75 12.25 5.75ZM4.25 12.25C4.25 7.83172 7.83172 4.25 12.25 4.25C16.6683 4.25 20.25 7.83172 20.25 12.25C20.25 16.6683 16.6683 20.25 12.25 20.25C7.83172 20.25 4.25 16.6683 4.25 12.25Z",fill:"currentColor"}),Object(f.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.5303 8.46967C14.8232 8.76256 14.8232 9.23744 14.5303 9.53033L10.5303 13.5303C10.2374 13.8232 9.76256 13.8232 9.46967 13.5303C9.17678 13.2374 9.17678 12.7626 9.46967 12.4697L13.4697 8.46967C13.7626 8.17678 14.2374 8.17678 14.5303 8.46967Z",fill:"currentColor"}),Object(f.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.25 13C5.25 12.5858 5.58579 12.25 6 12.25H18.5C18.9142 12.25 19.25 12.5858 19.25 13C19.25 13.4142 18.9142 13.75 18.5 13.75H6C5.58579 13.75 5.25 13.4142 5.25 13Z",fill:"currentColor"})]}))})),m=l.a.memo((function(e){return Object(f.jsxs)(h.a,Object(r.a)(Object(r.a)({},e),{},{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[Object(f.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.75 5.5C6.05964 5.5 5.5 6.05964 5.5 6.75V17.25C5.5 17.9404 6.05964 18.5 6.75 18.5H17.25C17.9404 18.5 18.5 17.9404 18.5 17.25V6.75C18.5 6.05964 17.9404 5.5 17.25 5.5H6.75ZM4 6.75C4 5.23122 5.23122 4 6.75 4H17.25C18.7688 4 20 5.23122 20 6.75V17.25C20 18.7688 18.7688 20 17.25 20H6.75C5.23122 20 4 18.7688 4 17.25V6.75Z",fill:"currentColor"}),Object(f.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.19253 10.2483C8.46962 9.94039 8.94384 9.91543 9.25172 10.1925L11.7517 12.4425C11.9098 12.5848 12 12.7874 12 13C12 13.2126 11.9098 13.4152 11.7517 13.5575L9.25172 15.8075C8.94384 16.0846 8.46962 16.0596 8.19253 15.7517C7.91543 15.4438 7.94039 14.9696 8.24828 14.6925L10.1289 13L8.24828 11.3075C7.94039 11.0304 7.91543 10.5562 8.19253 10.2483Z",fill:"currentColor"})]}))})),O=n(911),v=l.a.memo((function(e){return Object(f.jsxs)(h.a,Object(r.a)(Object(r.a)({},e),{},{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:[Object(f.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.1666 4C10.4427 4 10.6666 4.22386 10.6666 4.5V11.5C10.6666 11.7761 10.4427 12 10.1666 12C9.89044 12 9.66659 11.7761 9.66659 11.5V4.5C9.66659 4.22386 9.89044 4 10.1666 4Z",fill:"currentColor"}),Object(f.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.83325 4C6.10939 4 6.33325 4.22386 6.33325 4.5V11.5C6.33325 11.7761 6.10939 12 5.83325 12C5.55711 12 5.33325 11.7761 5.33325 11.5V4.5C5.33325 4.22386 5.55711 4 5.83325 4Z",fill:"currentColor"})]}))})),x=n(310),y=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=e.onPlay,n=e.onPause,r=e.canPlay,a=e.canPause,o=e.onOpenProfiler,i=e.canOpenProfiler,s=e.onOpenConsole,u=e.canOpenConsole;return Object(f.jsxs)(b.b,{lastChild:!0,children:[Object(f.jsx)(x.a,{size:"small",color:"default",onClick:o,disabled:!i,tooltip:{id:"Open the performance profiler"},children:Object(f.jsx)(g,{})}),Object(f.jsx)(x.a,{size:"small",color:"default",onClick:s,disabled:!u,tooltip:{id:"Open the console"},children:Object(f.jsx)(m,{})}),a?Object(f.jsx)(j.a,{primary:!0,onClick:n,leftIcon:Object(f.jsx)(v,{}),label:Object(f.jsx)(c.Trans,{id:"Pause"})}):Object(f.jsx)(p.a,{primary:!0,onClick:t,icon:Object(f.jsx)(O.a,{}),label:Object(f.jsx)(c.Trans,{id:"Play"}),disabled:!r})]})}}]),n}(u.PureComponent),C=y,k=n(531),w=n(357),T=n(761),E=n.n(T),S=n(295),P=n(336),I={container:{flex:1,display:"flex"},list:{overflowY:"scroll",flex:1}},A=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"_renderInspectorList",value:function(e,t,n){var r=this;return t(e).map((function(t){if(!t)return null;var a=n.concat(t.key),o=t.getSubInspectors;return Object(f.jsx)(P.b,{primaryText:t.label,initiallyOpen:!!t.initiallyOpen,onClick:function(){return r.props.onChooseInspector(t,a)},renderNestedItems:o?function(){return r._renderInspectorList(E()(e,t.key,null),o,a)}:void 0},a.join("."))}))}},{key:"render",value:function(){return this.props.gameData?Object(f.jsx)(P.a,{style:I.list,children:this._renderInspectorList(this.props.gameData,this.props.getInspectorDescriptions,[])}):null}}]),n}(u.Component),D=n(687),F=n.n(D),M=n(24),_=n(1198),L=n.n(_),R=function e(t){if(!t)return null;var n={type:t._type,value:null};return"string"===t._type?n.value=t._str:"number"===t._type?n.value=t._value:"boolean"===t._type?n.value=t._bool:"structure"===t._type?n.value=L()(t._children,e):"array"===t._type&&(n.value=t._childrenArray.map(e)),n},N=function(e,t){var n=t.onCall,r=(t.onEdit,t.variablesContainer);if(r){var a=function(e,t){var n,r=e.shift(),a=["_variables","items",r],o=t._variables.items[r],i=!1,s=Object(M.a)(e);try{for(s.s();!(n=s.n()).done;){var c=n.value;if(!(i=!i))if("structure"===o._type)a.push("_children",c),o=o._children[c];else{if("array"!==o._type)return{path:null,variable:null};a.push("_childrenArray",c),o=o._childrenArray[parseInt(c,10)]}}}catch(u){s.e(u)}finally{s.f()}return{path:a,variable:o}}(e.namespace,r),o=a.path,i=a.variable;if(!o)return console.error("Invalid path passed to the debugger: ",e),!1;if(!i)return console.error("Variable doesn't exist: ",e),!1;if("type"===e.name){if(o.push("castTo"),"string"!==e.new_value&&"number"!==e.new_value&&"boolean"!==e.new_value&&"structure"!==e.new_value&&"array"!==e.new_value)return console.error("Invalid type name: "+e.new_value),!1;e.new_value!==i._type&&n(o,[e.new_value])}else if("value"===e.name){if("string"===i._type&&"string"!==typeof e.new_value)e.new_value=""+e.new_value;else if("number"===i._type&&"number"!==typeof e.new_value){if(e.new_value=parseFloat(e.new_value),isNaN(e.new_value))return console.error("Cannot set variable of type number to NaN!"),!1}else if("boolean"===i._type&&"boolean"!==typeof e.new_value)e.new_value="string"===typeof e.new_value?"false"!==e.new_value.toLowerCase()&&"0"!==e.new_value:!!e.new_value;else if("structure"===i._type||"array"===i._type)return console.error("Cannot set the value of a collection."),!1;o.push("setValue"),n(o,[e.new_value])}return!0}},B=function(e){return Object(f.jsx)(F.a,{collapsed:!1,name:!1,src:e.variablesContainer?(t=e.variablesContainer,t&&t._variables&&t._variables.items?L()(t._variables.items,R):null):null,enableClipboard:!1,displayDataTypes:!1,displayObjectSize:!1,onEdit:function(t){return N(t,e)},groupArraysAfterLength:50,theme:"monokai",validationMessage:"Invalid value"});var t},U=n(296),H=function(e){return Object(f.jsxs)(u.Fragment,{children:[Object(f.jsx)(U.a,{children:Object(f.jsx)(c.Trans,{id:"General:"})}),Object(f.jsx)(F.a,{collapsed:!1,name:!1,src:(t=e.runtimeObject,t?{"X position":t.x,"Y position":t.y,Angle:t.angle,Layer:t.layer,"Z order":t.zOrder,"Is hidden?":t.hidden}:null),enableClipboard:!1,displayDataTypes:!1,displayObjectSize:!1,onEdit:function(t){return function(e,t){var n=t.onCall;if(t.onEdit,"X position"===e.name)n(["setX"],[parseFloat(e.new_value)]);else if("Y position"===e.name)n(["setY"],[parseFloat(e.new_value)]);else if("Angle"===e.name)n(["setAngle"],[parseFloat(e.new_value)]);else if("Layer"===e.name)n(["setLayer"],[e.new_value]);else if("Z order"===e.name)n(["setZOrder"],[parseFloat(e.new_value)]);else{if("Is hidden?"!==e.name)return!1;n(["hide"],[!!e.new_value])}return!0}(t,e)},groupArraysAfterLength:50,theme:"monokai"}),Object(f.jsx)(U.a,{children:Object(f.jsx)(c.Trans,{id:"Instance variables:"})}),Object(f.jsx)(B,{variablesContainer:e.runtimeObject?e.runtimeObject._variables:null,onEdit:function(t,n){return e.onEdit(["_variables"].concat(t),n)},onCall:function(t,n){return e.onCall(["_variables"].concat(t),n)}})]});var t},W=n(297),z=n(374),V=function(e){return e?{"Camera rotation (in deg)":e._cameraRotation,"Camera zoom":e._zoomFactor,"Layer is hidden":!!e._hidden,"Camera X position":e._cameraX,"Camera Y position":e._cameraY,"Time scale":e._timeScale}:null},G=function(e){return e?{"Time scale":e._timeManager?e._timeManager._timeScale:null,Layers:e._layers&&e._layers.items?L()(e._layers.items,V):null,"Actions waiting to be finished":e._asyncTasksManager.tasksWithCallback.length}:null},Z=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={newObjectName:""},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.runtimeScene,r=t.onCall;return n?Object(f.jsxs)(u.Fragment,{children:[Object(f.jsx)(U.a,{children:Object(f.jsx)(c.Trans,{id:"Layers:"})}),Object(f.jsx)(F.a,{collapsed:!1,name:!1,src:G(n),enableClipboard:!1,displayDataTypes:!1,displayObjectSize:!1,onEdit:function(t){return function(e,t){var n=t.onCall;if(t.onEdit,0===e.namespace.length&&"Time scale"===e.name)n(["_timeManager","setTimeScale"],[parseFloat(e.new_value)]);else{if(!(e.namespace.length>=2))return!1;"Layers"===e.namespace[0]&&("Camera rotation (in deg)"===e.name?n(["_layers","items",e.namespace[1],"setCameraRotation"],[parseFloat(e.new_value)]):"Camera zoom"===e.name?n(["_layers","items",e.namespace[1],"setCameraZoom"],[parseFloat(e.new_value)]):"Layer is hidden"===e.name?n(["_layers","items",e.namespace[1],"show"],[!e.new_value]):"Camera X position"===e.name?n(["_layers","items",e.namespace[1],"setCameraX"],[parseFloat(e.new_value)]):"Camera Y position"===e.name?n(["_layers","items",e.namespace[1],"setCameraY"],[parseFloat(e.new_value)]):"Time scale"===e.name&&n(["_layers","items",e.namespace[1],"setTimeScale"],[parseFloat(e.new_value)]))}return!0}(t,e.props)},groupArraysAfterLength:50,theme:"monokai"}),Object(f.jsx)(U.a,{children:Object(f.jsx)(c.Trans,{id:"Create a new instance on the scene (will be at position 0;0):"})}),n._objects&&n._objects.items&&Object(f.jsx)(W.d,{noFloatingLabelText:!0,renderTextField:function(){return Object(f.jsx)(z.c,{hintText:{id:"Enter the name of the object"},value:e.state.newObjectName,onChange:function(t){e.setState({newObjectName:t})},dataSource:Object.keys(n._objects.items).map((function(e){return{text:e,value:e}})),openOnFocus:!0,fullWidth:!0})},renderButton:function(t){return Object(f.jsx)(p.a,{style:t,label:Object(f.jsx)(c.Trans,{id:"Create"}),primary:!0,onClick:function(){r(["createObject"],[e.state.newObjectName])}})}})]}):null}}]),n}(u.Component),Y=function(e){return[{label:"Global variables",key:"_variables",renderInspector:function(e,t){var n=t.onCall,r=t.onEdit;return Object(f.jsx)(B,{variablesContainer:e,onCall:n,onEdit:r})}},{label:"Scenes",key:["_sceneStack","_stack"],renderInspector:function(){return null},initiallyOpen:!0,getSubInspectors:function(e){return e?e.map((function(e,t){return{label:e._name,key:t,renderInspector:function(e,t){var n=t.onCall,r=t.onEdit;return Object(f.jsx)(Z,{runtimeScene:e,onCall:n,onEdit:r})},initiallyOpen:!0,getSubInspectors:function(e){return[{label:"Scene variables",key:"_variables",renderInspector:function(e,t){var n=t.onCall,r=t.onEdit;return Object(f.jsx)(B,{variablesContainer:e,onCall:n,onEdit:r})}},{label:"Instances",key:"_instances",renderInspector:function(){return null},initiallyOpen:!0,getSubInspectors:function(e){return e&&e.items?Object.keys(e.items).map((function(t){return e.items[t]&&void 0!==typeof e.items[t].length?{label:"".concat(t," (").concat(e.items[t].length,")"),key:["items",t],renderInspector:function(){return null},getSubInspectors:function(e){return e?e.filter((function(e){return!!e})).map((function(e,t){return{label:"#".concat(e.id),key:t,renderInspector:function(e,t){var n=t.onCall,r=t.onEdit;return Object(f.jsx)(H,{runtimeObject:e,onCall:n,onEdit:r})}}})):[]}}:null})):[]}}]}}})):[]}}]},q=n(316),X=function(e){var t=e.gameData,n=e.onEdit;return Object(f.jsxs)(u.Fragment,{children:[Object(f.jsx)(q.a,{children:Object(f.jsx)(c.Trans,{id:"You are in raw mode. You can edit the fields, but be aware that this can lead to unexpected results or even crash the debugged game!"})}),Object(f.jsx)(F.a,{collapsed:1,name:!1,src:t,onEdit:function(e){return n(e.namespace.concat(e.name),e.new_value)},groupArraysAfterLength:50,theme:"monokai"})]})},J=n(340),K=n(2129),Q=n.n(K),$=n(2130),ee=n.n($),te=n(318),ne=n(19),re=n(34),ae=n(379),oe=n(1138),ie=n.n(oe),se=n(508),ce=n.n(se),ue=n(560),le=n.n(ue),de=n(306),be={indent:{display:"flex",alignItems:"center"}},pe=function(e){var t=u.useState({}),n=Object(re.a)(t,2),a=n[0],o=n[1],i=u.useContext(de.a),s=function(e){return a[e]},l=function(e){var t=e.index;return t<0?"tableHeaderRow":t%2===0?"tableEvenRow":"tableOddRow"},b=function(e){var t=e.rowData;return Object(f.jsxs)("div",{style:be.indent,children:[Object(f.jsx)("div",{style:{width:8*t.depth}}),t.hasSubsections?Object(f.jsx)(x.a,{onClick:function(){return e=t.path,void o(Object(r.a)(Object(r.a)({},a),{},Object(d.a)({},e,!a[e])));var e},children:t.isCollapsed?Object(f.jsx)(le.a,{}):Object(f.jsx)(ce.a,{})}):Object(f.jsx)("div",{style:{width:24}}),Object(f.jsx)("span",{children:t.name})]})},p=e.profilerMeasures;if(!p)return null;var j=function t(n,r,a){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",c=e.profilerMeasures,u=r&&a.time&&0!==r.time?a.time/r.time*100:100,l=c&&a.time&&0!==c.time?a.time/c.time*100:100,d=s(i);return[{name:n,time:a.time?"".concat(a.time.toFixed(2),"ms"):"?",parentPercent:"".concat(u.toFixed(2),"%"),totalPercent:"".concat(l.toFixed(2),"%"),depth:o,hasSubsections:!!Object.keys(a.subsections).length,path:i,isCollapsed:d}].concat(Object(ne.a)(d?[]:ie()(a.subsections,(function(e,n){return t(n,a,e,o+1,"".concat(i,">").concat(o,".").concat(n))}))))}("All",null,p);return Object(f.jsx)(ae.a,{children:function(e){var t=e.height,n=e.width;return Object(f.jsxs)(ae.h,{headerHeight:30,height:t,className:"gd-table ".concat(i.tableRootClassName),headerClassName:"tableHeaderColumn",rowCount:j.length,rowGetter:function(e){var t=e.index;return j[t]},rowHeight:35,onRowClick:function(){},rowClassName:l,width:n,children:[Object(f.jsx)(ae.d,{label:Object(f.jsx)(c.Trans,{id:"Section name"}),dataKey:"name",width:.4*n,className:"tableColumn",cellRenderer:b}),Object(f.jsx)(ae.d,{label:Object(f.jsx)(c.Trans,{id:"Time (ms)"}),dataKey:"time",width:.2*n,className:"tableColumn"}),Object(f.jsx)(ae.d,{label:Object(f.jsx)(c.Trans,{id:"% of parent"}),dataKey:"parentPercent",width:.2*n,className:"tableColumn"}),Object(f.jsx)(ae.d,{label:Object(f.jsx)(c.Trans,{id:"% of total"}),dataKey:"totalPercent",width:.2*n,className:"tableColumn"})]})}})},je=n(436),he={tableContainer:{flex:1}},fe=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=e.onStart,n=e.onStop,r=e.profilerOutput,a=e.profilingInProgress;return Object(f.jsxs)(w.a,{children:[Object(f.jsxs)(S.c,{alignItems:"center",justifyContent:"center",children:[!a&&r&&Object(f.jsx)(U.a,{children:Object(f.jsx)(c.Trans,{id:"Last run collected on {0} frames.",values:{0:r.stats.framesCount}})}),!a&&r&&Object(f.jsx)(p.a,{label:Object(f.jsx)(c.Trans,{id:"Restart"}),onClick:t}),!a&&!r&&Object(f.jsx)(p.a,{label:Object(f.jsx)(c.Trans,{id:"Start profiling"}),onClick:t}),a&&Object(f.jsx)(p.a,{label:Object(f.jsx)(c.Trans,{id:"Stop profiling"}),onClick:n})]}),a&&Object(f.jsx)(S.c,{alignItems:"center",children:Object(f.jsx)(je.a,{})}),Object(f.jsxs)("div",{style:he.tableContainer,children:[r&&Object(f.jsx)(pe,{profilerMeasures:r.framesAverageMeasures}),!r&&Object(f.jsx)(q.a,{children:Object(f.jsx)(c.Trans,{id:"Start profiling and then stop it after a few seconds to see the results."})})]})]})}}]),n}(u.Component),ge=n(314),me=n(404),Oe=n(303),ve=n(400),xe=n(952),ye=n.n(xe),Ce=n(507),ke=n.n(Ce),we=n(729),Te=n.n(we),Ee=n(1199),Se=n.n(Ee),Pe=n(2128),Ie=n.n(Pe),Ae=n(403),De=n.n(Ae),Fe=n(397),Me=n.n(Fe),_e=n(732),Le=n.n(_e),Re=n(856),Ne=n.n(Re),Be=n(2127),Ue=n.n(Be),He=function(){function e(){Object(a.a)(this,e),this.logs=[],this.groups=new Set,this._onNewLog=new Set,this._onNewGroup=new Set,this._pendingLogs=[],this._pendingCommit=!1}return Object(o.a)(e,[{key:"_commitLogs",value:function(){var e;(e=this.logs).unshift.apply(e,Object(ne.a)(this._pendingLogs)),this._pendingLogs.length=0,this._pendingCommit=!1,this._onNewLog.forEach((function(e){return e()}))}},{key:"addLog",value:function(e){this._pendingLogs.unshift(e),this.groups.has(e.group)||(this.groups.add(e.group),this._onNewGroup.forEach((function(e){return e()}))),this._pendingCommit||(setTimeout(this._commitLogs.bind(this),200),this._pendingCommit=!0)}},{key:"on",value:function(e,t){"group"===e&&this._onNewGroup.add(t),"log"===e&&this._onNewLog.add(t)}},{key:"off",value:function(e,t){"group"===e&&this._onNewGroup.delete(t),"log"===e&&this._onNewLog.delete(t)}}]),e}(),We={userSelect:"text",cursor:"text",wordBreak:"break-word"},ze={list:{overflowX:"hidden",overflowY:"scroll"},tag:{marginRight:2},consoleTextArea:Object(r.a)(Object(r.a)({},We),{},{width:"100%",backgroundColor:"#292929",borderRadius:"4px",border:"1px solid slategray",color:"white",fontFamily:"'Courier New', monospace",fontSize:11,padding:3})},Ve=function(e){var t=e.icon,n=e.label;return Object(f.jsx)(me.a,{icon:t,style:ze.tag,size:"small",label:Object(f.jsx)("span",{style:We,children:n})})},Ge={info:Object(f.jsx)(ye.a,{color:"primary",fontSize:"small"}),warning:Object(f.jsx)(ke.a,{color:"secondary",fontSize:"small"}),error:Object(f.jsx)(Te.a,{color:"error",fontSize:"small"})},Ze=function(e){var t=e.logsManager,n=Object(ge.a)(),a=t.logs,o=t.groups;u.useEffect((function(){var e=function(){n()};return t.on("log",e),function(){t.off("log",e)}}),[n,t]);var i=u.useRef(0),s=u.useMemo((function(){return new ae.c({defaultHeight:45,minHeight:25,fixedWidth:!0,keyMapper:function(e){return a.length-e}})}),[a]),l=u.useState(!1),d=Object(re.a)(l,2),b=d[0],p=d[1],h=u.useState(!0),g=Object(re.a)(h,2),m=g[0],O=g[1],v=u.useState(!1),y=Object(re.a)(v,2),C=y[0],k=y[1],w=u.useRef(new Set).current;u.useEffect((function(){if(C){var e=function(){return n()};return t.on("group",e),function(){t.off("group",e)}}}),[C,n,t]);var T=a.filter((function(e){var t=e.internal;return!(b&&t)})).filter((function(e){var t=e.group;return!w.has(t)}));return Object(f.jsxs)(S.a,{noMargin:!0,noOverflowParent:!0,expand:!0,children:[Object(f.jsx)(S.c,{noMargin:!0,expand:!0,children:Object(f.jsx)(ae.a,{children:function(e){var t=e.width,n=e.height;return t&&n?(i.current!==t&&(s.clearAll(),i.current=t),Object(f.jsx)(ae.f,{deferredMeasurementCache:s,height:n,width:t,style:ze.list,rowCount:T.length,rowHeight:s.rowHeight,rowRenderer:function(e){var t=e.index,n=e.key,a=e.parent,o=e.style;return Object(f.jsx)(ae.b,{cache:s,columnIndex:0,parent:a,rowIndex:t,children:function(e){var a=e.registerChild;return Object(f.jsxs)("div",{style:Object(r.a)(Object(r.a)({},o),{},{padding:2,display:"flex",alignItems:"flex-start"}),ref:a,children:[Object(f.jsx)(S.a,{noMargin:!0,children:Ge[T[t].type]||Ge.info}),Object(f.jsx)(S.d,{}),Object(f.jsxs)(S.a,{noMargin:!0,expand:!0,children:[Object(f.jsx)(S.c,{noMargin:!0,children:Object(f.jsx)("div",{style:ze.consoleTextArea,children:T[t].message})}),m&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(S.d,{}),Object(f.jsxs)(S.c,{noMargin:!0,children:[T[t].group?Object(f.jsx)(Ve,{icon:Object(f.jsx)(Ue.a,{}),label:Object(f.jsx)(c.Trans,{id:"Group: {0}",values:{0:T[t].group}})}):null,Object(f.jsx)(Ve,{icon:Object(f.jsx)(Ne.a,{}),label:Object(f.jsx)(c.Trans,{id:"Timestamp: {0}",values:{0:Math.round(1e3*T[t].timestamp)/1e6+"s"}})})]})]})]})]},n)}},n)}})):null}})}),Object(f.jsx)(ve.b,{children:Object(f.jsxs)(S.c,{justifyContent:"space-between",alignItems:"center",noMargin:!0,children:[Object(f.jsx)(J.a,{label:m?Object(f.jsx)(c.Trans,{id:"Hide details"}):Object(f.jsx)(c.Trans,{id:"Show details"}),checkedIcon:Object(f.jsx)(Se.a,{}),uncheckedIcon:Object(f.jsx)(Ie.a,{}),checked:m,onCheck:function(e,t){return O(t),void s.clearAll()}}),Object(f.jsx)(J.a,{label:Object(f.jsx)(c.Trans,{id:"Show internal"}),checkedIcon:Object(f.jsx)(De.a,{}),uncheckedIcon:Object(f.jsx)(Me.a,{}),checked:!b,onCheck:function(e,t){return p(!t)}}),Object(f.jsx)(x.a,{tooltip:{id:"Filter the logs by group"},onClick:function(){return k(!0)},edge:"start",size:"small",children:Object(f.jsx)(Le.a,{})})]})}),C&&Object(f.jsx)(Oe.c,{title:Object(f.jsx)(c.Trans,{id:"Select log groups to display"}),open:!0,actions:[Object(f.jsx)(j.a,{label:Object(f.jsx)(c.Trans,{id:"Close"}),primary:!1,onClick:function(){return k(!1)}},"close")],onRequestClose:function(){return k(!1)},onApply:function(){return k(!1)},children:Object(f.jsx)(S.a,{children:function(){var e,t=[],r=Object(M.a)(o.values());try{var a=function(){var r=e.value;t.push(Object(f.jsx)(S.c,{children:Object(f.jsx)(J.a,{label:r,checked:!w.has(r),onCheck:function(e,t){t?w.delete(r):w.add(r),n()}})},r))};for(r.s();!(e=r.n()).done;)a()}catch(i){r.e(i)}finally{r.f()}return t}()})})]})},Ye=n(39),qe=n(331),Xe={direction:"column",first:{direction:"row",first:"inspectors",second:"selected-inspector",splitPercentage:25},second:{direction:"row",first:"profiler",second:"console",splitPercentage:25},splitPercentage:65},Je=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={selectedInspector:null,selectedInspectorFullPath:[],rawMode:!1},e._editors=null,e.openProfiler=function(){e._editors&&e._editors.openEditor("profiler","end",75,"row")},e.openConsole=function(){e._editors&&e._editors.openEditor("console","start",40,"row")},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.gameData,r=t.onRefresh,a=t.onCall,o=t.onEdit,i=t.onStartProfiler,s=t.onStopProfiler,u=t.profilerOutput,l=t.profilingInProgress,d=t.logsManager,b=this.state,j=b.selectedInspector,h=b.selectedInspectorFullPath,g=b.rawMode,m={inspectors:{type:"primary",title:{id:"Inspectors"},toolbarControls:[],renderEditor:function(){return Object(f.jsx)(w.a,{children:Object(f.jsxs)(S.a,{expand:!0,noMargin:!0,useFullHeight:!0,children:[Object(f.jsx)(S.c,{justifyContent:"center",children:Object(f.jsx)(p.a,{label:Object(f.jsx)(c.Trans,{id:"Refresh"}),onClick:r,primary:!0})}),Object(f.jsx)(A,{gameData:n,getInspectorDescriptions:Y,onChooseInspector:function(t,n){return e.setState({selectedInspector:t,selectedInspectorFullPath:n})}})]})})}},"selected-inspector":{type:"primary",noTitleBar:!0,renderEditor:function(){return Object(f.jsxs)(w.a,{children:[Object(f.jsx)(qe.a,{children:Object(f.jsx)(S.a,{children:j?g?Object(f.jsx)(X,{gameData:E()(n,h,null),onEdit:function(e,t){return o(h.concat(e),t)}}):j.renderInspector(E()(n,h,null),{onCall:function(e,t){return a(h.concat(e),t)},onEdit:function(e,t){return o(h.concat(e),t)}})||Object(f.jsx)(q.a,{children:Object(f.jsx)(c.Trans,{id:"No inspector, choose another element in the list or toggle the raw data view."})}):Object(f.jsx)(q.a,{children:n?Object(f.jsx)(c.Trans,{id:"Choose an element to inspect in the list"}):Object(f.jsx)(c.Trans,{id:"Pause the game (from the toolbar) or hit refresh (on the left) to inspect the game"})})})}),Object(f.jsx)(ve.b,{children:Object(f.jsxs)(S.c,{justifyContent:"space-between",alignItems:"center",noMargin:!0,children:[Object(f.jsx)(te.a,{helpPagePath:"/interface/debugger"}),Object(f.jsx)("div",{children:Object(f.jsx)(J.a,{checkedIcon:Object(f.jsx)(Q.a,{}),uncheckedIcon:Object(f.jsx)(ee.a,{}),checked:g,onCheck:function(t,n){return e.setState({rawMode:n})}})})]})})]})}},profiler:{type:"secondary",title:{id:"Profiler"},renderEditor:function(){return Object(f.jsx)(fe,{onStart:i,onStop:s,profilerOutput:u,profilingInProgress:l})}},console:{type:"secondary",title:{id:"Console"},renderEditor:function(){return Object(f.jsx)(w.a,{children:Object(f.jsx)(Ze,{logsManager:d||[]})})}}};return Object(f.jsx)(Ye.a.Consumer,{children:function(t){var n=t.getDefaultEditorMosaicNode,r=t.setDefaultEditorMosaicNode;return Object(f.jsx)(k.a,{ref:function(t){return e._editors=t},editors:m,initialNodes:n("debugger")||Xe,onPersistNodes:function(e){return r("debugger",e)}})}})}}]),n}(u.Component),Ke=n(322),Qe=n(321),$e=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=!!this.props.debuggerIds.length;return Object(f.jsxs)(Ke.a,{fullWidth:!0,value:t?this.props.selectedId:0,onChange:function(t,n,r){return e.props.onChooseDebugger(parseInt(r,10)||0)},disabled:!t,children:[this.props.debuggerIds.map((function(e){return Object(f.jsx)(Qe.a,{value:e,primaryText:{id:"Game preview #{id}",values:{id:e}}},e)})),!t&&Object(f.jsx)(Qe.a,{value:0,primaryText:{id:"No preview running. Run a preview and you will be able to inspect it with the debugger"}})]})}}]),n}(u.Component),et=n(323),tt=n(567),nt=function(e){var t=e.group,n=e.message;return"JavaScript"===t&&(n.includes("Electron Security Warning")||n.includes("Warning: This is a browser-targeted Firebase bundle"))},rt=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(a.a)(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={debuggerServerState:e.props.previewDebuggerServer.getServerState(),debuggerServerError:null,debuggerIds:e.props.previewDebuggerServer.getExistingDebuggerIds(),unregisterDebuggerServerCallbacks:null,debuggerGameData:{},profilerOutputs:{},profilingInProgress:{},gameIsPaused:{},selectedId:0,logs:{}},e._debuggerContents={},e._debuggerLogs=new Map,e._registerServerCallbacks=function(){var t=e.props.previewDebuggerServer,n=e.state.unregisterDebuggerServerCallbacks;if(!n||"started"!==t.getServerState()){n&&n();var r=t.registerCallbacks({onErrorReceived:function(t){e.setState({debuggerServerError:t},(function(){return e.updateToolbar()}))},onConnectionClosed:function(t){var n=t.id,r=t.debuggerIds;e._debuggerLogs.delete(n),e.setState((function(e){var t=e.selectedId,a=e.debuggerGameData,o=e.profilerOutputs,i=e.profilingInProgress,s=e.gameIsPaused;return a[n]&&delete a[n],o[n]&&delete o[n],i[n]&&delete i[n],s[n]&&delete s[n],{debuggerIds:r,selectedId:t!==n?t:r.length?r[r.length-1]:t,debuggerGameData:a,profilerOutputs:o,profilingInProgress:i,gameIsPaused:s}}),(function(){return e.updateToolbar()}))},onConnectionOpened:function(t){var n=t.id,r=t.debuggerIds;e.setState({debuggerIds:r,selectedId:n},(function(){return e.updateToolbar()}))},onConnectionErrored:function(t){var n=t.id,r=t.errorMessage;e._getLogsManager(n).addLog({type:"error",timestamp:performance.now(),group:"Debugger connection",message:"The debugger connection errored: "+r})},onServerStateChanged:function(){e.setState({debuggerServerState:t.getServerState()},(function(){return e.updateToolbar()}))},onHandleParsedMessage:function(t){var n=t.id,r=t.parsedMessage;e._handleMessage(n,r)}});e.setState({unregisterDebuggerServerCallbacks:r})}},e._handleMessage=function(t,n){if("dump"===n.command)e.setState({debuggerGameData:Object(r.a)(Object(r.a)({},e.state.debuggerGameData),{},Object(d.a)({},t,n.payload))});else if("profiler.output"===n.command)e.setState({profilerOutputs:Object(r.a)(Object(r.a)({},e.state.profilerOutputs),{},Object(d.a)({},t,n.payload))});else if("profiler.started"===n.command)e.setState((function(e){return{profilingInProgress:Object(r.a)(Object(r.a)({},e.profilingInProgress),{},Object(d.a)({},t,!0))}}));else if("profiler.stopped"===n.command)e.setState((function(e){return{profilingInProgress:Object(r.a)(Object(r.a)({},e.profilingInProgress),{},Object(d.a)({},t,!1))}}));else if("game.resumed"===n.command)e.setState((function(e){return{gameIsPaused:Object(r.a)(Object(r.a)({},e.gameIsPaused),{},Object(d.a)({},t,!1))}}),(function(){return e.updateToolbar()}));else if("game.paused"===n.command)e.setState((function(e){return{gameIsPaused:Object(r.a)(Object(r.a)({},e.gameIsPaused),{},Object(d.a)({},t,!0))}}),(function(){return e.updateToolbar()}));else if("hotReloader.logs"===n.command);else if("console.log"===n.command){if(nt(n.payload))return;e._getLogsManager(t).addLog(n.payload)}else console.warn("Unknown command received from debugger client:",n.command)},e._play=function(t){e.props.previewDebuggerServer.sendMessage(t,{command:"play"}),e.setState((function(e){return{gameIsPaused:Object(r.a)(Object(r.a)({},e.gameIsPaused),{},Object(d.a)({},t,!1))}}),(function(){return e.updateToolbar()}))},e._pause=function(t){e.props.previewDebuggerServer.sendMessage(t,{command:"pause"}),e.setState((function(e){return{gameIsPaused:Object(r.a)(Object(r.a)({},e.gameIsPaused),{},Object(d.a)({},t,!0))}}),(function(){return e.updateToolbar()}))},e._refresh=function(t){e.props.previewDebuggerServer.sendMessage(t,{command:"refresh"})},e._edit=function(t,n,r){return e.props.previewDebuggerServer.sendMessage(t,{command:"set",path:n,newValue:r}),setTimeout((function(){return e._refresh(t)}),100),!0},e._call=function(t,n,r){return e.props.previewDebuggerServer.sendMessage(t,{command:"call",path:n,args:r}),setTimeout((function(){return e._refresh(t)}),100),!0},e._startProfiler=function(t){e.props.previewDebuggerServer.sendMessage(t,{command:"profiler.start"})},e._stopProfiler=function(t){e.props.previewDebuggerServer.sendMessage(t,{command:"profiler.stop"})},e._hasSelectedDebugger=function(){var t=e.state,n=t.selectedId;return-1!==t.debuggerIds.indexOf(n)},e}return Object(o.a)(n,[{key:"updateToolbar",value:function(){var e=this,t=this.state,n=t.selectedId,r=t.gameIsPaused;this.props.setToolbar(Object(f.jsx)(C,{onPlay:function(){return e._play(e.state.selectedId)},onPause:function(){return e._pause(e.state.selectedId)},canPlay:this._hasSelectedDebugger()&&r[n],canPause:this._hasSelectedDebugger()&&!r[n],canOpenProfiler:this._hasSelectedDebugger(),onOpenProfiler:function(){e._debuggerContents[e.state.selectedId]&&e._debuggerContents[e.state.selectedId].openProfiler()},canOpenConsole:this._hasSelectedDebugger(),onOpenConsole:function(){e._debuggerContents[e.state.selectedId]&&e._debuggerContents[e.state.selectedId].openConsole()}}))}},{key:"componentDidMount",value:function(){this._registerServerCallbacks()}},{key:"componentWillUnmount",value:function(){this.state.unregisterDebuggerServerCallbacks&&this.state.unregisterDebuggerServerCallbacks()}},{key:"_getLogsManager",value:function(e){var t=this._debuggerLogs.get(e);return t||(t=new He,this._debuggerLogs.set(e,t)),t}},{key:"render",value:function(){var e=this,t=this.state,n=t.debuggerServerError,r=t.debuggerServerState,a=t.selectedId,o=t.debuggerIds,i=t.debuggerGameData,s=t.profilerOutputs,u=t.profilingInProgress;return Object(f.jsxs)(w.a,{children:["stopped"===r&&!n&&Object(f.jsxs)(tt.a,{children:[Object(f.jsx)(et.a,{}),Object(f.jsx)(U.a,{children:Object(f.jsx)(c.Trans,{id:"Debugger is starting..."})})]}),"stopped"===r&&n&&Object(f.jsx)(tt.a,{children:Object(f.jsx)(U.a,{children:Object(f.jsx)(c.Trans,{id:"Unable to start the debugger server! Make sure that you are authorized to run servers on this computer."})})}),"started"===r&&Object(f.jsxs)(S.a,{expand:!0,noMargin:!0,children:[Object(f.jsx)($e,{selectedId:a,debuggerIds:o,onChooseDebugger:function(t){return e.setState({selectedId:t},(function(){return e.updateToolbar()}))}}),this._hasSelectedDebugger()&&Object(f.jsx)(Je,{ref:function(t){return e._debuggerContents[a]=t},gameData:i[a],onPlay:function(){return e._play(a)},onPause:function(){return e._pause(a)},onRefresh:function(){return e._refresh(a)},onEdit:function(t,n){return e._edit(a,t,n)},onCall:function(t,n){return e._call(a,t,n)},onStartProfiler:function(){return e._startProfiler(a)},onStopProfiler:function(){return e._stopProfiler(a)},profilerOutput:s[a],profilingInProgress:u[a],logsManager:this._getLogsManager(a)}),!this._hasSelectedDebugger()&&Object(f.jsx)(q.a,{children:Object(f.jsx)(c.Trans,{id:"Run a preview and you will be able to inspect it with the debugger."})})]})]})}}]),n}(u.Component),at=n(770),ot=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={subscriptionChecked:!1},e}return Object(o.a)(n,[{key:"shouldComponentUpdate",value:function(e){return this.props.isActive||e.isActive}},{key:"getProject",value:function(){return this.props.project}},{key:"getLayout",value:function(){return null}},{key:"updateToolbar",value:function(){this.editor&&this.editor.updateToolbar()}},{key:"forceUpdateEditor",value:function(){}},{key:"UNSAFE_componentWillReceiveProps",value:function(){this._checkUserHasSubscription()}},{key:"componentDidMount",value:function(){this._checkUserHasSubscription()}},{key:"_checkUserHasSubscription",value:function(){this._subscriptionChecker&&this.props.isActive&&!this.state.subscriptionChecked&&(this._subscriptionChecker.checkUserHasSubscription(),this.setState({subscriptionChecked:!0}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,r=t.previewDebuggerServer;return n&&r?Object(f.jsxs)(u.Fragment,{children:[Object(f.jsx)(rt,{project:n,setToolbar:this.props.setToolbar,previewDebuggerServer:r,ref:function(t){return e.editor=t}}),Object(f.jsx)(at.a,{ref:function(t){return e._subscriptionChecker=t},id:"Debugger",title:Object(f.jsx)(c.Trans,{id:"Debugger"}),mode:"try"})]}):null}}]),n}(u.Component),it=function(e){return Object(f.jsx)(ot,Object(r.a)({},e))}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=[{name:"Visual Studio",themeName:"vs"},{name:"Visual Studio Dark",themeName:"vs-dark"},{name:"GitHub",themeName:"github",themeData:{base:"vs",inherit:!0,rules:[{foreground:"999988",fontStyle:"italic",token:"comment"},{foreground:"999999",fontStyle:"bold",token:"comment.block.preprocessor"},{foreground:"999999",fontStyle:"bold italic",token:"comment.documentation"},{foreground:"999999",fontStyle:"bold italic",token:"comment.block.documentation"},{foreground:"a61717",background:"e3d2d2",token:"invalid.illegal"},{fontStyle:"bold",token:"keyword"},{fontStyle:"bold",token:"storage"},{fontStyle:"bold",token:"keyword.operator"},{fontStyle:"bold",token:"constant.language"},{fontStyle:"bold",token:"support.constant"},{foreground:"445588",fontStyle:"bold",token:"storage.type"},{foreground:"445588",fontStyle:"bold",token:"support.type"},{foreground:"008080",token:"entity.other.attribute-name"},{foreground:"0086b3",token:"variable.other"},{foreground:"999999",token:"variable.language"},{foreground:"445588",fontStyle:"bold",token:"entity.name.type"},{foreground:"445588",fontStyle:"bold",token:"entity.other.inherited-class"},{foreground:"445588",fontStyle:"bold",token:"support.class"},{foreground:"008080",token:"variable.other.constant"},{foreground:"800080",token:"constant.character.entity"},{foreground:"990000",token:"entity.name.exception"},{foreground:"990000",token:"entity.name.function"},{foreground:"990000",token:"support.function"},{foreground:"990000",token:"keyword.other.name-of-parameter"},{foreground:"555555",token:"entity.name.section"},{foreground:"000080",token:"entity.name.tag"},{foreground:"008080",token:"variable.parameter"},{foreground:"008080",token:"support.variable"},{foreground:"009999",token:"constant.numeric"},{foreground:"009999",token:"constant.other"},{foreground:"dd1144",token:"string - string source"},{foreground:"dd1144",token:"constant.character"},{foreground:"009926",token:"string.regexp"},{foreground:"990073",token:"constant.other.symbol"},{fontStyle:"bold",token:"punctuation"},{foreground:"000000",background:"ffdddd",token:"markup.deleted"},{fontStyle:"italic",token:"markup.italic"},{foreground:"aa0000",token:"markup.error"},{foreground:"999999",token:"markup.heading.1"},{foreground:"000000",background:"ddffdd",token:"markup.inserted"},{foreground:"888888",token:"markup.output"},{foreground:"888888",token:"markup.raw"},{foreground:"555555",token:"markup.prompt"},{fontStyle:"bold",token:"markup.bold"},{foreground:"aaaaaa",token:"markup.heading"},{foreground:"aa0000",token:"markup.traceback"},{fontStyle:"underline",token:"markup.underline"},{foreground:"999999",background:"eaf2f5",token:"meta.diff.range"},{foreground:"999999",background:"eaf2f5",token:"meta.diff.index"},{foreground:"999999",background:"eaf2f5",token:"meta.separator"},{foreground:"999999",background:"ffdddd",token:"meta.diff.header.from-file"},{foreground:"999999",background:"ddffdd",token:"meta.diff.header.to-file"},{foreground:"4183c4",token:"meta.link"}],colors:{"editor.foreground":"#000000","editor.background":"#F8F8FF","editor.selectionBackground":"#B4D5FE","editor.lineHighlightBackground":"#FFFEEB","editorCursor.foreground":"#666666","editorWhitespace.foreground":"#BBBBBB"}}},{name:"Monokai",themeName:"monokai",themeData:{base:"vs-dark",inherit:!0,rules:[{foreground:"75715e",token:"comment"},{foreground:"e6db74",token:"string"},{foreground:"ae81ff",token:"constant.numeric"},{foreground:"ae81ff",token:"constant.language"},{foreground:"ae81ff",token:"constant.character"},{foreground:"ae81ff",token:"constant.other"},{foreground:"f92672",token:"keyword"},{foreground:"f92672",token:"storage"},{foreground:"66d9ef",fontStyle:"italic",token:"storage.type"},{foreground:"a6e22e",fontStyle:"underline",token:"entity.name.class"},{foreground:"a6e22e",fontStyle:"italic underline",token:"entity.other.inherited-class"},{foreground:"a6e22e",token:"entity.name.function"},{foreground:"fd971f",fontStyle:"italic",token:"variable.parameter"},{foreground:"f92672",token:"entity.name.tag"},{foreground:"a6e22e",token:"entity.other.attribute-name"},{foreground:"66d9ef",token:"support.function"},{foreground:"66d9ef",token:"support.constant"},{foreground:"66d9ef",fontStyle:"italic",token:"support.type"},{foreground:"66d9ef",fontStyle:"italic",token:"support.class"},{foreground:"f8f8f0",background:"f92672",token:"invalid"},{foreground:"f8f8f0",background:"ae81ff",token:"invalid.deprecated"},{foreground:"cfcfc2",token:"meta.structure.dictionary.json string.quoted.double.json"},{foreground:"75715e",token:"meta.diff"},{foreground:"75715e",token:"meta.diff.header"},{foreground:"f92672",token:"markup.deleted"},{foreground:"a6e22e",token:"markup.inserted"},{foreground:"e6db74",token:"markup.changed"},{foreground:"ae81ff",token:"constant.numeric.line-number.find-in-files - match"},{foreground:"e6db74",token:"entity.name.filename.find-in-files"}],colors:{"editor.foreground":"#F8F8F2","editor.background":"#272822","editor.selectionBackground":"#49483E","editor.lineHighlightBackground":"#3E3D32","editorCursor.foreground":"#F8F8F0","editorWhitespace.foreground":"#3B3A32","editorIndentGuide.activeBackground":"#9D550F","editor.selectionHighlightBorder":"#222218"}}},{name:"Solarized-Dark",themeName:"solarized-dark",themeData:{base:"vs-dark",inherit:!0,rules:[{foreground:"657b83",fontStyle:"italic",token:"comment"},{foreground:"2aa198",token:"string"},{foreground:"d30102",token:"string.regexp"},{foreground:"d33682",token:"constant.numeric"},{foreground:"268bd2",token:"variable.language"},{foreground:"268bd2",token:"variable.other"},{foreground:"859900",token:"keyword"},{foreground:"93a1a1",fontStyle:"bold",token:"storage"},{foreground:"cb4b16",token:"entity.name.class"},{foreground:"cb4b16",token:"entity.name.type.class"},{foreground:"268bd2",token:"entity.name.function"},{foreground:"859900",token:"punctuation.definition.variable"},{foreground:"d30102",token:"punctuation.section.embedded.begin"},{foreground:"d30102",token:"punctuation.section.embedded.end"},{foreground:"b58900",token:"constant.language"},{foreground:"b58900",token:"meta.preprocessor"},{foreground:"cb4b16",token:"support.function.construct"},{foreground:"cb4b16",token:"keyword.other.new"},{foreground:"cb4b16",token:"constant.character"},{foreground:"cb4b16",token:"constant.other"},{foreground:"6c71c4",token:"entity.other.inherited-class"},{foreground:"268bd2",fontStyle:"bold",token:"entity.name.tag"},{foreground:"657b83",token:"punctuation.definition.tag"},{foreground:"93a1a1",token:"entity.other.attribute-name"},{foreground:"268bd2",token:"support.function"},{foreground:"d30102",token:"punctuation.separator.continuation"},{foreground:"859900",token:"support.type"},{foreground:"859900",token:"support.class"},{foreground:"cb4b16",token:"support.type.exception"}],colors:{"editor.foreground":"#93A1A1","editor.background":"#002B36","editor.selectionBackground":"#073642","editor.lineHighlightBackground":"#073642","editorCursor.foreground":"#D30102","editorWhitespace.foreground":"#93A1A1"}}},{name:"Solarized-Light",themeName:"solarized-light",themeData:{base:"vs",inherit:!0,rules:[{foreground:"93a1a1",token:"comment"},{foreground:"2aa198",token:"string"},{foreground:"d30102",token:"string.regexp"},{foreground:"d33682",token:"constant.numeric"},{foreground:"268bd2",token:"variable.language"},{foreground:"268bd2",token:"variable.other"},{foreground:"859900",token:"keyword"},{foreground:"073642",fontStyle:"bold",token:"storage"},{foreground:"268bd2",token:"entity.name.class"},{foreground:"268bd2",token:"entity.name.type.class"},{foreground:"268bd2",token:"entity.name.function"},{foreground:"859900",token:"punctuation.definition.variable"},{foreground:"d30102",token:"punctuation.section.embedded.begin"},{foreground:"d30102",token:"punctuation.section.embedded.end"},{foreground:"b58900",token:"constant.language"},{foreground:"b58900",token:"meta.preprocessor"},{foreground:"d30102",token:"support.function.construct"},{foreground:"d30102",token:"keyword.other.new"},{foreground:"cb4b16",token:"constant.character"},{foreground:"cb4b16",token:"constant.other"},{foreground:"268bd2",fontStyle:"bold",token:"entity.name.tag"},{foreground:"93a1a1",token:"punctuation.definition.tag.begin"},{foreground:"93a1a1",token:"punctuation.definition.tag.end"},{foreground:"93a1a1",token:"entity.other.attribute-name"},{foreground:"268bd2",token:"support.function"},{foreground:"d30102",token:"punctuation.separator.continuation"},{foreground:"859900",token:"support.type"},{foreground:"859900",token:"support.class"},{foreground:"cb4b16",token:"support.type.exception"}],colors:{"editor.foreground":"#586E75","editor.background":"#FDF6E3","editor.selectionBackground":"#073642","editor.lineHighlightBackground":"#EEE8D5","editorCursor.foreground":"#000000","editorWhitespace.foreground":"#93A1A1"}}},{name:"Tomorrow",themeName:"tomorrow",themeData:{base:"vs",inherit:!0,rules:[{foreground:"8e908c",token:"comment"},{foreground:"666969",token:"keyword.operator.class"},{foreground:"666969",token:"constant.other"},{foreground:"666969",token:"source.php.embedded.line"},{foreground:"c82829",token:"variable"},{foreground:"c82829",token:"support.other.variable"},{foreground:"c82829",token:"string.other.link"},{foreground:"c82829",token:"string.regexp"},{foreground:"c82829",token:"entity.name.tag"},{foreground:"c82829",token:"entity.other.attribute-name"},{foreground:"c82829",token:"meta.tag"},{foreground:"c82829",token:"declaration.tag"},{foreground:"f5871f",token:"constant.numeric"},{foreground:"f5871f",token:"constant.language"},{foreground:"f5871f",token:"support.constant"},{foreground:"f5871f",token:"constant.character"},{foreground:"f5871f",token:"variable.parameter"},{foreground:"f5871f",token:"punctuation.section.embedded"},{foreground:"f5871f",token:"keyword.other.unit"},{foreground:"c99e00",token:"entity.name.class"},{foreground:"c99e00",token:"entity.name.type.class"},{foreground:"c99e00",token:"support.type"},{foreground:"c99e00",token:"support.class"},{foreground:"718c00",token:"string"},{foreground:"718c00",token:"constant.other.symbol"},{foreground:"718c00",token:"entity.other.inherited-class"},{foreground:"718c00",token:"markup.heading"},{foreground:"3e999f",token:"keyword.operator"},{foreground:"3e999f",token:"constant.other.color"},{foreground:"4271ae",token:"entity.name.function"},{foreground:"4271ae",token:"meta.function-call"},{foreground:"4271ae",token:"support.function"},{foreground:"4271ae",token:"keyword.other.special-method"},{foreground:"4271ae",token:"meta.block-level"},{foreground:"8959a8",token:"keyword"},{foreground:"8959a8",token:"storage"},{foreground:"8959a8",token:"storage.type"},{foreground:"ffffff",background:"c82829",token:"invalid"},{foreground:"ffffff",background:"4271ae",token:"meta.separator"},{foreground:"ffffff",background:"8959a8",token:"invalid.deprecated"}],colors:{"editor.foreground":"#4D4D4C","editor.background":"#FFFFFF","editor.selectionBackground":"#D6D6D6","editor.lineHighlightBackground":"#EFEFEF","editorCursor.foreground":"#AEAFAD","editorWhitespace.foreground":"#D1D1D1"}}},{name:"Tomorrow-Night",themeName:"tomorrow-night",themeData:{base:"vs-dark",inherit:!0,rules:[{foreground:"969896",token:"comment"},{foreground:"ced1cf",token:"keyword.operator.class"},{foreground:"ced1cf",token:"constant.other"},{foreground:"ced1cf",token:"source.php.embedded.line"},{foreground:"cc6666",token:"variable"},{foreground:"cc6666",token:"support.other.variable"},{foreground:"cc6666",token:"string.other.link"},{foreground:"cc6666",token:"string.regexp"},{foreground:"cc6666",token:"entity.name.tag"},{foreground:"cc6666",token:"entity.other.attribute-name"},{foreground:"cc6666",token:"meta.tag"},{foreground:"cc6666",token:"declaration.tag"},{foreground:"de935f",token:"constant.numeric"},{foreground:"de935f",token:"constant.language"},{foreground:"de935f",token:"support.constant"},{foreground:"de935f",token:"constant.character"},{foreground:"de935f",token:"variable.parameter"},{foreground:"de935f",token:"punctuation.section.embedded"},{foreground:"de935f",token:"keyword.other.unit"},{foreground:"f0c674",token:"entity.name.class"},{foreground:"f0c674",token:"entity.name.type.class"},{foreground:"f0c674",token:"support.type"},{foreground:"f0c674",token:"support.class"},{foreground:"b5bd68",token:"string"},{foreground:"b5bd68",token:"constant.other.symbol"},{foreground:"b5bd68",token:"entity.other.inherited-class"},{foreground:"b5bd68",token:"markup.heading"},{foreground:"8abeb7",token:"keyword.operator"},{foreground:"8abeb7",token:"constant.other.color"},{foreground:"81a2be",token:"entity.name.function"},{foreground:"81a2be",token:"meta.function-call"},{foreground:"81a2be",token:"support.function"},{foreground:"81a2be",token:"keyword.other.special-method"},{foreground:"81a2be",token:"meta.block-level"},{foreground:"b294bb",token:"keyword"},{foreground:"b294bb",token:"storage"},{foreground:"b294bb",token:"storage.type"},{foreground:"b294bb",token:"entity.name.tag.css"},{foreground:"ced2cf",background:"df5f5f",token:"invalid"},{foreground:"ced2cf",background:"82a3bf",token:"meta.separator"},{foreground:"ced2cf",background:"b798bf",token:"invalid.deprecated"}],colors:{"editor.foreground":"#C5C8C6","editor.background":"#1D1F21","editor.selectionBackground":"#373B41","editor.lineHighlightBackground":"#282A2E","editorCursor.foreground":"#AEAFAD","editorWhitespace.foreground":"#4B4E55"}}},{name:"Vibrant Ink",themeName:"vibrant-ink",themeData:{base:"vs-dark",inherit:!0,rules:[{foreground:"ffffff",background:"0f0f0f",token:"text"},{background:"000000",token:"source.ruby.rails.embedded.html"},{foreground:"ffffff",background:"101010",token:"text.html.ruby"},{foreground:"ccff33",background:"000000",token:"invalid"},{foreground:"ccff33",background:"000000",token:"invalid.deprecated"},{foreground:"99cc99",token:"constant.numeric"},{foreground:"ffffff",background:"000000",token:"source"},{foreground:"9933cc",token:"comment"},{foreground:"339999",token:"constant"},{foreground:"ff6600",token:"keyword"},{foreground:"edf8f9",token:"keyword.preprocessor"},{foreground:"ffffff",token:"keyword.preprocessor directive"},{foreground:"ffcc00",token:"entity.name.function"},{foreground:"ffcc00",token:"storage.type.function.js"},{fontStyle:"italic",token:"variable.parameter"},{foreground:"772cb7",background:"070707",token:"source comment.block"},{foreground:"ffffff",token:"variable.other"},{foreground:"ffcc00",token:"support.function"},{foreground:"66ff00",token:"string"},{foreground:"aaaaaa",token:"string constant.character.escape"},{foreground:"000000",background:"cccc33",token:"string.interpolated"},{foreground:"44b4cc",token:"string.regexp"},{foreground:"cccc33",token:"string.literal"},{foreground:"555555",token:"string.interpolated constant.character.escape"},{fontStyle:"underline",token:"entity.name.class"},{fontStyle:"underline",token:"support.class.js"},{fontStyle:"italic underline",token:"entity.other.inherited-class"},{foreground:"ff6600",token:"meta.tag.inline.any.html"},{foreground:"ff6600",token:"meta.tag.block.any.html"},{foreground:"99cc99",fontStyle:"italic",token:"entity.other.attribute-name"},{foreground:"dde93d",token:"keyword.other"},{foreground:"ff6600",token:"meta.selector.css"},{foreground:"ff6600",token:"entity.other.attribute-name.pseudo-class.css"},{foreground:"ff6600",token:"entity.name.tag.wildcard.css"},{foreground:"ff6600",token:"entity.other.attribute-name.id.css"},{foreground:"ff6600",token:"entity.other.attribute-name.class.css"},{foreground:"999966",token:"support.type.property-name.css"},{foreground:"ffffff",token:"keyword.other.unit.css"},{foreground:"ffffff",token:"constant.other.rgb-value.css"},{foreground:"ffffff",token:"constant.numeric.css"},{foreground:"ffffff",token:"support.function.event-handler.js"},{foreground:"ffffff",token:"keyword.operator.js"},{foreground:"cccc66",token:"keyword.control.js"},{foreground:"ffffff",token:"support.class.prototype.js"},{foreground:"ff6600",token:"object.property.function.prototype.js"}],colors:{"editor.foreground":"#FFFFFF","editor.background":"#0F0F0F","editor.selectionBackground":"#6699CC","editor.lineHighlightBackground":"#333333","editorCursor.foreground":"#FFFFFF","editorWhitespace.foreground":"#404040"}}},{name:"Nord-Dark",themeName:"nord-dark",themeData:{base:"vs-dark",inherit:!0,rules:[{foreground:"616e88",token:"comment"},{foreground:"616e88",fontStyle:"bold",token:"comment.block.preprocessor"},{foreground:"81a1c1",token:"comment.block.documentation"},{foreground:"d8dee9",background:"bf616a",token:"invalid.illegal"},{foreground:"81a1c1",token:"keyword"},{foreground:"81a1c1",token:"storage"},{foreground:"81a1c1",token:"keyword.operator"},{foreground:"81a1c1",token:"constant.language"},{foreground:"81a1c1",token:"support.constant"},{foreground:"8fbcbb",token:"storage.type"},{foreground:"8fBcbb",token:"entity.other.attribute-name"},{foreground:"d8dee9",token:"variable.other"},{foreground:"d8dee9",token:"variable.language"},{foreground:"8fbcbb",token:"entity.name.type"},{foreground:"8fbcbb",fontStyle:"bold",token:"entity.other.inherited-class"},{foreground:"8fbcbb",token:"support.class"},{foreground:"8fbcbb",token:"variable.other.constant"},{foreground:"88c0d0",token:"entity.name.function"},{foreground:"88c0d0",token:"support.function"},{foreground:"88c0d0",token:"entity.name.section"},{foreground:"5e81ac",token:"entity.name.tag"},{foreground:"d8dee9",token:"variable.parameter"},{foreground:"d8dee9",token:"support.variable"},{foreground:"b48ead",token:"constant.numeric"},{foreground:"b48ead",token:"constant.other"},{foreground:"a3be8c",token:"string - string source"},{foreground:"ebcb8b",token:"constant.character"},{foreground:"ebcb8b",token:"string.regexp"},{foreground:"d8dee9",fontStyle:"bold",token:"constant.other.symbol"},{fontground:"eceff4",token:"punctuation"},{foreground:"bf616a",token:"markup.deleted"},{fontStyle:"italic",token:"markup.italic"},{foreground:"88c0d0",token:"markup.heading"},{foreground:"a3be8c",token:"markup.inserted"},{fontStyle:"bold",token:"markup.bold"},{fontStyle:"underline",token:"markup.underline"},{foreground:"8fbcbb",token:"meta.diff.range"},{foreground:"8fbcbb",token:"meta.diff.header.from-file"}],colors:{"editorActiveLineNumber.foreground":"#d8dee9","editorCursor.foreground":"#d8dee9","editorHint.border":"#ebcb8b","editorHint.foreground":"#ebcb8b","editorIndentGuide.background":"#434c5e","editorIndentGuide.activeBackground":"#4c566a","editorLineNumber.foreground":"#4c566a","editorLineNumber.activeForeground":"#d8dee9","editorWhitespace.foreground":"#4c566a","editorWidget.background":"#2e3440","editorWidget.border":"#3b4252","editor.background":"#2e3440","editor.foreground":"#d8dee9","editor.hoverHighlightBackground":"#3b4252","editor.findMatchBackground":"#88c0d0","editor.findMatchHighlightBackground":"#88c0d0","editor.findRangeHighlightBackground":"#88c0d0","editor.lineHighlightBackground":"#3b4252","editor.lineHighlightBorder":"#3b4252","editor.inactiveSelectionBackground":"#434c5e","editor.selectionBackground":"#434c5e","editor.selectionHighlightBackground":"#434c5e","editor.rangeHighlightBackground":"#434c5e","editor.wordHighlightBackground":"#81a1c1","editor.wordHighlightStrongBackground":"#81a1c1","editorError.foreground":"#bf616a","editorError.border":"#bf616a","editorWarning.foreground":"#ebcb8b","editorWarning.border":"#ebcb8b","editorBracketMatch.background":"#2e3440","editorBracketMatch.border":"#88c0d0","editorCodeLens.foreground":"#4c566a","editorGroup.background":"#2e3440","editorGroup.border":"#3b4252","editorGroup.dropBackground":"#3b4252","editorGroupHeader.noTabsBackground":"#2e3440","editorGroupHeader.tabsBackground":"#2e3440","editorGroupHeader.tabsBorder":"#3b4252","editorGutter.background":"#2e3440","editorGutter.modifiedBackground":"#ebcb8b","editorGutter.addedBackground":"#a3be8c","editorGutter.deletedBackground":"#bf616a","editorHoverWidget.background":"#3b4252","editorHoverWidget.border":"#3b4252","editorLink.activeForeground":"#88c0d0","editorMarkerNavigation.background":"#5e81ac","editorMarkerNavigationError.background":"#bf616a","editorMarkerNavigationWarning.background":"#ebcb8b","editorOverviewRuler.border":"#3b4252","editorOverviewRuler.currentContentForeground":"#3b4252","editorOverviewRuler.incomingContentForeground":"#3b4252","editorOverviewRuler.findMatchForeground":"#88c0d0","editorOverviewRuler.rangeHighlightForeground":"#88c0d0","editorOverviewRuler.selectionHighlightForeground":"#88c0d0","editorOverviewRuler.wordHighlightForeground":"#88c0d0","editorOverviewRuler.wordHighlightStrongForeground":"#88c0d0","editorOverviewRuler.modifiedForeground":"#ebcb8b","editorOverviewRuler.addedForeground":"#a3be8c","editorOverviewRuler.deletedForeground":"#bf616a","editorOverviewRuler.errorForeground":"#bf616a","editorOverviewRuler.warningForeground":"#ebcb8b","editorOverviewRuler.infoForeground":"#81a1c1","editorRuler.foreground":"#434c5e","editorSuggestWidget.background":"#2e3440","editorSuggestWidget.border":"#3b4252","editorSuggestWidget.foreground":"#d8dee9","editorSuggestWidget.highlightForeground":"#88c0d0","editorSuggestWidget.selectedBackground":"#434c5e"}}},{name:"One-Dark",themeName:"one-dark",themeData:{base:"vs-dark",inherit:!0,rules:[{foreground:"abb2bf",token:"text"},{foreground:"abb2bf",token:"source"},{foreground:"adb7c9",token:"variable.parameter.function"},{foreground:"5f697a",fontStyle:" italic",token:"comment"},{foreground:"5f697a",fontStyle:" italic",token:"punctuation.definition.comment"},{foreground:"adb7c9",token:"none"},{foreground:"adb7c9",token:"keyword.operator"},{foreground:"cd74e8",token:"keyword"},{foreground:"eb6772",token:"variable"},{foreground:"5cb3fa",token:"entity.name.function"},{foreground:"5cb3fa",token:"meta.require"},{foreground:"5cb3fa",token:"support.function.any-method"},{foreground:"f0c678",token:"support.class"},{foreground:"f0c678",token:"entity.name.class"},{foreground:"f0c678",token:"entity.name.type.class"},{foreground:"adb7c9",token:"meta.class"},{foreground:"5cb3fa",token:"keyword.other.special-method"},{foreground:"cd74e8",token:"storage"},{foreground:"5ebfcc",token:"support.function"},{foreground:"9acc76",token:"string"},{foreground:"9acc76",token:"constant.other.symbol"},{foreground:"9acc76",token:"entity.other.inherited-class"},{foreground:"db9d63",token:"constant.numeric"},{foreground:"db9d63",token:"none"},{foreground:"db9d63",token:"none"},{foreground:"db9d63",token:"constant"},{foreground:"eb6772",token:"entity.name.tag"},{foreground:"db9d63",token:"entity.other.attribute-name"},{foreground:"db9d63",token:"entity.other.attribute-name.id"},{foreground:"db9d63",token:"punctuation.definition.entity"},{foreground:"cd74e8",token:"meta.selector"},{foreground:"db9d63",token:"none"},{foreground:"5cb3fa",token:"markup.heading punctuation.definition.heading"},{foreground:"5cb3fa",token:"entity.name.section"},{foreground:"db9d63",token:"keyword.other.unit"},{foreground:"f0c678",token:"markup.bold"},{foreground:"f0c678",token:"punctuation.definition.bold"},{foreground:"cd74e8",token:"markup.italic"},{foreground:"cd74e8",token:"punctuation.definition.italic"},{foreground:"9acc76",token:"markup.raw.inline"},{foreground:"eb6772",token:"string.other.link"},{foreground:"eb6772",token:"punctuation.definition.string.end.markdown"},{foreground:"db9d63",token:"meta.link"},{foreground:"eb6772",token:"markup.list"},{foreground:"db9d63",token:"markup.quote"},{foreground:"adb7c9",background:"515151",token:"meta.separator"},{foreground:"9acc76",token:"markup.inserted"},{foreground:"eb6772",token:"markup.deleted"},{foreground:"cd74e8",token:"markup.changed"},{foreground:"5ebfcc",token:"constant.other.color"},{foreground:"5ebfcc",token:"string.regexp"},{foreground:"5ebfcc",token:"constant.character.escape"},{foreground:"c94e42",token:"punctuation.section.embedded"},{foreground:"c94e42",token:"variable.interpolation"},{foreground:"ffffff",background:"e05252",token:"invalid.illegal"},{foreground:"2d2d2d",background:"f99157",token:"invalid.broken"},{foreground:"2c323d",background:"d27b53",token:"invalid.deprecated"},{foreground:"2c323d",background:"747369",token:"invalid.unimplemented"},{foreground:"eb6772",token:"source.json meta.structure.dictionary.json string.quoted.double.json"},{foreground:"9acc76",token:"source.json meta.structure.dictionary.json meta.structure.dictionary.value.json string.quoted.double.json"},{foreground:"eb6772",token:"source.json meta.structure.dictionary.json meta.structure.dictionary.value.json meta.structure.dictionary.json string.quoted.double.json"},{foreground:"9acc76",token:"source.json meta.structure.dictionary.json meta.structure.dictionary.value.json meta.structure.dictionary.json meta.structure.dictionary.value.json string.quoted.double.json"},{foreground:"cd74e8",token:"text.html.laravel-blade source.php.embedded.line.html entity.name.tag.laravel-blade"},{foreground:"cd74e8",token:"text.html.laravel-blade source.php.embedded.line.html support.constant.laravel-blade"},{foreground:"db9d63",token:"source.python meta.function.python meta.function.parameters.python variable.parameter.function.python"},{foreground:"5ebfcc",token:"source.python meta.function-call.python support.type.python"},{foreground:"cd74e8",token:"source.python keyword.operator.logical.python"},{foreground:"f0c678",token:"source.python meta.class.python punctuation.definition.inheritance.begin.python"},{foreground:"f0c678",token:"source.python meta.class.python punctuation.definition.inheritance.end.python"},{foreground:"db9d63",token:"source.python meta.function-call.python meta.function-call.arguments.python variable.parameter.function.python"},{foreground:"db9d63",token:"text.html.basic source.php.embedded.block.html support.constant.std.php"},{foreground:"f0c678",token:"text.html.basic source.php.embedded.block.html meta.namespace.php entity.name.type.namespace.php"},{foreground:"db9d63",token:"source.js meta.function.js support.constant.js"},{foreground:"cd74e8",token:"text.html.basic` source.php.embedded.block.html constant.other.php"},{foreground:"db9d63",token:"text.html.basic source.php.embedded.block.html support.other.namespace.php"},{foreground:"adb7c9",token:"text.tex.latex meta.function.environment.math.latex string.other.math.block.environment.latex meta.definition.label.latex variable.parameter.definition.label.latex"},{foreground:"cd74e8",fontStyle:" italic",token:"text.tex.latex meta.function.emph.latex markup.italic.emph.latex"},{foreground:"adb7c9",token:"source.js variable.other.readwrite.js"},{foreground:"adb7c9",token:"source.js meta.function-call.with-arguments.js variable.function.js"},{foreground:"adb7c9",token:"source.js meta.group.braces.round meta.group.braces.curly meta.function-call.method.without-arguments.js variable.function.js"},{foreground:"adb7c9",token:"source.js meta.group.braces.round meta.group.braces.curly variable.other.object.js"},{foreground:"adb7c9",token:"source.js meta.group.braces.round meta.group.braces.curly constant.other.object.key.js string.unquoted.label.js"},{foreground:"adb7c9",token:"source.js meta.group.braces.round meta.group.braces.curly constant.other.object.key.js punctuation.separator.key-value.js"},{foreground:"adb7c9",token:"source.js meta.group.braces.round meta.group.braces.curly meta.function-call.method.with-arguments.js variable.function.js"},{foreground:"adb7c9",token:"source.js meta.function-call.method.with-arguments.js variable.function.js"},{foreground:"adb7c9",token:"source.js meta.function-call.method.without-arguments.js variable.function.js"}],colors:{"editor.foreground":"#6c7079","editor.background":"#2B303B","editor.selectionBackground":"#bbccf51b","editor.inactiveSelectionBackground":"#bbccf51b","editor.lineHighlightBackground":"#8cc2fc0b","editorCursor.foreground":"#528bff","editorWhitespace.foreground":"#747369","editorIndentGuide.background":"#464c55","editorIndentGuide.activeBackground":"#464c55","editor.selectionHighlightBorder":"#bbccf51b"}}},{name:"Ros\xe9 Pine",themeName:"rose-pine",themeData:{base:"vs-dark",inherit:!0,rules:[{background:"#191724",foreground:"#e0def4",token:""},{background:"#191724",foreground:"#e0def4",token:"text"},{background:"#191724",foreground:"#e0def4",token:"source"},{foreground:"#c4a7e7",token:"pointsOfInterest"},{foreground:"#eb6f92",token:"invalid"},{fontStyle:"italic",token:"emphasis"},{fontStyle:"bold",token:"strong"},{foreground:"#e0def4",token:"variable"},{foreground:"#e0def4",token:"variable.predefined"},{foreground:"#ebbcba",token:"constant"},{foreground:"#6e6a86",token:"comment"},{foreground:"#ebbcba",token:"number"},{foreground:"#ebbcba",token:"number.hex"},{foreground:"#f6c177",token:"regexp"},{foreground:"#6e6a86",token:"annotation"},{foreground:"#e0def4",token:"type"},{foreground:"#908caa",token:"delimiter"},{foreground:"#908caa",token:"delimiter.html"},{foreground:"#908caa",token:"delimiter.xml"},{foreground:"#9ccfd8",token:"tag"},{foreground:"#9ccfd8",token:"tag.id.jade"},{foreground:"#9ccfd8",token:"tag.class.jade"},{foreground:"#9ccfd8",token:"meta.scss"},{foreground:"#9ccfd8",token:"metatag"},{foreground:"#9ccfd8",token:"metatag.content.html"},{foreground:"#9ccfd8",token:"metatag.html"},{foreground:"#9ccfd8",token:"metatag.xml"},{foreground:"#9ccfd8",token:"metatag.php"},{foreground:"#9ccfd8",token:"key"},{foreground:"#9ccfd8",token:"string.key.json"},{foreground:"#f6c177",token:"string.value.json"},{foreground:"#c4a7e7",token:"attribute.name"},{foreground:"#f6c177",token:"attribute.value"},{foreground:"#f6c177",token:"attribute.value.number"},{foreground:"#f6c177",token:"attribute.value.unit"},{foreground:"#f6c177",token:"attribute.value.html"},{foreground:"#f6c177",token:"attribute.value.xml"},{foreground:"#f6c177",token:"string"},{foreground:"#f6c177",token:"string.html"},{foreground:"#f6c177",token:"string.sql"},{foreground:"#f6c177",token:"string.yaml"},{foreground:"#31748f",token:"keyword"},{foreground:"#31748f",token:"keyword.json"},{foreground:"#31748f",token:"keyword.flow"},{foreground:"#31748f",token:"keyword.flow.scss"},{foreground:"#908caa",token:"operator.scss"},{foreground:"#908caa",token:"operator.sql"},{foreground:"#908caa",token:"operator.swift"},{foreground:"#908caa",token:"predefined.sql"},{foreground:"#ebbcba",token:"identifier"}],colors:{"activityBar.activeBorder":"#e0def4","activityBar.background":"#191724","activityBar.dropBorder":"#26233a","activityBar.foreground":"#e0def4","activityBar.inactiveForeground":"#908caa","activityBarBadge.background":"#ebbcba","activityBarBadge.foreground":"#191724","badge.background":"#ebbcba","badge.foreground":"#191724","banner.background":"#1f1d2e","banner.foreground":"#e0def4","banner.iconForeground":"#908caa","breadcrumb.activeSelectionForeground":"#ebbcba","breadcrumb.background":"#191724","breadcrumb.focusForeground":"#908caa","breadcrumb.foreground":"#6e6a86","breadcrumbPicker.background":"#1f1d2e","button.background":"#ebbcba","button.foreground":"#191724","button.hoverBackground":"#ebbcbae6","button.secondaryBackground":"#1f1d2e","button.secondaryForeground":"#e0def4","button.secondaryHoverBackground":"#26233a","charts.blue":"#9ccfd8","charts.foreground":"#e0def4","charts.green":"#31748f","charts.lines":"#908caa","charts.orange":"#ebbcba","charts.purple":"#c4a7e7","charts.red":"#eb6f92","charts.yellow":"#f6c177","checkbox.background":"#1f1d2e","checkbox.border":"#6e6a8633","checkbox.foreground":"#e0def4","debugExceptionWidget.background":"#1f1d2e","debugExceptionWidget.border":"#6e6a8633","debugIcon.breakpointCurrentStackframeForeground":"#908caa","debugIcon.breakpointDisabledForeground":"#908caa","debugIcon.breakpointForeground":"#908caa","debugIcon.breakpointStackframeForeground":"#908caa","debugIcon.breakpointUnverifiedForeground":"#908caa","debugIcon.continueForeground":"#908caa","debugIcon.disconnectForeground":"#908caa","debugIcon.pauseForeground":"#908caa","debugIcon.restartForeground":"#908caa","debugIcon.startForeground":"#908caa","debugIcon.stepBackForeground":"#908caa","debugIcon.stepIntoForeground":"#908caa","debugIcon.stepOutForeground":"#908caa","debugIcon.stepOverForeground":"#908caa","debugIcon.stopForeground":"#eb6f92","debugToolBar.background":"#1f1d2e","debugToolBar.border":"#26233a",descriptionForeground:"#908caa","diffEditor.border":"#26233a","diffEditor.diagonalFill":"#6e6a8666","diffEditor.insertedTextBackground":"#9ccfd826","diffEditor.removedTextBackground":"#eb6f9226","diffEditorOverview.insertedForeground":"#9ccfd880","diffEditorOverview.removedForeground":"#eb6f9280","dropdown.background":"#1f1d2e","dropdown.border":"#6e6a8633","dropdown.foreground":"#e0def4","dropdown.listBackground":"#1f1d2e","editor.background":"#191724","editor.findMatchBackground":"#6e6a8666","editor.findMatchHighlightBackground":"#6e6a8666","editor.findRangeHighlightBackground":"#6e6a8666","editor.findRangeHighlightBorder":"#0000","editor.focusedStackFrameHighlightBackground":"#6e6a8633","editor.foldBackground":"#1f1d2e","editor.foreground":"#e0def4","editor.hoverHighlightBackground":"#0000","editor.inactiveSelectionBackground":"#6e6a861a","editor.inlineValuesBackground":"#0000","editor.inlineValuesForeground":"#908caa","editor.lineHighlightBackground":"#6e6a861a","editor.lineHighlightBorder":"#0000","editor.linkedEditingBackground":"#1f1d2e","editor.rangeHighlightBackground":"#6e6a861a","editor.rangeHighlightBorder":"#0000","editor.selectionBackground":"#6e6a8633","editor.selectionForeground":"#e0def4","editor.selectionHighlightBackground":"#6e6a8633","editor.selectionHighlightBorder":"#0000","editor.snippetFinalTabstopHighlightBackground":"#6e6a8633","editor.snippetFinalTabstopHighlightBorder":"#1f1d2e","editor.snippetTabstopHighlightBackground":"#6e6a8633","editor.snippetTabstopHighlightBorder":"#1f1d2e","editor.stackFrameHighlightBackground":"#6e6a8633","editor.symbolHighlightBackground":"#6e6a8633","editor.symbolHighlightBorder":"#0000","editor.wordHighlightBackground":"#6e6a8633","editor.wordHighlightBorder":"#0000","editor.wordHighlightStrongBackground":"#6e6a8633","editor.wordHighlightStrongBorder":"#6e6a8633","editorBracketHighlight.foreground1":"#eb6f9280","editorBracketHighlight.foreground2":"#31748f80","editorBracketHighlight.foreground3":"#f6c17780","editorBracketHighlight.foreground4":"#9ccfd880","editorBracketHighlight.foreground5":"#ebbcba80","editorBracketHighlight.foreground6":"#c4a7e780","editorBracketMatch.background":"#0000","editorBracketMatch.border":"#908caa","editorBracketPairGuide.activeBackground1":"#31748f","editorBracketPairGuide.activeBackground2":"#ebbcba","editorBracketPairGuide.activeBackground3":"#c4a7e7","editorBracketPairGuide.activeBackground4":"#9ccfd8","editorBracketPairGuide.activeBackground5":"#f6c177","editorBracketPairGuide.activeBackground6":"#eb6f92","editorBracketPairGuide.background1":"#31748f80","editorBracketPairGuide.background2":"#ebbcba80","editorBracketPairGuide.background3":"#c4a7e780","editorBracketPairGuide.background4":"#9ccfd880","editorBracketPairGuide.background5":"#f6c17780","editorBracketPairGuide.background6":"#eb6f9280","editorCodeLens.foreground":"#ebbcba","editorCursor.background":"#e0def4","editorCursor.foreground":"#6e6a86","editorError.border":"#0000","editorError.foreground":"#eb6f92","editorGhostText.foreground":"#908caa","editorGroup.border":"#0000","editorGroup.dropBackground":"#1f1d2e","editorGroup.emptyBackground":"#0000","editorGroup.focusedEmptyBorder":"#0000","editorGroupHeader.noTabsBackground":"#0000","editorGroupHeader.tabsBackground":"#0000","editorGroupHeader.tabsBorder":"#0000","editorGutter.addedBackground":"#9ccfd8","editorGutter.background":"#0000","editorGutter.commentRangeForeground":"#908caa","editorGutter.deletedBackground":"#eb6f92","editorGutter.foldingControlForeground":"#c4a7e7","editorGutter.modifiedBackground":"#ebbcba","editorHint.border":"#0000","editorHint.foreground":"#908caa","editorHoverWidget.background":"#1f1d2e","editorHoverWidget.border":"#6e6a8680","editorHoverWidget.foreground":"#908caa","editorHoverWidget.highlightForeground":"#e0def4","editorHoverWidget.statusBarBackground":"#0000","editorIndentGuide.activeBackground":"#6e6a86","editorIndentGuide.background":"#6e6a8666","editorInfo.border":"#26233a","editorInfo.foreground":"#9ccfd8","editorInlayHint.background":"#26233a","editorInlayHint.foreground":"#908caa","editorInlayHint.parameterBackground":"#26233a","editorInlayHint.parameterForeground":"#c4a7e7","editorInlayHint.typeBackground":"#26233a","editorInlayHint.typeForeground":"#9ccfd8","editorLightBulb.foreground":"#31748f","editorLightBulbAutoFix.foreground":"#ebbcba","editorLineNumber.activeForeground":"#e0def4","editorLineNumber.foreground":"#908caa","editorLink.activeForeground":"#ebbcba","editorMarkerNavigation.background":"#1f1d2e","editorMarkerNavigationError.background":"#1f1d2e","editorMarkerNavigationInfo.background":"#1f1d2e","editorMarkerNavigationWarning.background":"#1f1d2e","editorOverviewRuler.addedForeground":"#9ccfd880","editorOverviewRuler.background":"#191724","editorOverviewRuler.border":"#6e6a8666","editorOverviewRuler.bracketMatchForeground":"#908caa","editorOverviewRuler.commonContentForeground":"#6e6a861a","editorOverviewRuler.currentContentForeground":"#6e6a8633","editorOverviewRuler.deletedForeground":"#eb6f9280","editorOverviewRuler.errorForeground":"#eb6f9280","editorOverviewRuler.findMatchForeground":"#6e6a8666","editorOverviewRuler.incomingContentForeground":"#c4a7e780","editorOverviewRuler.infoForeground":"#9ccfd880","editorOverviewRuler.modifiedForeground":"#ebbcba80","editorOverviewRuler.rangeHighlightForeground":"#6e6a8666","editorOverviewRuler.selectionHighlightForeground":"#6e6a8666","editorOverviewRuler.warningForeground":"#f6c17780","editorOverviewRuler.wordHighlightForeground":"#6e6a8633","editorOverviewRuler.wordHighlightStrongForeground":"#6e6a8666","editorPane.background":"#0000","editorRuler.foreground":"#6e6a8666","editorSuggestWidget.background":"#1f1d2e","editorSuggestWidget.border":"#0000","editorSuggestWidget.focusHighlightForeground":"#ebbcba","editorSuggestWidget.foreground":"#908caa","editorSuggestWidget.highlightForeground":"#ebbcba","editorSuggestWidget.selectedBackground":"#6e6a8633","editorSuggestWidget.selectedForeground":"#e0def4","editorSuggestWidget.selectedIconForeground":"#e0def4","editorUnnecessaryCode.border":"#0000","editorUnnecessaryCode.opacity":"#00000080","editorWarning.border":"#0000","editorWarning.foreground":"#f6c177","editorWhitespace.foreground":"#6e6a86","editorWidget.background":"#1f1d2e","editorWidget.border":"#26233a","editorWidget.foreground":"#908caa","editorWidget.resizeBorder":"#6e6a86",errorForeground:"#eb6f92","extensionBadge.remoteBackground":"#c4a7e7","extensionBadge.remoteForeground":"#191724","extensionButton.prominentBackground":"#ebbcba","extensionButton.prominentForeground":"#191724","extensionButton.prominentHoverBackground":"#ebbcbae6","extensionIcon.starForeground":"#ebbcba","extensionIcon.verifiedForeground":"#c4a7e7",focusBorder:"#6e6a8633",foreground:"#e0def4","gitDecoration.addedResourceForeground":"#9ccfd8","gitDecoration.conflictingResourceForeground":"#eb6f92","gitDecoration.deletedResourceForeground":"#908caa","gitDecoration.ignoredResourceForeground":"#6e6a86","gitDecoration.modifiedResourceForeground":"#ebbcba","gitDecoration.renamedResourceForeground":"#31748f","gitDecoration.stageDeletedResourceForeground":"#eb6f92","gitDecoration.stageModifiedResourceForeground":"#c4a7e7","gitDecoration.submoduleResourceForeground":"#f6c177","gitDecoration.untrackedResourceForeground":"#f6c177","icon.foreground":"#908caa","input.background":"#26233a80","input.border":"#6e6a8633","input.foreground":"#e0def4","input.placeholderForeground":"#908caa","inputOption.activeBackground":"#ebbcba","inputOption.activeBorder":"#0000","inputOption.activeForeground":"#191724","inputValidation.errorBackground":"#1f1d2e","inputValidation.errorBorder":"#6e6a8666","inputValidation.errorForeground":"#eb6f92","inputValidation.infoBackground":"#1f1d2e","inputValidation.infoBorder":"#6e6a8666","inputValidation.infoForeground":"#9ccfd8","inputValidation.warningBackground":"#1f1d2e","inputValidation.warningBorder":"#6e6a8666","inputValidation.warningForeground":"#9ccfd880","keybindingLabel.background":"#26233a","keybindingLabel.border":"#6e6a8666","keybindingLabel.bottomBorder":"#6e6a8666","keybindingLabel.foreground":"#c4a7e7","keybindingTable.headerBackground":"#26233a","keybindingTable.rowsBackground":"#1f1d2e","list.activeSelectionBackground":"#6e6a8633","list.activeSelectionForeground":"#e0def4","list.activeSelectionIconForeground":"#e0def4","list.deemphasizedForeground":"#908caa","list.dropBackground":"#1f1d2e","list.errorForeground":"#eb6f92","list.filterMatchBackground":"#1f1d2e","list.filterMatchBorder":"#ebbcba","list.focusBackground":"#6e6a8666","list.focusForeground":"#e0def4","list.focusOutline":"#6e6a8633","list.highlightForeground":"#ebbcba","list.hoverBackground":"#6e6a861a","list.hoverForeground":"#e0def4","list.inactiveFocusBackground":"#6e6a861a","list.inactiveSelectionBackground":"#1f1d2e","list.inactiveSelectionForeground":"#e0def4","list.inactiveSelectionIconForeground":"#908caa","list.invalidItemForeground":"#eb6f92","list.warningForeground":"#f6c177","listFilterWidget.background":"#1f1d2e","listFilterWidget.noMatchesOutline":"#eb6f92","listFilterWidget.outline":"#26233a","menu.background":"#1f1d2e","menu.border":"#6e6a861a","menu.foreground":"#e0def4","menu.selectionBackground":"#6e6a8633","menu.selectionBorder":"#26233a","menu.selectionForeground":"#e0def4","menu.separatorBackground":"#6e6a8666","menubar.selectionBackground":"#6e6a8633","menubar.selectionBorder":"#6e6a861a","menubar.selectionForeground":"#e0def4","merge.border":"#26233a","merge.commonContentBackground":"#6e6a8633","merge.commonHeaderBackground":"#6e6a8633","merge.currentContentBackground":"#f6c17780","merge.currentHeaderBackground":"#f6c17780","merge.incomingContentBackground":"#9ccfd880","merge.incomingHeaderBackground":"#9ccfd880","minimap.background":"#1f1d2e","minimap.errorHighlight":"#eb6f9280","minimap.findMatchHighlight":"#6e6a8633","minimap.selectionHighlight":"#6e6a8633","minimap.warningHighlight":"#f6c17780","minimapGutter.addedBackground":"#9ccfd8","minimapGutter.deletedBackground":"#eb6f92","minimapGutter.modifiedBackground":"#ebbcba","minimapSlider.activeBackground":"#6e6a8666","minimapSlider.background":"#6e6a8633","minimapSlider.hoverBackground":"#6e6a8633","notificationCenter.border":"#6e6a8633","notificationCenterHeader.background":"#1f1d2e","notificationCenterHeader.foreground":"#908caa","notificationLink.foreground":"#c4a7e7","notifications.background":"#1f1d2e","notifications.border":"#6e6a8633","notifications.foreground":"#e0def4","notificationsErrorIcon.foreground":"#eb6f92","notificationsInfoIcon.foreground":"#9ccfd8","notificationsWarningIcon.foreground":"#f6c177","notificationToast.border":"#6e6a8633","panel.background":"#1f1d2e","panel.border":"#0000","panel.dropBorder":"#26233a","panelInput.border":"#1f1d2e","panelSection.dropBackground":"#6e6a8633","panelSectionHeader.background":"#1f1d2e","panelSectionHeader.foreground":"#e0def4","panelTitle.activeBorder":"#6e6a8666","panelTitle.activeForeground":"#e0def4","panelTitle.inactiveForeground":"#908caa","peekView.border":"#26233a","peekViewEditor.background":"#1f1d2e","peekViewEditor.matchHighlightBackground":"#6e6a8666","peekViewResult.background":"#1f1d2e","peekViewResult.fileForeground":"#908caa","peekViewResult.lineForeground":"#908caa","peekViewResult.matchHighlightBackground":"#6e6a8666","peekViewResult.selectionBackground":"#6e6a8633","peekViewResult.selectionForeground":"#e0def4","peekViewTitle.background":"#26233a","peekViewTitleDescription.foreground":"#908caa","pickerGroup.border":"#6e6a8666","pickerGroup.foreground":"#c4a7e7","ports.iconRunningProcessForeground":"#ebbcba","problemsErrorIcon.foreground":"#eb6f92","problemsInfoIcon.foreground":"#9ccfd8","problemsWarningIcon.foreground":"#f6c177","progressBar.background":"#ebbcba","quickInput.background":"#1f1d2e","quickInput.foreground":"#908caa","quickInputList.focusBackground":"#6e6a8633","quickInputList.focusForeground":"#e0def4","quickInputList.focusIconForeground":"#e0def4","scrollbar.shadow":"#0000","scrollbarSlider.activeBackground":"#6e6a8666","scrollbarSlider.background":"#6e6a861a","scrollbarSlider.hoverBackground":"#6e6a8633","searchEditor.findMatchBackground":"#6e6a8633","selection.background":"#6e6a8666","settings.focusedRowBackground":"#1f1d2e","settings.headerForeground":"#e0def4","settings.modifiedItemIndicator":"#ebbcba","settings.focusedRowBorder":"#6e6a8633","settings.rowHoverBackground":"#1f1d2e","sideBar.background":"#191724","sideBar.dropBackground":"#1f1d2e","sideBar.foreground":"#908caa","sideBarSectionHeader.background":"#0000","sideBarSectionHeader.border":"#6e6a8633","statusBar.background":"#191724","statusBar.debuggingBackground":"#c4a7e7","statusBar.debuggingForeground":"#191724","statusBar.foreground":"#908caa","statusBar.noFolderBackground":"#191724","statusBar.noFolderForeground":"#908caa","statusBarItem.activeBackground":"#6e6a8666","statusBarItem.hoverBackground":"#6e6a8633","statusBarItem.prominentBackground":"#26233a","statusBarItem.prominentForeground":"#e0def4","statusBarItem.prominentHoverBackground":"#6e6a8633","statusBarItem.remoteBackground":"#191724","statusBarItem.remoteForeground":"#f6c177","statusBarItem.errorBackground":"#191724","statusBarItem.errorForeground":"#eb6f92","symbolIcon.arrayForeground":"#908caa","symbolIcon.classForeground":"#908caa","symbolIcon.colorForeground":"#908caa","symbolIcon.constantForeground":"#908caa","symbolIcon.constructorForeground":"#908caa","symbolIcon.enumeratorForeground":"#908caa","symbolIcon.enumeratorMemberForeground":"#908caa","symbolIcon.eventForeground":"#908caa","symbolIcon.fieldForeground":"#908caa","symbolIcon.fileForeground":"#908caa","symbolIcon.folderForeground":"#908caa","symbolIcon.functionForeground":"#908caa","symbolIcon.interfaceForeground":"#908caa","symbolIcon.keyForeground":"#908caa","symbolIcon.keywordForeground":"#908caa","symbolIcon.methodForeground":"#908caa","symbolIcon.moduleForeground":"#908caa","symbolIcon.namespaceForeground":"#908caa","symbolIcon.nullForeground":"#908caa","symbolIcon.numberForeground":"#908caa","symbolIcon.objectForeground":"#908caa","symbolIcon.operatorForeground":"#908caa","symbolIcon.packageForeground":"#908caa","symbolIcon.propertyForeground":"#908caa","symbolIcon.referenceForeground":"#908caa","symbolIcon.snippetForeground":"#908caa","symbolIcon.stringForeground":"#908caa","symbolIcon.structForeground":"#908caa","symbolIcon.textForeground":"#908caa","symbolIcon.typeParameterForeground":"#908caa","symbolIcon.unitForeground":"#908caa","symbolIcon.variableForeground":"#908caa","tab.activeBackground":"#6e6a861a","tab.activeForeground":"#e0def4","tab.activeModifiedBorder":"#9ccfd8","tab.border":"#0000","tab.hoverBackground":"#6e6a8633","tab.inactiveBackground":"#0000","tab.inactiveForeground":"#908caa","tab.inactiveModifiedBorder":"#9ccfd880","tab.lastPinnedBorder":"#6e6a86","tab.unfocusedActiveBackground":"#0000","tab.unfocusedHoverBackground":"#0000","tab.unfocusedInactiveBackground":"#0000","tab.unfocusedInactiveModifiedBorder":"#9ccfd880","terminal.ansiBlack":"#26233a","terminal.ansiBlue":"#9ccfd8","terminal.ansiBrightBlack":"#908caa","terminal.ansiBrightBlue":"#9ccfd8","terminal.ansiBrightCyan":"#ebbcba","terminal.ansiBrightGreen":"#31748f","terminal.ansiBrightMagenta":"#c4a7e7","terminal.ansiBrightRed":"#eb6f92","terminal.ansiBrightWhite":"#e0def4","terminal.ansiBrightYellow":"#f6c177","terminal.ansiCyan":"#ebbcba","terminal.ansiGreen":"#31748f","terminal.ansiMagenta":"#c4a7e7","terminal.ansiRed":"#eb6f92","terminal.ansiWhite":"#e0def4","terminal.ansiYellow":"#f6c177","terminal.dropBackground":"#6e6a8633","terminal.foreground":"#e0def4","terminal.selectionBackground":"#6e6a8633","terminal.tab.activeBorder":"#e0def4","terminalCursor.background":"#e0def4","terminalCursor.foreground":"#6e6a86","textBlockQuote.background":"#1f1d2e","textBlockQuote.border":"#6e6a8633","textCodeBlock.background":"#1f1d2e","textLink.activeForeground":"#c4a7e7e6","textLink.foreground":"#c4a7e7","textPreformat.foreground":"#f6c177","textSeparator.foreground":"#908caa","titleBar.activeBackground":"#191724","titleBar.activeForeground":"#908caa","titleBar.inactiveBackground":"#1f1d2e","titleBar.inactiveForeground":"#908caa","toolbar.activeBackground":"#6e6a8666","toolbar.hoverBackground":"#6e6a8633","tree.indentGuidesStroke":"#908caa","walkThrough.embeddedEditorBackground":"#191724","welcomePage.background":"#191724","welcomePage.buttonBackground":"#1f1d2e","welcomePage.buttonHoverBackground":"#26233a","widget.shadow":"#0101011a","window.activeBorder":"#1f1d2e","window.inactiveBorder":"#1f1d2e"}}}],a=function(){return r}},function(e,t,n){"use strict";n.d(t,"a",(function(){return nt}));var r=n(34),a=n(9),o=n(17),i=n.n(o),s=n(865),c=n.n(s),u=n(1212),l=n.n(u),d=n(361),b=n(1208),p=n(295),j=n(331),h=n(26),f=n(54),g=n(688),m=n(523),O=n(296),v=n(425),x=n(297),y=n(858),C=n(298),k=n(3),w=n(311),T=n(517),E=n(66),S=n(8),P={container:{position:"relative",display:"inline-block"},picker:{position:"absolute",right:"8px",top:"19px"},pickerNoLabel:{position:"absolute",right:"8px",top:"8px"}},I=function(e){return/^#{0,1}[0-9a-fA-F]{6}$/.test(e)?Object(E.c)(e):null},A=function(e){var t,n,a=e.fullWidth,i=e.disableAlpha,s=e.id,c=e.floatingLabelText,u=e.helperMarkdownText,l=e.onChange,d=e.color,b=o.useState(d?Object(E.e)(d.r,d.g,d.b):""),p=Object(r.a)(b,2),j=p[0],h=p[1];t=d,n=I(j),(t&&Object(E.m)(t.r,t.g,t.b))!==(n&&Object(E.m)(n.r,n.g,n.b))&&h(d?Object(E.e)(d.r,d.g,d.b):"");var f=function(e){var t=I(j),n=I(e);h(e),n!==t&&l(n)};return Object(S.jsxs)("div",{style:Object(k.a)(Object(k.a)({},P.container),{},{width:a?"100%":void 0}),children:[Object(S.jsx)(w.b,{id:s,fullWidth:i,floatingLabelText:c,floatingLabelFixed:!0,helperMarkdownText:u,type:"text",hintText:"#ff8844",value:j,onChange:function(e){return f(e.target.value)}}),Object(S.jsx)("div",{style:c?P.picker:P.pickerNoLabel,children:Object(S.jsx)(T.a,{disableAlpha:!0,onChangeComplete:function(e){h(Object(E.e)(e.rgb.r,e.rgb.g,e.rgb.b)),l(e.rgb)},color:I(j)})})]})},D=n(1209),F=function(e){var t=e.filterKey,n=e.title,r=e.choices,o=e.isChoiceChecked,i=e.setChoiceChecked;return Object(S.jsx)(a.I18n,{children:function(e){var a=e.i18n;return Object(S.jsxs)(m.a,{defaultExpanded:!0,children:[Object(S.jsx)(m.c,{children:Object(S.jsx)(O.a,{displayInlineAsSpan:!0,children:n})}),Object(S.jsx)(m.b,{children:Object(S.jsx)(x.a,{children:r.map((function(e){return Object(S.jsx)(v.a,{label:a._(e.label),checked:o(e.value),onCheck:function(t,n){return i(e.value,n)}},e.value)}))})})]},t)}})},M=function(e){var t=e.filterKey,n=e.title,r=e.choices,a=e.values,o=e.setValues;return Object(S.jsx)(F,{filterKey:t,title:n,choices:r,isChoiceChecked:function(e){return a.has(e)},setChoiceChecked:function(e,t){t?a.add(e):a.delete(e),o(a)}})},_=function(e){var t=e.filterKey,n=e.title,r=e.choices,a=e.searchFilter,o=e.setSearchFilter,i=e.onFilterChange;return Object(S.jsx)(M,{filterKey:t,title:n,choices:r,values:a.tags,setValues:function(e){o(new y.g(e)),i()}})},L=function(e){var t=e.filterKey,n=e.title,r=e.min,o=e.max,i=e.scale,s=e.step,c=e.range,u=e.setRange;return Object(S.jsx)(a.I18n,{children:function(e){e.i18n;return Object(S.jsxs)(m.a,{defaultExpanded:!0,children:[Object(S.jsx)(m.c,{children:Object(S.jsx)(O.a,{displayInlineAsSpan:!0,children:n})}),Object(S.jsx)(m.b,{children:Object(S.jsx)(p.a,{expand:!0,children:Object(S.jsx)(p.c,{noMargin:!0,children:Object(S.jsx)(D.a,{value:c,min:r,max:o,step:s,scale:i,marks:!0,valueLabelDisplay:"auto",onChange:function(e){return u(e)}})})})})]},t)}})},R=function(e){var t=e.filterKey,n=e.title,r=e.color,o=e.setColor;return Object(S.jsx)(a.I18n,{children:function(e){e.i18n;return Object(S.jsxs)(m.a,{defaultExpanded:!0,children:[Object(S.jsx)(m.c,{children:Object(S.jsx)(O.a,{displayInlineAsSpan:!0,children:n})}),Object(S.jsx)(m.b,{children:Object(S.jsx)(p.a,{expand:!0,children:Object(S.jsx)(p.c,{noMargin:!0,children:Object(S.jsx)(A,{disableAlpha:!0,fullWidth:!0,color:r,onChange:o})})})})]},t)}})},N=function(e){e.setAnimatedFilter(new y.a),e.setViewpointFilter(new y.g),e.setDimensionFilter(new y.c),e.setObjectTypeFilter(new y.e),e.setColorFilter(new y.b),e.setLicenseFilter(new y.d)},B=function(e){var t=e.assetFiltersState,n=e.onChoiceChange;return Object(S.jsxs)(p.a,{noMargin:!0,children:[Object(S.jsx)(F,{filterKey:"Animation",title:Object(S.jsx)(a.Trans,{id:"Animation"}),choices:[{label:{id:"Multiple frames"},value:"multiple-frames"},{label:{id:"Multiple states"},value:"multiple-states"}],isChoiceChecked:function(e){return"multiple-frames"===e&&t.animatedFilter.mustBeAnimated||"multiple-states"===e&&t.animatedFilter.mustHaveSeveralState},setChoiceChecked:function(e,r){var a=t.animatedFilter,o="multiple-frames"===e?r:a.mustBeAnimated,i="multiple-states"===e?r:a.mustHaveSeveralState;t.setAnimatedFilter(new y.a(o,i)),n()}}),Object(S.jsx)(_,{filterKey:"Viewpoint",title:Object(S.jsx)(a.Trans,{id:"Viewpoint"}),choices:[{label:{id:"Top-down"},value:"top-down"},{label:{id:"Side view"},value:"side view"},{label:{id:"Isometric"},value:"isometric"}],searchFilter:t.viewpointFilter,setSearchFilter:t.setViewpointFilter,onFilterChange:n}),Object(S.jsx)(L,{filterKey:"PixelSize",title:Object(S.jsx)(a.Trans,{id:"Pixel size"}),min:Math.log2(y.c.boundMin),max:Math.log2(y.c.boundMax),step:.5,scale:function(e){return Math.round(Math.pow(2,e))},range:[Math.log2(t.dimensionFilter.dimensionMin),Math.log2(t.dimensionFilter.dimensionMax)],setRange:function(e){t.setDimensionFilter(new y.c(Math.pow(2,e[0]),Math.pow(2,e[1]))),n()}}),Object(S.jsx)(M,{filterKey:"ObjectType",title:Object(S.jsx)(a.Trans,{id:"Type of objects"}),choices:[{label:{id:"Sprite"},value:"sprite"},{label:{id:"Tiled sprite"},value:"tiled"},{label:{id:"Panel sprite"},value:"9patch"}],values:t.objectTypeFilter.objectTypes,setValues:function(e){t.setObjectTypeFilter(new y.e(e)),n()}}),Object(S.jsx)(R,{filterKey:"Color",title:Object(S.jsx)(a.Trans,{id:"Color"}),color:t.colorFilter.color,setColor:function(e){t.setColorFilter(new y.b(e)),n()}}),Object(S.jsx)(F,{filterKey:"License",title:Object(S.jsx)(a.Trans,{id:"License"}),choices:[{label:{id:"Exclude attribution requirements"},value:"without-attribution"}],isChoiceChecked:function(e){return t.licenseFilter.attributionFreeOnly},setChoiceChecked:function(e,r){t.setLicenseFilter(new y.d(r)),n()}}),Object(S.jsx)(p.c,{justifyContent:"center",children:Object(S.jsx)(C.a,{label:Object(S.jsx)(a.Trans,{id:"Clear all filters"}),primary:!1,onClick:function(){N(t),n()}})})]})},U=n(464),H=n(861),W=n(475),z=n(2146),V=n.n(z),G=function(e){return Object(S.jsx)(p.a,{noMargin:!0,expand:!0,justifyContent:"center",children:Object(S.jsx)(W.a,{title:Object(S.jsx)(a.Trans,{id:"No result"}),description:Object(S.jsx)(a.Trans,{id:"Try something else, browse the packs or create your object from scratch!"}),actionLabel:Object(S.jsx)(a.Trans,{id:"Clear all filters"}),actionButtonId:"clear-filters-button",onAction:e.onClear,actionIcon:Object(S.jsx)(V.a,{})})})},Z=n(309),Y=n(363),q=n(409),X=n(1279),J=n(386),K=n(310),Q=n(2),$=n(0),ee=n.n($),te=n(404),ne=n(370),re=n(323),ae=n(348),oe=n(375),ie=n(322),se=n(321),ce=n(2151),ue=n.n(ce),le=n(2152),de=n.n(le),be=n(1210),pe=n(316),je=n(393),he=n(587),fe=n(863),ge=n(345),me=n(327),Oe=n(777),ve=n(520),xe=n(862),ye={previewBackground:{position:"relative",display:"flex",justifyContent:"center",alignItems:"center",padding:10,width:300,height:250},chip:{marginBottom:2,marginRight:2},previewImage:{position:"relative",maxWidth:"100%",maxHeight:"100%",verticalAlign:"middle",pointerEvents:"none",flex:.6},arrowContainer:{padding:6},leftArrowSvg:{transform:"translateX(5px)"},scrollView:{display:"flex"}},Ce=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},ke=o.forwardRef((function(e,t){var n=e.onTagSelection,i=e.assetShortHeader,s=e.onOpenDetails,c=e.onAssetLoaded,u=o.useContext(U.a),l=u.authors,d=u.licenses,b=u.environment,f=u.error,m=u.fetchAssetsAndFilters,v=u.useSearchItem,C=o.useState(null),w=Object(r.a)(C,2),T=w[0],E=w[1],P=o.useState(null),I=Object(r.a)(P,2),A=I[0],D=I[1],F=o.useState(null),M=Object(r.a)(F,2),_=M[0],L=M[1],R=Object(ne.g)(i),N=o.useContext(he.a).fetchPrivateAsset,B=o.useContext(Oe.a).openUserPublicProfile,W=o.useState([]),z=Object(r.a)(W,2),V=z[0],G=z[1],Z=o.useRef(null);o.useImperativeHandle(t,(function(){return{getScrollPosition:function(){var e=Z.current;return e?e.getScrollPosition():0},scrollToPosition:function(e){var t=Z.current;t&&t.scrollToPosition(e)}}}));var Y=function(e){return Object(k.a)(Object(k.a)({},ye.previewImage),{},{imageRendering:Object(ne.f)(e)?Object(xe.a)():void 0})},q=o.useCallback((function(){Object(Q.a)(ee.a.mark((function e(){var t,n;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,E(null),!R){e.next=8;break}return e.next=5,N(i,{environment:b});case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,Object(ne.d)(i,{environment:b});case 10:e.t0=e.sent;case 11:if(t=e.t0){e.next=15;break}throw console.error("Cannot load private asset"),new Error("Cannot load private asset");case 15:E(t),"sprite"===t.objectType&&(n=t.objectAssets[0].object.animations[0].name,D(n)),e.next=23;break;case 19:e.prev=19,e.t1=e.catch(0),console.error("Error while loading asset:",e.t1),L(e.t1);case 23:c&&c();case 24:case"end":return e.stop()}}),e,null,[[0,19]])})))()}),[c,R,N,i,b]),X=o.useMemo((function(){return!Object(ne.f)(i)}),[i]);o.useEffect((function(){q()}),[q]);var J=o.useCallback(Object(Q.a)(ee.a.mark((function e(){var t,n,r;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,0!==(t=T&&T.authorIds||[]).length){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,Object(ve.c)(t);case 6:n=e.sent,r=Object.keys(n).map((function(e){return n[e]})),G(r),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("Error while loading author public profiles:",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),[T]);o.useEffect((function(){J()}),[J]);var $=T&&l?T.authors.map((function(e){return l.find((function(t){return t.name===e}))})).filter(Boolean):[],ce=!T||T.authors.length>0&&!l||T.authorIds&&V.length>0&&0===V.length,le=T&&d?d.find((function(e){return e.name===T.license})):null,ke=T&&T.objectAssets[0]?function(e){var t={};return e.resources.forEach((function(e){t[e.name]=e})),t}(T.objectAssets[0]):{},we=T?T.objectAssets[0].object.animations:null,Te=we?we.find((function(e){return e.name===A})):null,Ee=Te?Te.directions[0]:null,Se=T&&Ee?Ee.sprites.map((function(e){return ke[e.image]})):null,Pe=v("",null,null,o.useMemo((function(){return[new y.f(i)]}),[i])),Ie=Pe&&Pe.slice(0,60);return Object(S.jsx)(j.a,{ref:Z,style:ye.scrollView,children:Object(S.jsxs)(p.a,{expand:!0,noMargin:!0,children:[Object(S.jsx)(p.c,{justifyContent:"space-between",noMargin:!0,children:Object(S.jsxs)(p.a,{children:[Object(S.jsxs)(x.b,{alignItems:"baseline",noMargin:!0,children:[Object(S.jsx)(O.a,{size:"block-title",displayInlineAsSpan:!0,children:i.name}),!ce&&Object(S.jsxs)(x.b,{noMargin:!0,children:[Object(S.jsx)(O.a,{size:"body",children:Object(S.jsx)(a.Trans,{id:"by"})}),!!$&&$.map((function(e){return Object(S.jsx)(O.a,{size:"body",children:Object(S.jsx)(je.a,{href:e.website,onClick:function(){return h.b.openExternalURL(e.website)},children:e.name},e.name)},e.name)})),!!V.length&&V.map((function(e){var t=e.username||"GDevelop user";return Object(S.jsx)(O.a,{size:"body",children:Object(S.jsx)(je.a,{href:"#",onClick:function(){return B(e.id)},children:t},e.id)},e.id)}))]})]}),Object(S.jsx)(p.c,{alignItems:"center",children:Object(S.jsxs)("div",{style:{flexWrap:"wrap"},children:[i.tags.slice(0,5).map((function(e,t){return Object(S.jsxs)(o.Fragment,{children:[0!==t&&Object(S.jsx)(p.d,{}),Object(S.jsx)(te.a,{size:"small",style:ye.chip,label:Ce(e),onClick:function(){n(e)}})]},e)})),i.tags.length>5&&Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(p.d,{}),Object(S.jsx)(te.a,{size:"small",style:ye.chip,label:Object(S.jsx)(a.Trans,{id:"+ {0} tag(s)",values:{0:i.tags.length-5}})})]})]})})]})}),Object(S.jsxs)(x.c,{noMargin:!0,children:[Object(S.jsxs)(p.a,{children:[T?Object(S.jsxs)(S.Fragment,{children:["sprite"===T.objectType&&Se&&"string"===typeof A&&Ee&&Object(S.jsx)(be.a,{animationName:A,resourceNames:Se.map((function(e){return e.name})),getImageResourceSource:function(e){var t=ke[e];return t?t.file:""},isImageResourceSmooth:function(){return X},timeBetweenFrames:Ee.timeBetweenFrames,isLooping:!0,hideCheckeredBackground:!0,hideControls:!0,initialZoom:140/Math.max(T.width,T.height),fixedHeight:250,fixedWidth:300,isAssetPrivate:R}),"sprite"!==T.objectType&&Object(S.jsx)("div",{style:ye.previewBackground,children:R?Object(S.jsx)(fe.a,{style:Y(T),url:T.previewImageUrls[0],alt:T.name}):Object(S.jsx)(oe.a,{style:Y(T),src:T.previewImageUrls[0],alt:T.name})})]}):Object(S.jsx)("div",{style:ye.previewBackground,children:Object(S.jsx)(re.a,{})}),we&&we.length>1&&"string"===typeof A&&Object(S.jsx)(me.a,{elevation:4,variant:"outlined",background:"dark",children:Object(S.jsxs)(p.c,{justifyContent:"center",alignItems:"center",noMargin:!0,children:[Object(S.jsx)("div",{style:ye.arrowContainer,children:Object(S.jsx)(K.a,{size:"small",onClick:function(){var e=we.findIndex((function(e){return e.name===A})),t=0===e?we.length-1:e-1;D(we[t].name)},children:Object(S.jsx)(ue.a,{style:ye.leftArrowSvg})})}),Object(S.jsx)(ie.a,{value:A,onChange:function(e,t,n){D(n)},fullWidth:!0,textAlign:"center",disableUnderline:!0,children:we.map((function(e){return Object(S.jsx)(se.a,{value:e.name,primaryText:Ce(e.name)||{id:"Default"}},e.name)}))}),Object(S.jsx)("div",{style:ye.arrowContainer,children:Object(S.jsx)(K.a,{size:"small",onClick:function(){var e=we.findIndex((function(e){return e.name===A})),t=e===we.length-1?0:e+1;D(we[t].name)},children:Object(S.jsx)(de.a,{})})})]})})]}),Object(S.jsx)(p.a,{expand:!0,children:T?Object(S.jsxs)(o.Fragment,{children:[Object(S.jsx)(O.a,{size:"body",children:!!le&&Object(S.jsx)(a.Trans,{id:"Type of License: <0>{0}</0>",values:{0:le.name},components:[Object(S.jsx)(je.a,{href:le.website,onClick:function(){return h.b.openExternalURL(le.website)}})]})}),Object(S.jsx)(O.a,{size:"body",displayInlineAsSpan:!0,children:Object(S.jsx)(ge.a,{source:T.description,allowParagraphs:!0})})]}):_?Object(S.jsx)(ae.a,{onRetry:q,children:Object(S.jsx)(a.Trans,{id:"Error while loading the asset. Verify your internet connection or try again later."})}):Object(S.jsx)(re.a,{})})]}),T&&Object(S.jsxs)(p.a,{expand:!0,children:[Object(S.jsx)(p.d,{}),Object(S.jsx)(p.c,{noMargin:!0,children:Object(S.jsx)(O.a,{size:"block-title",displayInlineAsSpan:!0,children:Object(S.jsx)(a.Trans,{id:"You might like"})})}),Object(S.jsx)(p.c,{expand:!0,noMargin:!0,justifyContent:"center",children:Object(S.jsx)(g.a,{baseSize:128,onRetry:m,error:f,searchItems:Ie,renderSearchItem:function(e,t){return Object(S.jsx)(H.a,{size:t,onOpenDetails:function(){E(null),s(e)},assetShortHeader:e})},noResultPlaceholder:Object(S.jsx)(p.c,{alignItems:"flex-start",children:Object(S.jsx)(pe.a,{children:Object(S.jsx)(a.Trans,{id:"No similar asset was found."})})}),noScroll:!0})})]})]})})})),we=n(2153),Te=n.n(we),Ee=n(1053),Se=n(312),Pe=n(809),Ie=n(905),Ae=i.a.memo((function(e){return Object(S.jsx)(Ie.a,Object(k.a)(Object(k.a)({},e),{},{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:Object(S.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.4509 4.08872C12.6781 4.24571 12.735 4.55714 12.578 4.78431L8.14508 11.1986L8.14507 11.1987C7.42761 12.2368 5.90028 12.2566 5.15616 11.2374L5.55998 10.9426L5.15616 11.2374L3.42953 8.87255C3.26669 8.64953 3.31549 8.33673 3.53851 8.17389C3.76153 8.01106 4.07433 8.05985 4.23717 8.28288L5.9638 10.6477C6.30202 11.111 6.99628 11.102 7.32242 10.6301C7.32242 10.6301 7.32242 10.6301 7.32242 10.6301L11.7554 4.21578C11.9123 3.98861 12.2238 3.93172 12.4509 4.08872Z",fill:"currentColor"})}))})),De=n(611),Fe=n(555),Me=n(2597),_e=n(2658),Le=n(2657),Re=n(330),Ne={mainImage:{width:"100%",aspectRatio:"16 / 9",objectFit:"cover",borderRadius:8},carouselItem:{display:"inline-block",outlineOffset:-1,borderRadius:4},imageCarouselItem:{height:80,aspectRatio:"16 / 9",display:"block",borderRadius:4},mobileImageCarouselItem:{aspectRatio:"16 / 9",display:"block",borderRadius:8},desktopGallery:{flex:1,display:"grid",grid:"auto / auto-flow max-content",overflowX:"scroll",gap:"8px"},mobileGrid:{overflowX:"scroll",overflowY:"hidden",scrollSnapType:"x mandatory"},flex:{display:"flex"},flexColumn:{display:"flex",flexDirection:"column"},disabledText:{opacity:.6}},Be=function(e){var t=e.imagesUrls,n=e.altTextTemplate,a=e.horizontalOuterMarginToEatOnMobile,i=o.useState(0),s=Object(r.a)(i,2),c=s[0],u=s[1],l="small"===Object(Z.b)(),d=l&&a?2*a:0,b=o.useMemo((function(){return Object(Me.a)({"spacing-xs-1":{margin:0,"& > .MuiGrid-item:first-child":{paddingLeft:d},"& > .MuiGrid-item:last-child":{paddingRight:d}},root:l?{scrollbarHeight:"none","-ms-overflow-style":"none","&::-webkit-scrollbar":{height:0}}:void 0})}),[d,l])(),j=o.useState(0),h=Object(r.a)(j,2),f=h[0],g=h[1],m=o.useState(0),v=Object(r.a)(m,2),y=v[0],C=v[1],w=o.useState(0),T=Object(r.a)(w,2),E=T[0],P=T[1],I=f-30-(a||0);return o.useEffect((function(){P(Math.round(y/(I+1)))}),[I,y]),l?Object(S.jsxs)("div",{style:Object(k.a)(Object(k.a)({},Ne.flexColumn),{},{marginLeft:a?-a:0,marginRight:a?-a:0}),children:[Object(S.jsx)(Fe.a,{bounds:!0,onResize:function(e){g(e.bounds.width)},children:function(e){e.contentRect;var r=e.measureRef;return Object(S.jsx)("div",{style:Ne.flex,ref:r,children:Object(S.jsx)(Le.a,{classes:b,container:!0,spacing:1,wrap:"nowrap",style:Ne.mobileGrid,onScroll:function(e){return C(e.currentTarget.scrollLeft)},children:t.map((function(e,t){return Object(S.jsx)(Le.a,{item:!0,style:{scrollSnapAlign:a?"center":"start"},children:Object(S.jsx)(_e.a,{children:Object(S.jsx)(oe.a,{src:e,style:Object(k.a)(Object(k.a)({},Ne.mobileImageCarouselItem),{},{height:I/(16/9)}),alt:n.replace(/{imageIndex}/g,String(c+1))})})},e)}))})})}}),Object(S.jsx)(p.c,{justifyContent:"center",children:Object(S.jsxs)(O.a,{noMargin:!0,size:"body2",style:Ne.disabledText,children:[E+1,"/",t.length]})})]}):Object(S.jsxs)(x.a,{noMargin:!0,children:[Object(S.jsx)(oe.a,{style:Ne.mainImage,src:t[c],alt:n.replace(/{imageIndex}/g,String(c+1))}),Object(S.jsx)("div",{style:Ne.desktopGallery,children:t.map((function(e,t){return Object(S.jsx)("div",{onClick:function(){return u(t)},tabIndex:0,style:Object(k.a)(Object(k.a)({},Ne.carouselItem),{},{outline:t===c?"solid 1px white":void 0}),onKeyPress:function(e){Object(Re.g)(e)&&u(t)},children:Object(S.jsx)(oe.a,{src:e,style:Ne.imageCarouselItem,alt:n.replace(/{imageIndex}/g,(t+1).toString())})},e)}))})]})},Ue=n(305),He=["sprite","9patch","tiled","particleEmitter","font","audio","partial"],We={sprite:{id:"Sprites"},"9patch":{id:"Panel sprites"},tiled:{id:"Tiled sprites"},particleEmitter:{id:"Particle emitters"},font:{id:"Fonts"},audio:{id:"Audios"},partial:{id:"Other"}},ze={disabledText:{opacity:.6}},Ve=function(e){var t=e.privateAssetPackListingData,n=e.onOpenPurchaseDialog,i=e.isPurchaseDialogOpen,s=e.onAssetPackOpen,c=t.id,u=t.name,l=t.sellerId,d=t.prices,b=o.useState(null),g=Object(r.a)(b,2),m=g[0],v=g[1],y=o.useState(!1),C=Object(r.a)(y,2),k=C[0],w=C[1],T=o.useState(!1),E=Object(r.a)(T,2),P=E[0],I=E[1],A=o.useState(null),D=Object(r.a)(A,2),F=D[0],M=D[1],_=o.useState(null),L=Object(r.a)(_,2),R=L[0],N=L[1],B=Object(Z.b)();o.useEffect((function(){Object(Q.a)(ee.a.mark((function e(){var t,n;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),e.prev=1,e.next=4,Object(ne.c)(c);case 4:return t=e.sent,e.next=7,Object(ve.b)(l);case 7:n=e.sent,v(t),M(n),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),e.t0.response&&404===e.t0.response.status?N(Object(S.jsx)(a.Trans,{id:"Asset pack not found - An error occurred, please try again later."})):N(Object(S.jsx)(a.Trans,{id:"An error occurred, please try again later."}));case 15:return e.prev=15,w(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[1,12,15,18]])})))()}),[c,l]);var U=function(){if(m)try{n(),Object(f.d)({assetPackId:m.id,assetPackName:m.name,assetPackTag:m.tag,assetPackKind:"private"})}catch(e){console.warn("Unable to send event",e)}},H=function(e){return R?null:Object(S.jsx)(Ue.a,{primary:!0,label:m?i?Object(S.jsx)(a.Trans,{id:"Processing..."}):Object(S.jsx)(a.Trans,{id:"Buy for {0}",values:{0:Object(Ee.b)(e,d[0].value)}}):Object(S.jsx)(a.Trans,{id:"Loading..."}),onClick:U,disabled:!m||i,id:"buy-asset-pack"},"buy-asset-pack")};return Object(S.jsx)(a.I18n,{children:function(e){var t=e.i18n;return Object(S.jsxs)(S.Fragment,{children:[R?Object(S.jsx)(p.c,{alignItems:"center",justifyContent:"center",expand:!0,children:Object(S.jsx)(Se.a,{kind:"error",children:R})}):k?Object(S.jsx)(p.a,{expand:!0,children:Object(S.jsx)(re.a,{})}):m&&F?Object(S.jsx)(p.a,{noOverflowParent:!0,expand:!0,noMargin:!0,children:Object(S.jsxs)(j.a,{autoHideScrollbar:!0,children:[Object(S.jsx)(p.a,{noMargin:!0,alignItems:"flex-end",children:Object(S.jsxs)(O.a,{displayInlineAsSpan:!0,size:"sub-title",children:[Object(S.jsx)(a.Trans,{id:"by"})," ",Object(S.jsx)(je.a,{onClick:function(){return I(!0)},href:"#",children:F.username||""})]})}),Object(S.jsxs)(x.c,{noColumnMargin:!0,noMargin:!0,children:[Object(S.jsx)(p.a,{useFullHeight:!0,expand:!0,noMargin:!0,noOverflowParent:!0,children:Object(S.jsx)(Be,{imagesUrls:m.previewImageUrls,altTextTemplate:"Asset pack ".concat(u," preview image {imageIndex}"),horizontalOuterMarginToEatOnMobile:8})}),Object(S.jsx)(p.a,{useFullHeight:!0,expand:!0,noMargin:!0,children:Object(S.jsx)(me.a,{variant:"outlined",style:{padding:"small"===B?20:30},background:"medium",children:Object(S.jsxs)(p.a,{noMargin:!0,children:[Object(S.jsxs)(p.c,{noMargin:!0,expand:!0,justifyContent:"space-between",alignItems:"center",children:[Object(S.jsx)(O.a,{noMargin:!0,size:"block-title",children:Object(Ee.b)(t,d[0].value)}),H(t)]}),Object(S.jsx)(O.a,{size:"body2",displayInlineAsSpan:!0,children:Object(S.jsx)(ge.a,{source:m.longDescription,allowParagraphs:!0})}),Object(S.jsxs)(x.c,{noMargin:!0,noColumnMargin:!0,children:[Object(S.jsxs)(p.a,{noMargin:!0,expand:!0,children:[Object(S.jsx)(O.a,{size:"sub-title",children:Object(S.jsx)(a.Trans,{id:"Content"})}),He.map((function(e){return m.content[e]?Object(S.jsx)("li",{children:Object(S.jsxs)(O.a,{displayInlineAsSpan:!0,noMargin:!0,children:[m.content[e]," ",t._(We[e])]})},e):null}))]}),Object(S.jsxs)(p.a,{noMargin:!0,expand:!0,children:[Object(S.jsx)(O.a,{size:"sub-title",children:Object(S.jsx)(a.Trans,{id:"Licensing"})}),Object(S.jsxs)(x.b,{noMargin:!0,alignItems:"center",children:[Object(S.jsx)(Ae,{fontSize:"small"}),Object(S.jsx)(O.a,{displayInlineAsSpan:!0,noMargin:!0,children:Object(S.jsx)(a.Trans,{id:"Personal projects"})})]}),Object(S.jsxs)(x.b,{noMargin:!0,alignItems:"center",children:[Object(S.jsx)(Ae,{fontSize:"small"}),Object(S.jsx)(O.a,{displayInlineAsSpan:!0,noMargin:!0,children:Object(S.jsx)(a.Trans,{id:"Professional projects"})})]}),Object(S.jsxs)(x.b,{noMargin:!0,alignItems:"center",children:[Object(S.jsx)(Ae,{fontSize:"small"}),Object(S.jsx)(O.a,{displayInlineAsSpan:!0,noMargin:!0,children:Object(S.jsx)(a.Trans,{id:"Asset modification"})})]}),Object(S.jsxs)(x.b,{noMargin:!0,alignItems:"center",children:[Object(S.jsx)(De.a,{fontSize:"small",style:ze.disabledText}),Object(S.jsx)(O.a,{displayInlineAsSpan:!0,noMargin:!0,style:ze.disabledText,children:Object(S.jsx)(a.Trans,{id:"Redistribution & reselling"})})]}),Object(S.jsx)(p.c,{noMargin:!0,children:Object(S.jsx)(O.a,{children:Object(S.jsx)(je.a,{onClick:function(){return h.b.openExternalURL("https://gdevelop.io/page/asset-store-license-agreement")},href:"https://gdevelop.io/page/asset-store-license-agreement",children:Object(S.jsx)(a.Trans,{id:"See details here"})})})})]})]})]})})})]})]})}):null,P&&Object(S.jsx)(Pe.a,{userId:l,onClose:function(){return I(!1)},onAssetPackOpen:function(e){s(e),I(!1)}})]})}})},Ge=n(319),Ze=n(431),Ye=n(303),qe=n(573),Xe=n(519),Je=n(364),Ke=n(347),Qe=n(60),$e=function(e){return Object(S.jsx)(Ye.c,{open:!0,maxWidth:"xs",title:Object(S.jsx)(a.Trans,{id:"Asset store password"}),onApply:e.onApply,onRequestClose:e.onClose,actions:[Object(S.jsx)(C.a,{label:Object(S.jsx)(a.Trans,{id:"Close"}),onClick:e.onClose},"cancel"),Object(S.jsx)(Ye.a,{primary:!0,label:Object(S.jsx)(a.Trans,{id:"Continue"}),onClick:e.onApply},"continue")],children:Object(S.jsx)(w.b,{fullWidth:!0,autoFocus:"desktopAndMobileDevices",value:e.passwordValue,floatingLabelText:Object(S.jsx)(a.Trans,{id:"Password"}),type:"password",onChange:function(t,n){e.setPasswordValue(n)}})})},et=function(e){var t=e.privateAssetPackListingData,n=e.onClose,i=e.onSuccessfulPurchase,s=o.useContext(Ge.a),c=s.profile,u=s.getAuthorizationHeader,l=s.onLogin,d=s.onCreateAccount,b=s.receivedAssetPacks,j=o.useState(!1),f=Object(r.a)(j,2),g=f[0],m=f[1],v=o.useState(!b),y=Object(r.a)(v,2),w=y[0],T=y[1],E=o.useState(!1),P=Object(r.a)(E,2),I=P[0],A=P[1],D=o.useState(!1),F=Object(r.a)(D,2),M=F[0],_=F[1],L=o.useState(""),R=Object(r.a)(L,2),N=R[0],B=R[1],U=function(){var e=Object(Q.a)(ee.a.mark((function e(){var n;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c){e.next=2;break}return e.abrupt("return");case 2:return _(!1),e.prev=3,m(!0),e.next=7,Object(Ze.d)(u,Object(k.a)({stripePriceId:t.prices[0].stripePriceId,userId:c.id,customerEmail:c.email},N?{password:N}:void 0));case 7:n=e.sent,h.b.openExternalURL(n),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),e.t0.response&&403===e.t0.response.status&&"auth/wrong-password"===e.t0.response.data.code?Object(Qe.a)({message:"Operation not allowed",rawError:e.t0,errorId:"asset-pack-purchase-not-authorized"}):(console.error("Unable to get the checkout URL",e.t0),Object(Qe.a)({message:"Unable to get the checkout URL. Please try again later.",rawError:e.t0,errorId:"asset-pack-checkout-error"})),m(!1);case 15:return e.prev=15,B(""),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[3,11,15,18]])})));return function(){return e.apply(this,arguments)}}(),H=function(){h.b.isDev()?_(!0):U()},W=o.useCallback(Object(Q.a)(ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,Object(Ze.h)(u,{userId:c.id,productType:"asset-pack",role:"receiver"});case 5:if(!e.sent.find((function(e){return e.productId===t.id}))){e.next=9;break}return e.next=9,i();case 9:e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),console.error("Unable to get the user purchases",e.t0),Object(Qe.a)({message:"An error happened while checking if your purchase was successful. If you have completed the payment, close and re-open the asset store to see your asset pack!",rawError:e.t0,errorId:"asset-pack-purchase-error"});case 15:case"end":return e.stop()}}),e,null,[[2,11]])}))),[c,u,t,i]);Object(Xe.a)((function(){W()}),g?3900:null),o.useEffect((function(){var e;return Object(Q.a)(ee.a.mark((function t(){return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:b&&(e=setTimeout((function(){return T(!1)}),3e3));case 1:case"end":return t.stop()}}),t)})))(),function(){clearTimeout(e)}}),[b]),o.useEffect((function(){b&&(b.find((function(e){return e.id===t.id}))&&(g?(m(!1),A(!0)):I||n()))}),[b,t,g,n,w,I]);var z=c?I?{subtitle:Object(S.jsx)(a.Trans,{id:"Your purchase has been processed!"}),content:Object(S.jsx)(p.c,{justifyContent:"center",alignItems:"center",children:Object(S.jsx)(O.a,{children:Object(S.jsx)(a.Trans,{id:"You can close this window and go back to the asset store to download your assets."})})})}:g?{subtitle:Object(S.jsx)(a.Trans,{id:"Complete your payment on the web browser"}),content:Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)(p.c,{justifyContent:"center",alignItems:"center",children:[Object(S.jsx)(Je.a,{size:20}),Object(S.jsx)(p.d,{}),Object(S.jsx)(O.a,{children:Object(S.jsx)(a.Trans,{id:"Waiting for the purchase confirmation..."})})]}),Object(S.jsx)(p.d,{}),Object(S.jsx)(p.c,{justifyContent:"center",children:Object(S.jsx)(Ke.a,{children:Object(S.jsx)(a.Trans,{id:"Once you're done, come back to GDevelop and the assets will be added to your account automatically."})})})]})}:w?{subtitle:Object(S.jsx)(a.Trans,{id:"Loading your profile..."}),content:Object(S.jsx)(p.c,{justifyContent:"center",alignItems:"center",children:Object(S.jsx)(Je.a,{size:20})})}:{subtitle:Object(S.jsx)(a.Trans,{id:"The asset pack {0} will be linked to your account {1}.",values:{0:t.name,1:c.email}}),content:Object(S.jsx)(p.c,{justifyContent:"center",alignItems:"center",children:Object(S.jsx)(O.a,{children:Object(S.jsx)(a.Trans,{id:"A new secure window will open to complete the purchase."})})})}:{subtitle:Object(S.jsx)(a.Trans,{id:"Log-in to purchase this item"}),content:Object(S.jsx)(qe.a,{onLogin:l,onCreateAccount:d,message:Object(S.jsx)(a.Trans,{id:"Asset packs will be linked to your user account and available for all your projects. Log-in or sign-up to purchase this pack."}),justifyContent:"center"})},V=c&&!g&&!I&&!w,G=[Object(S.jsx)(C.a,{label:I?Object(S.jsx)(a.Trans,{id:"Close"}):Object(S.jsx)(a.Trans,{id:"Cancel"}),onClick:n},"cancel"),V?Object(S.jsx)(Ye.a,{primary:!0,label:Object(S.jsx)(a.Trans,{id:"Continue"}),onClick:H},"continue"):null];return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)(Ye.c,{title:Object(S.jsx)(a.Trans,{id:"{0}",values:{0:t.name}}),maxWidth:"sm",open:!0,onRequestClose:n,actions:G,onApply:I?n:H,cannotBeDismissed:!0,flexColumnBody:!0,children:[Object(S.jsxs)(x.b,{justifyContent:"center",alignItems:"center",children:[I&&Object(S.jsx)(Ae,{}),Object(S.jsx)(O.a,{size:"sub-title",children:z.subtitle})]}),z.content]}),M&&Object(S.jsx)($e,{onApply:U,onClose:function(){return _(!1)},passwordValue:N,setPasswordValue:B})]})},tt=n(1204),nt=o.forwardRef((function(e,t){var n=o.useContext(U.a),i=n.publicAssetPacks,s=n.privateAssetPacks,u=n.searchResults,m=n.error,v=n.fetchAssetsAndFilters,y=n.navigationState,C=n.searchText,k=n.setSearchText,w=n.assetFiltersState,T=n.assetPackRandomOrdering,E=y.getCurrentPage(),P=E.openedAssetPack,I=E.openedAssetShortHeader,A=E.openedAssetCategory,D=E.openedPrivateAssetPackListingData,F=E.filtersState,M=Object(tt.b)(y.getCurrentPage()),_=Object(tt.c)(y.getCurrentPage()),L=o.useRef(null),R=Object(Y.c)(),W=o.useState(!M&&!I),z=Object(r.a)(W,2),V=z[0],Q=z[1],$=o.useState(null),ee=Object(r.a)($,2),te=ee[0],ne=ee[1],oe=o.useContext(Ge.a),ie=oe.onPurchaseSuccessful,se=oe.receivedAssetPacks,ce=o.useRef(!1),ue=o.useRef(null!=I),le=o.useCallback((function(){ce.current=!1,ue.current=null!=y.getCurrentPage().openedAssetShortHeader}),[y]),de=o.useRef(null),be=o.useRef(null),pe=o.useRef(null),je=o.useCallback((function(){return de.current||be.current||pe.current}),[]),he=o.useCallback((function(){var e=je();e&&(y.getCurrentPage().scrollPosition=e.getScrollPosition())}),[je,y]),fe=o.useCallback((function(){if(!ce.current){var e=je();if(e){var t=y.getCurrentPage().scrollPosition;t?e.scrollToPosition(t):e.scrollToPosition(0),ce.current=!0}}}),[je,y]);o.useImperativeHandle(t,(function(){return{onClose:he}})),o.useLayoutEffect((function(){ue.current||fe()}),[fe]);var ge=o.useCallback((function(e){var t=P?P.name:null,n=P?P.tag:null,r=P&&P.id?P.id:null,a=function(e){var t=e.privateAssetPacks,n=e.publicAssetPacks,r=e.assetPack;return r?r.id&&t&&t.find((function(e){return e.id===r.id}))?"private":n&&n.starterPacks.find((function(e){return e.tag===r.tag}))?"public":"unknown":"unknown"}({assetPack:P,publicAssetPacks:i,privateAssetPacks:s});Object(f.c)({id:e.id,name:e.name,assetPackName:t,assetPackTag:n,assetPackId:r,assetPackKind:a}),he(),y.openDetailPage(e)}),[P,i,s,he,y]),Oe=o.useCallback((function(e){Object(f.f)({assetPackTag:e.tag,assetPackId:null,assetPackName:e.name,assetPackKind:"public",source:"store-home"}),e.externalWebLink?h.b.openExternalURL(e.externalWebLink):(he(),k(""),y.openPackPage(e),Q(!0))}),[y,he,k]),ve=o.useCallback((function(e){var t=se?se.find((function(t){return t.id===e.id})):null;if(!t)return Object(f.e)({assetPackName:e.name,assetPackId:e.id,assetPackKind:"private"}),k(""),void y.openPrivateAssetPackInformationPage(e);k(""),Object(f.f)({assetPackName:e.name,assetPackId:e.id,assetPackTag:null,assetPackKind:"private",source:"store-home"}),he(),y.openPackPage(t),Q(!0)}),[se,he,y,k]),xe=o.useCallback((function(e){he(),y.openAssetCategoryPage(e)}),[y,he]);o.useEffect((function(){if(te){var e=y.getCurrentPage(),t=e.openedAssetPack&&e.openedAssetPack.id&&e.openedAssetPack.id===te.id;if(se&&!t){var n=se.find((function(e){return e.id===te.id}));n&&(k(""),Q(!0),he(),y.openPackPage(n))}}}),[se,te,y,he,k]);var ye=o.useCallback((function(e){var t=se&&se.find((function(t){return t.tag===e})),n=i&&i.starterPacks.find((function(t){return t.tag===e}));he(),k(""),t?y.openPackPage(t):n?y.openPackPage(n):y.openTagPage(e),N(w),Q(!0)}),[k,se,i,he,w,y]);return o.useEffect((function(){R&&L.current&&L.current.focus()}),[R]),o.useLayoutEffect((function(){M&&(N(w),Q(!1))}),[M]),Object(S.jsx)(S.Fragment,{children:Object(S.jsx)(Z.a,{children:function(e){return Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)(p.a,{expand:!0,noMargin:!0,useFullHeight:!0,noOverflowParent:!0,id:"asset-store",children:[Object(S.jsxs)(x.b,{children:[Object(S.jsx)(K.a,{tooltip:{id:"Back to discover"},onClick:function(){k(""),y.openHome(),le(),N(w),Q(!1)},size:"small",children:Object(S.jsx)(Te.a,{})},"back-discover"),Object(S.jsx)(p.a,{expand:!0,useFullHeight:!0,noMargin:!0,children:Object(S.jsx)(d.a,{placeholder:{id:"Search assets"},value:C,onChange:_?k:function(e){k(e),e&&(y.clearHistory(),y.openSearchResultPage(),Q(!0))},onRequestSearch:function(){},ref:L,id:"asset-store-search-bar"})})]}),Object(S.jsx)(p.d,{}),Object(S.jsx)(p.a,{noMargin:!0,children:Object(S.jsx)(p.c,{justifyContent:"space-between",noMargin:!0,alignItems:"center",children:(!M||M&&!!A)&&Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(p.a,{expand:!0,alignItems:"flex-start",noMargin:!0,children:Object(S.jsx)(J.a,{icon:Object(S.jsx)(c.a,{}),label:Object(S.jsx)(a.Trans,{id:"Back"}),primary:!1,onClick:function(){y.backToPreviousPage(),le()}})}),(P||D||F.chosenCategory)&&Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(p.a,{expand:!0,alignItems:"center",children:Object(S.jsx)(O.a,{size:"block-title",noMargin:!0,children:P?P.name:D?D.name:F.chosenCategory?(t=F.chosenCategory.node.name,t?t[0].toUpperCase()+t.substr(1):""):""})}),Object(S.jsx)(p.a,{expand:!0,alignItems:"flex-end",noMargin:!0})]})]})})}),Object(S.jsxs)(p.c,{expand:!0,noMargin:!0,overflow:"hidden",children:[!I&&!D&&Object(S.jsx)(p.a,{noMargin:!0,children:Object(S.jsx)(j.a,{children:Object(S.jsx)(me.a,{style:{width:V?"small"===e?205:250:50},background:"medium",children:V?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)(p.c,{justifyContent:"space-between",alignItems:"center",children:[Object(S.jsx)(p.a,{noMargin:!0,children:Object(S.jsxs)(p.c,{alignItems:"center",children:[Object(S.jsx)(l.a,{}),Object(S.jsx)(q.a,{children:Object(S.jsx)(a.Trans,{id:"Object filters"})})]})}),Object(S.jsx)(K.a,{onClick:function(){return Q(!1)},children:Object(S.jsx)(b.a,{})})]}),Object(S.jsx)(p.c,{justifyContent:"space-between",alignItems:"center",children:Object(S.jsx)(B,{assetFiltersState:w,onChoiceChange:function(){y.openSearchResultPage()}})})]}):Object(S.jsx)(p.c,{justifyContent:"center",children:Object(S.jsx)(K.a,{onClick:function(){return Q(!0)},children:Object(S.jsx)(l.a,{})})})})})}),M?m?Object(S.jsx)(ae.a,{onRetry:v,children:Object(S.jsx)(Se.a,{kind:"error",children:Object(S.jsx)(a.Trans,{id:"An error occurred when fetching the asset store content. Please try again later."})})}):i&&s&&T?Object(S.jsx)(X.a,{ref:de,publicAssetPacks:i,privateAssetPacksListingData:s,assetPackRandomOrdering:T,onPublicAssetPackSelection:Oe,onPrivateAssetPackSelection:ve,onCategorySelection:xe,openedAssetCategory:A}):Object(S.jsx)(re.a,{}):_?Object(S.jsx)(g.a,{ref:be,baseSize:128,onRetry:v,error:m,searchItems:u,renderSearchItem:function(e,t){return Object(S.jsx)(H.a,{size:t,onOpenDetails:function(){return ge(e)},assetShortHeader:e})},noResultPlaceholder:Object(S.jsx)(G,{onClear:function(){return N(w)}})}):I?Object(S.jsx)(ke,{ref:pe,onTagSelection:ye,assetShortHeader:I,onOpenDetails:ge,onAssetLoaded:fe}):D?Object(S.jsx)(Ve,{privateAssetPackListingData:D,onOpenPurchaseDialog:function(){return ne(D)},isPurchaseDialogOpen:!!te,onAssetPackOpen:ve}):null,!!te&&Object(S.jsx)(et,{privateAssetPackListingData:te,onClose:function(){return ne(null)},onSuccessfulPurchase:ie})]})]})});var t}})})}))},function(e,t,n){"use strict";var r=n(19),a=n(2),o=n(34),i=n(0),s=n.n(i),c=n(9),u=n(17),l=n.n(u),d=n(303),b=n(318),p=n(298),j=n(1274),h=n(314),f=n(8),g=function(e){var t=e.authenticatedUser,n=e.game,r=e.open,a=e.onClose,o=e.onGameUpdated,i=Object(h.a)();return r?Object(f.jsx)(d.c,{title:Object(f.jsx)(c.Trans,{id:"{0} builds",values:{0:n.gameName}}),actions:[Object(f.jsx)(p.a,{label:Object(f.jsx)(c.Trans,{id:"Close"}),primary:!1,onClick:a},"close")],secondaryActions:[Object(f.jsx)(b.a,{helpPagePath:"/publishing"},"help")],onRequestClose:a,open:r,children:Object(f.jsx)(j.a,{onBuildsUpdated:i,authenticatedUser:t,game:n,onGameUpdated:o})}):null},m=n(319),O=n(3),v=n(6),x=n(5),y=n(10),C=n(11),k=n(305),w=n(54),T=n(295),E=n(60),S=n(573),P=n(411),I=n(323),A=n(296),D=n(439),F=function(e){var t=e.subscription,n=e.currentUsage,r=e.onChangeSubscription,a=u.useContext(D.a).openSubscriptionDialog;if(!n)return Object(f.jsx)(I.a,{});var o=Object(P.l)(t),i=t&&!Object(P.l)(t);return Object(f.jsxs)(T.a,{noMargin:!0,children:[Object(f.jsx)(A.a,{children:Object(f.jsx)(c.Trans,{id:"You have {0} remaining builds for today (out of {1}).",values:{0:Math.max(n.max-n.current,0),1:n.max}})}),o&&n.limitReached&&Object(f.jsx)(A.a,{children:Object(f.jsx)(c.Trans,{id:"Need more power? You can upgrade to a new plan to increase the limit!"})}),o&&n.limitReached&&Object(f.jsx)(T.c,{justifyContent:"center",alignItems:"center",children:Object(f.jsx)(k.a,{label:Object(f.jsx)(c.Trans,{id:"Upgrade my account"}),onClick:function(){r(),a({reason:"Build limit reached"})},primary:!0})}),i&&Object(f.jsx)(A.a,{children:Object(f.jsx)(c.Trans,{id:"You don't have a subscription. Get one to increase the limits!"})}),i&&Object(f.jsx)(T.c,{justifyContent:"center",alignItems:"center",children:Object(f.jsx)(k.a,{label:Object(f.jsx)(c.Trans,{id:"Get a subscription"}),onClick:function(){r(),a({reason:"Build limit reached"})},primary:!0})})]})},M=n(621),_=n(1065),L=n(2736),R=n(2662),N=n(2661),B=n(2663),U=n(1278),H=n(316),W=n(312),z=n(436),V=n(364),G=n(2720),Z=n(2728),Y=n(306),q={flex:1},X=Object(G.a)((function(e){return{text:{fill:e.palette.secondary.contrastText},completed:{fill:e.palette.secondary.main},active:{fill:e.palette.secondary.main}}})),J=function(e){var t=X();return Object(f.jsx)(N.a,Object(O.a)(Object(O.a)({},e),{},{StepIconComponent:function(e){return Object(f.jsx)(Z.a,Object(O.a)(Object(O.a)({},e),{},{classes:t}))},children:e.children}))},K=function(e){var t=e.exportStep,n=e.build,r=e.stepMaxProgress,a=e.stepCurrentProgress,o=e.errored,i=e.hasBuildStep,s=e.showSeeAllMyBuildsExplanation,l=u.useContext(Y.a),d=u.useCallback((function(){return"register"===t||"export"===t||"resources-download"===t?0:"compress"===t||"upload"===t?1:"waiting-for-build"===t||"build"===t?2:"done"===t?i?2:1:-1}),[t,i]);return Object(f.jsxs)(L.a,{activeStep:d(),orientation:"vertical",style:Object(O.a)(Object(O.a)({},q),{},{backgroundColor:l.paper.backgroundColor.medium}),children:[Object(f.jsxs)(R.a,{children:[Object(f.jsx)(J,{children:Object(f.jsx)(c.Trans,{id:"Game export"})}),Object(f.jsx)(B.a,{children:o?Object(f.jsxs)(W.a,{kind:"error",children:[Object(f.jsx)(c.Trans,{id:"Can't properly export the game."})," ",Object(f.jsx)(c.Trans,{id:"Please check your internet connection or try again later."})]}):"resources-download"===t?Object(f.jsxs)(T.a,{expand:!0,noMargin:!0,children:[Object(f.jsx)(A.a,{children:Object(f.jsx)(c.Trans,{id:"Downloading game resources..."})}),Object(f.jsx)(T.c,{expand:!0,children:Object(f.jsx)(z.a,{value:r>0?a/r*100:0,variant:"determinate"})})]}):Object(f.jsxs)(T.a,{expand:!0,noMargin:!0,children:[Object(f.jsx)(A.a,{children:Object(f.jsx)(c.Trans,{id:"Export in progress..."})}),Object(f.jsx)(T.c,{expand:!0,children:Object(f.jsx)(z.a,{})})]})})]}),i&&Object(f.jsxs)(R.a,{children:[Object(f.jsx)(J,{children:Object(f.jsx)(c.Trans,{id:"Upload to build service"})}),Object(f.jsx)(B.a,{children:o?Object(f.jsxs)(W.a,{kind:"error",children:[Object(f.jsx)(c.Trans,{id:"Can't upload your game to the build service."})," ",Object(f.jsx)(c.Trans,{id:"Please check your internet connection or try again later."})]}):"compress"===t?Object(f.jsxs)(T.c,{alignItems:"center",children:[Object(f.jsx)(V.a,{size:20}),Object(f.jsx)(T.d,{}),Object(f.jsx)(A.a,{children:Object(f.jsx)(c.Trans,{id:"Compressing before upload..."})})]}):Object(f.jsx)(T.c,{alignItems:"center",expand:!0,children:Object(f.jsx)(z.a,{value:r>0?a/r*100:0,variant:"determinate"})})})]}),i&&Object(f.jsxs)(R.a,{children:[Object(f.jsx)(J,{children:Object(f.jsx)(c.Trans,{id:"Build and download"})}),Object(f.jsxs)(B.a,{children:[o&&Object(f.jsx)(W.a,{kind:"error",children:Object(f.jsx)(c.Trans,{id:"Build could not start or errored. Please check your internet connection or try again later."})}),!n&&!o&&Object(f.jsx)(A.a,{children:Object(f.jsx)(c.Trans,{id:"Build is starting..."})}),n&&Object(f.jsx)(U.a,{build:n}),s&&Object(f.jsx)(H.a,{children:Object(f.jsx)(c.Trans,{id:"If you close this window while the build is being done, you can see its progress and download the game later by clicking on See All My Builds below."})})]})]}),!i&&Object(f.jsxs)(R.a,{children:[Object(f.jsx)(J,{children:Object(f.jsx)(c.Trans,{id:"Done"})}),Object(f.jsx)(B.a,{})]})]})},Q=n(376),$=n(781),ee=n(385),te=n(433),ne=function(e){Object(y.a)(n,e);var t=Object(C.a)(n);function n(e){var r;return Object(v.a)(this,n),(r=t.call(this,e)).state={exportStep:"",build:null,compressionOutput:null,stepCurrentProgress:0,stepMaxProgress:0,doneFooterOpen:!1,errored:!1,exportState:r.props.exportPipeline.getInitialExportState(r.props.project)},r.buildsWatcher=new _.a,r._setupAchievementHook=function(){r.props.exportPipeline.name.includes("web")?r.launchWholeExport=Object(te.h)(r.props.authenticatedUser,te.g,r._launchWholeExport):r.launchWholeExport=r._launchWholeExport},r._updateStepProgress=function(e,t){return r.setState({stepCurrentProgress:e,stepMaxProgress:t})},r._startBuildWatch=function(e){r.state.build&&r.buildsWatcher.start({authenticatedUser:e,builds:[r.state.build],onBuildUpdated:function(t){r.setState({build:t}),"pending"!==t.status&&e.onRefreshUserProfile()}})},r.tryUpdateAuthors=Object(a.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=r.props.authenticatedUser.profile)){e.next=11;break}return n=Object(Q.b)(r.props.project.getAuthorIds().toJSArray()),e.prev=3,e.next=6,Object(Q.k)(r.props.authenticatedUser.getAuthorizationHeader,t.id,r.props.project.getProjectUuid(),{author:n});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[3,8]])}))),r.registerGameIfNot=Object(a.a)(s.a.mark((function e(){var t,n,a,o,i,c,u,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.props.authenticatedUser.profile,n=r.props.authenticatedUser.getAuthorizationHeader,a=r.props.project.getProjectUuid(),!t){e.next=21;break}return o=t.id,e.prev=5,e.next=8,Object(Q.d)(n,o,a);case 8:e.next=21;break;case 10:if(e.prev=10,e.t0=e.catch(5),404!==e.t0.response.status){e.next=21;break}return i=r.props.project.getAuthor()||"Unspecified publisher",c=r.props.project.getTemplateSlug(),u=r.props.project.getName()||"Untitled game",e.next=18,Object(Q.i)(n,o,{gameId:a,authorName:i,gameName:u,templateSlug:c});case 18:l=e.sent,r.tryUpdateAuthors(),r.props.onGameUpdated(l);case 21:case"end":return e.stop()}}),e,null,[[5,10]])}))),r._launchWholeExport=Object(a.a)(s.a.mark((function e(){var t,n,a,o,i,c,u,l,d,b,p,j,h,f,g,m,O,v,x;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=function(e){return e},n=r.props,a=n.project,o=n.exportPipeline,i=n.authenticatedUser,Object(w.m)(o.name),Object(M.a)(t,Object(M.c)(t,a))){e.next=5;break}return e.abrupt("return");case 5:return c=function(){switch(r.state.exportStep){case"export":return t("Error while exporting the game.");case"resources-download":return t("Error while downloading the game resources. Check your internet connection and that all resources of the game are valid in the Resources editor.");case"compress":return t("Error while compressing the game.");case"upload":return t("Error while uploading the game. Check your internet connection or try again later.");case"waiting-for-build":return t("Error while building the game. Check the logs of the build for more details.");case"build":return t("Error while building of the game. Check the logs of the build for more details.");default:return t("Error while building the game. Try again later. Your internet connection may be slow or one of your resources may be corrupted.")}},u=function(e){r.state.errored||(r.setState({errored:!0}),Object(E.a)({message:c()+(e.message?"\n\n".concat(e.message):""),rawError:{exportStep:r.state.exportStep,rawError:e},errorId:"export-error"}))},l=function(e){return r.setState({exportStep:e})},e.prev=8,l("register"),e.next=12,r.registerGameIfNot();case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(8),console.warn("Error while registering the game - ignoring it.");case 17:return e.prev=17,d={project:a,updateStepProgress:r._updateStepProgress,exportState:r.state.exportState},l("export"),r.setState({stepCurrentProgress:0,stepMaxProgress:0,errored:!1,build:null}),e.next=23,o.prepareExporter(d);case 23:return b=e.sent,p=i.profile,j=p?{username:p.username||"",id:p.id}:void 0,e.next=28,o.launchExport(d,b,j);case 28:return h=e.sent,l("resources-download"),e.next=32,o.launchResourcesDownload(d,h);case 32:return f=e.sent,l("compress"),e.next=36,o.launchCompression(d,f);case 36:if(g=e.sent,m=o.launchUpload,O=o.launchOnlineBuild,!m||!O){e.next=49;break}return l("upload"),e.next=42,m(d,g);case 42:return v=e.sent,l("waiting-for-build"),e.next=46,O(r.state.exportState,i,v,a.getProjectUuid(),{gameName:a.getName(),gameVersion:a.getVersion()});case 46:x=e.sent,l("build"),r.setState({build:x},(function(){r._startBuildWatch(i)}));case 49:l("done"),r.setState({compressionOutput:g,doneFooterOpen:!0}),e.next=57;break;case 53:e.prev=53,e.t1=e.catch(17),console.error("An error happened during export:",e.t1),u(e.t1);case 57:case"end":return e.stop()}}),e,null,[[8,14],[17,53]])}))),r._closeDoneFooter=function(){return r.setState({doneFooterOpen:!1})},r._updateExportState=function(e){r.setState((function(t){return Object(O.a)(Object(O.a)({},t),{},{exportState:e(t.exportState)})}))},r._setupAchievementHook(),r}return Object(x.a)(n,[{key:"componentWillUnmount",value:function(){this.buildsWatcher.stop()}},{key:"componentDidUpdate",value:function(e,t){this._setupAchievementHook(),t.exportStep===this.state.exportStep&&t.errored===this.state.errored||this.props.setIsNavigationDisabled(this.props.exportPipeline.isNavigationDisabled(this.state.exportStep,this.state.errored))}},{key:"render",value:function(){var e=this.state,t=e.exportStep,n=e.compressionOutput,r=e.build,a=e.stepMaxProgress,o=e.stepCurrentProgress,i=e.errored,s=e.doneFooterOpen,u=e.exportState,l=this.props,d=l.project,b=l.authenticatedUser,p=l.exportPipeline,j=l.onSaveProject;if(!d)return null;var h=function(e){return e.limits&&p.onlineBuildType?e.limits.limits[p.onlineBuildType]:null};return Object(f.jsxs)(T.a,{noMargin:!0,children:[!!p.packageNameWarningType&&-1!==d.getPackageName().indexOf("com.example")&&Object(f.jsx)(T.c,{children:Object(f.jsx)(ee.a,{identifier:"project-should-have-unique-package-name",kind:"warning",children:Object(f.jsx)(c.I18n,{children:function(e){return e.i18n._("mobile"===p.packageNameWarningType?{id:"The package name begins with com.example, make sure you replace it with an unique one to be able to publish your game on app stores."}:{id:"The package name begins with com.example, make sure you replace it with an unique one, else installing your game might overwrite other games."})}})})}),Object(f.jsx)(T.c,{children:p.renderHeader({project:d,exportState:u,updateExportState:this._updateExportState})}),(!p.onlineBuildType||b.authenticated)&&Object(f.jsx)(T.c,{justifyContent:"center",children:Object(f.jsx)(k.a,{label:p.renderLaunchButtonLabel(),primary:!0,id:"launch-export-".concat(p.name,"-button"),onClick:this.launchWholeExport,disabled:!function(e){var n=h(e);return(!n||!n.limitReached)&&p.canLaunchBuild(u,i,t)}(b)})}),Object(f.jsx)(T.d,{}),!!p.onlineBuildType&&!b.authenticated&&Object(f.jsx)(S.a,{onLogin:b.onLogin,onCreateAccount:b.onCreateAccount,message:Object(f.jsx)(c.Trans,{id:"Create an account or login first to publish your game."}),justifyContent:"center"}),b.authenticated&&(p.renderCustomStepsProgress?p.renderCustomStepsProgress({build:r,project:d,onSaveProject:j,errored:i,exportStep:t}):Object(f.jsx)(T.c,{expand:!0,children:Object(f.jsx)(K,{exportStep:t,hasBuildStep:!!p.onlineBuildType,build:r,stepMaxProgress:a,stepCurrentProgress:o,errored:i})})),!!p.limitedBuilds&&b.authenticated&&Object(f.jsx)(F,{subscription:b.subscription,currentUsage:h(b),onChangeSubscription:this.props.onChangeSubscription}),s&&p.renderDoneFooter&&p.renderDoneFooter({compressionOutput:n,exportState:u,onClose:this._closeDoneFooter}),s&&Object(f.jsx)(T.c,{justifyContent:"center",children:Object(f.jsx)($.a,{project:d,hideLoader:!0,suggestGameStatsEmail:!0})})]})}}]),n}(u.Component),re=n(647),ae=n(352),oe=n(297),ie=n(309),se=function(){var e=Object(ie.b)(),t=l.a.useContext(Y.a);return"small"!==e&&Object(f.jsx)(T.a,{justifyContent:"center",noMargin:!0,children:Object(f.jsx)("span",{style:{height:"calc(100% - 30px)",borderLeftStyle:"solid",borderLeftWidth:1,borderColor:t.toolbar.separatorColor}})})},ce=n(1062),ue=n.n(ce),le=n(1060),de=n(1061),be=n.n(de),pe=n(2279),je=n.n(pe),he={titleContainer:{display:"flex",flex:2,alignItems:"center",minHeight:"100px"},iconsContainer:{marginTop:10,marginBottom:10},icon:{height:48,width:48},contentContainer:{flex:5}},fe=function(e){var t=e.onlineWebExporter,n=e.setChosenExporterKey,r=e.setChosenExporterSection,a=e.project,o=e.onSaveProject,i=e.onChangeSubscription,s=e.authenticatedUser,u=e.isNavigationDisabled,l=e.setIsNavigationDisabled,d=e.onGameUpdated,b=e.showOnlineWebExporterOnly;return Object(f.jsxs)(oe.c,{children:[Object(f.jsxs)(oe.a,{alignItems:"center",expand:!0,children:[Object(f.jsx)("div",{style:he.titleContainer,children:Object(f.jsx)(T.c,{children:Object(f.jsx)(A.a,{size:"block-title",align:"center",children:Object(f.jsx)(c.Trans,{id:"Publish on gd.games, GDevelop's game platform"})})})}),Object(f.jsx)(T.c,{expand:!0,children:Object(f.jsx)(je.a,{style:he.icon})}),Object(f.jsx)("div",{style:he.contentContainer,children:Object(f.jsx)(ne,{exportPipeline:t.exportPipeline,project:a,onSaveProject:o,onChangeSubscription:i,authenticatedUser:s,setIsNavigationDisabled:l,onGameUpdated:d})})]}),b?null:Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(se,{}),Object(f.jsxs)(oe.a,{alignItems:"center",expand:!0,children:[Object(f.jsx)("div",{style:he.titleContainer,children:Object(f.jsx)(T.c,{children:Object(f.jsx)(A.a,{size:"block-title",align:"center",children:Object(f.jsx)(c.Trans,{id:"Export and publish on other platforms"})})})}),Object(f.jsx)(T.c,{expand:!0,children:Object(f.jsxs)("div",{style:he.iconsContainer,children:[Object(f.jsx)(le.a,{style:he.icon}),Object(f.jsx)(be.a,{style:he.icon}),Object(f.jsx)(ue.a,{style:he.icon})]})}),Object(f.jsx)("div",{style:he.contentContainer,children:Object(f.jsxs)(T.a,{alignItems:"center",children:[Object(f.jsx)(T.c,{children:Object(f.jsx)(A.a,{align:"center",children:Object(f.jsx)(c.Trans,{id:"Export your game to mobile, desktop and web platforms."})})}),Object(f.jsx)(k.a,{label:Object(f.jsx)(c.Trans,{id:"Export to other platforms"}),onClick:function(){r("automated"),n("webexport")},primary:!0,disabled:u}),Object(f.jsx)(T.d,{}),Object(f.jsx)(p.a,{label:Object(f.jsx)(c.Trans,{id:"Build manually"}),primary:!0,onClick:function(){r("manual"),n("webexport")},disabled:u})]})})]})]})]})},ge=n(619);t.a=function(e){var t=e.project,n=e.onSaveProject,i=e.onClose,l=e.allExportersRequireOnline,j=e.onChangeSubscription,h=e.automatedExporters,O=e.manualExporters,v=e.onlineWebExporter,x=u.useState("home"),y=Object(o.a)(x,2),C=y[0],k=y[1],w=u.useState(!1),T=Object(o.a)(w,2),S=T[0],P=T[1],I=u.useState(!1),A=Object(o.a)(I,2),D=A[0],F=A[1],M=u.useState("onlinewebexport"),_=Object(o.a)(M,2),L=_[0],R=_[1],N=u.useState(null),B=Object(o.a)(N,2),U=B[0],H=B[1],z=u.useContext(m.a),V=z.profile,G=z.getAuthorizationHeader,Z=Object(re.a)(),Y=!!l&&!Z,q=u.useCallback(Object(a.a)(s.a.mark((function e(){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(V&&t){e.next=2;break}return e.abrupt("return");case 2:return n=V.id,e.prev=3,e.next=6,Object(Q.d)(G,n,t.getProjectUuid());case 6:r=e.sent,H(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.error("Unable to load the game",e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])}))),[t,G,V]);if(u.useEffect((function(){U||q()}),[q,U]),!t)return null;var X=[].concat(Object(r.a)(h||[]),Object(r.a)(O||[]),[v]).find((function(e){return e.key===L}));if(!X||!X.exportPipeline)return null;var J=!O&&!h;return Object(f.jsxs)(d.c,{id:"export-dialog",maxWidth:J?"sm":"md",title:"automated"===C?Object(f.jsx)(c.Trans,{id:"Publish your game"}):"manual"===C?Object(f.jsx)(c.Trans,{id:"Build manually"}):null,actions:["home"!==C&&Object(f.jsx)(p.a,{label:Object(f.jsx)(c.Trans,{id:"Back"}),primary:!1,onClick:function(){k("home"),R("onlinewebexport")},disabled:D},"back"),Object(f.jsx)(p.a,{label:Object(f.jsx)(c.Trans,{id:"Close"}),primary:!1,onClick:i,disabled:D},"close")],secondaryActions:[Object(f.jsx)(b.a,{helpPagePath:X.helpPage},"help"),"local-html5"===X.exportPipeline.name||"browser-html5"===X.exportPipeline.name?Object(f.jsx)(ge.a,{tutorialId:"export-to-itch",label:Object(f.jsx)(c.Trans,{id:'How to export to Itch.io"'})},"tutorial"):null,Object(f.jsx)(p.a,{label:Object(f.jsx)(c.Trans,{id:"See this game builds"}),onClick:function(){U?P(!0):Object(E.c)("Either this game is not registered or you are not its owner, so you can't see the builds or publish a build to the game page on gd.games.")},disabled:D},"builds")],onRequestClose:i,open:!0,fixedContent:h&&O?"automated"===C?Object(f.jsx)(ae.a,{value:L,onChange:R,options:h.map((function(e){return{value:e.key,label:e.tabName,disabled:D}}))}):"manual"===C?Object(f.jsx)(ae.a,{value:L,onChange:R,options:O.map((function(e){return{value:e.key,label:e.tabName,disabled:D}}))}):null:null,children:[Y?Object(f.jsx)(W.a,{kind:"error",children:Object(f.jsx)(c.Trans,{id:"You must be online and have a proper internet connection to export your game."})}):"home"===C?Object(f.jsx)(fe,{onlineWebExporter:v,setChosenExporterKey:R,setChosenExporterSection:k,project:t,onSaveProject:n,onChangeSubscription:j,authenticatedUser:z,isNavigationDisabled:D,setIsNavigationDisabled:F,onGameUpdated:H,showOnlineWebExporterOnly:J}):Object(f.jsx)(ne,{exportPipeline:X.exportPipeline,project:t,onSaveProject:n,onChangeSubscription:j,authenticatedUser:z,setIsNavigationDisabled:F,onGameUpdated:H},L),U&&Object(f.jsx)(g,{open:S,onClose:function(){return P(!1)},authenticatedUser:z,game:U,onGameUpdated:H})]})}},function(e,t,n){"use strict";n.d(t,"b",(function(){return se})),n.d(t,"a",(function(){return ue}));var r=n(34),a=n(17),o=n.n(a),i=n(361),s=n(295),c=n(698),u=n(1029),l=n(2),d=n(0),b=n.n(d),p=n(9),j=n(570),h=n(370),f=n(2721),g=n(296),m=n(717),O=n(55),v=n(3),x=n(375),y=n(309),C=n(453),k=n(8),w={iconBackground:{flex:0,display:"flex",justifyContent:"center"},icon:Object(v.a)(Object(v.a)({},C.b),{},{padding:1})},T=function(e){var t=e.exampleShortHeader,n=Object(y.b)(),r=t.previewImageUrls[0],a=r.endsWith("square-icon.png")?"1 / 1":"16 / 9",o="small"===n?50:120;return Object(k.jsx)("div",{style:w.iconBackground,children:Object(k.jsx)(x.a,{style:Object(v.a)(Object(v.a)({},w.icon),{},{height:o,aspectRatio:a}),src:r,alt:t.name})})},E=n(12),S=n.n(E),P=n(60),I=n(303),A=n(298),D=n(369),F=n(323),M=n(348),_=n(345),L=n(312),R=n(2587),N=n(297),B=n(452),U=n(26),H=n(640),W=n(404),z=n(905),V=o.a.memo((function(e){return Object(k.jsx)(z.a,Object(v.a)(Object(v.a)({},e),{},{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:Object(k.jsx)("path",{d:"M3 22v-2h3.5v-4.5H11V11h4.5V6.5H20V3h2v5.5h-4.5V13H13v4.5H8.5V22Z"})}))})),G={chip:{marginRight:2,marginBottom:2}},Z=function(e){var t,n=e.codeSizeLevel;return Object(k.jsx)(W.a,{icon:Object(k.jsx)(V,{}),size:"small",style:G.chip,label:"simple"===n?Object(k.jsx)(p.Trans,{id:"Simple"}):"advanced"===n?Object(k.jsx)(p.Trans,{id:"Advanced"}):"expert"===n?Object(k.jsx)(p.Trans,{id:"Expert"}):(t=n,t.charAt(0).toUpperCase()+t.slice(1))},"example-size-level")},Y=n(1199),q=n.n(Y),X={chip:{marginRight:2,marginBottom:2}},J=function(e){var t,n=e.codeSizeLevel;return Object(k.jsx)(W.a,{icon:Object(k.jsx)(q.a,{}),size:"small",style:X.chip,label:"tiny"===n?Object(k.jsx)(p.Trans,{id:"Tiny"}):"small"===n?Object(k.jsx)(p.Trans,{id:"Small"}):"medium"===n?Object(k.jsx)(p.Trans,{id:"Medium"}):"big"===n?Object(k.jsx)(p.Trans,{id:"Big"}):"huge"===n?Object(k.jsx)(p.Trans,{id:"Huge"}):(t=n,t.charAt(0).toUpperCase()+t.slice(1))},"example-size-level")},K=U.b.isDev(),Q=S()("electron"),$=function(e){U.b.openExternalURL("".concat(K?"http://localhost:3000":"https://editor.gdevelop.io","/?project=").concat(e.projectFileUrl))};function ee(e){var t=e.isOpening,n=e.exampleShortHeader,o=e.onClose,i=e.onOpen,c=a.useState(null),u=Object(r.a)(c,2),d=u[0],f=u[1],m=a.useState(null),v=Object(r.a)(m,2),x=v[0],y=v[1],C=a.useCallback(Object(l.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(null),e.prev=1,e.next=4,Object(j.a)(n);case 4:t=e.sent,y(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),f(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])}))),[n]);a.useEffect((function(){C()}),[C]);var w=Object(h.e)(Object(O.b)(),n),E=n.previewImageUrls.length>0,S=!t&&w,P=a.useCallback((function(){S&&i()}),[i,S]);return Object(k.jsx)(I.c,{title:n.name,actions:[Object(k.jsx)(A.a,{label:Object(k.jsx)(p.Trans,{id:"Back"}),primary:!1,onClick:o,disabled:t},"close"),Object(k.jsx)(D.a,{isLoading:t,children:Object(k.jsx)(B.a,{label:w?Object(k.jsx)(p.Trans,{id:"Open"}):Object(k.jsx)(p.Trans,{id:"Not compatible"}),primary:!0,onClick:P,disabled:!S,buildMenuTemplate:function(e){return[{label:Q?e._({id:"Open in the web-app"}):e._({id:"Open in a new tab"}),disabled:!x,click:function(){x&&$(x)}}]}})},"open")],open:!0,cannotBeDismissed:t,onRequestClose:o,onApply:P,children:Object(k.jsxs)(N.a,{expand:!0,noMargin:!0,children:[!w&&Object(k.jsx)(L.a,{kind:"error",children:Object(k.jsx)(p.Trans,{id:"Unfortunately, this example requires a newer version of GDevelop to work. Update GDevelop to be able to open this example."})}),Object(k.jsxs)(N.c,{alignItems:"center",noMargin:!0,children:[E?Object(k.jsx)(T,{exampleShortHeader:n}):null,Object(k.jsxs)(s.a,{children:[Object(k.jsx)(s.c,{children:Object(k.jsxs)("div",{style:{flexWrap:"wrap"},children:[n.codeSizeLevel&&Object(k.jsx)(J,{codeSizeLevel:n.codeSizeLevel}),n.difficultyLevel&&Object(k.jsx)(Z,{codeSizeLevel:n.difficultyLevel}),n.authors&&n.authors.map((function(e){return Object(k.jsx)(H.a,{user:e,isClickable:!0},e.id)}))]})}),Object(k.jsx)(g.a,{noMargin:!0,children:n.shortDescription})]})]}),x&&x.description&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(R.a,{}),Object(k.jsx)(_.a,{source:x.description,isStandaloneText:!0})]}),!x&&!d&&Object(k.jsx)(F.a,{}),!x&&d&&Object(k.jsx)(M.a,{onRetry:C,children:Object(k.jsx)(p.Trans,{id:"Can't load the example. Verify your internet connection or try again later."})})]})})}var te=n(568),ne=S()("electron"),re={container:{display:"flex",overflow:"hidden",paddingTop:8,paddingBottom:8,paddingRight:8},button:{alignItems:"flex-start",textAlign:"left",flex:1}},ae=function(e){var t=e.exampleShortHeader,n=e.matches,r=e.isOpening,o=e.onChoose,i=e.onOpen,c=e.onHeightComputed,u=a.useRef(null);a.useLayoutEffect((function(){u.current&&c(u.current.getBoundingClientRect().height)}));var d=Object(h.e)(Object(O.b)(),t),v=a.useCallback(function(){var e=Object(l.a)(b.a.mark((function e(n){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(j.a)(t);case 3:r=e.sent,$(r),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Object(P.a)({message:n._({id:"Unable to fetch the example."})+" "+n._({id:"Verify your internet connection or try again later."}),rawError:e.t0,errorId:"example-load-error"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),[t]),x=function(e){var r=t[e];if(!n)return r;var a=n.filter((function(t){return t.key===e}));return 0===a.length?r:Object(k.jsx)(te.a,{text:r,matchesCoordinates:a[0].indices})};return Object(k.jsx)("div",{style:re.container,ref:u,children:Object(k.jsxs)(N.c,{noMargin:!0,expand:!0,children:[Object(k.jsxs)(f.a,{style:re.button,onClick:o,focusRipple:!0,children:[!!t.previewImageUrls.length&&Object(k.jsx)(T,{exampleShortHeader:t}),Object(k.jsxs)(s.a,{expand:!0,children:[Object(k.jsxs)(g.a,{noMargin:!0,children:[x("name")," "]}),Object(k.jsx)(s.c,{children:Object(k.jsxs)("div",{style:{flexWrap:"wrap"},children:[t.codeSizeLevel&&Object(k.jsx)(J,{codeSizeLevel:t.codeSizeLevel}),t.difficultyLevel&&Object(k.jsx)(Z,{codeSizeLevel:t.difficultyLevel}),t.authors&&t.authors.map((function(e){return Object(k.jsx)(H.a,{user:e},e.id)}))]})}),Object(k.jsx)(g.a,{noMargin:!0,size:"body2",children:x("shortDescription")})]})]}),Object(k.jsx)(s.a,{noMargin:!0,justifyContent:"flex-end",children:Object(k.jsx)(s.c,{noMargin:!0,justifyContent:"flex-end",children:Object(k.jsx)(m.a,{label:Object(k.jsx)(p.Trans,{id:"Open"}),disabled:r||!d,onClick:function(){return i()},buildMenuTemplate:function(e){return[{label:e._({id:"Open details"}),click:o},{label:ne?e._({id:"Open in the web-app"}):e._({id:"Open in a new tab"}),click:function(){v(e)}}]}})})})]})})},oe=n(54),ie=n(363),se=function(e){return e.sort((function(e,t){var n=(t.tags.includes("Starter")?1:0)-(e.tags.includes("Starter")?1:0);return n||((n=(t.tags.includes("game")?1:0)-(e.tags.includes("game")?1:0))?n:(n=(t.previewImageUrls.length?1:0)-(e.previewImageUrls.length?1:0))||0)}))},ce=function(e){return e.name},ue=function(e){var t=e.isOpening,n=e.onOpen,o=e.focusOnMount,l=e.initialExampleShortHeader,d=a.useState(l),b=Object(r.a)(d,2),p=b[0],j=b[1],h=a.useContext(c.a),f=h.filters,g=h.searchResults,m=h.error,O=h.fetchExamplesAndFilters,v=h.filtersState,x=h.searchText,C=h.setSearchText,w=Object(ie.c)(),T=a.useRef(null);a.useEffect((function(){O()}),[O]),a.useEffect((function(){o&&w&&T.current&&T.current.focus()}),[w,o]);var E=a.useMemo((function(){return{add:v.addFilter,remove:v.removeFilter,chosenTags:v.chosenFilters}}),[v]),S=function(e){if(!g)return[];var t=g.find((function(t){return t.item.id===e.id}));return t?t.matches:[]};return Object(k.jsxs)(a.Fragment,{children:[Object(k.jsx)(y.a,{children:function(e){return Object(k.jsxs)(s.a,{expand:!0,noMargin:!0,useFullHeight:!0,children:[Object(k.jsx)(s.c,{children:Object(k.jsx)(s.a,{expand:!0,noMargin:!0,children:Object(k.jsx)(i.a,{value:x,onChange:C,onRequestSearch:function(){},tagsHandler:E,tags:f&&f.defaultTags,ref:T,placeholder:{id:"Search examples"}})})}),Object(k.jsx)(s.c,{expand:!0,overflow:"hidden",noMargin:!0,children:Object(k.jsx)(u.a,{disableAutoTranslate:!0,onRetry:O,error:m,searchItems:g&&se(g.map((function(e){return e.item}))),getSearchItemUniqueId:ce,renderSearchItem:function(e,r){return Object(k.jsx)(ae,{isOpening:t,onHeightComputed:r,exampleShortHeader:e,matches:S(e),onChoose:function(){Object(oe.l)(e.slug),j(e)},onOpen:function(){n(e)}})}})})]})}}),!!p&&Object(k.jsx)(ee,{isOpening:t,exampleShortHeader:p,onOpen:function(){n(p)},onClose:function(){return j(null)}})]})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return yt}));var r=n(18),a=n(2),o=n(34),i=n(3),s=n(0),c=n.n(s),u=n(17),l=n.n(u),d=n(9),b=n(2734),p=n(2587),j=n(2585),h=n(2580),f=n(2645),g=n(2605),m=n(2589),O=n(2593),v=n(328),x=n.n(v),y=n(749),C=n.n(y),k=n(1705),w=n.n(k),T=n(1699),E=n.n(T),S=n(1698),P=n.n(S),I=n(514),A=n.n(I),D=n(1697),F=n.n(D),M=n(1700),_=n.n(M),L=n(1702),R=n.n(L),N=n(1701),B=n.n(N),U=n(1703),H=n.n(U),W=n(1706),z=n.n(W),V=n(730),G=n.n(V),Z=n(395),Y=n.n(Z),q=n(403),X=n.n(q),J=n(397),K=n.n(J),Q=n(1704),$=n.n(Q),ee=n(559),te=n(323),ne=n(475),re=n(295),ae=n(310),oe=n(348),ie=n(312),se=n(305),ce=n(311),ue=n(322),le=n(364),de=n(321),be=n(647),pe=n(454),je=n(648),he=n(1068),fe=n(2640),ge=n(2644),me=n(2643),Oe=n(2641),ve=n(2642),xe=n(1693),ye=n.n(xe),Ce=n(729),ke=n.n(Ce),we=n(1694),Te=n.n(we),Ee=n(1695),Se=n.n(Ee),Pe=n(1696),Ie=n.n(Pe),Ae=n(296),De=n(423),Fe=n(649),Me=["hour","minute","second","millisecond"],_e={hour:36e5,minute:6e4,second:1e3,millisecond:1},Le={hour:":",minute:":",second:".",millisecond:""},Re=function(e,t){return"time"===t.type?function(e,t){for(var n="",r=Math.round(1e3*e),a=Me.indexOf(t.biggestUnit),o=Me.indexOf(t.smallestUnit),i=a;i<=o;i++){var s=Me[i],c=_e[s],u=r%c;n+="".concat(((r-u)/c).toString().padStart("millisecond"===s?3:2,"0")).concat(i===o?"":Le[s]),r=u}return n}(e,t):function(e,t){var n=Object(Fe.a)(e,t.precision);return"".concat(t.prefix).concat(n.toFixed(Math.max(0,t.precision))).concat(t.suffix)}(e,t)},Ne=n(8),Be=function(e){var t=e.entries,n=e.customizationSettings,r=e.onDeleteEntry,a=e.isLoading,o=e.erroredEntry,s=e.navigation;return t?Object(Ne.jsx)(d.I18n,{children:function(e){var c=e.i18n;return Object(Ne.jsxs)(re.a,{expand:!0,justifyContent:"space-between",children:[Object(Ne.jsxs)(fe.a,{size:"small",children:[Object(Ne.jsx)(Oe.a,{children:Object(Ne.jsxs)(ve.a,{children:[Object(Ne.jsx)(me.a,{style:{width:"20%"},align:"center",children:n?n.scoreTitle:Object(Ne.jsx)(d.Trans,{id:"Score"})}),Object(Ne.jsx)(me.a,{style:{width:"50%"},children:Object(Ne.jsx)(d.Trans,{id:"Player"})}),Object(Ne.jsx)(me.a,{style:{width:"15%"},children:Object(Ne.jsx)(d.Trans,{id:"Date"})}),Object(Ne.jsx)(me.a,{style:{width:"15%"},children:Object(Ne.jsx)(d.Trans,{id:"Action"})})]})}),Object(Ne.jsx)(ge.a,{children:t.map((function(e){return Object(Ne.jsxs)(ve.a,{children:[Object(Ne.jsx)(me.a,{align:"center",children:n?Re(e.score,n.scoreFormatting):e.score}),Object(Ne.jsx)(me.a,{style:Object(i.a)(Object(i.a)({},De.a),{},{maxWidth:0}),children:Object(Ne.jsx)(O.a,{title:e.playerName,children:Object(Ne.jsx)("span",{children:e.playerName})})}),Object(Ne.jsx)(me.a,{children:Object(Ne.jsx)(O.a,{title:c.date(e.createdAt,{dateStyle:"short",timeStyle:"short"}),children:Object(Ne.jsx)("span",{children:c.date(e.createdAt)})})}),Object(Ne.jsx)(me.a,{children:Object(Ne.jsxs)(re.c,{children:[Object(Ne.jsx)(ae.a,{size:"small",onClick:function(){return r(e)},disabled:a,tooltip:{id:"Remove entry"},children:Object(Ne.jsx)(ye.a,{size:20})}),o&&o.entryId===e.id?Object(Ne.jsx)(ae.a,{size:"small",onClick:function(){},tooltip:o.message,children:Object(Ne.jsx)(ke.a,{size:20,color:"error"})}):null]})})]},e.id)}))})]}),0===t.length?Object(Ne.jsx)(re.a,{expand:!0,justifyContent:"center",alignItems:"center",children:Object(Ne.jsx)(Ae.a,{size:"body2",children:Object(Ne.jsx)(d.Trans,{id:"No entries"})})}):Object(Ne.jsxs)(re.c,{noMargin:!0,justifyContent:"flex-end",children:[Object(Ne.jsx)(ae.a,{tooltip:{id:"Go to first page"},disabled:!s.goToFirstPage,onClick:function(){s.goToFirstPage&&s.goToFirstPage()},children:Object(Ne.jsx)(Te.a,{})}),Object(Ne.jsx)(ae.a,{tooltip:{id:"Previous page"},disabled:!s.goToPreviousPage,onClick:function(){s.goToPreviousPage&&s.goToPreviousPage()},children:Object(Ne.jsx)(Se.a,{})}),Object(Ne.jsx)(ae.a,{tooltip:{id:"Next page"},disabled:!s.goToNextPage,onClick:function(){s.goToNextPage&&s.goToNextPage()},children:Object(Ne.jsx)(Ie.a,{})})]})]})}}):Object(Ne.jsx)(te.a,{})},Ue=n(297),He=n(309),We=n(330),ze=n(781),Ve=n(303),Ge=n(298),Ze=n(318),Ye=n(410),qe=n(319),Xe=n(1019),Je=n(393),Ke=n(26),Qe=function(){return Object(Ne.jsxs)(Ue.b,{expand:!0,noMargin:!0,alignItems:"center",justifyContent:"space-around",children:[Object(Ne.jsx)(re.a,{children:Object(Ne.jsx)(Ae.a,{children:Object(Ne.jsx)(d.Trans,{id:"Experiment with the leaderboard colors using the playground"})})}),Object(Ne.jsx)(re.a,{children:Object(Ne.jsx)(Je.a,{href:"https://gd.games/playground/test-leaderboard",onClick:function(){return Ke.b.openExternalURL("https://gd.games/playground/test-leaderboard")},children:Object(Ne.jsx)(Ae.a,{noMargin:!0,color:"inherit",children:Object(Ne.jsx)(d.Trans,{id:"Playground"})})})})]})},$e=n(66),et={hour:"HH",minute:"MM",second:"SS",millisecond:"ms"},tt=function(e){return!isNaN(e)&&Number.isInteger(e)},nt=function(e){for(var t=Me.indexOf(e.biggestUnit),n=Me.indexOf(e.smallestUnit),r="",a=t;a<=n;a++){var o=Me[a];r+="".concat(et[o]).concat(a===n?"":Le[o])}return r},rt=Me.reduce((function(e,t,n){for(var r=n;r<Me.length;r++){var a={biggestUnit:Me[n],smallestUnit:Me[r]};e[nt(a)]=a}return e}),{}),at=999999999;var ot=function(e){var t=e.open,n=e.onClose,r=e.onSave,s=e.leaderboardCustomizationSettings,u=l.a.useState(!1),b=Object(o.a)(u,2),p=b[0],j=b[1],h=l.a.useContext(qe.a),f=Object(pe.a)(h),g=Object(pe.h)(s),m=l.a.useState(null),O=Object(o.a)(m,2),v=O[0],x=O[1],y=l.a.useState(s&&s.defaultDisplayedEntriesNumber||20),C=Object(o.a)(y,2),k=C[0],w=C[1],T=l.a.useState(g.backgroundColor),E=Object(o.a)(T,2),S=E[0],P=E[1],I=l.a.useState(g.textColor),A=Object(o.a)(I,2),D=A[0],F=A[1],M=l.a.useState(g.highlightBackgroundColor),_=Object(o.a)(M,2),L=_[0],R=_[1],N=l.a.useState(g.highlightTextColor),B=Object(o.a)(N,2),U=B[0],H=B[1],W=l.a.useState(null),z=Object(o.a)(W,2),V=z[0],G=z[1],Z=l.a.useState(s?s.scoreTitle:"Score"),Y=Object(o.a)(Z,2),q=Y[0],X=Y[1],J=l.a.useState(s?s.scoreFormatting.type:"custom"),K=Object(o.a)(J,2),Q=K[0],$=K[1],ee=l.a.useState(s&&"custom"===s.scoreFormatting.type?s.scoreFormatting.prefix:""),te=Object(o.a)(ee,2),ne=te[0],ae=te[1],oe=l.a.useState(s&&"custom"===s.scoreFormatting.type?s.scoreFormatting.suffix:""),se=Object(o.a)(oe,2),le=se[0],be=se[1],je=l.a.useState(s&&"custom"===s.scoreFormatting.type?s.scoreFormatting.precision:0),he=Object(o.a)(je,2),fe=he[0],ge=he[1],me=l.a.useState(null),Oe=Object(o.a)(me,2),ve=Oe[0],xe=Oe[1],ye=l.a.useState(s&&"time"===s.scoreFormatting.type?nt({smallestUnit:s.scoreFormatting.smallestUnit,biggestUnit:s.scoreFormatting.biggestUnit}):nt({biggestUnit:"second",smallestUnit:"millisecond"})),Ce=Object(o.a)(ye,2),ke=Ce[0],we=Ce[1],Te=l.a.useState(15.2659),Ee=Object(o.a)(Te,2),Se=Ee[0],Pe=Ee[1],Ie=function(){var e=Object(a.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(q){e.next=3;break}return x(t._({id:"Title cannot be empty."})),e.abrupt("return");case 3:if(tt(k)){e.next=6;break}return G(t._({id:"The number of displayed entries must be a whole value between {displayedEntriesMinNumber} and {displayedEntriesMaxNumber}",values:{displayedEntriesMinNumber:1,displayedEntriesMaxNumber:50}})),e.abrupt("return");case 6:if(tt(fe)){e.next=9;break}return xe(t._({id:"The number of decimal places must be a whole value between {precisionMinValue} and {precisionMaxValue}",values:{precisionMinValue:-3,precisionMaxValue:3}})),e.abrupt("return");case 9:return j(!0),n={defaultDisplayedEntriesNumber:k,scoreTitle:q,scoreFormatting:"custom"===Q?{type:Q,prefix:ne,suffix:le,precision:fe}:Object(i.a)({type:Q},rt[ke]),theme:f?{backgroundColor:Object($e.k)(S),textColor:Object($e.k)(D),highlightBackgroundColor:Object($e.k)(L),highlightTextColor:Object($e.k)(U)}:void 0},e.next=13,r(n);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Ne.jsx)(d.I18n,{children:function(e){var r=e.i18n;return Object(Ne.jsx)(Ve.c,{title:Object(Ne.jsx)(d.Trans,{id:"Leaderboard appearance"}),open:t,maxWidth:"sm",secondaryActions:[Object(Ne.jsx)(Ze.a,{helpPagePath:"/interface/games-dashboard/leaderboard-administration",anchor:"change_the_appearance_of_a_leaderboard"},"help")],actions:[Object(Ne.jsx)(Ge.a,{label:Object(Ne.jsx)(d.Trans,{id:"Cancel"}),disabled:p,onClick:n},"cancel"),Object(Ne.jsx)(Ve.a,{primary:!0,label:Object(Ne.jsx)(d.Trans,{id:"Save"}),disabled:p,onClick:function(){return Ie(r)}},"save")],cannotBeDismissed:p,onRequestClose:n,onApply:function(){Ie(r)},children:Object(Ne.jsxs)(Ue.a,{noMargin:!0,children:[Object(Ne.jsx)(Ae.a,{size:"sub-title",noMargin:!0,children:Object(Ne.jsx)(d.Trans,{id:"Table settings"})}),Object(Ne.jsx)(ce.b,{fullWidth:!0,type:"number",floatingLabelText:Object(Ne.jsx)(d.Trans,{id:"Number of entries to display"}),value:isNaN(k)?"":k,errorText:V,min:1,max:50,onChange:function(e,t){V&&t&&G(null),w(Math.max(1,Math.min(50,parseFloat(t))))},disabled:p}),Object(Ne.jsxs)(Ue.c,{noMargin:!0,children:[Object(Ne.jsx)(Ye.a,{floatingLabelText:Object(Ne.jsx)(d.Trans,{id:"Background color"}),disableAlpha:!0,fullWidth:!0,color:S,onChange:P,disabled:!f||p}),Object(Ne.jsx)(Ye.a,{floatingLabelText:Object(Ne.jsx)(d.Trans,{id:"Text color"}),disableAlpha:!0,fullWidth:!0,color:D,onChange:F,disabled:!f||p})]}),Object(Ne.jsxs)(Ue.c,{noMargin:!0,children:[Object(Ne.jsx)(Ye.a,{floatingLabelText:Object(Ne.jsx)(d.Trans,{id:"Highlight background color"}),disableAlpha:!0,fullWidth:!0,color:L,onChange:R,disabled:!f||p}),Object(Ne.jsx)(Ye.a,{floatingLabelText:Object(Ne.jsx)(d.Trans,{id:"Highlight text color"}),disableAlpha:!0,fullWidth:!0,color:U,onChange:H,disabled:!f||p})]}),f?Object(Ne.jsx)(Qe,{}):Object(Ne.jsx)(Xe.a,{subscriptionDialogOpeningReason:"Leaderboard customization",children:Object(Ne.jsx)(re.c,{children:Object(Ne.jsxs)(re.a,{noMargin:!0,children:[Object(Ne.jsx)(Ae.a,{noMargin:!0,children:Object(Ne.jsx)(d.Trans,{id:"Get a silver or gold subscription to unlock color customization."})}),Object(Ne.jsx)(Je.a,{href:"https://gd.games/playground/test-leaderboard",onClick:function(){return Ke.b.openExternalURL("https://gd.games/playground/test-leaderboard")},children:Object(Ne.jsx)(Ae.a,{noMargin:!0,color:"inherit",children:Object(Ne.jsx)(d.Trans,{id:"Test it out!"})})})]})})}),Object(Ne.jsx)(re.d,{}),Object(Ne.jsx)(Ae.a,{size:"sub-title",noMargin:!0,children:Object(Ne.jsx)(d.Trans,{id:"Score column settings"})}),Object(Ne.jsx)(ce.b,{fullWidth:!0,floatingLabelText:Object(Ne.jsx)(d.Trans,{id:"Column title"}),maxLength:20,errorText:v,value:q,onChange:function(e,t){v&&t&&x(null),X(t)},disabled:p}),Object(Ne.jsxs)(ue.a,{fullWidth:!0,value:Q,floatingLabelText:Object(Ne.jsx)(d.Trans,{id:"Score display"}),onChange:function(e,t,n){return $(n)},disabled:p,children:[Object(Ne.jsx)(de.a,{value:"custom",primaryText:{id:"Custom display"}},"custom"),Object(Ne.jsx)(de.a,{value:"time",primaryText:{id:"Display as time"}},"time")]}),Object(Ne.jsx)(re.d,{}),Object(Ne.jsx)(Ae.a,{size:"sub-title",noMargin:!0,children:Object(Ne.jsx)(d.Trans,{id:"Settings"})}),"custom"===Q?Object(Ne.jsxs)(Ue.a,{noMargin:!0,children:[Object(Ne.jsxs)(Ue.c,{noMargin:!0,children:[Object(Ne.jsx)(ce.b,{fullWidth:!0,floatingLabelFixed:!0,floatingLabelText:Object(Ne.jsx)(d.Trans,{id:"Prefix"}),maxLength:10,value:ne,translatableHintText:{id:"Ex: $"},onChange:function(e,t){ae(t)},disabled:p}),Object(Ne.jsx)(ce.b,{fullWidth:!0,floatingLabelFixed:!0,floatingLabelText:Object(Ne.jsx)(d.Trans,{id:"Suffix"}),maxLength:10,value:le,translatableHintText:{id:"Ex: coins"},onChange:function(e,t){be(t)},disabled:p})]}),Object(Ne.jsx)(ce.b,{fullWidth:!0,type:"number",floatingLabelText:Object(Ne.jsx)(d.Trans,{id:"Round to X decimal point"}),errorText:ve,value:isNaN(fe)?"":fe,min:-3,max:3,onChange:function(e,t){ve&&t&&xe(null),ge(Math.max(-3,Math.min(3,parseFloat(t))))},disabled:p})]}):Object(Ne.jsxs)(Ue.a,{noMargin:!0,children:[Object(Ne.jsx)(ue.a,{fullWidth:!0,value:ke,floatingLabelText:Object(Ne.jsx)(d.Trans,{id:"Time format"}),onChange:function(e,t,n){return we(n)},disabled:p,children:Object.keys(rt).map((function(e){return Object(Ne.jsx)(de.a,{value:e,primaryText:e},e)}))}),Object(Ne.jsx)(ie.a,{kind:"info",children:Object(Ne.jsx)(d.Trans,{id:"To use this formatting, you must send a score expressed in seconds"})})]}),Object(Ne.jsx)(re.d,{}),Object(Ne.jsx)(Ae.a,{size:"sub-title",noMargin:!0,children:Object(Ne.jsx)(d.Trans,{id:"Preview"})}),Object(Ne.jsxs)(Ue.c,{noMargin:!0,children:[Object(Ne.jsx)(ce.b,{fullWidth:!0,floatingLabelText:"custom"===Q?Object(Ne.jsx)(d.Trans,{id:"Test value"}):Object(Ne.jsx)(d.Trans,{id:"Test value (in second)"}),max:at,min:0,type:"number",value:isNaN(Se)?"":Se,onChange:function(e,t){return Pe(Math.max(0,Math.min(at,parseFloat(t))))},disabled:p}),Object(Ne.jsx)(ce.b,{disabled:!0,fullWidth:!0,floatingLabelText:Object(Ne.jsx)(d.Trans,{id:"Displayed score"}),value:Re(Se||0,"time"===Q?Object(i.a)({type:Q},rt[ke]):{type:Q,prefix:ne,suffix:le,precision:fe||0})})]})]})})}})},it=n(340),st=n(2595),ct=n(345),ut=Number.MAX_SAFE_INTEGER,lt=Number.MIN_SAFE_INTEGER;var dt=function(e){var t=e.open,n=e.onClose,r=e.onSave,i=e.sort,s=e.extremeAllowedScore,u=l.a.useState(!1),b=Object(o.a)(u,2),p=b[0],j=b[1],h=l.a.useState(null),f=Object(o.a)(h,2),g=f[0],m=f[1],O=l.a.useState(void 0!==s),v=Object(o.a)(O,2),x=v[0],y=v[1],C=l.a.useState(s||0),k=Object(o.a)(C,2),w=k[0],T=k[1],E=l.a.useState(i||"ASC"),S=Object(o.a)(E,2),P=S[0],I=S[1],A=function(){var e=Object(a.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!x){e.next=7;break}if(!(w>ut)){e.next=4;break}return m(t._({id:"Extreme score must be lower than {extremeAllowedScoreMax}.",values:{extremeAllowedScoreMax:ut}})),e.abrupt("return");case 4:if(!(w<lt)){e.next=7;break}return m(t._({id:"Extreme score must be equal or higher than {extremeAllowedScoreMin}.",values:{extremeAllowedScoreMin:lt}})),e.abrupt("return");case 7:if(!isNaN(w)){e.next=10;break}return m(t._({id:"Limit cannot be empty, uncheck or fill a value between {extremeAllowedScoreMin} and {extremeAllowedScoreMax}.",values:{extremeAllowedScoreMin:lt,extremeAllowedScoreMax:ut}})),e.abrupt("return");case 10:return j(!0),n={sort:P,extremeAllowedScore:x?w:null},e.next=14,r(n);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Ne.jsx)(d.I18n,{children:function(e){var r=e.i18n;return Object(Ne.jsxs)(Ve.c,{title:Object(Ne.jsx)(d.Trans,{id:"Leaderboard options"}),open:t,maxWidth:"sm",secondaryActions:[Object(Ne.jsx)(Ze.a,{helpPagePath:"/interface/games-dashboard/leaderboard-administration",anchor:"change_the_appearance_of_a_leaderboard"},"help")],actions:[Object(Ne.jsx)(Ge.a,{label:Object(Ne.jsx)(d.Trans,{id:"Cancel"}),disabled:p,onClick:n},"cancel"),Object(Ne.jsx)(Ve.a,{primary:!0,label:Object(Ne.jsx)(d.Trans,{id:"Save"}),disabled:p,onClick:function(){return A(r)}},"save")],cannotBeDismissed:p,onRequestClose:n,onApply:function(){A(r)},children:[Object(Ne.jsx)(Ae.a,{size:"block-title",children:Object(Ne.jsx)(d.Trans,{id:"Sort order"})}),Object(Ne.jsxs)(Ue.a,{noMargin:!0,children:[Object(Ne.jsxs)(ue.a,{fullWidth:!0,value:P,floatingLabelText:Object(Ne.jsx)(d.Trans,{id:"Scores sort order"}),onChange:function(e,t,n){I(n)},children:[Object(Ne.jsx)(de.a,{value:"ASC",primaryText:{id:"Lower is better"}},"ASC"),Object(Ne.jsx)(de.a,{value:"DESC",primaryText:{id:"Higher is better"}},"DESC")]}),Object(Ne.jsx)(it.a,{label:Object(Ne.jsxs)(Ne.Fragment,{children:[Object(Ne.jsx)(re.c,{noMargin:!0,children:Object(Ne.jsx)(d.Trans,{id:"Limit scores"})}),Object(Ne.jsx)(st.a,{style:{display:"inline"},children:Object(Ne.jsx)(ct.a,{source:r._("ASC"===P?{id:"Any submitted score that is lower than the set value will not be saved in the leaderboard."}:{id:"Any submitted score that is higher than the set value will not be saved in the leaderboard."})})})]}),checked:x,onCheck:function(){return y(!x)}})]}),x&&Object(Ne.jsx)(re.a,{noMargin:!0,children:Object(Ne.jsxs)(re.c,{children:[Object(Ne.jsx)(re.b,{}),Object(Ne.jsx)(ce.b,{fullWidth:!0,type:"number",floatingLabelText:"ASC"===P?Object(Ne.jsx)(d.Trans,{id:"Minimum score"}):Object(Ne.jsx)(d.Trans,{id:"Maximum score"}),value:w,errorText:g,min:lt,max:ut,onChange:function(e,t){g&&m(null),T(parseFloat(t))}})]})})]})}})},bt=n(447),pt=n(439),jt=function(e){var t=e.onUpgrade,n=e.onClose,r=e.limits.capabilities.leaderboards;return r?Object(Ne.jsx)(re.c,{children:Object(Ne.jsx)(re.a,{expand:!0,children:Object(Ne.jsxs)(ie.a,{kind:"warning",onHide:n,renderRightButton:r.canMaximumCountPerGameBeIncreased?function(){return Object(Ne.jsx)(se.a,{primary:!0,label:Object(Ne.jsx)(d.Trans,{id:"Check our premiums plans"}),onClick:t})}:void 0,children:[Object(Ne.jsx)(Ae.a,{size:"block-title",children:Object(Ne.jsx)(d.Trans,{id:"You've reached your maximum of {0} leaderboards for your game",values:{0:r.maximumCountPerGame}})}),Object(Ne.jsx)(Ae.a,{children:r.canMaximumCountPerGameBeIncreased?Object(Ne.jsx)(d.Trans,{id:"Update to GDevelop Premium to get more leaderboards, storage, and one-click packagings!"}):Object(Ne.jsx)(d.Trans,{id:"To keep using GDevelop leaderboards, consider deleting old, unused leaderboards."})})]})})}):null},ht=n(424),ft=n(327),gt=["gameId"],mt=function(e){var t=e.children;return Object(Ne.jsx)(re.a,{expand:!0,justifyContent:"center",alignItems:"center",children:Object(Ne.jsx)(re.c,{children:t})})},Ot={leftColumn:{display:"flex",flexDirection:"column",flex:1,paddingRight:5},rightColumn:{display:"flex",flexDirection:"column",flex:2},leaderboardConfigurationPaper:{padding:5,margin:5},leaderboardNameText:Object(i.a)(Object(i.a)({},De.a),{},{width:150}),leaderboardNameTextField:{width:125,fontSize:14}},vt=function(e){return{action:e.name?"leaderboardNameUpdate":e.sort?"leaderboardSortUpdate":e.visibility?"leaderboardVisibilityUpdate":e.primary?"leaderboardPrimaryUpdate":e.customizationSettings?"leaderboardAppearanceUpdate":"leaderboardPlayerUnicityDisplayChoiceUpdate",message:e.name?Object(Ne.jsx)(d.Trans,{id:"An error occurred when updating the name of the leaderboard, please close the dialog, come back and try again."}):e.sort?Object(Ne.jsx)(d.Trans,{id:"An error occurred when updating the sort direction of the leaderboard, please close the dialog, come back and try again."}):e.visibility?Object(Ne.jsx)(d.Trans,{id:"An error occurred when updating the visibility of the leaderboard, please close the dialog, come back and try again."}):e.primary?Object(Ne.jsx)(d.Trans,{id:"An error occurred when setting the leaderboard as default, please close the dialog, come back and try again."}):e.customizationSettings?Object(Ne.jsx)(d.Trans,{id:"An error occurred when updating the appearance of the leaderboard, please close the dialog, come back and try again."}):Object(Ne.jsx)(d.Trans,{id:"An error occurred when updating the display choice of the leaderboard, please close the dialog, come back and try again."})}},xt=function(e){if(void 0!==e.extremeAllowedScore){var t=e.customizationSettings?Re(e.extremeAllowedScore,e.customizationSettings.scoreFormatting):e.extremeAllowedScore;return"ASC"===e.sort?Object(Ne.jsx)(d.Trans,{id:"Lower is better (min: {formattedScore})",values:{formattedScore:t}}):Object(Ne.jsx)(d.Trans,{id:"Higher is better (max: {formattedScore})",values:{formattedScore:t}})}return"ASC"===e.sort?Object(Ne.jsx)(d.Trans,{id:"Lower is better"}):Object(Ne.jsx)(d.Trans,{id:"Higher is better"})},yt=function(e){var t=e.onLoading,n=e.project,r=e.leaderboardIdToSelectAtOpening,s=Object(be.a)(),l=Object(He.b)(),v=u.useState(!1),y=Object(o.a)(v,2),k=y[0],T=y[1],S=Object(ht.a)(),I=S.showConfirmation,D=S.showDeleteConfirmation,M=u.useState(!1),L=Object(o.a)(M,2),N=L[0],U=L[1],W=u.useContext(qe.a).limits,V=u.useState(!1),Z=Object(o.a)(V,2),q=Z[0],J=Z[1],Q=u.useState(!1),he=Object(o.a)(Q,2),fe=he[0],ge=he[1],me=u.useState(!1),Oe=Object(o.a)(me,2),ve=Oe[0],xe=Oe[1],ye=u.useState(""),Ce=Object(o.a)(ye,2),ke=Ce[0],we=Ce[1],Te=u.useState(null),Ee=Object(o.a)(Te,2),Se=Ee[0],Pe=Ee[1],Ie=u.useRef(null),De=u.useState(null),Fe=Object(o.a)(De,2),Me=Fe[0],_e=Fe[1],Le=u.useState(!1),Re=Object(o.a)(Le,2),Ve=Re[0],Ze=Re[1],Ye=u.useContext(je.a),Xe=Ye.leaderboards,Je=Ye.listLeaderboards,Ke=Ye.currentLeaderboard,Qe=Ye.createLeaderboard,$e=Ye.selectLeaderboard,et=Ye.updateLeaderboard,tt=Ye.resetLeaderboard,nt=Ye.deleteLeaderboard,rt=Ye.deleteLeaderboardEntry,at=Ye.displayOnlyBestEntry,it=Ye.setDisplayOnlyBestEntry,st=Ye.fetchLeaderboardEntries,ct=Ye.browsing,ut=ct.entries,lt=ct.goToNextPage,gt=ct.goToPreviousPage,yt=ct.goToFirstPage,Ct=u.useContext(pt.a).openSubscriptionDialog,kt=u.useCallback((function(e){xe(e),t(e)}),[t]),wt=function(){var e=Object(a.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Pe(null),void 0===n.name||0!==n.name.length){e.next=4;break}return Pe(t._({id:"Please enter a name that is at least one character long and 50 at most."})),e.abrupt("return");case 4:return kt(!0),_e(null),e.prev=6,e.next=9,et(n);case 9:n.name&&ge(!1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(6),console.error("An error occurred when updating leaderboard",e.t0),_e(vt(n));case 16:return e.prev=16,kt(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[6,12,16,19]])})));return function(t,n){return e.apply(this,arguments)}}(),Tt=u.useCallback((function(){var e=function(){var e=Object(a.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xe(!0),_e(null),e.prev=2,e.next=5,Je();case 5:e.next=14;break;case 7:if(e.prev=7,e.t0=e.catch(2),!e.t0.response||404!==e.t0.response.status){e.next=12;break}return Ze(!0),e.abrupt("return");case 12:console.error("An error occurred when fetching leaderboards",e.t0),_e({action:"leaderboardsFetching",message:Object(Ne.jsx)(d.Trans,{id:"An error occurred when fetching the leaderboards, please close the dialog and reopen it."})});case 14:return e.prev=14,xe(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[2,7,14,17]])})));return function(){return e.apply(this,arguments)}}();e()}),[Je]),Et=function(){var e=Object(a.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return kt(!0),_e(null),e.prev=2,e.next=5,st();case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(2),console.error("An error occurred when fetching leaderboard entries",e.t0),_e({action:"entriesFetching",message:Object(Ne.jsx)(d.Trans,{id:"An error occurred when fetching the entries of the leaderboard, please try again."})});case 11:return e.prev=11,kt(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[2,7,11,14]])})));return function(){return e.apply(this,arguments)}}(),St=function(){var e=Object(a.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(kt(!0),_e(null),e.prev=2,!W||!Xe){e.next=8;break}if(!((t=W.capabilities.leaderboards)&&t.maximumCountPerGame>0&&Xe.length>=t.maximumCountPerGame)){e.next=8;break}return U(!0),e.abrupt("return");case 8:return e.next=10,Qe({name:"New leaderboard",sort:"ASC"});case 10:e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),console.error("An error occurred when creating leaderboard",e.t0),_e({action:"leaderboardCreation",message:Object(Ne.jsx)(d.Trans,{id:"An error occurred when creating a new leaderboard, please close the dialog, come back and try again."})});case 16:return e.prev=16,kt(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[2,12,16,19]])})));return function(){return e.apply(this,arguments)}}(),Pt=function(){var e=Object(a.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ke){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,I({title:{id:"Reset leaderboard {0}",values:{0:Ke.name}},message:{id:"All current entries will be deleted, are you sure you want to reset this leaderboard? This can't be undone."},confirmButtonLabel:{id:"Reset leaderboard"}});case 4:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return kt(!0),_e(null),e.prev=9,e.next=12,tt();case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(9),console.error("An error occurred when resetting leaderboard",e.t0),_e({action:"leaderboardReset",message:e.t0.status&&409===e.t0.status?Object(Ne.jsx)(d.Trans,{id:"This leaderboard is already resetting, please wait a bit, close the dialog, come back and try again."}):Object(Ne.jsx)(d.Trans,{id:"An error occurred when resetting the leaderboard, please close the dialog, come back and try again."})});case 18:return e.prev=18,kt(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[9,14,18,21]])})));return function(t){return e.apply(this,arguments)}}(),It=function(){var e=Object(a.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ke){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,D({title:{id:"Delete leaderboard {0}",values:{0:Ke.name}},message:{id:"Are you sure you want to delete this leaderboard and all of its entries? This can't be undone."},confirmButtonLabel:{id:"Delete Leaderboard"},confirmText:Ke.name,fieldMessage:{id:"Type the name of the leaderboard:"}});case 4:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return kt(!0),_e(null),e.prev=9,e.next=12,nt();case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(9),console.error("An error occurred when deleting leaderboard",e.t0),_e({action:"leaderboardDeletion",message:Object(Ne.jsx)(d.Trans,{id:"An error occurred when deleting the leaderboard, please close the dialog, come back and try again."})});case 18:return e.prev=18,kt(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[9,14,18,21]])})));return function(t){return e.apply(this,arguments)}}(),At=function(){var e=Object(a.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ke){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,I({title:{id:"Delete score {0} from {1}",values:{0:n.score,1:n.playerName}},message:{id:"Are you sure you want to delete this entry? This can't be undone."},confirmButtonLabel:{id:"Delete Entry"}});case 4:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return kt(!0),_e(null),e.prev=9,e.next=12,rt(n.id);case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(9),console.error("An error occurred when deleting entry",e.t0),_e({action:"entryDeletion",message:Object(Ne.jsx)(d.Trans,{id:"An error occurred when deleting the entry, please try again."}),itemId:n.id});case 18:return e.prev=18,kt(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[9,14,18,21]])})));return function(t,n){return e.apply(this,arguments)}}();u.useEffect((function(){fe&&Ie.current&&Ie.current.focus()}),[fe]),u.useEffect((function(){null===Xe&&Tt()}),[Xe,Tt]),u.useEffect((function(){Ke&&Et()}),[]),u.useEffect((function(){r&&$e(r)}),[r,$e]);var Dt=u.useCallback((function(){Ke&&navigator.clipboard.writeText(Ke.id)}),[Ke]);if(!s)return Object(Ne.jsx)(mt,{children:Object(Ne.jsx)(oe.a,{children:Object(Ne.jsx)(d.Trans,{id:"An internet connection is required to administrate your game's leaderboards."})})});if(Ve)return Object(Ne.jsx)(mt,{children:Object(Ne.jsx)(ze.a,{project:n,onGameRegistered:function(){Ze(!1),Tt()}})});if(Me&&"leaderboardCreation"===Me.action)return Object(Ne.jsx)(mt,{children:Object(Ne.jsx)(ie.a,{kind:"error",children:Me.message})});if(Me&&"leaderboardsFetching"===Me.action)return Object(Ne.jsx)(mt,{children:Object(Ne.jsx)(oe.a,{onRetry:Tt,children:Me.message})});if(null===Xe)return ve?Object(Ne.jsx)(te.a,{}):Object(Ne.jsx)(mt,{children:Object(Ne.jsx)(oe.a,{onRetry:Tt,children:Object(Ne.jsx)(d.Trans,{id:"An error occurred when retrieving leaderboards, please try again later."})})});if(Xe&&0===Xe.length)return Object(Ne.jsx)(re.c,{noMargin:!0,expand:!0,justifyContent:"center",alignItems:"center",children:Object(Ne.jsx)(ne.a,{title:Object(Ne.jsx)(d.Trans,{id:"Create your game's first leaderboard"}),description:Object(Ne.jsx)(d.Trans,{id:"Leaderboards help retain your players"}),actionLabel:Object(Ne.jsx)(d.Trans,{id:"Create a leaderboard"}),onAction:function(){St()},actionButtonId:"add-new-leaderboard-button",isLoading:ve})});var Ft=function(e,t){return[{key:"name",avatar:Object(Ne.jsx)(F.a,{}),text:fe?Object(Ne.jsxs)(re.c,{alignItems:"center",expand:!0,noMargin:!0,children:[Object(Ne.jsx)(ce.b,{id:"edit-name-field",ref:Ie,margin:"none",style:Ot.leaderboardNameTextField,maxLength:50,value:ke,errorText:Se,onChange:function(e,t){return we(t)},onKeyPress:function(t){Object(We.g)(t)&&!ve&&wt(e,{name:ke})},disabled:ve}),!ve&&Object(Ne.jsxs)(Ne.Fragment,{children:[Object(Ne.jsx)(re.d,{}),Object(Ne.jsx)(ae.a,{tooltip:{id:"Cancel"},style:{padding:0},onClick:function(){ge(!1)},children:Object(Ne.jsx)(P.a,{})})]})]}):Object(Ne.jsx)(O.a,{title:t.name,children:Object(Ne.jsx)(Ae.a,{size:"body2",style:Ot.leaderboardNameText,children:t.name})}),secondaryText:Me&&"leaderboardNameUpdate"===Me.action?Object(Ne.jsx)(Ae.a,{color:"error",size:"body2",children:Me.message}):null,secondaryAction:Object(Ne.jsx)(ae.a,{onClick:function(){fe?wt(e,{name:ke}):(we(t.name),ge(!0))},tooltip:fe?{id:"Save"}:{id:"Rename"},disabled:ve,edge:"end",id:fe?"save-name-button":"edit-name-button",children:fe?ve?Object(Ne.jsx)(le.a,{size:20}):Object(Ne.jsx)(E.a,{}):Object(Ne.jsx)(A.a,{})})},{key:"id",avatar:Object(Ne.jsx)(_.a,{}),text:Object(Ne.jsx)(O.a,{title:t.id,children:Object(Ne.jsx)(Ae.a,{size:"body2",children:Object(pe.m)(t.id)})}),secondaryText:null,secondaryAction:Object(Ne.jsx)(ae.a,{onClick:Dt,tooltip:{id:"Copy"},edge:"end",children:Object(Ne.jsx)(ee.a,{})})},{key:"startDatetime",avatar:Object(Ne.jsx)(B.a,{}),text:t.resetLaunchedAt?Object(Ne.jsx)(Ae.a,{size:"body2",children:Object(Ne.jsx)(d.Trans,{id:"Reset requested the {0} . Please wait a few minutes...",values:{0:e.date(t.resetLaunchedAt,{dateStyle:"short",timeStyle:"short"})}})}):Object(Ne.jsx)(O.a,{title:e._({id:"Date from which entries are taken into account: {0}",values:{0:e.date(t.startDatetime,{dateStyle:"short",timeStyle:"short"})}}),children:Object(Ne.jsx)(Ae.a,{size:"body2",children:e.date(t.startDatetime)})}),secondaryText:Me&&"leaderboardReset"===Me.action?Object(Ne.jsx)(Ae.a,{color:"error",size:"body2",children:Me.message}):null,secondaryAction:Object(Ne.jsx)(ae.a,{onClick:function(){return Pt(e)},tooltip:{id:"Reset leaderboard"},edge:"end",disabled:ve||fe||!!t.resetLaunchedAt,children:Object(Ne.jsx)(R.a,{})})},{key:"sort",avatar:Object(Ne.jsx)(H.a,{}),text:Object(Ne.jsx)(Ae.a,{size:"body2",children:xt(t)}),secondaryText:Me&&"leaderboardSortUpdate"===Me.action?Object(Ne.jsx)(Ae.a,{color:"error",size:"body2",children:Me.message}):null,secondaryAction:Object(Ne.jsx)(ae.a,{onClick:function(){return J(!0)},tooltip:{id:"Edit"},edge:"end",disabled:ve||fe,children:Object(Ne.jsx)(C.a,{})})},{key:"visibility",avatar:"HIDDEN"===t.visibility?Object(Ne.jsx)(K.a,{}):Object(Ne.jsx)(X.a,{}),text:Object(Ne.jsx)(O.a,{title:e._("HIDDEN"===t.visibility?{id:"Anyone with the link can see it, but it is not listed in your game's leaderboards."}:{id:"Anyone can access it."}),children:Object(Ne.jsx)(Ae.a,{size:"body2",children:"HIDDEN"===t.visibility?Object(Ne.jsx)(d.Trans,{id:"Not visible"}):Object(Ne.jsx)(d.Trans,{id:"Public"})})}),secondaryText:Me&&"leaderboardVisibilityUpdate"===Me.action?Object(Ne.jsx)(Ae.a,{color:"error",size:"body2",children:Me.message}):null,secondaryAction:Object(Ne.jsx)(ae.a,{onClick:Object(a.a)(c.a.mark((function n(){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,wt(e,{visibility:"HIDDEN"===t.visibility?"PUBLIC":"HIDDEN"});case 2:case"end":return n.stop()}}),n)}))),tooltip:"HIDDEN"===t.visibility?{id:"Make the leaderboard public"}:{id:"Hide the leaderboard"},edge:"end",disabled:ve||fe,children:Object(Ne.jsx)($.a,{})})},{key:"appearance",avatar:Object(Ne.jsx)(w.a,{}),text:Object(Ne.jsx)(Ae.a,{size:"body2",children:Object(Ne.jsx)(d.Trans,{id:"Leaderboard appearance"})}),secondaryText:Me&&"leaderboardAppearanceUpdate"===Me.action?Object(Ne.jsx)(Ae.a,{color:"error",size:"body2",children:Me.message}):null,secondaryAction:Object(Ne.jsx)(ae.a,{onClick:function(){return T(!0)},tooltip:{id:"Edit"},edge:"end",disabled:ve||fe,children:Object(Ne.jsx)(C.a,{})})},{key:"playerUnicityDisplayChoice",avatar:Object(Ne.jsx)(z.a,{}),text:Object(Ne.jsxs)(ue.a,{fullWidth:!0,margin:"none",value:t.playerUnicityDisplayChoice,onChange:function(t,n,r){wt(e,{playerUnicityDisplayChoice:r})},disabled:ve||fe,inputStyle:{fontSize:14},helperMarkdownText:"FREE"===t.playerUnicityDisplayChoice?e._({id:"Users can chose to see only players' best entries or not."}):"PREFER_UNIQUE"===t.playerUnicityDisplayChoice?e._({id:"Only player's best entries are displayed."}):e._({id:"All entries are displayed."}),children:[Object(Ne.jsx)(de.a,{value:"FREE",primaryText:e._({id:"Let the user select"})},"free"),Object(Ne.jsx)(de.a,{value:"PREFER_UNIQUE",primaryText:e._({id:"Only best entry"})},"prefer-unique"),Object(Ne.jsx)(de.a,{value:"PREFER_NON_UNIQUE",primaryText:e._({id:"All entries"})},"prefer-non-unique")]}),secondaryText:Me&&"leaderboardPlayerUnicityDisplayChoiceUpdate"===Me.action?Object(Ne.jsx)(Ae.a,{color:"error",size:"body2",children:Me.message}):null,secondaryAction:null}]};return Object(Ne.jsx)(d.I18n,{children:function(e){var t=e.i18n;return Object(Ne.jsxs)(Ne.Fragment,{children:[Object(Ne.jsxs)(re.a,{noMargin:!0,expand:!0,children:[N&&W&&Object(Ne.jsx)(jt,{onUpgrade:function(){return Ct({reason:"Leaderboard count per game limit reached"})},onClose:function(){return U(!1)},limits:W}),Object(Ne.jsxs)(Ue.c,{noMargin:!0,expand:!0,noColumnMargin:!0,id:"leaderboard-administration-panel",children:[Object(Ne.jsx)("div",{style:Ot.leftColumn,children:Object(Ne.jsx)(ft.a,{elevation:3,style:Ot.leaderboardConfigurationPaper,background:"light",children:Object(Ne.jsxs)(re.a,{children:[Object(Ne.jsxs)(re.c,{noMargin:!0,children:[Ke&&Xe?Object(Ne.jsx)(ue.a,{fullWidth:!0,floatingLabelText:Object(Ne.jsx)(d.Trans,{id:"Leaderboard name"}),value:Ke.id,onChange:function(e,t,n){$e(n)},children:Xe.map((function(e){return Object(Ne.jsx)(de.a,{value:e.id,primaryText:e.primary?{id:"{0} (default)",values:{0:e.name}}:e.name},e.id)}))}):null,Object(Ne.jsx)(ae.a,{onClick:St,disabled:fe||ve,children:Object(Ne.jsx)(x.a,{})})]}),Ke?Object(Ne.jsxs)(Ne.Fragment,{children:[Object(Ne.jsx)(j.a,{children:Ft(t,Ke).map((function(e,t){return Object(Ne.jsxs)(u.Fragment,{children:[t>0?Object(Ne.jsx)(p.a,{component:"li"},"divider-".concat(e.key)):null,Object(Ne.jsxs)(h.a,{disableGutters:!0,children:[Object(Ne.jsx)(f.a,{children:Object(Ne.jsx)(b.a,{children:e.avatar})}),Object(Ne.jsx)(m.a,{disableTypography:!0,secondary:e.secondaryText,children:e.text}),e.secondaryAction?Object(Ne.jsx)(g.a,{children:e.secondaryAction}):null]},e.key)]},"fragment-".concat(e.key))}))}),Object(Ne.jsxs)(re.c,{justifyContent:"space-between",children:[Object(Ne.jsx)(Ge.a,{leftIcon:Object(Ne.jsx)(Y.a,{}),label:Object(Ne.jsx)(d.Trans,{id:"Delete"}),disabled:ve||fe,onClick:function(){return It(t)}}),Object(Ne.jsx)(se.a,{label:Ke.primary?Object(Ne.jsx)(d.Trans,{id:"Default"}):Object(Ne.jsx)(d.Trans,{id:"Set as default"}),disabled:ve||fe||Ke.primary,onClick:function(){return wt(t,{primary:!0})}})]}),!Me||"leaderboardDeletion"!==Me.action&&"leaderboardPrimaryUpdate"!==Me.action?null:Object(Ne.jsx)(oe.a,{children:Me.message})]}):null]})})}),Object(Ne.jsxs)("div",{style:Object(i.a)(Object(i.a)({},Ot.rightColumn),{},{paddingLeft:"small"===l?0:20}),children:[Object(Ne.jsxs)(re.c,{alignItems:"center",justifyContent:"flex-end",children:[Object(Ne.jsx)(bt.a,{labelPosition:"left",toggled:at,onToggle:function(e,t){return it(t)},label:Object(Ne.jsx)(O.a,{title:t._({id:"When checked, will only display the best score of each player (only for the display below)."}),children:Object(Ne.jsx)(Ae.a,{size:"body2",children:Object(Ne.jsx)(d.Trans,{id:"Player best entry"})})})}),Object(Ne.jsx)(re.b,{}),Object(Ne.jsx)(p.a,{orientation:"vertical"}),Object(Ne.jsx)(re.d,{}),Object(Ne.jsx)(ae.a,{onClick:Et,disabled:ve||fe,tooltip:{id:"Refresh"},size:"small",children:Object(Ne.jsx)(G.a,{})}),Object(Ne.jsx)(re.d,{})]}),Me&&"entriesFetching"===Me.action?Object(Ne.jsx)(mt,{children:Object(Ne.jsx)(oe.a,{onRetry:Et,children:Me.message})}):Object(Ne.jsx)(Be,{entries:ut,customizationSettings:Ke?Ke.customizationSettings:null,onDeleteEntry:function(e){return At(t,e)},isLoading:ve||fe,navigation:{goToNextPage:lt,goToPreviousPage:gt,goToFirstPage:yt},erroredEntry:Me&&"entryDeletion"===Me.action&&Me.itemId?{entryId:Me.itemId,message:Me.message}:void 0})]})]})]}),k?Object(Ne.jsx)(ot,{open:!0,leaderboardCustomizationSettings:Ke?Ke.customizationSettings:void 0,onClose:function(){return T(!1)},onSave:function(){var e=Object(a.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,wt(t,{customizationSettings:n});case 3:return e.prev=3,T(!1),e.finish(3);case 6:case"end":return e.stop()}}),e,null,[[0,,3,6]])})));return function(t){return e.apply(this,arguments)}}()}):null,q&&Ke?Object(Ne.jsx)(dt,{open:!0,onClose:function(){return J(!1)},onSave:function(){var e=Object(a.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,wt(t,Object(i.a)({},n));case 3:return e.prev=3,J(!1),e.finish(3);case 6:case"end":return e.stop()}}),e,null,[[0,,3,6]])})));return function(t){return e.apply(this,arguments)}}(),sort:Ke.sort,extremeAllowedScore:Ke.extremeAllowedScore}):null]})}})};t.b=function(e){var t=e.gameId,n=Object(r.a)(e,gt);return Object(Ne.jsx)(he.a,{gameId:t,children:Object(Ne.jsx)(yt,Object(i.a)({},n))})}},function(e,t,n){"use strict";var r=n(34),a=n(17),o=n(40),i=n.n(o),s=n(35),c=n(9),u=n(316),l=n(323),d=n(345),b=n(295),p=n(26),j=n(312),h=n(298),f=n(305),g=n(8),m=function(e){var t=e.releases,n=e.error,r=e.currentReleaseName,a=function(){return p.b.openExternalURL("https://github.com/4ian/GDevelop/releases")};if(n)return Object(g.jsxs)(b.a,{children:[Object(g.jsx)(b.c,{children:Object(g.jsx)(j.a,{kind:"warning",children:Object(g.jsx)(c.Trans,{id:"Please double check online the changes to make sure that you are aware of anything new in this version that would require you to adapt your project."})})}),Object(g.jsx)(b.c,{children:Object(g.jsx)(u.a,{children:Object(g.jsx)(c.Trans,{id:"Unable to load the information about the latest GDevelop releases. Verify your internet connection or retry later."})})}),Object(g.jsx)(b.c,{justifyContent:"center",children:Object(g.jsx)(f.a,{label:Object(g.jsx)(c.Trans,{id:"See the releases notes online"}),onClick:a})})]});if(!t)return Object(g.jsx)(l.a,{});var o=function(e,t){return e.find((function(e){return e.name===t}))}(t,r),i=!!o&&-1!==(o.description||"").toLowerCase().indexOf("breaking change");return Object(g.jsxs)(b.a,{noMargin:!0,children:[i&&Object(g.jsx)(j.a,{kind:"warning",children:"This version of GDevelop has a breaking change. Please make sure to read the changes below to understand if any change or adaptation must be made to your project."}),t.map((function(e){return e.name?Object(g.jsx)(d.a,{source:"# Version "+e.name+"\n---\n"+(e.description||"Changes and new features description will be available soon."),isStandaloneText:!0},e.name):null})),Object(g.jsx)(b.c,{justifyContent:"center",children:Object(g.jsx)(h.a,{label:Object(g.jsx)(c.Trans,{id:"See all the release notes"}),onClick:a})})]})},O=n(55);t.a=function(e){var t=e.onUpdated,n=a.useState(null),o=Object(r.a)(n,2),c=o[0],u=o[1],l=a.useState(null),d=Object(r.a)(l,2),b=d[0],p=d[1];return a.useEffect((function(){i.a.get("".concat(s.n.baseUrl,"/release"),{params:{last:4}}).then((function(e){return e.data})).then((function(e){p(null),u(e),t&&t()})).catch((function(e){p(e),t&&t()}))}),[t]),Object(g.jsx)(m,{releases:c,error:b,currentReleaseName:Object(O.b)()})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return ne}));var r=n(3),a=n(6),o=n(5),i=n(10),s=n(11),c=n(17),u=n(34),l=n(9),d=n(295),b=n(316),p=n(323),j=n(297),h=n(348),f=n(322),g=n(321),m=n(2),O=n(0),v=n.n(O),x=n(2714),y=n(2737),C=n(1061),k=n.n(C),w=n(1062),T=n.n(w),E=n(1060),S=n(296),P=n(645),I=n(310),A=n(559),D=n(306),F=n(350),M=n(311),_=n(60),L=n(347),R=n(330),N=n(564),B=n(1278),U=n(309),H=n(377),W=n(26),z=n(364),V=n(405),G=n(8),Z={icon:{height:16,width:16,marginRight:4},buildButtonIcon:{height:16,width:16,opacity:.6},openForFeedbackIndicator:{height:4,width:4,borderRadius:4},cardContent:{flex:1},textField:{width:"70%"},circularProgress:{height:20,width:20}},Y=function(e){switch(e){case"cordova-build":return Object(G.jsx)(l.Trans,{id:"Android Build"});case"electron-build":return Object(G.jsx)(l.Trans,{id:"Windows/macOS/Linux Build"});case"web-build":return Object(G.jsx)(l.Trans,{id:"Web Build"});default:return e}},q=function(e){switch(e){case"cordova-build":return Object(G.jsx)(k.a,{style:Z.icon});case"electron-build":return Object(G.jsx)(T.a,{style:Z.icon});default:return Object(G.jsx)(E.a,{style:Z.icon})}},X=function(e){var t=e.build;return Object(G.jsxs)(d.c,{alignItems:"end",children:[Object(G.jsxs)(d.c,{noMargin:!0,alignItems:"center",children:[q(t.type),Object(G.jsx)(S.a,{noMargin:!0,children:Object(G.jsx)(l.Trans,{id:"{0}",values:{0:Y(t.type)}})})]}),Object(G.jsx)(d.d,{}),Object(G.jsx)(L.a,{children:Object(G.jsx)(l.Trans,{id:"{0}",values:{0:Object(x.a)(t.updatedAt,"yyyy-MM-dd HH:mm:ss")}})})]})},J=function(e){var t=e.build,n=e.game,a=e.onGameUpdated,o=e.gameUpdating,i=e.setGameUpdating,s=e.onBuildUpdated,p=e.onBuildDeleted,h=e.authenticatedUser,f=h.getAuthorizationHeader,g=h.profile,O="".concat(n.gameName.toLowerCase().replace(/ /g,"-"),"-").concat(Object(x.a)(t.updatedAt,"yyyy-MM-dd-HH-mm-ss")),C=t.name?t.name:O,k=n.publicWebBuildId===t.id,w=t&&"web-build"!==t.type&&Object(y.a)(Date.now(),t.updatedAt)>6,T=c.useContext(D.a),E=c.useRef(null),Y=Object(U.b)(),q=c.useState(!1),J=Object(u.a)(q,2),K=J[0],Q=J[1],$=c.useState(!1),ee=Object(u.a)($,2),te=ee[0],ne=ee[1],re=c.useState(t.name||""),ae=Object(u.a)(re,2),oe=ae[0],ie=ae[1],se=function(){navigator.clipboard.writeText(t.id),Q(!0)},ce=function(){ne(!0),E.current&&E.current.focus()},ue=function(){var e=Object(m.a)(v.a.mark((function e(n){var a,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g){e.next=2;break}return e.abrupt("return");case 2:if(a=oe.trim()){e.next=7;break}ie(t.name||""),e.next=26;break;case 7:if(a!==C){e.next=11;break}ie(oe.trim()),e.next=26;break;case 11:return e.prev=11,i(!0),e.next=15,Object(H.j)(f,g.id,t.id,{name:oe});case 15:o=e.sent,s(Object(r.a)(Object(r.a)({},t),{},{name:o.name})),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(11),ie(t.name||""),Object(_.a)({message:n._({id:"Could not update the build name. Verify your internet connection or try again later."}),rawError:e.t0,errorId:"build-name-update-error"});case 23:return e.prev=23,i(!1),e.finish(23);case 26:ne(!1);case 27:case"end":return e.stop()}}),e,null,[[11,19,23,26]])})));return function(t){return e.apply(this,arguments)}}(),le=function(){var e=Object(m.a)(v.a.mark((function e(n){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g){e.next=2;break}return e.abrupt("return");case 2:if(W.b.showConfirmDialog("You are about to delete this build. Continue?")){e.next=5;break}return e.abrupt("return");case 5:return e.prev=5,i(!0),e.next=9,Object(H.d)(f,g.id,t.id);case 9:i(!1),p(t),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(5),Object(_.a)({message:n._({id:"Could not delete the build. Verify your internet connection or try again later."}),rawError:e.t0,errorId:"build-delete-error"}),i(!1);case 17:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(G.jsx)(l.I18n,{children:function(e){var s=e.i18n;return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(N.a,{isHighlighted:k,cardCornerAction:Object(G.jsx)(F.a,{element:Object(G.jsx)(I.a,{size:"small",disabled:o,children:Object(G.jsx)(V.a,{})}),buildMenuTemplate:function(e){return[{label:e._({id:"Edit build name"}),click:ce},{type:"separator"},{label:e._({id:"Delete build"}),click:function(){return le(e)}}]}}),header:Object(G.jsxs)(d.c,{noMargin:!0,alignItems:"start",justifyContent:"space-between",children:["small"!==Y&&Object(G.jsx)(X,{build:t}),Object(G.jsx)(d.a,{expand:!0,noMargin:!0,justifyContent:"center",children:Object(G.jsx)(d.c,{noMargin:!0,justifyContent:"end",children:k?Object(G.jsx)(S.a,{size:"body2",children:Object(G.jsx)(l.Trans,{id:"Current build online"})}):n.acceptsBuildComments&&"web-build"===t.type&&Object(G.jsxs)(j.b,{alignItems:"center",noMargin:!0,children:[Object(G.jsx)("div",{style:Object(r.a)(Object(r.a)({},Z.openForFeedbackIndicator),{},{backgroundColor:T.message.valid})}),Object(G.jsx)(S.a,{size:"body2",children:Object(G.jsx)(l.Trans,{id:"Build open for feedbacks"})})]})})})]}),children:Object(G.jsxs)(d.a,{expand:!0,noMargin:!0,children:["small"===Y&&Object(G.jsx)(X,{build:t}),Object(G.jsx)(d.d,{}),Object(G.jsx)(d.c,{noMargin:!0,children:te?Object(G.jsxs)(d.c,{noMargin:!0,expand:!0,children:[Object(G.jsx)(M.b,{ref:E,style:Z.textField,value:oe,margin:"none",onChange:function(e,t){return ie(t)},onBlur:function(){ue(s)},hintText:C,disabled:o,onKeyPress:function(e){Object(R.g)(e)&&E.current&&E.current.blur()},maxLength:50}),o&&Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(d.d,{}),Object(G.jsx)(z.a,{style:Z.circularProgress})]})]}):Object(G.jsx)(d.c,{noMargin:!0,alignItems:"baseline",children:Object(G.jsx)(S.a,{noMargin:!0,children:C})})}),Object(G.jsxs)(d.c,{noMargin:!0,alignItems:"center",children:[Object(G.jsx)(L.a,{style:{textAlign:"left"},children:t.id}),Object(G.jsx)(d.d,{}),Object(G.jsx)(I.a,{size:"small",onClick:se,children:Object(G.jsx)(A.a,{style:Z.buildButtonIcon})})]}),Object(G.jsx)(d.b,{}),Object(G.jsxs)(d.c,{expand:!0,noMargin:!0,justifyContent:"space-between",children:[!w&&Object(G.jsx)(B.a,{build:t,game:n,onGameUpdated:a,gameUpdating:o,setGameUpdating:i,onCopyToClipboard:function(){return Q(!0)}}),w&&Object(G.jsx)(b.a,{children:Object(G.jsx)(l.Trans,{id:"This build is old and the generated games can't be downloaded anymore."})})]})]})}),Object(G.jsx)(P.a,{visible:K,hide:function(){return Q(!1)},message:Object(G.jsx)(l.Trans,{id:"Copied to clipboard!"})})]})}})},K={emptyMessageStyle:{textAlign:"left"}},Q=[{key:"all-build",value:"all-build",primaryText:{id:"All builds"}},{key:"web-build",value:"web-build",primaryText:{id:"Web builds"}},{key:"cordova-build",value:"cordova-build",primaryText:{id:"Mobile builds"}},{key:"electron-build",value:"electron-build",primaryText:{id:"Desktop builds"}}],$={"web-build":Object(G.jsx)(l.Trans,{id:"You don't have any web builds for this game."}),"cordova-build":Object(G.jsx)(l.Trans,{id:"You don't have any mobile builds for this game."}),"electron-build":Object(G.jsx)(l.Trans,{id:"You don't have any desktop builds for this game."}),"all-build":Object(G.jsx)(l.Trans,{id:"You don't have any builds for this game."})},ee=function(e){var t=e.builds,n=e.authenticatedUser,r=e.error,a=e.loadBuilds,o=e.game,i=e.onGameUpdated,s=e.onBuildUpdated,m=e.onBuildDeleted,O=c.useState(!1),v=Object(u.a)(O,2),x=v[0],y=v[1],C=c.useState("all-build"),k=Object(u.a)(C,2),w=k[0],T=k[1],E=function(e,t){if(e)switch(t){case"web-build":return e.filter((function(e){return"web-build"===e.type}));case"cordova-build":return e.filter((function(e){return"cordova-build"===e.type}));case"electron-build":return e.filter((function(e){return"electron-build"===e.type}));default:return e}}(t,w);return Object(G.jsxs)(d.a,{noMargin:!0,expand:!0,children:[Object(G.jsxs)(j.c,{justifyContent:"space-between",children:[Object(G.jsx)(d.a,{noMargin:!0,children:Object(G.jsx)(b.a,{messageStyle:K.emptyMessageStyle,children:Object(G.jsx)(l.Trans,{id:"This is the list of builds that you've done for this game. <0/>Note that builds for mobile and desktop are available for 7 days, after which they are removed.",components:[Object(G.jsx)("br",{})]})})}),Object(G.jsx)(d.a,{noMargin:!0,children:Object(G.jsx)(f.a,{floatingLabelText:Object(G.jsx)(l.Trans,{id:"Show"}),value:w,onChange:function(e,t,n){T(n)},children:Q.map((function(e){var t=e.key,n=e.value,r=e.primaryText;return Object(G.jsx)(g.a,{value:n,primaryText:r},t)}))})})]}),Object(G.jsxs)(d.c,{children:[!n.authenticated&&Object(G.jsx)(b.a,{children:Object(G.jsx)(l.Trans,{id:"You need to login first to see your builds."})}),n.authenticated&&!E&&!r&&Object(G.jsx)(p.a,{}),n.authenticated&&r&&Object(G.jsx)(h.a,{onRetry:a,children:r.message}),n.authenticated&&E&&0===E.length&&Object(G.jsx)(b.a,{children:$[w]}),n.authenticated&&E&&0!==E.length&&Object(G.jsx)(j.a,{expand:!0,noMargin:!0,children:E.map((function(e){return Object(G.jsx)(J,{build:e,game:o,onGameUpdated:i,gameUpdating:x,setGameUpdating:y,onBuildUpdated:s,onBuildDeleted:m,authenticatedUser:n},e.id)}))})]})]})},te=n(1065),ne=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(a.a)(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={builds:null,error:null},e.buildsWatcher=new te.a,e._startBuildsWatcher=function(){e.state.builds&&e.buildsWatcher.start({authenticatedUser:e.props.authenticatedUser,builds:e.state.builds,onBuildUpdated:function(t){e.state.builds&&e.setState({builds:e.state.builds.map((function(e){return t.id===e.id?t:e}))})}})},e._refreshBuilds=function(){var t=e.props.authenticatedUser,n=t.getAuthorizationHeader,r=t.firebaseUser;if(r){var a=e.props.game.id;e.setState({builds:null,error:null}),Object(H.h)(n,r.uid,a).then((function(t){e.setState({builds:t},(function(){e._startBuildsWatcher(),e.props.onBuildsUpdated&&e.props.onBuildsUpdated()}))}),(function(){e.setState({error:new Error("There was an issue getting the game builds, verify your internet connection or try again later.")})}))}},e._onBuildUpdated=function(t){e.setState((function(e){if(e.builds)return Object(r.a)(Object(r.a)({},e),{},{builds:e.builds.map((function(e){return t.id===e.id?t:e}))})}))},e._onBuildDeleted=function(t){e.setState((function(e){if(e.builds)return Object(r.a)(Object(r.a)({},e),{},{builds:e.builds.filter((function(e){return t.id!==e.id}))})}))},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this._refreshBuilds()}},{key:"componentWillUnmount",value:function(){this.buildsWatcher.stop()}},{key:"render",value:function(){return Object(G.jsx)(ee,{builds:this.state.builds,authenticatedUser:this.props.authenticatedUser,error:this.state.error,loadBuilds:this._refreshBuilds,game:this.props.game,onGameUpdated:this.props.onGameUpdated,onBuildUpdated:this._onBuildUpdated,onBuildDeleted:this._onBuildDeleted})}}]),n}(c.Component)},function(e,t,n){"use strict";n.d(t,"a",(function(){return R}));var r=n(2),a=n(34),o=n(0),i=n.n(o),s=n(9),c=n(17),u=n(361),l=n(772),d=n(1029),b=n(2721),p=n(296),j=n(295),h=n(453),f=n(640),g=n(568),m=n(404),O=n(297),v=n(8),x={button:{width:"100%"},container:{display:"flex",textAlign:"left",overflow:"hidden",padding:8,width:"100%"}},y=function(e){var t=e.id,n=e.project,r=e.extensionShortHeader,a=e.matches,o=e.onChoose,i=e.onHeightComputed,u=n.hasEventsFunctionsExtensionNamed(r.name),l=c.useRef(null);c.useLayoutEffect((function(){l.current&&i(l.current.getBoundingClientRect().height)}));var d=function(e){var t=r[e];if(!a)return t;var n=a.filter((function(t){return t.key===e}));return 0===n.length?t:Object(v.jsx)(g.a,{text:t,matchesCoordinates:n[0].indices})};return Object(v.jsx)(b.a,{id:t,onClick:o,focusRipple:!0,style:x.button,children:Object(v.jsx)("div",{style:x.container,ref:l,children:Object(v.jsxs)(O.b,{children:[Object(v.jsx)(h.a,{alt:r.fullName,src:r.previewIconUrl,size:64}),Object(v.jsxs)(j.a,{expand:!0,children:[Object(v.jsxs)(O.b,{noMargin:!0,alignItems:"baseline",children:[Object(v.jsxs)(p.a,{noMargin:!0,children:[d("fullName")," "]}),u&&Object(v.jsx)(m.a,{size:"small",label:Object(v.jsx)(s.Trans,{id:"Already installed"}),color:"secondary",variant:"outlined"}),"community"===r.tier&&Object(v.jsx)(m.a,{size:"small",label:Object(v.jsx)(s.Trans,{id:"Community extension"}),color:"primary"})]}),r.authors&&Object(v.jsx)(j.c,{children:Object(v.jsx)("div",{style:{flexWrap:"wrap"},children:r.authors.map((function(e){return Object(v.jsx)(f.a,{user:e},e.id)}))})}),Object(v.jsx)(p.a,{noMargin:!0,size:"body2",children:d("shortDescription")})]})]})})})},C=n(309),k=n(1276),w=n(447),T=n(54),E=n(511),S=n(39),P=n(2715),I=n(2597),A=n(327),D=function(e){return e.stopPropagation()},F={root:{height:30,display:"flex",justifyContent:"space-between"},input:{width:"100%"},searchContainer:{position:"relative",margin:"auto 8px",width:"100%"}},M=c.forwardRef((function(e,t){var n=c.useRef(null),r=c.useCallback((function(){n.current&&n.current.focus()}),[n]);c.useImperativeHandle(t,(function(){return{focus:r}}));var a,o=(a=e.textAlign,Object(I.a)({root:{textAlign:a||"left",cursor:"default"}})()),i=e.onChange||void 0,u=!0,l=c.Children.map(e.children,(function(e){return null!==e&&e.props?e.props.value:null}));l?u=0!==l.filter((function(t){return t===e.value})).length:console.error("SelectField has been passed no or invalid children. Only SelectOption and null are supported.");var d=u?e.value:"";return Object(v.jsx)(s.I18n,{children:function(t){var r=t.i18n;return Object(v.jsx)(A.a,{style:F.root,background:"light",children:Object(v.jsx)("div",{style:F.searchContainer,children:Object(v.jsxs)(P.a,{select:!0,color:"secondary",disabled:e.disabled,fullWidth:e.fullWidth,value:d,onClick:e.stopPropagationOnClick?D:void 0,onChange:i?function(e){i(e,-1,e.target.value)}:void 0,InputProps:{style:F.input,disableUnderline:!0},InputLabelProps:{shrink:!0},SelectProps:{native:!0,classes:o},margin:"none",style:F.input,inputRef:n,children:[u?null:Object(v.jsx)("option",{value:"",disabled:!0,children:e.translatableHintText?r._(e.translatableHintText):r._({id:"Choose an option"})}),e.children]})})})}})})),_=n(321),L=function(e){return e.name},R=function(e){var t=e.isInstalling,n=e.project,o=e.onInstall,b=e.showOnlyWithBehaviors,p=c.useContext(S.a),h=c.useState(null),f=Object(a.a)(h,2),g=f[0],m=f[1],x=c.useContext(l.a),P=x.filters,I=x.searchResults,A=x.error,D=x.fetchExtensionsAndFilters,F=x.filtersState,R=x.searchText,N=x.setSearchText,B=x.allCategories,U=x.chosenCategory,H=x.setChosenCategory;c.useEffect((function(){D()}),[D]);var W=I?I.filter((function(e){var t=e.item;return!b||t.eventsBasedBehaviorsCount>0})):null,z=c.useMemo((function(){return{add:F.addFilter,remove:F.removeFilter,chosenTags:F.chosenFilters}}),[F]),V=function(e){if(!I)return[];var t=I.find((function(t){return t.item.name===e.name}));return t?t.matches:[]},G=Object(E.a)("intro-behaviors-and-functions").DismissableTutorialMessage;return Object(v.jsxs)(c.Fragment,{children:[Object(v.jsx)(C.a,{children:function(e){return Object(v.jsxs)(O.a,{expand:!0,noMargin:!0,useFullHeight:!0,children:[Object(v.jsxs)(O.a,{noMargin:!0,children:[Object(v.jsxs)(O.c,{noMargin:!0,children:[Object(v.jsxs)(M,{value:U,onChange:function(e,t,n){H(n)},children:[Object(v.jsx)(_.a,{value:"",primaryText:{id:"All categories"}}),B.map((function(e){return Object(v.jsx)(_.a,{value:e,primaryText:e},e)}))]}),Object(v.jsx)(j.a,{expand:!0,noMargin:!0,children:Object(v.jsx)(u.a,{id:"extension-search-bar",value:R,onChange:N,onRequestSearch:function(){},tagsHandler:z,tags:P&&P.allTags,placeholder:{id:"Search extensions"}})})]}),Object(v.jsx)(j.a,{children:Object(v.jsx)(w.a,{onToggle:function(e,t){return p.setShowCommunityExtensions(t)},toggled:p.values.showCommunityExtensions,labelPosition:"right",label:Object(v.jsx)(s.Trans,{id:"Show community extensions (not officially reviewed)"})})}),G]}),Object(v.jsx)(d.a,{disableAutoTranslate:!0,onRetry:D,error:A,searchItems:W&&W.map((function(e){return e.item})),getSearchItemUniqueId:L,renderSearchItem:function(e,t){return Object(v.jsx)(y,{id:"extension-list-item-".concat(e.name),project:n,onHeightComputed:t,extensionShortHeader:e,matches:V(e),onChoose:function(){Object(T.o)(e.name),m(e)}},e.name)}})]})}}),!!g&&Object(v.jsx)(k.a,{project:n,isInstalling:t,extensionShortHeader:g,onInstall:Object(r.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(T.n)(g.name),e.next=3,o(g);case 3:e.sent&&m(null);case 5:case"end":return e.stop()}}),e)}))),onClose:function(){return m(null)}})]})}},function(e,t,n){"use strict";var r=n(34),a=n(9),o=n(17),i=n.n(o),s=n(303),c=n(298),u=n(566),l=n(369),d=n(323),b=n(348),p=n(345),j=n(296),h=n(312),f=n(55),g=n(295),m=n(2587),O=n(297),v=n(453),x=n(640),y=n(26),C=n(1672),k=function(e,t){return Object(o.useMemo)((function(){return e.hasEventsFunctionsExtensionNamed(t.name)?function(e,t){try{var n=Object(C.diff)(e,t);if(["patch","minor","major"].includes(n))return{type:n,currentVersion:e,newestVersion:t}}catch(r){if(e!==t)return{type:"minor",currentVersion:e,newestVersion:t}}return null}(e.getEventsFunctionsExtension(t.name).getVersion(),t.version):null}),[e,t])},w=n(318),T=n(8),E=function(e){return e.description.substr(0,e.shortDescription.length)===e.shortDescription?e.description.substr(e.shortDescription.length):e.description};t.a=function(e){var t=e.extensionShortHeader,n=e.isInstalling,o=e.onClose,C=e.onInstall,S=e.onEdit,P=e.project,I=P.hasEventsFunctionsExtensionNamed(t.name),A=k(P,t),D=i.a.useState(null),F=Object(r.a)(D,2),M=F[0],_=F[1],L=i.a.useState(null),R=Object(r.a)(L,2),N=R[0],B=R[1],U=i.a.useCallback((function(){_(null),Object(u.b)(t).then((function(e){B(e)}),(function(e){_(e)}))}),[t]);i.a.useEffect((function(){return U()}),[U]);var H=Object(u.e)(Object(f.b)(),t),W=!n&&H,z=i.a.useCallback((function(){if(W)if(I){if(!y.b.showConfirmDialog("This extension is already in your project, this will install the latest version. You may have to do some adaptations to make sure your game still works. Do you want to continue?"))return;C()}else C()}),[C,W,I]);return Object(T.jsx)(s.c,{title:t.fullName,id:"install-extension-dialog",actions:[Object(T.jsx)(c.a,{label:Object(T.jsx)(a.Trans,{id:"Back"}),primary:!1,onClick:o,disabled:n},"close"),Object(T.jsx)(l.a,{isLoading:n,children:Object(T.jsx)(s.a,{id:"install-extension-button",label:H?I?A?"community"===t.tier?Object(T.jsx)(a.Trans,{id:"Update (could break the project)"}):Object(T.jsx)(a.Trans,{id:"Update"}):Object(T.jsx)(a.Trans,{id:"Re-install"}):Object(T.jsx)(a.Trans,{id:"Install in project"}):Object(T.jsx)(a.Trans,{id:"Not compatible"}),primary:!0,onClick:z,disabled:!W})},"install")],secondaryActions:[S?Object(T.jsx)(c.a,{label:Object(T.jsx)(a.Trans,{id:"Open in editor"}),onClick:S},"edit-extension"):void 0,N&&N.helpPath?Object(T.jsx)(w.a,{helpPagePath:N.helpPath},"help-button"):void 0].filter(Boolean),open:!0,cannotBeDismissed:n,onRequestClose:o,onApply:z,children:Object(T.jsxs)(O.a,{expand:!0,noMargin:!0,children:[Object(T.jsxs)(g.c,{alignItems:"flex-start",noMargin:!0,children:[Object(T.jsx)(v.a,{alt:t.fullName,src:t.previewIconUrl,size:64}),Object(T.jsxs)(g.a,{expand:!0,children:[Object(T.jsx)(j.a,{noMargin:!0,size:"body2",children:Object(T.jsx)(a.Trans,{id:"Version {0}",values:{0:" "+t.version}})}),Object(T.jsx)(g.c,{children:Object(T.jsx)("div",{style:{flexWrap:"wrap"},children:t.authors&&t.authors.map((function(e){return Object(T.jsx)(x.a,{user:e,isClickable:!0},e.id)}))})})]})]}),Object(T.jsx)(j.a,{noMargin:!0,children:t.shortDescription}),Object(T.jsx)(m.a,{}),N&&Object(T.jsx)(p.a,{source:E(N),isStandaloneText:!0}),"community"===t.tier&&Object(T.jsx)(h.a,{kind:"warning",children:Object(T.jsx)(a.Trans,{id:"This is an extension made by a community member \u2014 but not reviewed by the GDevelop extension team. As such, we can't guarantee it meets all the quality standards of official extensions. It could also not be compatible with older GDevelop versions. In case of doubt, contact the author to know more about what the extension does or inspect its content before using it."})}),!H&&Object(T.jsx)(h.a,{kind:"error",children:Object(T.jsx)(a.Trans,{id:"Unfortunately, this extension requires a newer version of GDevelop to work. Update GDevelop to be able to use this extension in your project."})}),!N&&!M&&Object(T.jsx)(d.a,{}),!N&&M&&Object(T.jsx)(b.a,{onRetry:U,children:Object(T.jsx)(a.Trans,{id:"Can't load the extension registry. Verify your internet connection or try again later."})})]})})}},function(e,t,n){"use strict";var r=n(17),a=n.n(r),o=n(2734),i=n(469),s=n.n(i),c=n(295),u=n(297),l=n(323),d=n(1052),b=n(296),p=n(311),j=n(9),h=n(348),f=n(305),g=n(26),m=n(35),O=n(298),v=n(3),x=n(905),y=n(8),C=a.a.memo((function(e){return Object(y.jsxs)(x.a,Object(v.a)(Object(v.a)({},e),{},{width:"13",height:"12",viewBox:"0 0 13 12",fill:"none",children:[Object(y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.50049 3.99996C8.50049 3.72382 8.72435 3.49996 9.00049 3.49996H9.53382C10.2222 3.49996 10.8883 3.75602 11.3843 4.22098C11.8813 4.68696 12.1672 5.32612 12.1672 5.99996C12.1672 6.6738 11.8813 7.31296 11.3843 7.77894C10.8883 8.2439 10.2222 8.49996 9.53382 8.49996H9.00049C8.72435 8.49996 8.50049 8.2761 8.50049 7.99996C8.50049 7.72382 8.72435 7.49996 9.00049 7.49996H9.53382C9.97705 7.49996 10.3961 7.33459 10.7003 7.0494C11.0035 6.76524 11.1672 6.38699 11.1672 5.99996C11.1672 5.61293 11.0035 5.23468 10.7003 4.95051C10.3961 4.66533 9.97705 4.49996 9.53382 4.49996H9.00049C8.72435 4.49996 8.50049 4.2761 8.50049 3.99996Z",fill:"currentColor"}),Object(y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.500488 3.99996C0.500488 3.72382 0.724346 3.49996 1.00049 3.49996H9.00049C9.27663 3.49996 9.50049 3.72382 9.50049 3.99996V8.61534C9.50049 9.28796 9.24009 9.9355 8.7727 10.4149C8.30489 10.8947 7.66767 11.1666 7.00049 11.1666H3.00049C2.3333 11.1666 1.69608 10.8947 1.22827 10.4149C0.760885 9.93549 0.500488 9.28796 0.500488 8.61534V3.99996ZM1.50049 4.49996V8.61534C1.50049 9.0308 1.66152 9.42676 1.94427 9.71677C2.22661 10.0063 2.60681 10.1666 3.00049 10.1666H7.00049C7.39417 10.1666 7.77437 10.0063 8.0567 9.71677C8.33946 9.42676 8.50049 9.0308 8.50049 8.61534V4.49996H1.50049Z",fill:"currentColor"}),Object(y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.00049 0.166626C3.27663 0.166626 3.50049 0.390484 3.50049 0.666626V1.99996C3.50049 2.2761 3.27663 2.49996 3.00049 2.49996C2.72435 2.49996 2.50049 2.2761 2.50049 1.99996V0.666626C2.50049 0.390484 2.72435 0.166626 3.00049 0.166626Z",fill:"currentColor"}),Object(y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.00049 0.166626C5.27663 0.166626 5.50049 0.390484 5.50049 0.666626V1.99996C5.50049 2.2761 5.27663 2.49996 5.00049 2.49996C4.72435 2.49996 4.50049 2.2761 4.50049 1.99996V0.666626C4.50049 0.390484 4.72435 0.166626 5.00049 0.166626Z",fill:"currentColor"}),Object(y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.00049 0.166626C7.27663 0.166626 7.50049 0.390484 7.50049 0.666626V1.99996C7.50049 2.2761 7.27663 2.49996 7.00049 2.49996C6.72435 2.49996 6.50049 2.2761 6.50049 1.99996V0.666626C6.50049 0.390484 6.72435 0.166626 7.00049 0.166626Z",fill:"currentColor"})]}))})),k=n(2625),w=n(309),T=n(1279),E=n(54);t.a=function(e){var t=e.profile,n=e.isAuthenticatedUserProfile,r=e.error,a=e.onRetry,i=e.onChangeEmail,v=e.onEditProfile,x=e.assetPacksListingData,S=e.onAssetPackOpen,P=t?t.donateLink:null,I=Object(w.b)();return r?Object(y.jsx)(h.a,{onRetry:a,children:Object(y.jsx)(j.Trans,{id:"Unable to load the profile, please verify your internet connection or try again later."})}):t&&(n||x)?Object(y.jsx)(j.I18n,{children:function(e){var r=e.i18n;return Object(y.jsxs)(u.a,{noMargin:!0,children:[Object(y.jsxs)(u.c,{alignItems:"center",justifyContent:"space-between",noMargin:!0,children:[Object(y.jsxs)(c.c,{noMargin:!0,alignItems:"center",children:[Object(y.jsx)(o.a,{src:Object(d.a)(t.email||"",{size:40})}),Object(y.jsx)(c.d,{}),Object(y.jsx)(b.a,{size:"block-title",allowBrowserAutoTranslate:!t.username,style:{opacity:t.username?1:.5},children:t.username||(n?r._({id:"Edit your profile to pick a username!"}):r._({id:"No username"}))})]}),t.id&&Object(y.jsxs)(u.b,{justifyContent:"space-between",children:[!n&&!!P&&Object(y.jsx)(f.a,{label:Object(y.jsx)(j.Trans,{id:"Buy me a coffee"}),primary:!0,onClick:function(){return g.b.openExternalURL(P)},icon:Object(y.jsx)(C,{})}),Object(y.jsx)(O.a,{label:Object(y.jsx)(j.Trans,{id:"Access public profile"}),onClick:function(){return g.b.openExternalURL(m.g.getUserPublicProfileUrl(t.id,t.username))},leftIcon:Object(y.jsx)(s.a,{})})]})]}),n&&t.email&&Object(y.jsx)(c.c,{noMargin:!0,children:Object(y.jsx)(p.b,{value:t.email,readOnly:!0,fullWidth:!0,floatingLabelText:Object(y.jsx)(j.Trans,{id:"Email"}),floatingLabelFixed:!0})}),Object(y.jsx)(c.c,{noMargin:!0,children:Object(y.jsx)(p.b,{value:t.description||"",readOnly:!0,fullWidth:!0,multiline:!0,floatingLabelText:Object(y.jsx)(j.Trans,{id:"Bio"}),floatingLabelFixed:!0,translatableHintText:n?{id:"No bio defined. Edit your profile to tell us what you are using GDevelop for!"}:{id:"No bio defined."},rows:3,rowsMax:5})}),n&&Object(y.jsx)(c.c,{noMargin:!0,children:Object(y.jsx)(p.b,{value:t.donateLink||"",readOnly:!0,fullWidth:!0,floatingLabelText:Object(y.jsx)(j.Trans,{id:"Donate link"}),floatingLabelFixed:!0,translatableHintText:{id:"No link defined."}})}),n&&Object(y.jsxs)(u.c,{justifyContent:"flex-end",noMargin:!0,children:[Object(y.jsx)(O.a,{label:Object(y.jsx)(j.Trans,{id:"Change my email"}),onClick:i}),Object(y.jsx)(f.a,{label:Object(y.jsx)(j.Trans,{id:"Edit my profile"}),primary:!0,onClick:v})]}),!n&&S&&x&&x.length>0&&Object(y.jsxs)(u.a,{expand:!0,noMargin:!0,children:[Object(y.jsx)(c.c,{noMargin:!0,children:Object(y.jsx)(b.a,{size:"block-title",children:Object(y.jsx)(j.Trans,{id:"Asset packs"})})}),Object(y.jsx)(c.c,{expand:!0,noMargin:!0,justifyContent:"center",children:Object(y.jsx)(k.a,{cols:"small"===I?1:3,cellHeight:"auto",spacing:2,children:x.map((function(e){return Object(y.jsx)(T.b,{assetPackListingData:e,onSelect:function(){Object(E.f)({assetPackName:e.name,assetPackId:e.id,assetPackTag:null,assetPackKind:"private",source:"author-profile"}),S(e)},owned:!1},e.id)}))})})]})]})}}):Object(y.jsx)(l.a,{})}},function(e,t,n){"use strict";var r=n(2),a=n(0),o=n.n(a),i=n(9),s=n(17),c=n.n(s),u=n(305),l=n(295),d=n(316),b=n(2515),p=n(296),j=n(377),h=n(376),f=n(26),g=n(297),m=n(319),O=n(447),v=n(386),x=n(3),y=n(905),C=n(8),k=c.a.memo((function(e){return Object(C.jsx)(y.a,Object(x.a)(Object(x.a)({},e),{},{children:Object(C.jsx)("path",{fill:"currentColor",d:"M5,20H19V18H5M19,9H15V3H9V9H5L12,16L19,9Z"})}))})),w=n(559),T=n(469),E=n.n(T),S=n(454),P=n(436),I=n(298),A={"cordova-build":{estimatedTimeInSeconds:function(e){return 300},completeDescription:"You can download it on your Android phone and install it."},"electron-build":{estimatedTimeInSeconds:function(e){return 90+130*(e.targets?e.targets.length:0)},completeDescription:""},"web-build":{estimatedTimeInSeconds:function(e){return 5},completeDescription:""}},D=[{displayName:{id:"Download (APK)"},key:"apkKey",icon:Object(C.jsx)(k,{})},{displayName:{id:"Download (Android App Bundle)"},key:"aabKey",icon:Object(C.jsx)(k,{})},{displayName:{id:"Windows (zip)"},key:"windowsZipKey",icon:Object(C.jsx)(k,{})},{displayName:{id:"Windows (exe)"},key:"windowsExeKey",icon:Object(C.jsx)(k,{})},{displayName:{id:"macOS (zip)"},key:"macosZipKey",icon:Object(C.jsx)(k,{})},{displayName:{id:"Linux (AppImage)"},key:"linuxAppImageKey",icon:Object(C.jsx)(k,{})},{displayName:{id:"Open build link"},key:"s3Key",icon:Object(C.jsx)(E.a,{})}];t.a=function(e){var t=e.build,n=e.game,a=e.onGameUpdated,c=e.gameUpdating,x=e.setGameUpdating,y=e.onCopyToClipboard,k=s.useContext(m.a),T=k.getAuthorizationHeader,E=k.profile,F=A[t.type],M=F.estimatedTimeInSeconds(t),_=Math.abs(Object(b.a)(t.updatedAt,Date.now())),L=M-_,R=L>0,N=!R&&L>=-M,B=!R&&L<-M,U=function(e){var n=Object(j.f)(t,e);n&&f.b.openExternalURL(n)},H=function(){var e=Object(j.f)(t,"s3Key");e&&navigator.clipboard.writeText(e),y&&y()},W=s.useCallback(function(){var e=Object(r.a)(o.a.mark((function e(r,i){var s,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(E&&n&&a&&x){e.next=2;break}return e.abrupt("return");case 2:if(s=E.id,f.b.showConfirmDialog(r?i._({id:'"{0}" will be the new build of this game published on gd.games. Continue?',values:{0:t.name||Object(S.m)(t.id)}}):i._({id:'"{0}" will be unpublished on gd.games. Continue?',values:{0:t.name||Object(S.m)(t.id)}}))){e.next=6;break}return e.abrupt("return");case 6:return e.prev=6,x(!0),e.next=10,Object(h.l)(T,s,n.id,{publicWebBuildId:r});case 10:c=e.sent,a(c),x(!1),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(6),console.error("Unable to update the game",e.t0),x(!1);case 19:case"end":return e.stop()}}),e,null,[[6,15]])})));return function(t,n){return e.apply(this,arguments)}}(),[E,n,a,x,t.name,t.id,T]),z=!!n&&n.publicWebBuildId===t.id;return Object(C.jsx)(i.I18n,{children:function(e){var r=e.i18n;return"error"===t.status?Object(C.jsxs)(g.c,{alignItems:"center",justifyContent:"space-between",expand:!0,children:[Object(C.jsxs)(l.a,{noMargin:!0,children:[Object(C.jsx)(p.a,{noMargin:!0,children:Object(C.jsx)(i.Trans,{id:"Something wrong happened :("})}),Object(C.jsx)(d.a,{style:{justifyContent:"flex-start",padding:0},children:Object(C.jsx)(i.Trans,{id:"Check the logs to see if there is an explanation about what went wrong, or try again later."})})]}),Object(C.jsx)(u.a,{primary:!0,label:Object(C.jsx)(i.Trans,{id:"Download log files"}),onClick:function(){return U("logsKey")}})]}):"pending"===t.status?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(l.c,{alignItems:"center",expand:!0,justifyContent:"center",children:[(R||N)&&Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(P.a,{value:R?(M-L)/M*100:0,variant:R?"determinate":"indeterminate"}),Object(C.jsx)(l.d,{})]}),R&&Object(C.jsx)(p.a,{children:Object(C.jsx)(i.Trans,{id:"~{0} minutes.",values:{0:Math.round(L/60)}})}),N&&Object(C.jsx)(p.a,{children:Object(C.jsx)(i.Trans,{id:"Should finish soon."})})]}),B&&Object(C.jsxs)(l.a,{children:[Object(C.jsx)(l.c,{justifyContent:"flex-end",noMargin:!0,children:Object(C.jsx)(p.a,{noMargin:!0,children:Object(C.jsx)(i.Trans,{id:"Something wrong happened :("})})}),Object(C.jsx)(l.c,{justifyContent:"flex-end",noMargin:!0,children:Object(C.jsx)(d.a,{style:{justifyContent:"flex-end",padding:0},children:Object(C.jsx)(i.Trans,{id:"It looks like the build has timed out, please try again."})})})]})]}):"complete"===t.status?Object(C.jsxs)(g.a,{noMargin:!0,expand:!0,children:[Object(C.jsxs)(g.c,{expand:!0,justifyContent:"space-between",noMargin:!0,children:[Object(C.jsxs)(g.c,{noMargin:!0,noColumnMargin:!0,children:[n&&!!t.s3Key&&Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(O.a,{label:Object(C.jsx)(i.Trans,{id:"Publish this build on gd.games"}),labelPosition:"left",toggled:z,onToggle:function(){W(z?null:t.id,r)},disabled:c}),Object(C.jsx)(l.d,{}),Object(C.jsx)(v.a,{label:Object(C.jsx)(i.Trans,{id:"Copy build link"}),icon:Object(C.jsx)(w.a,{}),onClick:H})]}),D.filter((function(e){return!!t[e.key]})).map((function(e){return Object(C.jsxs)(s.Fragment,{children:[Object(C.jsx)(u.a,{primary:!0,label:r._(e.displayName),onClick:function(){return U(e.key)},icon:e.icon}),Object(C.jsx)(l.d,{})]},e.key)}))]}),Object(C.jsx)(I.a,{label:Object(C.jsx)(i.Trans,{id:"Download log files"}),onClick:function(){return U("logsKey")}})]}),F&&F.completeDescription&&Object(C.jsx)(l.c,{expand:!0,justifyContent:"flex-start",noMargin:!0,children:Object(C.jsx)(p.a,{noMargin:!0,size:"body2",children:F.completeDescription})})]}):Object(C.jsx)(l.c,{children:Object(C.jsx)(i.Trans,{id:"Unknown status"})})}})}},function(e,t,n){"use strict";n.d(t,"b",(function(){return T})),n.d(t,"a",(function(){return S}));var r=n(34),a=n(3),o=n(9),i=n(17),s=n(2597),c=n(2622),u=n(2624),l=n(2625),d=n(375),b=n(296),p=n(1053),j=n(330),h=n(295),f=n(331),g=n(309),m=n(319),O=n(327),v=n(423),x=n(8),y={"full-game-pack":{title:Object(x.jsx)(o.Trans,{id:"Full Game Packs"}),imageAlt:"Full game asset packs category",imageSource:"res/asset-categories/Full_game_pack.jpeg"},character:{title:Object(x.jsx)(o.Trans,{id:"Characters"}),imageAlt:"Characters asset packs category",imageSource:"res/asset-categories/Characters.jpeg"},props:{title:Object(x.jsx)(o.Trans,{id:"Props"}),imageAlt:"Props asset packs category",imageSource:"res/asset-categories/Props.jpeg"},background:{title:Object(x.jsx)(o.Trans,{id:"Backgrounds"}),imageAlt:"Backgrounds asset packs category",imageSource:"res/asset-categories/Backgrounds.jpeg"},"visual-effect":{title:Object(x.jsx)(o.Trans,{id:"Visual Effects"}),imageAlt:"Visual effects asset packs category",imageSource:"res/asset-categories/Visual_Effects.jpeg"},interface:{title:Object(x.jsx)(o.Trans,{id:"UI/Interface"}),imageAlt:"User Interface asset packs category",imageSource:"res/asset-categories/Interface.jpeg"},prefab:{title:Object(x.jsx)(o.Trans,{id:"Prefabs (Ready-to-use Objects)"}),imageAlt:"Prefabs asset packs category",imageSource:"res/asset-categories/Prefabs.jpeg"}},C={grid:{margin:"0 10px"},priceTagContainer:{position:"absolute",top:10,left:10,cursor:"default"},previewImage:{width:"100%",aspectRatio:"16 / 9",objectFit:"cover",position:"relative"},cardContainer:{overflow:"hidden",position:"relative"},paper:{margin:4},packTitle:Object(a.a)(Object(a.a)({},v.a),{},{overflowWrap:"break-word"})},k=Object(s.a)((function(e){return Object(c.a)({root:{"&:focus":{border:"2px solid ".concat(e.palette.primary.main),outline:"none"},"&:focus-visible":{outline:"unset"}}})})),w=function(e){var t=e.assetPack,n=e.onSelect,r=e.style,a=k();return Object(x.jsx)(u.a,{classes:a,tabIndex:0,onKeyPress:function(e){Object(j.g)(e)&&n()},style:r,onClick:n,children:Object(x.jsxs)(O.a,{elevation:2,style:C.paper,background:"light",children:[Object(x.jsx)(d.a,{style:C.previewImage,src:t.thumbnailUrl,alt:"Preview image of asset pack ".concat(t.name)},t.name),Object(x.jsx)(h.a,{children:Object(x.jsxs)(h.c,{justifyContent:"space-between",noMargin:!0,children:[Object(x.jsx)(b.a,{style:C.packTitle,size:"body2",children:t.name}),Object(x.jsxs)(b.a,{style:C.packTitle,color:"primary",size:"body2",children:[Object(x.jsx)(o.Trans,{id:"{0} Assets",values:{0:t.assetsCount}}),t.userFriendlyPrice?" - "+t.userFriendlyPrice:null]})]})})]})})},T=function(e){var t=e.assetPackListingData,n=e.onSelect,r=e.style,a=e.owned,i=k();return Object(x.jsx)(u.a,{classes:i,tabIndex:0,onKeyPress:function(e){Object(j.g)(e)&&n()},style:r,onClick:n,children:Object(x.jsxs)(O.a,{elevation:2,style:C.paper,background:"light",children:[Object(x.jsx)(d.a,{style:C.previewImage,src:t.thumbnailUrls[0],alt:"Preview image of asset pack ".concat(t.name)},t.name),Object(x.jsx)("div",{style:C.priceTagContainer,children:Object(x.jsx)(p.a,{value:t.prices[0].value,withOverlay:!0,owned:a})}),Object(x.jsx)(h.a,{children:Object(x.jsxs)(h.c,{justifyContent:"space-between",noMargin:!0,children:[Object(x.jsx)(b.a,{style:C.packTitle,size:"body2",children:t.name}),Object(x.jsx)(b.a,{style:C.packTitle,color:"primary",size:"body2",children:Object(x.jsx)(o.Trans,{id:"{0}",values:{0:t.description}})})]})})]})})},E=function(e){var t=e.title,n=e.imageSource,r=e.imageAlt,a=e.onSelect,o=e.style,i=k();return Object(x.jsx)(u.a,{classes:i,tabIndex:0,onKeyPress:function(e){Object(j.g)(e)&&a()},style:o,onClick:a,children:Object(x.jsxs)(O.a,{elevation:2,style:C.paper,background:"light",children:[Object(x.jsx)(d.a,{style:C.previewImage,src:n,alt:r}),Object(x.jsx)(h.a,{children:Object(x.jsx)(h.c,{justifyContent:"center",noMargin:!0,children:Object(x.jsx)(b.a,{style:C.packTitle,size:"sub-title",children:t})})})]})})},S=i.forwardRef((function(e,t){var n=e.publicAssetPacks.starterPacks,a=e.privateAssetPacksListingData,s=e.assetPackRandomOrdering,c=e.onPublicAssetPackSelection,u=e.onPrivateAssetPackSelection,d=e.onCategorySelection,p=e.openedAssetCategory,j=Object(g.b)(),O=i.useContext(m.a).receivedAssetPacks,v=i.useRef(null);i.useImperativeHandle(t,(function(){return{getScrollPosition:function(){var e=v.current;return e?e.getScrollPosition():0},scrollToPosition:function(e){var t=v.current;t&&t.scrollToPosition(e)}}}));var k=n.filter((function(e){return!p||e.categories.includes(p)})).map((function(e,t){return Object(x.jsx)(w,{assetPack:e,onSelect:function(){return c(e)}},"".concat(e.tag,"-").concat(t))})),S=function(e,t,n,r){for(var a=0,o=0,i=[];a<e.length||o<t.length;){var s=e.slice(a,a+n),c=t.slice(o,o+r);a+=n,o+=r,s.forEach((function(e){return i.push(e)})),c.forEach((function(e){return i.push(e)}))}return i}(a.filter((function(e){return!p||e.categories.includes(p)})).map((function(e){return Object(x.jsx)(T,{assetPackListingData:e,onSelect:function(){u(e)},owned:!!O&&!!O.find((function(t){return t.id===e.id}))},e.id)})),k.map((function(e,t){return{pos:s[t],tile:e}})).sort((function(e,t){return e.pos-t.pos})).map((function(e){return e.tile})),2,1),P=Object.entries(y).map((function(e){var t=Object(r.a)(e,2),n=t[0],a=t[1],o=a.title,i=a.imageSource,s=a.imageAlt;return Object(x.jsx)(E,{imageSource:i,imageAlt:s,title:o,onSelect:function(){d(n)}},n)})),I=p?y[p].title:null;return Object(x.jsxs)(f.a,{ref:v,children:[p?null:Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(h.a,{children:Object(x.jsx)(h.c,{children:Object(x.jsx)(b.a,{size:"block-title",children:Object(x.jsx)(o.Trans,{id:"Explore by category"})})})}),Object(x.jsx)(l.a,{cols:"small"===j?2:"medium"===j?3:4,style:C.grid,cellHeight:"auto",spacing:2,children:P})]}),Object(x.jsx)(h.a,{children:Object(x.jsx)(h.c,{children:Object(x.jsx)(b.a,{size:"block-title",children:I||Object(x.jsx)(o.Trans,{id:"All asset packs"})})})}),Object(x.jsx)(l.a,{cols:"small"===j?1:"medium"===j?2:3,style:C.grid,cellHeight:"auto",spacing:2,children:S})]})}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return K})),n.d(t,"c",(function(){return Q})),n.d(t,"a",(function(){return $}));var r=n(34),a=n(2),o=n(0),i=n.n(o),s=n(9),c=n(17),u=n(303),l=n(298),d=n(318),b=n(352),p=n(1269),j=n(54),h=n(39),f=n(305),g=n(464),m=n(1213),O=n(641),v=n(370),x=n(396),y=n(26),C=n(587),k=n(424),w=n(309),T=n(1215),E=n(476),S=n.n(E),P=n(19),I=n(3),A=n(1),D=n(394),F=n(409),M=n(336),_=n(415),L=n(295),R=n(331),N=n(511),B=n(1133),U=n(688),H=n(861),W=n(386),z=n(865),V=n.n(z),G=n(1051),Z=n(8),Y=function(e){var t=e.enumeratedObjectMetadata,n=e.onClick,r=e.id;return""===t.name?null:Object(Z.jsx)(M.b,{id:r,leftIcon:Object(Z.jsx)(D.a,{src:t.iconFilename,iconSize:40,isGDevelopIcon:!0}),primaryText:t.fullName,secondaryText:t.description,secondaryTextLines:2,onClick:n},t.name)},q=function(e){var t=e.packTag,n=e.onAssetSelect,r=e.onBack,a=e.isAssetBeingInstalled,o=c.useContext(g.a),i=o.useSearchItem,u=o.error,l=o.fetchAssetsAndFilters,d=i("",c.useMemo((function(){return{node:{name:t,allChildrenTags:[],children:[]},parentNodes:[]}}),[t]),null,c.useMemo((function(){return[]}),[]));return Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsxs)(L.a,{noMargin:!0,expand:!0,children:[Object(Z.jsx)(L.c,{children:Object(Z.jsx)(W.a,{icon:Object(Z.jsx)(V.a,{}),label:Object(Z.jsx)(s.Trans,{id:"Back"}),primary:!1,onClick:r,disabled:a})}),Object(Z.jsx)(U.a,{baseSize:128,onRetry:l,error:u,searchItems:d,renderSearchItem:function(e,t){return Object(Z.jsx)(H.a,{size:t,onOpenDetails:function(){a||n(e)},assetShortHeader:e})}})]}),Object(Z.jsx)(G.a,{show:a})]})};function X(e){var t=e.project,n=e.onCreateNewObject,r=e.onCustomObjectSelected,a=e.selectedCustomObject,o=e.onInstallAsset,i=e.isAssetBeingInstalled,s=e.i18n,u=c.useMemo((function(){return function(e){var t,n=e.i18n,r=e.project,a=Object(_.b)(r),o=(t={},Object(A.a)(t,Object(B.a)("General",n),[{name:"Sprite"},{name:"TiledSpriteObject::TiledSprite"},{name:"PanelSpriteObject::PanelSprite"}]),Object(A.a)(t,Object(B.a)("Input",n),[{name:"SpriteMultitouchJoystick::SpriteMultitouchJoystick",fullName:n._({id:"Multitouch Joystick"}),description:n._({id:"Joystick for touchscreens."}),iconFilename:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMy4wLjMsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iSWNvbnMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgMzIgMzIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMyIDMyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPg0KCS5zdDB7ZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoxMDt9DQo8L3N0eWxlPg0KPGNpcmNsZSBjbGFzcz0ic3QwIiBjeD0iMTYiIGN5PSIxNiIgcj0iMTMiLz4NCjxwb2x5bGluZSBjbGFzcz0ic3QwIiBwb2ludHM9IjI4LjQsMTIgMjAsMTIgMjAsMy42ICIvPg0KPHBvbHlsaW5lIGNsYXNzPSJzdDAiIHBvaW50cz0iMjAsMjguNCAyMCwyMCAyOC40LDIwICIvPg0KPHBvbHlsaW5lIGNsYXNzPSJzdDAiIHBvaW50cz0iMy42LDIwIDEyLDIwIDEyLDI4LjQgIi8+DQo8cG9seWxpbmUgY2xhc3M9InN0MCIgcG9pbnRzPSIxMiwzLjYgMTIsMTIgMy42LDEyICIvPg0KPHBvbHlnb24gY2xhc3M9InN0MCIgcG9pbnRzPSIxNiw2IDE2LjcsNyAxNS4zLDcgIi8+DQo8cG9seWdvbiBjbGFzcz0ic3QwIiBwb2ludHM9IjE2LDI2IDE1LjMsMjUgMTYuNywyNSAiLz4NCjxwb2x5Z29uIGNsYXNzPSJzdDAiIHBvaW50cz0iNiwxNiA3LDE1LjMgNywxNi43ICIvPg0KPHBvbHlnb24gY2xhc3M9InN0MCIgcG9pbnRzPSIyNiwxNiAyNSwxNi43IDI1LDE1LjMgIi8+DQo8L3N2Zz4NCg==",assetStorePackTag:"multitouch joysticks",requiredExtensions:[{extensionName:"SpriteMultitouchJoystick",extensionVersion:"1.0.0"}]}]),Object(A.a)(t,Object(B.a)("Text",n),[{name:"TextObject::Text"},{name:"BBText::BBText"},{name:"BitmapText::BitmapTextObject"}]),Object(A.a)(t,Object(B.a)("User interface",n),[{name:"PanelSpriteButton::PanelSpriteButton",fullName:n._({id:"Panel sprite button"}),description:n._({id:"Resizable button with text customization."}),iconFilename:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMy4wLjMsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iSWNvbnMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgMzIgMzIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMyIDMyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPg0KCS5zdDB7ZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoxMDt9DQo8L3N0eWxlPg0KPHBhdGggY2xhc3M9InN0MCIgZD0iTTI5LDIzSDNjLTEuMSwwLTItMC45LTItMlYxMWMwLTEuMSwwLjktMiwyLTJoMjZjMS4xLDAsMiwwLjksMiwydjEwQzMxLDIyLjEsMzAuMSwyMywyOSwyM3oiLz4NCjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xMywxOUwxMywxOWMtMS4xLDAtMi0wLjktMi0ydi0yYzAtMS4xLDAuOS0yLDItMmgwYzEuMSwwLDIsMC45LDIsMnYyQzE1LDE4LjEsMTQuMSwxOSwxMywxOXoiLz4NCjxsaW5lIGNsYXNzPSJzdDAiIHgxPSIxOCIgeTE9IjEzIiB4Mj0iMTgiIHkyPSIxOSIvPg0KPGxpbmUgY2xhc3M9InN0MCIgeDE9IjIxIiB5MT0iMTMiIHgyPSIxOCIgeTI9IjE3Ii8+DQo8bGluZSBjbGFzcz0ic3QwIiB4MT0iMjEiIHkxPSIxOSIgeDI9IjE5IiB5Mj0iMTYiLz4NCjwvc3ZnPg0K",assetStorePackTag:"menu buttons",requiredExtensions:[{extensionName:"PanelSpriteButton",extensionVersion:"1.0.0"}]},{name:"PanelSpriteSlider::PanelSpriteSlider",fullName:n._({id:"Slider"}),description:n._({id:"Let users select a numerical value by dragging a slider."}),iconFilename:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMy4wLjMsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iSWNvbnMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgMzIgMzIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMyIDMyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPg0KCS5zdDB7ZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoxMDt9DQo8L3N0eWxlPg0KPGNpcmNsZSBjbGFzcz0ic3QwIiBjeD0iMjMiIGN5PSI3IiByPSIzIi8+DQo8bGluZSBjbGFzcz0ic3QwIiB4MT0iMyIgeTE9IjciIHgyPSIyMCIgeTI9IjciLz4NCjxsaW5lIGNsYXNzPSJzdDAiIHgxPSIyOSIgeTE9IjciIHgyPSIyNiIgeTI9IjciLz4NCjxjaXJjbGUgY2xhc3M9InN0MCIgY3g9IjEyIiBjeT0iMTYiIHI9IjMiLz4NCjxsaW5lIGNsYXNzPSJzdDAiIHgxPSIzIiB5MT0iMTYiIHgyPSI5IiB5Mj0iMTYiLz4NCjxsaW5lIGNsYXNzPSJzdDAiIHgxPSIyOSIgeTE9IjE2IiB4Mj0iMTUiIHkyPSIxNiIvPg0KPGNpcmNsZSBjbGFzcz0ic3QwIiBjeD0iMjMiIGN5PSIyNSIgcj0iMyIvPg0KPGxpbmUgY2xhc3M9InN0MCIgeDE9IjMiIHkxPSIyNSIgeDI9IjIwIiB5Mj0iMjUiLz4NCjxsaW5lIGNsYXNzPSJzdDAiIHgxPSIyOSIgeTE9IjI1IiB4Mj0iMjYiIHkyPSIyNSIvPg0KPC9zdmc+DQo=",assetStorePackTag:"settings ui",requiredExtensions:[{extensionName:"PanelSpriteSlider",extensionVersion:"1.0.0"}]},{name:"SpriteToggleSwitch::SpriteToggleSwitch",fullName:n._({id:"Toggle switch"}),description:n._({id:"A toggle switch that users can click or touch."}),iconFilename:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMy4wLjMsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iSWNvbnMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgMzIgMzIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMyIDMyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPg0KCS5zdDB7ZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoxMDt9DQo8L3N0eWxlPg0KPHBhdGggY2xhc3M9InN0MCIgZD0iTTIzLDIzSDljLTMuOSwwLTctMy4xLTctN3YwYzAtMy45LDMuMS03LDctN2gxNGMzLjksMCw3LDMuMSw3LDd2MEMzMCwxOS45LDI2LjksMjMsMjMsMjN6Ii8+DQo8Y2lyY2xlIGNsYXNzPSJzdDAiIGN4PSI5IiBjeT0iMTYiIHI9IjQiLz4NCjwvc3ZnPg0K",assetStorePackTag:"settings ui",requiredExtensions:[{extensionName:"SpriteToggleSwitch",extensionVersion:"1.0.0"}]},{name:"PanelSpriteContinuousBar::PanelSpriteContinuousBar",fullName:n._({id:"Resource bar (continuous)"}),description:n._({id:"A bar that represents a resource in the game (health, mana, ammo, etc)."}),iconFilename:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMy4wLjMsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iSWNvbnMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgMzIgMzIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMyIDMyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8cGF0aCBkPSJNMjgsMTJIMTRINGMtMi4yLDAtNCwxLjgtNCw0czEuOCw0LDQsNGgxMGgxNGMyLjIsMCw0LTEuOCw0LTRTMzAuMiwxMiwyOCwxMnogTTQsMThjLTEuMSwwLTItMC45LTItMnMwLjktMiwyLTJoMTANCgljMS4xLDAsMiwwLjksMiwycy0wLjksMi0yLDJINHoiLz4NCjwvc3ZnPg0K",assetStorePackTag:"resource bars",requiredExtensions:[{extensionName:"PanelSpriteContinuousBar",extensionVersion:"1.0.0"}]},{name:"TiledUnitsBar::TiledUnitsBar",fullName:n._({id:"Resource bar (separated units)"}),description:n._({id:"A bar that represents a resource in the game (health, mana, ammo, etc)."}),iconFilename:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0ibWRpLWRvdHMtaG9yaXpvbnRhbCIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxwYXRoIGQ9Ik0xNiwxMkEyLDIgMCAwLDEgMTgsMTBBMiwyIDAgMCwxIDIwLDEyQTIsMiAwIDAsMSAxOCwxNEEyLDIgMCAwLDEgMTYsMTJNMTAsMTJBMiwyIDAgMCwxIDEyLDEwQTIsMiAwIDAsMSAxNCwxMkEyLDIgMCAwLDEgMTIsMTRBMiwyIDAgMCwxIDEwLDEyTTQsMTJBMiwyIDAgMCwxIDYsMTBBMiwyIDAgMCwxIDgsMTJBMiwyIDAgMCwxIDYsMTRBMiwyIDAgMCwxIDQsMTJaIiAvPjwvc3ZnPg==",assetStorePackTag:"resource bars",requiredExtensions:[{extensionName:"TiledUnitsBar",extensionVersion:"1.0.0"}]},{name:"TextInput::TextInputObject"},{name:"Video::VideoObject"}]),Object(A.a)(t,Object(B.a)("Visual effect",n),[{name:"Lighting::LightObject"},{name:"ParticleSystem::ParticleEmitter"}]),Object(A.a)(t,Object(B.a)("Advanced",n),[{name:"TileMap::TileMap"},{name:"TileMap::CollisionMask"},{name:"PrimitiveDrawing::Drawer"}]),t);return a.forEach((function(e){var t=Object(B.a)(e.categoryFullName,n);o[t]=o[t]||[];var r=o[t].findIndex((function(t){return t.name===e.name}));if(-1!==r){var a=o[t][r];o[t][r]=Object(I.a)(Object(I.a)({},a),e)}else o[t]=[].concat(Object(P.a)(o[t]),[e])})),o}({project:t,i18n:s})}),[t,s]),l=Object(N.a)("intro-object-types").DismissableTutorialMessage;return a&&a.assetStorePackTag?Object(Z.jsx)(q,{packTag:a.assetStorePackTag,onAssetSelect:o,isAssetBeingInstalled:i,onBack:function(){return r(null)}}):Object(Z.jsxs)(R.a,{children:[l&&Object(Z.jsx)(L.c,{children:Object(Z.jsx)(L.a,{expand:!0,children:l})}),Object(Z.jsx)(M.a,{children:Object.keys(u).map((function(e){var t=u[e];return Object(Z.jsxs)(c.Fragment,{children:[Object(Z.jsx)(F.a,{children:e}),t.map((function(e){return Object(Z.jsx)(Y,{enumeratedObjectMetadata:e,id:"object-category-".concat(e.name).replace(/:/g,"-"),onClick:function(){Object(j.v)(e.name),e.assetStorePackTag?r(e):n(e.name)}},e.name)}))]},e)}))})]})}var J=y.b.isDev(),K=function(){var e=Object(k.a)().showConfirmation;return function(){var t=Object(a.a)(i.a.mark((function t(n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e({title:{id:"Extension update"},message:{id:"Before installing this asset, it's strongly recommended to update these extensions{0}Do you want to update it now ?",values:{0:"\n\n - "+n.map((function(e){return e.fullName})).join("\n\n - ")+"\n\n"}},confirmButtonLabel:{id:"Update the extension"},dismissButtonLabel:{id:"Skip the update"}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Q=function(){var e=c.useContext(g.a).environment,t=c.useContext(C.a).fetchPrivateAsset;return function(){var n=Object(a.a)(i.a.mark((function n(r){var o,s;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,S.a.withConcurrency(6).for(r).process(function(){var n=Object(a.a)(i.a.mark((function n(r){var a;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!Object(v.g)(r)){n.next=6;break}return n.next=3,t(r,{environment:e});case 3:n.t0=n.sent,n.next=9;break;case 6:return n.next=8,Object(v.d)(r,{environment:e});case 8:n.t0=n.sent;case 9:if(a=n.t0){n.next=12;break}throw new Error("Unable to install the asset because it could not be fetched.");case 12:return n.abrupt("return",a);case 13:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}());case 2:if(!(o=n.sent).errors.length){n.next=5;break}throw new Error("Error(s) while installing assets. The first error is: "+o.errors[0].message);case 5:return s=o.results,n.abrupt("return",s);case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()};function $(e){var t=e.project,n=(e.layout,e.objectsContainer),o=e.resourceManagementProps,y=e.onClose,E=e.onCreateNewObject,S=e.onObjectsAddedFromAssets,P=e.canInstallPrivateAsset,I=Object(w.b)(),A=c.useContext(h.a),D=A.setNewObjectDialogDefaultTab,F=A.getNewObjectDialogDefaultTab,M=c.useState(F()),_=Object(r.a)(M,2),L=_[0],R=_[1];c.useEffect((function(){return D(L)}),[D,L]);var N=c.useContext(g.a),B=N.searchResults,U=N.navigationState,H=N.environment,W=N.setEnvironment,z=U.getCurrentPage(),V=z.openedAssetPack,G=z.openedAssetShortHeader,Y=c.useState(!1),q=Object(r.a)(Y,2),$=q[0],ee=q[1],te=c.useMemo((function(){return Object(T.a)(t,n)}),[t,n]),ne=c.useState(!1),re=Object(r.a)(ne,2),ae=re[0],oe=re[1],ie=c.useState(null),se=Object(r.a)(ie,2),ce=se[0],ue=se[1],le=c.useContext(x.a),de=G&&te.has(G.id),be=c.useContext(C.a).installPrivateAsset,pe=Object(k.a)().showAlert,je=Q(),he=K(),fe=c.useCallback(function(){var e=Object(a.a)(i.a.mark((function e(r){var a,s,c,u,l,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return",!1);case 2:if(oe(!0),e.prev=3,!(a=Object(v.g)(r))){e.next=14;break}return e.next=8,P();case 8:if(e.sent){e.next=14;break}return e.next=12,pe({title:{id:"Save your project"},message:{id:"You need to save this project as a cloud project to install this asset. Please save your project and try again."}});case 12:return oe(!1),e.abrupt("return",!1);case 14:return e.next=16,je([r]);case 16:return s=e.sent,c=s[0],e.next=20,Object(O.d)({assets:s,project:t});case 20:if(u=e.sent,e.t0=u.outOfDateExtensionShortHeaders.length>0,!e.t0){e.next=26;break}return e.next=25,he(u.outOfDateExtensionShortHeaders);case 25:e.t0=e.sent;case 26:return l=e.t0,e.next=29,Object(O.f)({requiredExtensionInstallation:u,shouldUpdateExtension:l,eventsFunctionsExtensionsState:le,project:t});case 29:if(!a){e.next=35;break}return e.next=32,be({asset:c,project:t,objectsContainer:n});case 32:e.t1=e.sent,e.next=38;break;case 35:return e.next=37,Object(O.e)({asset:c,project:t,objectsContainer:n});case 37:e.t1=e.sent;case 38:if(d=e.t1){e.next=41;break}throw new Error("Unable to install private Asset.");case 41:return Object(j.b)({id:r.id,name:r.name,assetPackName:V?V.name:null,assetPackTag:V?V.tag:null,assetPackId:V&&V.id?V.id:null,assetPackKind:a?"private":"public"}),S(d.createdObjects),e.next=45,o.onFetchNewlyAddedResources();case 45:return oe(!1),e.abrupt("return",!0);case 49:return e.prev=49,e.t2=e.catch(3),console.error("Error while installing the asset:",e.t2),pe({title:"Could not install the asset",message:'There was an error while installing the asset "'.concat(r.name,'". Verify your internet connection or try again later.')}),oe(!1),e.abrupt("return",!1);case 55:case"end":return e.stop()}}),e,null,[[3,49]])})));return function(t){return e.apply(this,arguments)}}(),[je,t,he,be,le,n,V,o,P,pe,S]),ge=c.useCallback(Object(a.a)(i.a.mark((function e(){var n,r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=ce&&ce.requiredExtensions,ce&&n){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,oe(!0),e.next=7,Object(O.c)({requiredExtensions:n,project:t});case 7:if(r=e.sent,e.t0=r.outOfDateExtensionShortHeaders.length>0,!e.t0){e.next=13;break}return e.next=12,he(r.outOfDateExtensionShortHeaders);case 12:e.t0=e.sent;case 13:return a=e.t0,e.next=16,Object(O.f)({requiredExtensionInstallation:r,shouldUpdateExtension:a,eventsFunctionsExtensionsState:le,project:t});case 16:E(ce.name),e.next=23;break;case 19:e.prev=19,e.t1=e.catch(3),console.error("Error while creating the object:",e.t1),pe({title:"Could not create the object",message:'There was an error while creating the object "'.concat(ce.fullName,'". Verify your internet connection or try again later.')});case 23:return e.prev=23,oe(!1),e.finish(23);case 26:case"end":return e.stop()}}),e,null,[[3,19,23,26]])}))),[ce,E,t,he,le,pe]),me="asset-store"!==L?null:V?Object(Z.jsx)(f.a,{primary:!0,label:Object(Z.jsx)(s.Trans,{id:"Add all assets to my scene"}),onClick:function(){return ee(!0)},disabled:!B||0===B.length},"add-all-assets"):G?Object(Z.jsx)(f.a,{primary:!de,label:ae?Object(Z.jsx)(s.Trans,{id:"Adding..."}):de?Object(Z.jsx)(s.Trans,{id:"Add again"}):Object(Z.jsx)(s.Trans,{id:"Add to the scene"}),onClick:Object(a.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fe(G);case 1:case"end":return e.stop()}}),e)}))),disabled:ae,id:"add-asset-button"},"add-asset"):J?Object(Z.jsx)(f.a,{label:"staging"===H?Object(Z.jsx)(s.Trans,{id:"Show live assets"}):Object(Z.jsx)(s.Trans,{id:"Show staging assets"}),onClick:function(){W("staging"===H?"live":"staging")}},"show-dev-assets"):void 0,Oe=c.useRef(null),ve=c.useCallback((function(){Oe.current&&Oe.current.onClose(),y()}),[y]);return Object(Z.jsx)(s.I18n,{children:function(e){var r=e.i18n;return Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsxs)(u.c,{title:Object(Z.jsx)(s.Trans,{id:"New object"}),secondaryActions:[Object(Z.jsx)(d.a,{helpPagePath:"/objects"},"help")],actions:[ce?Object(Z.jsx)(l.a,{label:ae?Object(Z.jsx)(s.Trans,{id:"Adding..."}):Object(Z.jsx)(s.Trans,{id:"Skip and create from scratch"}),primary:!1,onClick:ge,id:"skip-and-create-button",disabled:ae},"skip-and-create"):Object(Z.jsx)(l.a,{label:Object(Z.jsx)(s.Trans,{id:"Close"}),primary:!1,onClick:ve,id:"close-button"},"close"),me],onRequestClose:ve,onApply:V?function(){return ee(!0)}:G?Object(a.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe(G);case 2:case"end":return e.stop()}}),e)}))):void 0,open:!0,flexBody:!0,fullHeight:!0,id:"new-object-dialog",fixedContent:Object(Z.jsx)(b.a,{value:L,onChange:R,options:[{label:Object(Z.jsx)(s.Trans,{id:"Asset Store"}),value:"asset-store",id:"asset-store-tab"},{label:Object(Z.jsx)(s.Trans,{id:"New object from scratch"}),value:"new-object",id:"new-object-from-scratch-tab"}],variant:"small"===I?"scrollable":void 0}),children:["asset-store"===L&&Object(Z.jsx)(p.a,{ref:Oe}),"new-object"===L&&Object(Z.jsx)(X,{onCreateNewObject:E,onCustomObjectSelected:ue,selectedCustomObject:ce,onInstallAsset:function(){var e=Object(a.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe(t);case 2:e.sent&&ve();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),isAssetBeingInstalled:ae,project:t,i18n:r})]}),$&&B&&V&&Object(Z.jsx)(m.a,{assetPack:V,assetShortHeaders:B,addedAssetIds:te,onClose:function(){return ee(!1)},onAssetsAdded:function(){ee(!1)},project:t,objectsContainer:n,onObjectsAddedFromAssets:S,canInstallPrivateAsset:P,resourceManagementProps:o})]})}})}},,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){"use strict";var r=n(3),a=n(17),o=n.n(a),i=n(905),s=n(8);t.a=o.a.memo((function(e){return Object(s.jsxs)(i.a,Object(r.a)(Object(r.a)({},e),{},{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",children:[Object(s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.57434 0.549462C5.83069 0.372673 6.1696 0.372673 6.42595 0.549461L11.2593 3.8828C11.4623 4.0228 11.5835 4.25363 11.5835 4.50021V9.50018C11.5835 10.6508 10.6508 11.5835 9.50015 11.5835H2.50017C1.3496 11.5835 0.41684 10.6508 0.41684 9.50018V4.50021C0.41684 4.25363 0.538047 4.0228 0.741038 3.8828L5.57434 0.549462ZM6.00015 2.07794L1.91684 4.89403V9.50018C1.91684 9.82235 2.178 10.0835 2.50017 10.0835H9.50015C9.82233 10.0835 10.0835 9.82236 10.0835 9.50018V4.89403L6.00015 2.07794Z",fill:"currentColor"}),Object(s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.83308 7.91624C5.51095 7.91624 5.24977 8.1774 5.24977 8.49958V10.0829H6.74975V8.49958C6.74975 8.17739 6.4886 7.91624 6.16641 7.91624H5.83308ZM3.74977 8.49958C3.74977 7.34895 4.68254 6.41624 5.83308 6.41624H6.16641C7.31703 6.41624 8.24975 7.34896 8.24975 8.49958V10.8329C8.24975 11.2471 7.91396 11.5829 7.49975 11.5829H4.49977C4.08555 11.5829 3.74977 11.2471 3.74977 10.8329V8.49958Z",fill:"currentColor"})]}))}))},,,,,,function(e,t,n){"use strict";var r=n(17),a=n(306),o=n(26),i=n(603),s=r.memo((function(e){var t=e.fileMetadata,n=e.storageProvider,s=e.projectName,c=e.i18n,u=r.useContext(a.a),l=r.useContext(i.b).hasUnsavedChanges,d=l?" *":"",b="LocalFile"===n.internalName?t&&t.fileIdentifier:s,p=b&&!n.hiddenInSaveDialog?c._(n.name):null;return r.useEffect((function(){var e=["GDevelop 5",b?"".concat(b).concat(d):"",p].filter(Boolean).join(" - ");o.b.setTitle(e),o.b.setTitleBarColor(u.titlebar.backgroundColor)}),[b,d,l,u.titlebar.backgroundColor,p]),null}));t.a=s},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var r=n(34),a=n(9),o=n(17),i=n.n(o),s=n(336),c=n(303),u=n(298),l=n(352),d=n(295),b=n(26),p=n(296),j=n(39),h=n(956),f=n(1273),g=n(55),m=n(297),O=n(12),v=n.n(O),x=n(8),y=v()("electron"),C={logo:{width:"100%",aspectRatio:"16 / 5",objectFit:"cover"}},k=[{name:"Cl\xe9ment Pasteau",description:"Core development team",link:"https://github.com/ClementPasteau"},{name:"AlexandreSi",description:"Core development team",link:"https://github.com/AlexandreSi"},{name:"Victor Levasseur",description:"Numerous code contributions to GDevelop and community moderation"},{name:"Lizard-13",description:"Numerous code contributions to GDevelop and community moderation"},{name:"Christina 'Castpixel' Antoinette Neofotistou",description:"Art and assets for the 8-bit Space Shooter example.",link:"https://www.patreon.com/castpixel"},{name:"ale26reg",description:"Contributions to GDevelop"},{name:"dos1",description:"Contributions to GDevelop"},{name:"Aur\xe9lien Vivet",description:"Numerous code contributions to GDevelop and community management",link:"https://www.witly.fr"},{name:"Todor Imreorov",description:"Numerous code contributions to GDevelop"},{name:"brylie",description:"Contributions to GDevelop"},{name:"Nnarol",description:"Contributions to GDevelop"},{name:"wild-master",description:"Contributions to GDevelop"},{name:"RandomShaper",description:"Contributions to GDevelop"},{name:"RyanNerd",description:"Contributions to GDevelop"},{name:"greater",description:"Contributions to GDevelop"},{name:"triptych",description:"Contributions to GDevelop"},{name:"Wend1go",description:"Contributions to GDevelop, Tutorials, Examples"},{name:"mattiascibien",description:"Contributions to GDevelop"},{name:"araujo921",description:"Contributions to GDevelop"},{name:"ronnystandtke",description:"Contributions to GDevelop"},{name:"Thomas Flecy",description:"Contributions to GDevelop (original sound object extension)"},{name:"Arthur Pacaud (arthuro555)",description:"Numerous code contributions to GDevelop and community moderation",link:"https://forum.gdevelop-app.com/u/arthuro555/summary"},{name:"The Gem Dev",description:"Code contributions to GDevelop and tutorials on Youtube",link:"https://www.youtube.com/channel/UCsZ4Ue8c94YLJDbGRafCI5Q"},{name:"D8H",description:"Numerous code contributions to GDevelop",link:"https://github.com/D8H"},{name:"Harsimran Singh Virk",description:"Numerous code contributions to GDevelop",link:"https://github.com/HarsimranVirk"},{name:"Nilay Majorwar",description:"Numerous code contributions to GDevelop",link:"https://github.com/nilaymaj"},{name:"ddabrahim",description:"Examples for GDevelop",link:"https://gametemplates.itch.io/"},{name:"Gametemplates",description:"Examples bundled with GDevelop",link:"https://gametemplates.itch.io/"},{name:"Mats",description:"Tutorials, Examples"},{name:"erdo",description:"Tutorials, Examples"},{name:"Jubileuksen3",description:"Tutorials, Examples"},{name:"LucaTexas",description:"Tutorials, Examples"},{name:"Kink",description:"Forum moderator, tutorials, Examples"},{name:"RicoTrooper",description:"Tutorials"},{name:"kalel",description:"Tutorials"},{name:"mtarzaim",description:"Tutorials"},{name:"Darkhog",description:"Examples"},{name:"Ricardo Graca",description:"Tutorials, Examples"},{name:"Diego Schiavon",description:"Indiegogo Ubuntu contributor"},{name:"conceptgame",description:"Indiegogo super contributor"},{name:"Jose David Cuartas Correa",description:"Author of Digitopolis (a book on how to make games with GDevelop 4)"},{name:"Fran\xe7ois Dumortier",description:"GDevelop logo design",link:"http://www.fdumortier.com"},{name:"Constantine Shvetsov",description:"Design of all the awesome icons"},{name:"MillionthVector",description:"Assets of various examples"},{name:"Tristan Rhodes (Victris Games)",description:"High quality extensions for GDevelop",link:"https://www.youtube.com/channel/UClbq1M-D83t_bYhfa1mfyEQ"},{name:"Entropy",description:"High quality extensions and art packs for GDevelop",link:"https://github.com/Entr0py404"},{name:"FlokiTV",description:"High quality extensions for GDevelop",link:"https://github.com/FlokiTV"},{name:"Silver-Streak",description:"Examples, bug reports, testing of new features, providing community support to users, community moderation",link:"https://github.com/Silver-Streak"},{name:"Jurfix",description:"Discord moderation",link:"https://github.com/Jurfix"},{name:"Wishforge Games",description:"Making high quality tutorials",link:"https://www.wishforge.games/"},{name:"Sleeper Games",description:"Making the game feel starter",link:"https://twitter.com/Sleeper_Games"},{name:"VegeTato",description:"Extensions for GDevelop",link:"https://twitter.com/VegeTato_"},{name:"Leo Red",description:"Reviewing examples submissions",link:"https://github.com/Midhil457"},{name:"add_",description:"Extensions for GDevelop",link:"https://github.com/add00"},{name:"HelperWesley",description:"Examples and youtube content that is relevant to GDevelop",link:"https://www.youtube.com/channel/UC8RsU74-hU1pfNKHNMfiFfw"},{name:"UlisesFreitas",description:"Numerous examples and making external services that integrate with GDevelop games",link:"https://ulisesfreitas.itch.io/"},{name:"IttaloXD",description:"The GDevelop embassador in Brazil",link:"https://twitter.com/ittaloxd"},{name:"PANDAKO",description:"Translations in Japanese, extensions and blog",link:"https://gdevelop-jp.blogspot.com"}];function w(e){var t=e.onClose,n=e.updateStatus,o=i.a.useCallback((function(){b.b.openExternalURL("https://gdevelop.io/page/contribute/")}),[]),O=i.a.useCallback((function(e){e&&b.b.openExternalURL(e)}),[]),v=i.a.useState("about"),w=Object(r.a)(v,2),T=w[0],E=w[1],S=i.a.useContext(j.a).checkUpdates,P=Object(h.e)(n.status),I=Object(h.b)(n.status),A=Object(h.g)();return Object(x.jsxs)(c.c,{title:Object(x.jsx)(a.Trans,{id:"About GDevelop"}),actions:[Object(x.jsx)(u.a,{label:Object(x.jsx)(a.Trans,{id:"GDevelop Website"}),primary:!1,onClick:function(){return b.b.openExternalURL("https://gdevelop.io")}},"website"),Object(x.jsx)(u.a,{label:Object(x.jsx)(a.Trans,{id:"Close"}),primary:!1,onClick:t},"close")],secondaryActions:"changelog"===T?[Object(x.jsx)(u.a,{label:Object(x.jsx)(a.Trans,{id:"See all release notes"}),primary:!1,onClick:function(){return b.b.openExternalURL("https://github.com/4ian/GDevelop/releases")}},"see-all")]:void 0,onRequestClose:t,open:!0,maxWidth:"sm",fixedContent:Object(x.jsxs)(m.a,{noMargin:!0,children:[Object(x.jsx)("img",{src:"res/GD-logo.png",alt:"GDevelop logo",style:C.logo}),Object(x.jsx)(l.a,{value:T,onChange:E,options:[{value:"about",label:Object(x.jsx)(a.Trans,{id:"About GDevelop"})},{value:"changelog",label:Object(x.jsx)(a.Trans,{id:"What's new?"})},{value:"contributors",label:Object(x.jsx)(a.Trans,{id:"Contributors"})}]})]}),children:["about"===T&&Object(x.jsx)(i.a.Fragment,{children:Object(x.jsx)(d.c,{children:Object(x.jsxs)(m.a,{children:[Object(x.jsx)(p.a,{children:Object(x.jsx)(a.Trans,{id:"GDevelop is a full-featured, open-source game engine. Build and publish games for any mobile, desktop or web game store. It's super fast, easy to learn and powered by a community making it better every day."})}),Object(x.jsxs)(p.a,{allowSelection:!0,children:[Object(x.jsx)(a.Trans,{id:"This version of GDevelop is:"})," ",Object(g.b)()," ","(editor full version: ",Object(g.c)(),", core version:"," ",Object(g.a)(),")"]}),Object(x.jsx)(p.a,{size:"sub-title",children:Object(x.jsx)(a.Trans,{id:"Updates"})}),y&&P?Object(x.jsxs)(m.a,{noMargin:!0,children:[Object(x.jsx)(p.a,{children:P}),Object(x.jsx)(u.a,{label:I,onClick:function(){return S(Object(h.a)(n.status))}})]}):Object(x.jsx)(p.a,{children:Object(x.jsx)(a.Trans,{id:"No information about available updates."})}),!y&&Object(x.jsx)(p.a,{children:Object(h.f)(A)})]})})}),"changelog"===T&&Object(x.jsx)(d.a,{children:Object(x.jsx)(f.a,{})}),"contributors"===T&&Object(x.jsxs)(i.a.Fragment,{children:[Object(x.jsxs)(d.a,{children:[Object(x.jsx)(p.a,{children:Object(x.jsx)(a.Trans,{id:'GDevelop was created by Florian "4ian" Rival.'})}),Object(x.jsx)(p.a,{children:Object(x.jsx)(a.Trans,{id:"Contributors, in no particular order:"})})]}),Object(x.jsx)(s.a,{children:k.map((function(e){return Object(x.jsx)(s.b,{primaryText:e.name,secondaryText:e.description,secondaryTextLines:e.description.length<30?1:2,displayLinkButton:!!e.link,onOpenLink:function(){return O(e.link||"")}},e.name)}))}),Object(x.jsxs)(d.a,{expand:!0,children:[Object(x.jsx)(p.a,{children:Object(x.jsx)(a.Trans,{id:"Thanks to all users of GDevelop! There must be missing tons of people, please send your name if you've contributed and you're not listed."})}),Object(x.jsx)(d.c,{alignItems:"center",justifyContent:"center",children:Object(x.jsx)(u.a,{label:Object(x.jsx)(a.Trans,{id:"Contribute to GDevelop"}),onClick:o})})]})]})]})}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";(function(e){n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return d}));var r=n(307),a=n(95),o=(n(739),n(338)),i=e.gd,s=function(e,t,n,r){var s=Object(a.a)(t,(function(t){return e.has(t)}),n?"CopyOf":void 0),c=new i.Variable;n?Object(o.c)(c,n):c.setString("");var u=e.insert(s,c,r||e.count());return c.delete(),{name:s,variable:u}},c=function(e,t,n){var r=new i.Variable;Object(o.c)(r,t),e.insertAtIndex(r,n),r.delete()},u=function(e,t,n){var r=Object(a.a)(t,(function(t){return e.hasChild(t)}),"CopyOf"),s=new i.Variable;return Object(o.c)(s,n),e.insertChild(r,s),s.delete(),r},l=function(e){return Object(r.mapFor)(0,e.count(),(function(t){var n=e.getAt(t);return d(n)&&n.getChildrenCount()>0})).some(Boolean)},d=function(e){return!i.Variable.isPrimitive(e.getType())}}).call(this,n(25))},function(e,t,n){"use strict";(function(e){n.d(t,"i",(function(){return c})),n.d(t,"k",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"g",(function(){return b})),n.d(t,"j",(function(){return p})),n.d(t,"h",(function(){return j})),n.d(t,"l",(function(){return f})),n.d(t,"e",(function(){return g})),n.d(t,"a",(function(){return m})),n.d(t,"f",(function(){return O})),n.d(t,"b",(function(){return x}));var r=n(19),a=n(24),o=n(307),i=n(739),s=e.gd,c="$!",u="$.$",l=function(e){return e[e.length-1]?e[e.length-1].variable:null},d=function(e){return e[e.length-1]?e[e.length-1].nodeId:null},b=function(e){return e.length?e[0]:null},p=function(e,t){return t.map((function(e){return e.variable})).includes(e)},j=function(e,t){for(var n,r=e.split(u),a=null,o=null,i=null,l=[],d=-1;d<r.length-1;){if(i=r[d+=1],0===d&&i.startsWith(c)&&(i=(n=i).slice(c.length,n.length)),a)if(a.getType()===s.Variable.Array){var b=parseInt(i,10);if(b>=a.getChildrenCount())return{variable:null,lineage:l,depth:d,name:null};o=a.getAtIndex(b)}else{if(!a.hasChild(i))return{variable:null,lineage:l,depth:d,name:null};o=a.getChild(i)}else o=t.get(i);d<r.length-1&&l.push({nodeId:r.slice(0,d+1).join(u),name:i,variable:o}),a=o}return{variable:o,name:i,depth:d,lineage:l}},h=function e(t,n){var i,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",l=[],d=Object(a.a)(t);try{var b=function(){var t=i.value,n=t.name,a=t.variable,d=c?"".concat(c).concat(u).concat(n):n;if(!a.isFolded()&&a.getChildrenCount()>0&&l.push(d),a.getType()===s.Variable.Array){var b=Object(o.mapFor)(0,a.getChildrenCount(),(function(e){return{name:e.toString(),variable:a.getAtIndex(e)}}));l=[].concat(Object(r.a)(l),Object(r.a)(e(b,l,d)))}else if(a.getType()===s.Variable.Structure){var p=a.getAllChildrenNames().toJSArray().map((function(e,t){return{variable:a.getChild(e),name:e}}));l=[].concat(Object(r.a)(l),Object(r.a)(e(p,l,d)))}};for(d.s();!(i=d.n()).done;)b()}catch(p){d.e(p)}finally{d.f()}return l},f=function(e,t,n){var a=Object(r.a)(e),o=a.indexOf(t),i=a.map((function(e,n){return e.startsWith("".concat(t).concat(u))?n:null})),s=t.split(u),c=s[s.length-1];return[o].concat(Object(r.a)(i)).forEach((function(e){if(!(null===e||e<0)){var t=a[e].split(u);t[t.indexOf(c)]=n,a.splice(e,1,t.join(u))}})),a},g=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[],r=0;r<e.count();r+=1)n.push({name:"".concat(t?c:"").concat(e.getNameAt(r)),variable:e.getAt(r)});return h(n,[])},m=function(e,t,n){t.forEach((function(t){var r=j(t,e).variable;r&&r.setFolded(n)}))},O=function(e,t){var n=t.lineage,r=l(n),a=e.lineage,o=l(a);if(o&&r){if(r.getType()===s.Variable.Structure&&o.getType()===s.Variable.Structure&&o!==r)return"FromStructureToAnotherStructure";if(r.getType()===s.Variable.Structure&&o===r)return"InsideSameStructure";if(r.getType()===s.Variable.Array&&o.getType()===s.Variable.Array&&o!==r)return"FromArrayToAnotherArray";if(r.getType()===s.Variable.Array&&o===r)return"InsideSameArray";if(r.getType()===s.Variable.Array&&o.getType()===s.Variable.Structure)return"FromStructureToArray";if(r.getType()===s.Variable.Structure&&o.getType()===s.Variable.Array)return"FromArrayToStructure"}return o||r?!o&&r&&r.getType()===s.Variable.Structure?"TopLevelToStructure":!o&&r&&r.getType()===s.Variable.Array?"TopLevelToArray":o&&!r&&o.getType()===s.Variable.Structure?"StructureToTopLevel":o&&!r&&o.getType()===s.Variable.Array?"ArrayToTopLevel":null:"InsideTopLevel"},v=function e(t){var n,a,c=t.variable,l=t.variableName,d=t.nodeId,b=t.searchText,p=t.acc;switch(c.getType()){case s.Variable.Boolean:return Object(i.a)(l).includes(b)?[d]:[];case s.Variable.String:return Object(i.a)(l).includes(b)||Object(i.a)(c.getString()).includes(b)?[d]:[];case s.Variable.Number:return Object(i.a)(l).includes(b)||c.getValue().toString().includes(b)?[d]:[];case s.Variable.Array:return n=Object(r.a)(p),Object(i.a)(l).includes(b)&&n.push(d),a=Object(o.mapFor)(0,c.getChildrenCount(),(function(t){var r=c.getAtIndex(t);return e({variable:r,variableName:"",nodeId:"".concat(d).concat(u).concat(t),searchText:b,acc:n})})).flat(),[].concat(Object(r.a)(n),Object(r.a)(a));case s.Variable.Structure:return n=Object(r.a)(p),Object(i.a)(l).includes(b)&&n.push(d),a=c.getAllChildrenNames().toJSArray().map((function(t){var n=c.getChild(t);return Array.from(new Set(e({variable:n,variableName:t,nodeId:"".concat(d).concat(u).concat(t),searchText:b,acc:p})))})).flat(),[].concat(Object(r.a)(n),Object(r.a)(a));default:return[]}},x=function(e,t,n){return Object(o.mapFor)(0,e.count(),(function(r){var a=e.getAt(r),o=e.getNameAt(r);return v({variable:a,variableName:o,nodeId:n?"".concat(n).concat(o):o,searchText:t,acc:[]})})).flat()}}).call(this,n(25))},function(e,t,n){"use strict";(function(e){var r,a,o,i=n(1),s=n(17),c=n(322),u=n(321),l=n(1473),d=n(1474),b=n(1475),p=n(1476),j=n(1477),h=n(295),f=n(306),g=n(8),m=e.gd;t.a=function(e){var t=s.useContext(f.a),n=function(){var e;return a||(e={},Object(i.a)(e,m.Variable.String,l.a),Object(i.a)(e,m.Variable.Number,d.a),Object(i.a)(e,m.Variable.Boolean,b.a),Object(i.a)(e,m.Variable.Array,p.a),Object(i.a)(e,m.Variable.Structure,j.a),a=e),a}()[e.variableType];return Object(g.jsxs)(h.c,{alignItems:"center",noMargin:!0,children:[Object(g.jsx)(n,{fontSize:"small",htmlColor:e.isHighlighted?t.listItem.selectedTextColor:void 0}),Object(g.jsx)(h.d,{}),Object(g.jsx)(c.a,{value:e.variableType,margin:"none",stopPropagationOnClick:!0,onChange:function(t){return e.onChange(function(){var e;return o||(e={},Object(i.a)(e,m.Variable.String,"string"),Object(i.a)(e,m.Variable.Number,"number"),Object(i.a)(e,m.Variable.Boolean,"boolean"),Object(i.a)(e,m.Variable.Array,"array"),Object(i.a)(e,m.Variable.Structure,"structure"),o=e),o}()[t.target.value])},inputStyle:e.isHighlighted?{color:t.listItem.selectedTextColor}:void 0,disabled:e.disabled,children:(r||(r=[Object(g.jsx)(u.a,{primaryText:{id:"String"},value:m.Variable.String},"string"),Object(g.jsx)(u.a,{primaryText:{id:"Number"},value:m.Variable.Number},"number"),Object(g.jsx)(u.a,{primaryText:{id:"Boolean"},value:m.Variable.Boolean},"boolean"),Object(g.jsx)(u.a,{primaryText:{id:"Array"},value:m.Variable.Array},"array"),Object(g.jsx)(u.a,{primaryText:{id:"Structure"},value:m.Variable.Structure},"structure")]),r)})]})}}).call(this,n(25))},function(e,t,n){"use strict";var r=n(3),a=n(17),o=n(905),i=n(8);t.a=a.memo((function(e){return Object(i.jsxs)(o.a,Object(r.a)(Object(r.a)({},e),{},{viewBox:"0 0 12 8",children:[Object(i.jsx)("path",{d:"M0.0850851 6.76784L2.39304 1.55591C2.55395 1.19651 2.84708 0.978882 3.24447 0.978882H3.3296C3.72674 0.978882 4.01061 1.19647 4.17135 1.55591L6.47939 6.76784C6.52669 6.8719 6.55513 6.96645 6.55513 7.06109C6.55513 7.44889 6.25241 7.76103 5.86457 7.76103C5.52407 7.76103 5.29701 7.56242 5.16463 7.25966L4.7201 6.21925H1.80671L1.34321 7.30704C1.22021 7.59078 0.974341 7.76103 0.671625 7.76103C0.293126 7.76103 0 7.45835 0 7.07998C0 6.97592 0.0377881 6.8719 0.0850851 6.76784ZM4.1809 4.93281L3.26332 2.74776L2.34583 4.93281H4.1809Z"}),Object(i.jsx)("path",{d:"M7.24512 6.24762V6.22868C7.24512 5.122 8.08699 4.6112 9.28827 4.6112C9.79911 4.6112 10.1681 4.69633 10.5275 4.81932V4.7342C10.5275 4.13823 10.1586 3.80723 9.43967 3.80723C9.0424 3.80723 8.72079 3.86396 8.44648 3.94913C8.36139 3.97749 8.30458 3.98691 8.23827 3.98691C7.90732 3.98691 7.64247 3.73154 7.64247 3.4005C7.64247 3.14508 7.80321 2.92753 8.03019 2.84236C8.48422 2.67211 8.97617 2.57751 9.64775 2.57751C10.4328 2.57751 11.0004 2.7856 11.3599 3.14504C11.7382 3.52337 11.9085 4.08151 11.9085 4.76256V7.07052C11.9085 7.4584 11.5963 7.76104 11.2085 7.76104C10.7923 7.76104 10.518 7.46783 10.518 7.16511V7.15564C10.168 7.54344 9.6855 7.79882 8.98564 7.79882C8.03019 7.79891 7.24512 7.25036 7.24512 6.24762ZM10.5463 5.91654V5.66116C10.3004 5.54767 9.97879 5.47197 9.62882 5.47197C9.01392 5.47197 8.63562 5.71792 8.63562 6.17192V6.19085C8.63562 6.57869 8.95723 6.80567 9.42069 6.80567C10.0923 6.80571 10.5463 6.43685 10.5463 5.91654Z"})]}))}))},function(e,t,n){"use strict";var r=n(3),a=n(17),o=n(905),i=n(8);t.a=a.memo((function(e){return Object(i.jsxs)(o.a,Object(r.a)(Object(r.a)({},e),{},{viewBox:"0 0 18 7",children:[Object(i.jsx)("path",{d:"M0.699536 1.81574C0.732104 1.93193 0.822074 2.02812 0.943348 2.07632C1.06462 2.12452 1.20367 2.1194 1.32026 2.06245L1.66832 1.89235V5.68893C1.66832 5.9038 1.86075 6.07801 2.09809 6.07801H2.94248C3.17982 6.07801 3.37225 5.9038 3.37225 5.68893V0.47563C3.37225 0.26076 3.17982 0.0865479 2.94248 0.0865479H2.29848C2.17914 0.0865479 2.06158 0.113205 1.95637 0.16423L0.738721 0.754181C0.56458 0.838594 0.476394 1.0196 0.524949 1.19294L0.699536 1.81574Z"}),Object(i.jsx)("path",{d:"M10.8866 5.68902V5.01903C10.8866 4.80416 10.6941 4.62994 10.4568 4.62994H9.05518C10.0388 3.74152 10.7474 2.93461 10.7474 1.92481C10.7474 0.997814 10.0548 0 8.53425 0C7.8269 0 7.14796 0.221131 6.62264 0.622734L6.5923 0.64589C6.4456 0.758105 6.3989 0.944837 6.47794 1.1033L6.76629 1.68127C6.82154 1.79207 6.93084 1.87305 7.06171 1.90031C7.19257 1.92757 7.32991 1.89782 7.43311 1.82007L7.4862 1.78009C7.6506 1.65609 7.98491 1.44815 8.37773 1.44815C8.83219 1.44815 9.01749 1.61139 9.01749 2.00701C9.01079 2.59898 8.43573 3.18913 7.05888 4.37543L6.44285 4.91698C6.35949 4.99022 6.3125 5.09092 6.3125 5.19607V5.68902C6.3125 5.90389 6.50493 6.0781 6.74228 6.0781H10.4568C10.6941 6.0781 10.8866 5.90389 10.8866 5.68902Z"}),Object(i.jsx)("path",{d:"M12.776 5.72618L12.8104 5.74657C13.135 5.9395 13.7841 6.16473 14.5449 6.16473C16.2926 6.16473 17.0887 5.14242 17.0887 4.19267C17.0887 3.62951 16.8073 3.13588 16.3383 2.81088C16.681 2.50406 16.8712 2.10448 16.8712 1.65717C16.8712 0.858943 16.214 0 14.7711 0C13.9993 0 13.3383 0.257885 13.0067 0.478679L12.9752 0.499614C12.8219 0.601597 12.761 0.782675 12.8253 0.944703L13.0621 1.54125C13.1077 1.65596 13.21 1.74468 13.3385 1.78103C13.4669 1.81731 13.6069 1.79705 13.7164 1.72617L13.7729 1.68961C13.9708 1.56151 14.3105 1.43227 14.6231 1.43227C15.1324 1.43227 15.1324 1.66706 15.1324 1.76736C15.1324 2.11794 14.5556 2.19683 14.3535 2.19683H13.8748C13.6374 2.19683 13.445 2.37105 13.445 2.58592V3.20071C13.445 3.41558 13.6374 3.58979 13.8748 3.58979H14.3535C14.5815 3.58979 15.3258 3.6324 15.3325 4.18479C15.3338 4.25062 15.3217 4.41763 15.1809 4.54748C15.0154 4.70016 14.7389 4.7322 14.5362 4.7322C14.1296 4.7322 13.7199 4.58033 13.5438 4.47822L13.4879 4.44584C13.3774 4.38182 13.2406 4.36701 13.1166 4.40565C12.9925 4.44429 12.8947 4.53207 12.8511 4.64408L12.6066 5.27126C12.5408 5.44022 12.6107 5.62789 12.776 5.72618Z"})]}))}))},function(e,t,n){"use strict";var r=n(3),a=n(17),o=n(905),i=n(8);t.a=a.memo((function(e){return Object(i.jsxs)(o.a,Object(r.a)(Object(r.a)({},e),{},{viewBox:"0 0 17 7",children:[Object(i.jsx)("path",{fill:"none",d:"M9.5 3.5L11.8824 6L16 1",stroke:"currentColor",strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"}),Object(i.jsx)("path",{fill:"none",d:"M1 1L6 6M6 1L1 6",stroke:"currentColor",strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"})]}))}))},function(e,t,n){"use strict";var r=n(3),a=n(17),o=n(905),i=n(8);t.a=a.memo((function(e){return Object(i.jsxs)(o.a,Object(r.a)(Object(r.a)({},e),{},{viewBox:"0 0 10 12",children:[Object(i.jsx)("path",{d:"M3.67764 2.0539V0.930176H0.61294C0.450378 0.930176 0.294474 0.989372 0.179526 1.09474C0.0645775 1.20011 0 1.34302 0 1.49204V10.4818C0 10.6308 0.0645775 10.7737 0.179526 10.8791C0.294474 10.9845 0.450378 11.0437 0.61294 11.0437H3.67764V9.91996H1.22588V2.0539H3.67764Z"}),Object(i.jsx)("path",{d:"M5.5167 9.91998L5.5167 11.0437L8.5814 11.0437C8.74396 11.0437 8.89986 10.9845 9.01481 10.8791C9.12976 10.7738 9.19434 10.6309 9.19434 10.4818L9.19434 1.49206C9.19434 1.34305 9.12976 1.20013 9.01481 1.09476C8.89986 0.989394 8.74396 0.9302 8.5814 0.9302L5.5167 0.930199L5.5167 2.05392L7.96846 2.05392L7.96846 9.91998L5.5167 9.91998Z"})]}))}))},function(e,t,n){"use strict";var r=n(3),a=n(17),o=n(905),i=n(8);t.a=a.memo((function(e){return Object(i.jsxs)(o.a,Object(r.a)(Object(r.a)({},e),{},{viewBox:"0 0 12 12",children:[Object(i.jsx)("path",{d:"M9.40063 5.29672L9.40063 5.29673L10.34 6.23611L9.40065 7.17549C9.29799 7.27815 9.2403 7.41741 9.2403 7.56259V9.80103C9.2403 10.1849 8.92798 10.4972 8.54415 10.4972H7.6322C7.32986 10.4972 7.08477 10.7423 7.08477 11.0446C7.08477 11.347 7.32986 11.592 7.6322 11.592H8.54415C9.53177 11.592 10.3352 10.7886 10.3352 9.80103V7.78934L11.5013 6.62319C11.7151 6.40941 11.7151 6.0628 11.5013 5.84901L11.466 5.88436L11.5013 5.84901L10.3352 4.68287V2.67118C10.3352 1.68359 9.53177 0.880176 8.54415 0.880176H7.6322C7.32986 0.880176 7.08477 1.12527 7.08477 1.42761C7.08477 1.72995 7.32986 1.97504 7.6322 1.97504H8.54415C8.92798 1.97504 9.2403 2.28736 9.2403 2.67118V4.90962C9.2403 5.05481 9.29799 5.19406 9.40063 5.29672Z",strokeWidth:"0.1"}),Object(i.jsx)("path",{d:"M3.21104 7.17549L3.21103 7.17549L2.27163 6.23611L3.21101 5.29673C3.31367 5.19406 3.37136 5.05481 3.37136 4.90962V2.67118C3.37136 2.28736 3.68368 1.97504 4.06751 1.97504H4.97946C5.28181 1.97504 5.5269 1.72995 5.5269 1.42761C5.5269 1.12527 5.28181 0.880176 4.97946 0.880176H4.06751C3.07989 0.880176 2.2765 1.68359 2.2765 2.67118V4.68287L1.11035 5.84901C0.896552 6.0628 0.896552 6.40939 1.11035 6.62319L2.2765 7.78934V9.80103C2.2765 10.7886 3.07989 11.592 4.06751 11.592H4.97946C5.28181 11.592 5.5269 11.347 5.5269 11.0446C5.5269 10.7423 5.28181 10.4972 4.97946 10.4972H4.06751C3.68368 10.4972 3.37136 10.1849 3.37136 9.80103V7.56259C3.37136 7.41741 3.31368 7.27816 3.21104 7.17549Z",strokeWidth:"0.1"})]}))}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="Variables"},function(e,t,n){"use strict";var r=n(9),a=n(17),o=n(2592),i=n(328),s=n.n(i),c=n(1480),u=n.n(c),l=n(1481),d=n.n(l),b=n(395),p=n.n(b),j=n(559),h=n(981),f=n(295),g=n(298),m=n(361),O=n(8);t.a=function(e){var t=[{key:"copy",Icon:j.a,label:Object(O.jsx)(r.Trans,{id:"Copy"}),tooltip:{id:"Copy"},onClick:e.onCopy,disabled:!e.canCopy,display:!0},{key:"paste",Icon:h.a,label:Object(O.jsx)(r.Trans,{id:"Paste"}),tooltip:{id:"Paste"},onClick:e.onPaste,disabled:!e.canPaste,display:!0},{key:"delete",Icon:p.a,label:Object(O.jsx)(r.Trans,{id:"Delete"}),tooltip:{id:"Delete"},onClick:e.onDelete,disabled:!e.canDelete,display:!0},{key:"undo",Icon:u.a,label:Object(O.jsx)(r.Trans,{id:"Undo"}),tooltip:{id:"Undo"},onClick:e.onUndo,disabled:!e.canUndo,display:!e.hideHistoryChangeButtons},{key:"redo",Icon:d.a,label:Object(O.jsx)(r.Trans,{id:"Redo"}),tooltip:{id:"Redo"},onClick:e.onRedo,disabled:!e.canRedo,display:!e.hideHistoryChangeButtons}].filter((function(e){return e.display}));return Object(O.jsxs)(f.c,{justifyContent:"space-between",alignItems:"center",children:[Object(O.jsx)(f.a,{noMargin:!0,children:Object(O.jsx)(f.c,{noMargin:!0,children:t.map((function(t,n){var r=t.key,i=t.Icon,s=t.label,c=t.tooltip,u=t.onClick,l=t.disabled;return Object(O.jsxs)(a.Fragment,{children:[n>0?Object(O.jsx)(f.d,{}):null,e.isNarrow?Object(O.jsx)(o.a,{tooltip:c,onClick:u,size:"small",disabled:l,children:Object(O.jsx)(i,{})},r):Object(O.jsx)(g.a,{leftIcon:Object(O.jsx)(i,{}),disabled:l,label:s,onClick:u},r)]},r)}))})}),Object(O.jsx)(f.a,{expand:!0,children:Object(O.jsx)(m.a,{value:e.searchText,onRequestSearch:e.onChangeSearchText,onChange:e.onChangeSearchText,placeholder:{id:"Search variables"}})}),Object(O.jsx)(f.a,{noMargin:!0,children:e.isNarrow?Object(O.jsx)(o.a,{tooltip:{id:"Add variable"},onClick:e.onAdd,size:"small",children:Object(O.jsx)(s.a,{})},"add-variable"):Object(O.jsx)(g.a,{primary:!0,onClick:e.onAdd,label:Object(O.jsx)(r.Trans,{id:"Add variable"}),leftIcon:Object(O.jsx)(s.a,{})},"add-variable")})]})}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e){e.exports=JSON.parse('{"\u0410":"A","\u0411":"B","\u0412":"V","\u0413":"G","\u0414":"D","\u0415":"E","\u0401":"E","\u0416":"Zh","\u0417":"Z","\u0418":"I","\u0419":"J","\u041a":"K","\u041b":"L","\u041c":"M","\u041d":"N","\u041e":"O","\u041f":"P","\u0420":"R","\u0421":"S","\u0422":"T","\u0423":"U","\u0424":"F","\u0425":"H","\u0426":"Ts","\u0427":"Ch","\u0428":"Sh","\u0429":"Shch","\u042b":"Y","\u042d":"E","\u042e":"Yu","\u042f":"Ya","\u0430":"a","\u0431":"b","\u0432":"v","\u0433":"g","\u0434":"d","\u0435":"e","\u0451":"e","\u0436":"zh","\u0437":"z","\u0438":"i","\u0439":"j","\u043a":"k","\u043b":"l","\u043c":"m","\u043d":"n","\u043e":"o","\u043f":"p","\u0440":"r","\u0441":"s","\u0442":"t","\u0443":"u","\u0444":"f","\u0445":"h","\u0446":"ts","\u0447":"ch","\u0448":"sh","\u0449":"shch","\u044b":"y","\u044d":"e","\u044e":"yu","\u044f":"ya","\u042a":"","\u044a":"","\u042c":"","\u044c":""}')},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var r=n(6),a=n(5),o=n(10),i=n(11),s=n(9),c=n(17),u=n(450),l=n(430),d=n(316),b=n(295),p=n(8),j=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e=this.props.behaviorSharedData,t=Object(l.a)(e.getProperties(),(function(e){return e.getProperties()}),(function(e,t,n){e.updateProperty(t,n)}));return Object(p.jsx)(b.a,{expand:!0,children:t.length?Object(p.jsx)(u.a,{schema:t,instances:[e],resourceManagementProps:this.props.resourceManagementProps}):Object(p.jsx)(d.a,{children:Object(p.jsx)(s.Trans,{id:"There is nothing to configure for this behavior. You can still use events to interact with the object and this behavior."})})})}}]),n}(c.Component)},,function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e,t){return 0===e.getPointer(t)}},,,,,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return P}));var r=n(19),a=n(6),o=n(5),i=n(10),s=n(11),c=n(9),u=n(17),l=n(298),d=n(305),b=n(303),p=n(295),j=n(320),h=n(592),f=n(1689),g=n(60),m=n(12),O=n.n(m),v=n(296),x=n(297),y=n(312),C=n(8),k=O()("path"),w=e.gd,T=[512],E=[192,144,96,72,48,36],S=[1024,180,167,152,144,120,114,100,87,80,76,72,60,58,57,50,40,29,20],P=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(e){var o;return Object(a.a)(this,n),(o=t.call(this,e))._generateFromFile=function(){var e=o.props,t=e.project,n=e.resourceManagementProps,a=n.resourceSources.filter((function(e){return"image"===e.kind})).filter((function(e){return e.name.startsWith("local-file-opener")}))[0];if(!a)throw new Error("No supported resource source - only local files are supported.");n.onChooseResource({initialSourceName:a.name,multiSelection:!1,resourceKind:"image"}).then((function(e){if(e.length&&k){var n=t.getResourcesManager(),a=k.dirname(t.getProjectFile()),i=k.resolve(a,e[0].getFile());e.forEach((function(e){return e.delete()})),Promise.all([].concat(Object(r.a)(T.map((function(e){return Object(f.b)(i,k.join(a,"desktop-icon-".concat(e,".png")),{width:e,height:e})}))),Object(r.a)(E.map((function(e){return Object(f.b)(i,k.join(a,"android-icon-".concat(e,".png")),{width:e,height:e})}))),[Object(f.b)(i,k.join(a,"android-windowSplashScreenAnimatedIcon.png"),{width:864,height:864,transparentBorderSize:144})],Object(r.a)(S.map((function(e){return Object(f.b)(i,k.join(a,"ios-icon-".concat(e,".png")),{width:e,height:e})}))))).then((function(e){if(-1===e.indexOf(!1)){var a=[].concat(Object(r.a)(T.map((function(e){return"desktop-icon-".concat(e,".png")}))),Object(r.a)(E.map((function(e){return"android-icon-".concat(e,".png")}))),["android-windowSplashScreenAnimatedIcon.png"],Object(r.a)(S.map((function(e){return"ios-icon-".concat(e,".png")}))));a.forEach((function(e){if(n.hasResource(e))n.getResource(e).setFile(e);else{var t=new w.ImageResource;t.setFile(e),t.setName(e),n.addResource(t),t.delete()}})),j.a.burstUrlsCacheForResources(t,a),setTimeout((function(){o.setState({desktopIconResourceNames:T.map((function(e){return"desktop-icon-".concat(e,".png")})),androidIconResourceNames:E.map((function(e){return"android-icon-".concat(e,".png")})),androidWindowSplashScreenAnimatedIconResourceName:"android-windowSplashScreenAnimatedIcon.png",iosIconResourceNames:S.map((function(e){return"ios-icon-".concat(e,".png")}))})}),200)}else Object(g.a)({message:"Some icons could not be generated!",rawError:void 0,errorId:"icon-generation-error",doNotReport:!0})}))}}))},o.onApply=function(){var e=o.props.project,t=o.state,n=t.thumbnailResourceName,r=t.desktopIconResourceNames,a=t.androidIconResourceNames,i=t.androidWindowSplashScreenAnimatedIconResourceName,s=t.iosIconResourceNames,c=e.getPlatformSpecificAssets();c.set("liluo","thumbnail",n),T.forEach((function(e,t){c.set("desktop","icon-".concat(e),r[t])})),E.forEach((function(e,t){c.set("android","icon-".concat(e),a[t])})),c.set("android","windowSplashScreenAnimatedIcon",i),S.forEach((function(e,t){c.set("ios","icon-".concat(e),s[t])})),o.props.onApply()},o.state=o._loadFrom(e.project),o}return Object(o.a)(n,[{key:"_loadFrom",value:function(e){var t=e.getPlatformSpecificAssets();return{thumbnailResourceName:t.get("liluo","thumbnail"),desktopIconResourceNames:T.map((function(e){return t.get("desktop","icon-".concat(e))})),androidIconResourceNames:E.map((function(e){return t.get("android","icon-".concat(e))})),androidWindowSplashScreenAnimatedIconResourceName:e.getPlatformSpecificAssets().get("android","windowSplashScreenAnimatedIcon"),iosIconResourceNames:S.map((function(e){return t.get("ios","icon-".concat(e))})),displayGamesPlatformThumbnailWarning:!1}}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){(!this.props.open&&e.open||e.open&&this.props.project!==e.project)&&this.setState(this._loadFrom(e.project))}},{key:"render",value:function(){var e=this,t=[Object(C.jsx)(l.a,{label:Object(C.jsx)(c.Trans,{id:"Cancel"}),primary:!1,onClick:this.props.onClose},"cancel"),Object(C.jsx)(b.a,{label:Object(C.jsx)(c.Trans,{id:"Apply"}),primary:!0,onClick:this.onApply},"apply")],n=this.props,a=n.project,o=n.resourceManagementProps,i=this.state,s=i.thumbnailResourceName,u=i.desktopIconResourceNames,j=i.androidIconResourceNames,g=i.androidWindowSplashScreenAnimatedIconResourceName,m=i.iosIconResourceNames,O=i.displayGamesPlatformThumbnailWarning;return Object(C.jsx)(b.c,{title:Object(C.jsx)(c.Trans,{id:"Project icons"}),actions:t,open:this.props.open,onRequestClose:this.props.onClose,onApply:this.onApply,children:Object(C.jsxs)(x.a,{noMargin:!0,children:[Object(C.jsx)(p.c,{justifyContent:"center",noMargin:!0,children:Object(f.a)()?Object(C.jsx)(d.a,{primary:!0,label:Object(C.jsx)(c.Trans,{id:"Generate icons from a file"}),onClick:this._generateFromFile}):Object(C.jsx)(v.a,{children:Object(C.jsx)(c.Trans,{id:"Download GDevelop desktop version to generate the Android and iOS icons of your game."})})}),Object(C.jsx)(v.a,{size:"sub-title",children:Object(C.jsx)(c.Trans,{id:"gd.games thumbnail"})}),Object(C.jsx)(h.a,{floatingLabelText:"gd.games thumbnail (1920x1080 px)",project:a,resourceManagementProps:o,resourceKind:"image",resourceName:s,onChange:function(t){e.setState({thumbnailResourceName:t,displayGamesPlatformThumbnailWarning:t!==e.state.thumbnailResourceName})}}),O?Object(C.jsx)(p.c,{children:Object(C.jsx)(y.a,{kind:"warning",children:Object(C.jsx)(c.Trans,{id:"You're about to change the thumbnail displayed on gd.games for your game. Once you have applied changes here, you will then need to publish a new version of your game on gd.games so that this new thumbnail is used."})})}):null,Object(C.jsx)(v.a,{size:"sub-title",children:Object(C.jsx)(c.Trans,{id:"Desktop (Windows, macOS and Linux) icon"})}),T.map((function(t,n){return Object(C.jsx)(h.a,{floatingLabelText:"Desktop icon (".concat(t,"x").concat(t," px)"),project:a,resourceManagementProps:o,resourceKind:"image",resourceName:u[n],onChange:function(t){var a=Object(r.a)(u);a[n]=t,e.setState({desktopIconResourceNames:a})}},t)})),Object(C.jsx)(v.a,{size:"sub-title",children:Object(C.jsx)(c.Trans,{id:"Android icons and Android 12+ splashscreen"})}),Object(C.jsx)(c.I18n,{children:function(t){var n=t.i18n;return Object(C.jsx)(h.a,{floatingLabelText:"Android 12+ splashscreen icon (576x576 px)",project:a,resourceManagementProps:o,resourceKind:"image",resourceName:g,onChange:function(t){e.setState({androidWindowSplashScreenAnimatedIconResourceName:t})},helperMarkdownText:n._({id:"The image should be at least 864x864px, and the logo must fit [within a circle of 576px](https://developer.android.com/guide/topics/ui/splash-screen#splash_screen_dimensions). Transparent borders are automatically added when generated to help ensuring this."})})}}),E.map((function(t,n){return Object(C.jsx)(h.a,{floatingLabelText:"Android icon (".concat(t,"x").concat(t," px)"),project:a,resourceManagementProps:o,resourceKind:"image",resourceName:j[n],onChange:function(t){var a=Object(r.a)(j);a[n]=t,e.setState({androidIconResourceNames:a})}},t)})),Object(C.jsx)(v.a,{size:"sub-title",children:Object(C.jsx)(c.Trans,{id:"iOS (iPhone and iPad) icons"})}),S.map((function(t,n){return Object(C.jsx)(h.a,{floatingLabelText:"iOS icon (".concat(t,"x").concat(t," px)"),project:a,resourceManagementProps:o,resourceKind:"image",resourceName:m[n],onChange:function(t){var a=Object(r.a)(m);a[n]=t,e.setState({iosIconResourceNames:a})}},t)}))]})})}}]),n}(u.Component)}).call(this,n(25))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var r=n(780),a=Object(r.a)("jimp"),o=function(){return!!a()},i=function(e,t,n){var r=n.width,o=n.height,i=n.transparentBorderSize,s=a();return s?s.read(e).then((function(e){return i?new Promise((function(n,a){new s(r,o,(function(s,c){s&&a(s),n(c.composite(e.contain(r-2*i,o-2*i),i,i).write(t))}))})):e.contain(r,o).write(t)})).then((function(){return!0})).catch((function(e){return console.error(e),!1})):Promise.resolve(!1)}},function(e,t,n){"use strict";n(17);var r=n(2620),a=n(2621),o=n(2592),i=n(2590),s=n(612),c=n.n(s),u=n(2593),l=n(917),d=n(303),b=n(8),p={appBar:{height:32,minHeight:32},toolbar:{height:32,minHeight:32,paddingLeft:15,paddingRight:15},title:{fontSize:"15px",flexGrow:1,textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}};t.a=function(e){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(d.b,{backgroundColor:"transparent"}),Object(b.jsx)(r.a,{position:"static",style:p.appBar,className:"safe-area-aware-top-margin",color:"primary",elevation:0,children:Object(b.jsxs)(a.a,{style:p.toolbar,children:[Object(b.jsx)(u.a,{title:e.title,placement:"bottom",enterDelay:l.a,children:Object(b.jsx)(i.a,{variant:"h6",style:p.title,children:e.title})}),Object(b.jsx)(o.a,{onClick:e.onClose,edge:"end",color:"inherit",size:"small",children:Object(b.jsx)(c.a,{})})]})})]})}},function(e,t,n){"use strict";var r=n(17),a=n(12),o=n.n(a),i=n(26),s=o()("electron"),c=o()("@electron/remote");t.a=r.memo((function(e){var t=e.shouldPrompt,n=e.i18n,a=e.language,o=e.hasUnsavedChanges,u=r.useRef(!0);return r.useEffect((function(){if(!i.b.isDev()){var e=[n._({id:"Are you sure you want to quit GDevelop?"}),o?n._({id:"Any unsaved changes in the project will be lost."}):""].filter(Boolean).join("\n");s?window.onbeforeunload=function(n){if(u.current&&t)return setTimeout((function(){i.b.showConfirmDialog(e)&&(u.current=!1,c.getCurrentWindow().close())}),10),n.returnValue=!0,!1}:window&&(window.onbeforeunload=t?function(){return e}:null)}}),[t,n,a,o]),null}))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return m}));var r=n(3),a=n(1),o=n(6),i=n(5),s=n(10),c=n(11),u=n(17),l=n(527),d=n(317),b=n.n(d),p=n(349),j=n(580),h=n(8),f=e.gd,g={flex:1},m=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e,t=this,n=f.asStandardEvent(this.props.event);return Object(h.jsx)(j.a,{leftIndentWidth:this.props.leftIndentWidth,windowWidth:this.props.windowWidth,className:b()((e={},Object(a.a)(e,p.o,!0),Object(a.a)(e,p.p,this.props.selected),Object(a.a)(e,p.h,!0),e)),renderConditionsList:function(e){var r=e.style,a=e.className;return Object(h.jsx)(l.a,{instrsList:n.getConditions(),style:r,className:a,selection:t.props.selection,areConditions:!0,onAddNewInstruction:t.props.onAddNewInstruction,onPasteInstructions:t.props.onPasteInstructions,onMoveToInstruction:t.props.onMoveToInstruction,onMoveToInstructionsList:t.props.onMoveToInstructionsList,onInstructionClick:t.props.onInstructionClick,onInstructionDoubleClick:t.props.onInstructionDoubleClick,onInstructionContextMenu:t.props.onInstructionContextMenu,onAddInstructionContextMenu:t.props.onAddInstructionContextMenu,onParameterClick:t.props.onParameterClick,disabled:t.props.disabled,renderObjectThumbnail:t.props.renderObjectThumbnail,screenType:t.props.screenType,windowWidth:t.props.windowWidth,globalObjectsContainer:t.props.globalObjectsContainer,objectsContainer:t.props.objectsContainer})},renderActionsList:function(e){var a=e.className;return Object(h.jsx)(l.a,{instrsList:n.getActions(),style:Object(r.a)({},g),className:a,selection:t.props.selection,areConditions:!1,onAddNewInstruction:t.props.onAddNewInstruction,onPasteInstructions:t.props.onPasteInstructions,onMoveToInstruction:t.props.onMoveToInstruction,onMoveToInstructionsList:t.props.onMoveToInstructionsList,onInstructionClick:t.props.onInstructionClick,onInstructionDoubleClick:t.props.onInstructionDoubleClick,onInstructionContextMenu:t.props.onInstructionContextMenu,onAddInstructionContextMenu:t.props.onAddInstructionContextMenu,onParameterClick:t.props.onParameterClick,disabled:t.props.disabled,renderObjectThumbnail:t.props.renderObjectThumbnail,screenType:t.props.screenType,windowWidth:t.props.windowWidth,globalObjectsContainer:t.props.globalObjectsContainer,objectsContainer:t.props.objectsContainer})}})}}]),n}(u.Component)}).call(this,n(25))},function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return E}));var r=n(3),a=n(1),o=n(9),i=n(17),s=n(307),c=n(317),u=n.n(c),l=n(349),d=n(527),b=n(1122),p=n(664),j=n(1954),h=n(1955),f=n(448),g=n(363),m=n(39),O=n(552),v=n(330),x=n(1956),y=n(2593),C=n(306),k=n(8),w=e.gd,T={container:{whiteSpace:"normal",wordWrap:"break-word",cursor:"pointer",marginBottom:1}},E="GD_DRAGGED_INSTRUCTION",S=Object(f.a)(E);t.a=function(e){var t=e.instruction,n=e.isCondition,c=e.onClick,f=e.onMoveToInstruction,E=e.onContextMenu,P=e.globalObjectsContainer,I=e.objectsContainer,A=i.useMemo((function(){return w.InstructionSentenceFormatter.get()}),[]),D=i.useContext(m.a),F=i.useContext(C.a).palette.type,M=D.values.eventsSheetUseAssignmentOperators,_=function(t){var n=e.instruction,r=e.disabled,o=e.renderObjectThumbnail,i=A.getAsFormattedText(n,t),c=t.getParametersCount();return Object(k.jsx)("span",{className:u()(Object(a.a)({},l.d,r)),"data-instruction":n.getType(),"data-instruction-inverted":n.isInverted()?"true":void 0,children:Object(s.mapFor)(0,i.size(),(function(r){var s,d,b=i.getTextFormatting(r).getUserData();if(!(b>=0&&b<c))return Object(k.jsx)("span",{children:0===r?(d=i.getString(r),d?d[0].toUpperCase()+d.substr(1):""):i.getString(r)},r);var f=t.getParameter(b),g="expression"===f.getType()?"number":f.getType(),m=!0;if(w.ParameterMetadata.isExpression("number",g)||w.ParameterMetadata.isExpression("string",g)||w.ParameterMetadata.isExpression("variable",g)){var O=n.getParameter(b).getRootNode(),x=new w.ExpressionValidator(w.JsPlatform.get(),P,I,g);O.visit(x),m=0===x.getErrors().size(),x.delete()}else if(w.ParameterMetadata.isObject(g)){var y=n.getParameter(b).getPlainString();m=(P.hasObjectNamed(y)||I.hasObjectNamed(y)||P.getObjectGroups().has(y)||I.getObjectGroups().has(y))&&(!f.getExtraInfo()||w.getTypeOfObject(P,I,y,!0)===f.getExtraInfo())}return Object(k.jsx)("span",{className:u()((s={},Object(a.a)(s,l.s,!0),Object(a.a)(s,l.m,!0),Object(a.a)(s,g,!0),s)),onClick:function(t){e.onParameterClick(t,b),"touch"===e.screenType&&t.stopPropagation()},onKeyPress:function(t){Object(v.a)(t)&&(e.onParameterClick(t,b),t.stopPropagation(),t.preventDefault())},tabIndex:0,children:p.a.renderInlineParameter({value:i.getString(r),expressionIsValid:m,parameterMetadata:f,renderObjectThumbnail:o,InvalidParameterValue:j.a,MissingParameterValue:h.a,useAssignmentOperators:M})},r)}))})},L="touch"!==Object(g.b)(),R=Object(O.a)(i.useCallback((function(e){E(e.clientX,e.clientY)}),[E]));return Object(k.jsx)(S,{beginDrag:function(){return c(),{isCondition:n}},canDrag:function(){return L},canDrop:function(e){return e.isCondition===n},drop:function(){f()},children:function(s){var c,p=s.connectDragSource,j=s.connectDropTarget,h=s.isOver,f=s.canDrop,g=n?w.MetadataProvider.getConditionMetadata(w.JsPlatform.get(),t.getType()):w.MetadataProvider.getActionMetadata(w.JsPlatform.get(),t.getType()),m=g.getSmallIconFilename(),O=m.startsWith("data:image/svg+xml")||m.includes("_black"),C=p(Object(k.jsxs)("div",Object(r.a)(Object(r.a)({style:T.container,className:u()((c={},Object(a.a)(c,l.s,!0),Object(a.a)(c,l.t,e.selected),c)),onClick:function(t){t.stopPropagation(),"touch"===e.screenType&&e.selected?e.onDoubleClick():e.onClick()},onDoubleClick:function(t){t.stopPropagation(),e.onDoubleClick()},onContextMenu:function(e){e.stopPropagation(),E(e.clientX,e.clientY)}},R),{},{onKeyPress:function(t){Object(v.g)(t)?(e.onDoubleClick(),t.stopPropagation(),t.preventDefault()):Object(v.a)(t)&&(e.onClick(),t.stopPropagation(),t.preventDefault())},tabIndex:0,children:[t.isInverted()&&Object(k.jsx)("img",{className:u()(Object(a.a)({},l.j,!0)),src:"res/contraire.png",alt:"Condition is negated"}),g.isAsync()&&(!g.isOptionallyAsync()||t.isAwaited())&&Object(k.jsx)(y.a,{title:Object(k.jsx)(o.Trans,{id:"Next actions (and sub-events) will wait for this action to be finished before running."}),placement:"top",children:Object(k.jsx)(x.a,{className:u()(Object(a.a)({},l.j,!0))})}),Object(k.jsx)("img",{className:u()(Object(a.a)({},l.j,!0)),src:m,alt:"",style:{filter:"dark"===F&&O?"grayscale(1) invert(1)":void 0}}),_(g)]}))),S=C?j(C):null;return Object(k.jsxs)(i.Fragment,{children:[h&&Object(k.jsx)(b.a,{canDrop:f}),S,g.canHaveSubInstructions()&&Object(k.jsx)(d.a,{style:{},className:l.v,instrsList:t.getSubInstructions(),areConditions:e.isCondition,selection:e.selection,onAddNewInstruction:e.onAddNewSubInstruction,onPasteInstructions:e.onPasteSubInstructions,onMoveToInstruction:e.onMoveToSubInstruction,onMoveToInstructionsList:e.onMoveToSubInstructionsList,onInstructionClick:e.onSubInstructionClick,onInstructionDoubleClick:e.onSubInstructionDoubleClick,onInstructionContextMenu:e.onSubInstructionContextMenu,onAddInstructionContextMenu:e.onAddSubInstructionContextMenu,onParameterClick:e.onSubParameterClick,addButtonLabel:Object(k.jsx)(o.Trans,{id:"Add a sub-condition"}),addButtonId:"add-sub-condition-button",disabled:e.disabled,renderObjectThumbnail:e.renderObjectThumbnail,screenType:e.screenType,windowWidth:e.windowWidth,globalObjectsContainer:e.globalObjectsContainer,objectsContainer:e.objectsContainer})]})}})}}).call(this,n(25))},function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d}));var r=n(6),a=n(5),o=n(10),i=n(11),s=n(17),c=n(324),u=n(8),l=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o)))._field=null,e}return Object(a.a)(n,[{key:"focus",value:function(){this._field&&this._field.focus()}},{key:"render",value:function(){var e=this,t=this.props.parameterMetadata,n=t?t.getDescription():void 0;return Object(u.jsx)(c.a,{margin:this.props.isInline?"none":"dense",commitOnBlur:!0,value:this.props.value,floatingLabelText:n,helperMarkdownText:t?t.getLongDescription():void 0,onChange:function(t){return e.props.onChange(t)},ref:function(t){return e._field=t},fullWidth:!0})}}]),n}(s.Component),d=function(e){var t=e.value,n=e.expressionIsValid,r=e.parameterMetadata,a=e.InvalidParameterValue,o=e.MissingParameterValue;return t||r.isOptional()?n?t:Object(u.jsx)(a,{children:t}):Object(u.jsx)(o,{})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return h}));var r=n(6),a=n(5),o=n(10),i=n(11),s=n(9),c=n(17),u=n(322),l=n(321),d=n(8),b={"=":{id:"= (equal to)"},"<":{id:"< (less than)"},">":{id:"> (greater than)"},"<=":{id:"\u2264 (less or equal to)"},">=":{id:"\u2265 (greater or equal to)"},"!=":{id:"\u2260 (not equal to)"}},p={unknown:Object.keys(b),number:["=","<",">","<=",">=","!="],time:["<",">","<=",">="],string:["=","!="],color:["=","!="]},j=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"focus",value:function(){this._field&&this._field.focus&&this._field.focus()}},{key:"render",value:function(){var e=this,t=this.props.parameterMetadata,n=t?t.getDescription():void 0,r=t?t.getExtraInfo():"unknown",a=p[r]||p.unknown;return Object(d.jsx)(u.a,{margin:this.props.isInline?"none":"dense",fullWidth:!0,floatingLabelText:n,helperMarkdownText:t?t.getLongDescription():void 0,value:this.props.value,onChange:function(t,n,r){return e.props.onChange(r)},ref:function(t){return e._field=t},translatableHintText:{id:"Choose an operator"},children:a.map((function(e){return Object(d.jsx)(l.a,{value:e,primaryText:b[e]},e)}))})}}]),n}(c.Component),h=function(e){var t=e.value,n=e.InvalidParameterValue;return t?"="!==t&&"<"!==t&&">"!==t&&"<="!==t&&">="!==t&&"!="!==t?Object(d.jsx)(n,{children:t}):"<="===t?"\u2264":">="===t?"\u2265":"!="===t?"\u2260":t:Object(d.jsx)(n,{isEmpty:!0,children:Object(d.jsx)(s.Trans,{id:"Choose an operator"})})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return h}));var r=n(6),a=n(5),o=n(10),i=n(11),s=n(9),c=n(17),u=n(322),l=n(321),d=n(8),b={"=":{id:"= (set to)"},"+":{id:"+ (add)"},"-":{id:"- (subtract)"},"*":{id:"* (multiply by)"},"/":{id:"/ (divide by)"}},p={unknown:Object.keys(b),number:["=","+","-","*","/"],string:["=","+"],color:["=","+"]},j=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"focus",value:function(){this._field&&this._field.focus&&this._field.focus()}},{key:"render",value:function(){var e=this,t=this.props.parameterMetadata,n=t?t.getDescription():void 0,r=t?t.getExtraInfo():"unknown",a=p[r]||p.unknown;return Object(d.jsx)(u.a,{margin:this.props.isInline?"none":"dense",fullWidth:!0,floatingLabelText:n,helperMarkdownText:t?t.getLongDescription():void 0,value:this.props.value,onChange:function(t,n,r){return e.props.onChange(r)},ref:function(t){return e._field=t},translatableHintText:{id:"Choose an operator"},children:a.map((function(e){return Object(d.jsx)(l.a,{value:e,primaryText:b[e]},e)}))})}}]),n}(c.Component),h=function(e){var t=e.value,n=e.InvalidParameterValue,r=e.useAssignmentOperators;if(!t)return Object(d.jsx)(n,{isEmpty:!0,children:Object(d.jsx)(s.Trans,{id:"Choose an operator"})});if(r){if("="===t)return"=";if("+"===t)return"+=";if("-"===t)return"-=";if("/"===t)return"/=";if("*"===t)return"*="}else{if("="===t)return Object(d.jsx)(s.Trans,{id:"set to"});if("+"===t)return Object(d.jsx)(s.Trans,{id:"add"});if("-"===t)return Object(d.jsx)(s.Trans,{id:"subtract"});if("/"===t)return Object(d.jsx)(s.Trans,{id:"divide by"});if("*"===t)return Object(d.jsx)(s.Trans,{id:"multiply by"})}return Object(d.jsx)(n,{children:t})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return p}));var r=n(6),a=n(5),o=n(10),i=n(11),s=n(9),c=n(17),u=n(322),l=n(321),d=n(8),b=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"focus",value:function(){this._field&&this._field.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.parameterMetadata,r=t.value,a=n?n.getDescription():void 0;return Object(d.jsxs)(u.a,{margin:this.props.isInline?"none":"dense",fullWidth:!0,floatingLabelText:a,helperMarkdownText:n?n.getLongDescription():void 0,value:r,ref:function(t){return e._field=t},onChange:function(t,n,r){return e.props.onChange(r)},children:[Object(d.jsx)(l.a,{value:"Left",primaryText:{id:"Left (primary)"}}),Object(d.jsx)(l.a,{value:"Right",primaryText:{id:"Right (secondary)"}}),Object(d.jsx)(l.a,{value:"Middle",primaryText:{id:"Middle (Auxiliary button, usually the wheel button)"}})]})}}]),n}(c.Component),p=function(e){var t=e.value,n=e.InvalidParameterValue;return t||Object(d.jsx)(n,{isEmpty:!0,children:Object(d.jsx)(s.Trans,{id:"Choose a mouse button"})})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return j}));var r=n(6),a=n(5),o=n(10),i=n(11),s=n(9),c=n(17),u=n(374),l=n(8),d=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","Num0","Num1","Num2","Num3","Num4","Num5","Num6","Num7","Num8","Num9","Numpad0","Numpad1","Numpad2","Numpad3","Numpad4","Numpad5","Numpad6","Numpad7","Numpad8","Numpad9","LShift","RShift","LControl","RControl","LAlt","RAlt","LSystem","RSystem","SemiColon","Comma","Period","Quote","Slash","BackSlash","Tilde","Equal","Dash","Space","Back","Tab","Delete","Insert","Escape","PageUp","PageDown","End","Home","Return","NumpadPageUp","NumpadPageDown","NumpadEnd","NumpadHome","NumpadReturn","Add","Subtract","Multiply","Divide","NumpadAdd","NumpadSubtract","NumpadMultiply","NumpadDivide","Left","Up","Right","Down","NumpadLeft","NumpadUp","NumpadRight","NumpadDown","F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12","Pause"],b=function(e){return-1!==d.indexOf(e)},p=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"focus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._field&&this._field.focus(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.value,r=t.onChange,a=t.isInline,o=t.parameterMetadata,i=t.onRequestClose,c=t.onApply;return Object(l.jsx)(u.c,{margin:this.props.isInline?"none":"dense",floatingLabelText:o?o.getDescription():void 0,helperMarkdownText:o?o.getLongDescription():void 0,fullWidth:!0,value:n,onChange:r,dataSource:d.map((function(e){return{text:e,value:e}})),openOnFocus:!a,onRequestClose:i,onApply:c,ref:function(t){return e._field=t},errorText:n?b(n)?void 0:Object(l.jsx)(s.Trans,{id:'You must select a valid key. "{value}" is not valid.',values:{value:n}}):Object(l.jsx)(s.Trans,{id:"You must select a key."})})}}]),n}(c.Component),j=function(e){var t=e.value,n=e.InvalidParameterValue;return t?b(t)?t:Object(l.jsx)(n,{children:t}):Object(l.jsx)(n,{isEmpty:!0,children:Object(l.jsx)(s.Trans,{id:"Choose a key"})})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(6),a=n(5),o=n(10),i=n(11),s=n(416),c=(n(399),n(320),n(329)),u=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(e,a,o,i,s,u){var l;Object(r.a)(this,n),(l=t.call(this,e,a,o,i,s,u))._pixiObject=new c.Graphics,l._pixiContainer.addChild(l._pixiObject);var d=o.hasCustomSize()?o.getCustomWidth():32,b=o.hasCustomSize()?o.getCustomHeight():32;return l._pixiObject.beginFill(13311),l._pixiObject.lineStyle(1,16767232,1),l._pixiObject.moveTo(0,0),l._pixiObject.lineTo(d,0),l._pixiObject.lineTo(d,b),l._pixiObject.lineTo(0,b),l._pixiObject.endFill(),l}return Object(a.a)(n,[{key:"update",value:function(){this._pixiObject.position.x=this._instance.getX(),this._pixiObject.position.y=this._instance.getY(),this._pixiObject.rotation=this._instance.getAngle()*Math.PI/180}}],[{key:"getThumbnail",value:function(e,t,n){return"res/unknown32.png"}}]),n}(s.a)},,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(1895),a=n.n(r),o=n(451),i=function(e,t){if("undefined"!==typeof FontFace)return fetch(t,{credentials:Object(o.b)(t)?"include":"same-origin"}).then((function(e){if(!e.ok){var n="Unable to fetch "+t+" to be loaded as a font. HTTP status is: "+e.status+".";throw console.error(n),new Error(n)}return e.arrayBuffer()})).then((function(t){var n=new FontFace(e,t,{});document.fonts.add(n)}));var n=document.createElement("style");return n.appendChild(document.createTextNode("@font-face {\n          font-family: ".concat(e,";\n          src: ").concat(t,";\n        }"))),document.head.appendChild(n),new a.a(e,{}).load().catch((function(t){throw console.warn("Error while loading font ".concat(e),t),t}))}},,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return b}));var r=n(6),a=n(5),o=n(10),i=n(11),s=n(416),c=n(399),u=n(320),l=n(329),d=e.gd,b=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(e,a,o,i,s,u){var d;return Object(r.a)(this,n),(d=t.call(this,e,a,o,i,s,u))._sprite=null,d._shouldNotRotate=!1,d._renderedAnimation=0,d._renderedDirection=0,d._centerX=0,d._centerY=0,d._originX=0,d._originY=0,d._pixiObject=new l.Sprite(c.a.getInvalidPIXITexture()),d._pixiContainer.addChild(d._pixiObject),d.updatePIXITextureAndSprite(),d}return Object(a.a)(n,[{key:"updatePIXISprite",value:function(){this._pixiObject.anchor.x=this._centerX/this._pixiObject.texture.frame.width,this._pixiObject.anchor.y=this._centerY/this._pixiObject.texture.frame.height,this._pixiObject.rotation=this._shouldNotRotate?0:s.a.toRad(this._instance.getAngle()),this._instance.hasCustomSize()?(this._pixiObject.scale.x=this._instance.getCustomWidth()/this._pixiObject.texture.frame.width,this._pixiObject.scale.y=this._instance.getCustomHeight()/this._pixiObject.texture.frame.height):(this._pixiObject.scale.x=1,this._pixiObject.scale.y=1),this._pixiObject.position.x=this._instance.getX()+(this._centerX-this._originX)*Math.abs(this._pixiObject.scale.x),this._pixiObject.position.y=this._instance.getY()+(this._centerY-this._originY)*Math.abs(this._pixiObject.scale.y)}},{key:"updateSprite",value:function(){this._sprite=null,this._shouldNotRotate=!1;var e=d.asSpriteConfiguration(this._associatedObjectConfiguration);if(e.hasNoAnimations())return!1;this._renderedAnimation=this._instance.getRawDoubleProperty("animation"),this._renderedAnimation>=e.getAnimationsCount()&&(this._renderedAnimation=0);var t=e.getAnimation(this._renderedAnimation);if(t.hasNoDirections())return!1;if(this._renderedDirection=0,t.useMultipleDirections()){var n=Math.floor(this._instance.getAngle())%360;n<0&&(n+=360),this._renderedDirection=Math.round(n/45)%8}this._renderedDirection>=t.getDirectionsCount()&&(this._renderedDirection=0);var r=t.getDirection(this._renderedDirection);return 0!==r.getSpritesCount()&&(this._shouldNotRotate=t.useMultipleDirections(),this._sprite=r.getSprite(0),!0)}},{key:"updatePIXITextureAndSprite",value:function(){var e=this;this.updateSprite();var t=this._sprite;if(t){var n=c.a.getPIXITexture(this._project,t.getImageName());if(this._pixiObject.texture=n,n.baseTexture.valid){var r=t.getOrigin();if(this._originX=r.getX(),this._originY=r.getY(),t.isDefaultCenterPoint())this._centerX=n.width/2,this._centerY=n.height/2;else{var a=t.getCenter();this._centerX=a.getX(),this._centerY=a.getY()}this.updatePIXISprite()}else n.once("update",(function(){return e.updatePIXITextureAndSprite()}))}}},{key:"update",value:function(){var e=this._instance.getRawDoubleProperty("animation");this._renderedAnimation!==e?this.updatePIXITextureAndSprite():this.updatePIXISprite()}},{key:"getOriginX",value:function(){return this._sprite&&this._pixiObject?this._sprite.getOrigin().getX()*this._pixiObject.scale.x:0}},{key:"getOriginY",value:function(){return this._sprite&&this._pixiObject?this._sprite.getOrigin().getY()*this._pixiObject.scale.y:0}},{key:"getDefaultWidth",value:function(){return Math.abs(this._pixiObject.texture.frame.width)}},{key:"getDefaultHeight",value:function(){return Math.abs(this._pixiObject.texture.frame.height)}},{key:"getCenterX",value:function(){return this._sprite&&this._pixiObject?this._centerX*this._pixiObject.scale.x:0}},{key:"getCenterY",value:function(){return this._sprite&&this._pixiObject?this._centerY*this._pixiObject.scale.y:0}}],[{key:"getThumbnail",value:function(e,t,n){var r=d.asSpriteConfiguration(n);if(r.getAnimationsCount()>0&&r.getAnimation(0).getDirectionsCount()>0&&r.getAnimation(0).getDirection(0).getSpritesCount()>0){var a=r.getAnimation(0).getDirection(0).getSprite(0).getImageName();return u.a.getResourceFullUrl(e,a,{})}return"res/unknown32.png"}}]),n}(s.a)}).call(this,n(25))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return b}));var r=n(6),a=n(5),o=n(10),i=n(11),s=n(416),c=n(399),u=n(320),l=n(329),d=e.gd,b=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(e,a,o,i,s,u){var b;Object(r.a)(this,n),b=t.call(this,e,a,o,i,s,u);var p=d.asTiledSpriteConfiguration(i);return b._texture=p.getTexture(),b._pixiObject=new l.TilingSprite(c.a.getPIXITexture(e,p.getTexture()),p.getWidth(),p.getHeight()),b._pixiObject.anchor.x=.5,b._pixiObject.anchor.y=.5,b._pixiContainer.addChild(b._pixiObject),b}return Object(a.a)(n,[{key:"update",value:function(){var e=d.asTiledSpriteConfiguration(this._associatedObjectConfiguration);this._instance.hasCustomSize()?(this._pixiObject.width=this._instance.getCustomWidth(),this._pixiObject.height=this._instance.getCustomHeight()):(this._pixiObject.width=e.getWidth(),this._pixiObject.height=e.getHeight()),this._texture!==e.getTexture()&&(this._texture=e.getTexture(),this._pixiObject.texture=c.a.getPIXITexture(this._project,e.getTexture())),this._pixiObject.x=this._instance.getX()+this._pixiObject.width/2,this._pixiObject.y=this._instance.getY()+this._pixiObject.height/2,this._pixiObject.rotation=s.a.toRad(this._instance.getAngle())}},{key:"getDefaultWidth",value:function(){return d.asTiledSpriteConfiguration(this._associatedObjectConfiguration).getWidth()}},{key:"getDefaultHeight",value:function(){return d.asTiledSpriteConfiguration(this._associatedObjectConfiguration).getHeight()}}],[{key:"getThumbnail",value:function(e,t,n){var r=d.asTiledSpriteConfiguration(n);return u.a.getResourceFullUrl(e,r.getTexture(),{})}}]),n}(s.a)}).call(this,n(25))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return b}));var r=n(6),a=n(5),o=n(10),i=n(11),s=n(416),c=n(399),u=n(320),l=n(329),d=e.gd,b=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(e,a,o,i,s,c){var u;return Object(r.a)(this,n),(u=t.call(this,e,a,o,i,s,c)).makeObjects(),u.updateTexture(),u}return Object(a.a)(n,[{key:"update",value:function(){var e=d.asPanelSpriteConfiguration(this._associatedObjectConfiguration);e.isTiled()!==this._tiled&&this.makeObjects(),e.getTexture()!==this._textureName&&this.updateTexture(),this.updateAngle(),this.updatePosition();var t=this._width,n=this._height;if(this._instance.hasCustomSize())this._width=this._instance.getCustomWidth(),this._height=this._instance.getCustomHeight();else{var r=d.asPanelSpriteConfiguration(this._associatedObjectConfiguration);this._width=r.getWidth(),this._height=r.getHeight()}this._width===t&&this._height===n||this.updateWidthHeight()}},{key:"makeObjects",value:function(){var e=d.asPanelSpriteConfiguration(this._associatedObjectConfiguration);this._textureName=e.getTexture();var t=c.a.getPIXITexture(this._project,this._textureName);this._tiled=e.isTiled();var n=this._tiled?l.TilingSprite:l.Sprite;this._pixiObject||(this._pixiObject=new l.Container,this._pixiContainer.addChild(this._pixiObject)),this._centerSprite=new n(new l.Texture(t)),this._borderSprites=[new n(new l.Texture(t)),new l.Sprite(t),new n(new l.Texture(t)),new l.Sprite(t),new n(new l.Texture(t)),new l.Sprite(t),new n(new l.Texture(t)),new l.Sprite(t)],this._pixiObject.removeChildren(),this._pixiObject.addChild(this._centerSprite);for(var r=0;r<this._borderSprites.length;++r)this._pixiObject.addChild(this._borderSprites[r])}},{key:"updateAngle",value:function(){this._pixiObject.rotation=s.a.toRad(this._instance.getAngle())}},{key:"updatePosition",value:function(){this._pixiObject.x=this._instance.getX()+this._width/2,this._pixiObject.y=this._instance.getY()+this._height/2}},{key:"_updateLocalPositions",value:function(){var e=d.asPanelSpriteConfiguration(this._associatedObjectConfiguration);this._centerSprite.position.x=e.getLeftMargin(),this._centerSprite.position.y=e.getTopMargin(),this._borderSprites[0].position.x=this._width-e.getRightMargin(),this._borderSprites[0].position.y=e.getTopMargin(),this._borderSprites[1].position.x=this._width-this._borderSprites[1].width,this._borderSprites[1].position.y=0,this._borderSprites[2].position.x=e.getLeftMargin(),this._borderSprites[2].position.y=0,this._borderSprites[3].position.x=0,this._borderSprites[3].position.y=0,this._borderSprites[4].position.x=0,this._borderSprites[4].position.y=e.getTopMargin(),this._borderSprites[5].position.x=0,this._borderSprites[5].position.y=this._height-this._borderSprites[5].height,this._borderSprites[6].position.x=e.getLeftMargin(),this._borderSprites[6].position.y=this._height-e.getBottomMargin(),this._borderSprites[7].position.x=this._width-this._borderSprites[7].width,this._borderSprites[7].position.y=this._height-this._borderSprites[7].height}},{key:"_updateSpritesAndTexturesSize",value:function(){var e=d.asPanelSpriteConfiguration(this._associatedObjectConfiguration);this._centerSprite.width=Math.max(this._width-e.getRightMargin()-e.getLeftMargin(),0),this._centerSprite.height=Math.max(this._height-e.getTopMargin()-e.getBottomMargin(),0),this._borderSprites[0].width=e.getRightMargin(),this._borderSprites[0].height=Math.max(this._height-e.getTopMargin()-e.getBottomMargin(),0),this._borderSprites[2].height=e.getTopMargin(),this._borderSprites[2].width=Math.max(this._width-e.getRightMargin()-e.getLeftMargin(),0),this._borderSprites[4].width=e.getLeftMargin(),this._borderSprites[4].height=Math.max(this._height-e.getTopMargin()-e.getBottomMargin(),0),this._borderSprites[6].height=e.getBottomMargin(),this._borderSprites[6].width=Math.max(this._width-e.getRightMargin()-e.getLeftMargin(),0),this._wasRendered=!0,this._pixiObject.cacheAsBitmap=!1}},{key:"updateTexture",value:function(){var e=this,t=d.asPanelSpriteConfiguration(this._associatedObjectConfiguration);this._textureName=t.getTexture();var n=c.a.getPIXITexture(this._project,this._textureName);function r(e){return e.width<0&&(e.width=0),e.height<0&&(e.height=0),e.x<0&&(e.x=0),e.y<0&&(e.y=0),e.x>n.width&&(e.x=n.width),e.y>n.height&&(e.y=n.height),e.x+e.width>n.width&&(e.width=n.width-e.x),e.y+e.height>n.height&&(e.height=n.height-e.y),e}n.baseTexture.valid?(console.log("Updating PanelSprite instance texture"),this._centerSprite.texture=new l.Texture(n,r(new l.Rectangle(t.getLeftMargin(),t.getTopMargin(),n.width-t.getLeftMargin()-t.getRightMargin(),n.height-t.getTopMargin()-t.getBottomMargin()))),this._borderSprites[0].texture=new l.Texture(n,r(new l.Rectangle(n.width-t.getRightMargin(),t.getTopMargin(),t.getRightMargin(),n.height-t.getTopMargin()-t.getBottomMargin()))),this._borderSprites[1].texture=new l.Texture(n,r(new l.Rectangle(n.width-t.getRightMargin(),0,t.getRightMargin(),t.getTopMargin()))),this._borderSprites[2].texture=new l.Texture(n,r(new l.Rectangle(t.getLeftMargin(),0,n.width-t.getLeftMargin()-t.getRightMargin(),t.getTopMargin()))),this._borderSprites[3].texture=new l.Texture(n,r(new l.Rectangle(0,0,t.getLeftMargin(),t.getTopMargin()))),this._borderSprites[4].texture=new l.Texture(n,r(new l.Rectangle(0,t.getTopMargin(),t.getLeftMargin(),n.height-t.getTopMargin()-t.getBottomMargin()))),this._borderSprites[5].texture=new l.Texture(n,r(new l.Rectangle(0,n.height-t.getBottomMargin(),t.getLeftMargin(),t.getBottomMargin()))),this._borderSprites[6].texture=new l.Texture(n,r(new l.Rectangle(t.getLeftMargin(),n.height-t.getBottomMargin(),n.width-t.getLeftMargin()-t.getRightMargin(),t.getBottomMargin()))),this._borderSprites[7].texture=new l.Texture(n,r(new l.Rectangle(n.width-t.getRightMargin(),n.height-t.getBottomMargin(),t.getRightMargin(),t.getBottomMargin()))),this._updateSpritesAndTexturesSize(),this._updateLocalPositions(),this.updatePosition()):n.once("update",(function(){return e.updateTexture()}))}},{key:"updateWidthHeight",value:function(){this._pixiObject.pivot.x=this._width/2,this._pixiObject.pivot.y=this._height/2,this._updateSpritesAndTexturesSize(),this._updateLocalPositions(),this.updatePosition()}},{key:"getDefaultWidth",value:function(){return d.asPanelSpriteConfiguration(this._associatedObjectConfiguration).getWidth()}},{key:"getDefaultHeight",value:function(){return d.asPanelSpriteConfiguration(this._associatedObjectConfiguration).getHeight()}}],[{key:"getThumbnail",value:function(e,t,n){var r=d.asPanelSpriteConfiguration(n);return u.a.getResourceFullUrl(e,r.getTexture(),{})}}]),n}(s.a)}).call(this,n(25))},function(e,t,n){"use strict";var r=n(1129);t.a=Object(r.a)("CppPlatform/Extensions/primitivedrawingicon.png")},function(e,t,n){"use strict";var r=n(1129);t.a=Object(r.a)("CppPlatform/Extensions/textentry.png")},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return d}));var r=n(6),a=n(5),o=n(10),i=n(11),s=n(416),c=(n(399),n(320),n(329)),u=n(66),l=e.gd,d=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(e,a,o,i,s,u){var l;return Object(r.a)(this,n),(l=t.call(this,e,a,o,i,s,u))._pixiObject=new c.Graphics,l._pixiContainer.addChild(l._pixiObject),l.updateGraphics(),l}return Object(a.a)(n,[{key:"update",value:function(){this._pixiObject.position.x=this._instance.getX(),this._pixiObject.position.y=this._instance.getY(),this.updateGraphics()}},{key:"updateGraphics",value:function(){var e=l.asParticleEmitterConfiguration(this._associatedObjectConfiguration);this._pixiObject.clear();var t=this._instance.getAngle()/180*3.14159,n=e.getConeSprayAngle(),r=t-n/2/180*3.14159,a=t+n/2/180*3.14159;this._pixiObject.beginFill(0,0),this._pixiObject.lineStyle(3,Object(u.m)(e.getParticleRed2(),e.getParticleGreen2(),e.getParticleBlue2()),1),this._pixiObject.moveTo(0,0),this._pixiObject.lineTo(64*Math.cos(r),64*Math.sin(r)),this._pixiObject.moveTo(0,0),this._pixiObject.lineTo(64*Math.cos(a),64*Math.sin(a)),this._pixiObject.endFill(),this._pixiObject.lineStyle(0,0,1),this._pixiObject.beginFill(Object(u.m)(e.getParticleRed1(),e.getParticleGreen1(),e.getParticleBlue1())),this._pixiObject.drawCircle(0,0,8),this._pixiObject.endFill()}},{key:"getDefaultWidth",value:function(){return 128}},{key:"getDefaultHeight",value:function(){return 128}},{key:"getOriginX",value:function(){return 64}},{key:"getOriginY",value:function(){return 64}}],[{key:"getThumbnail",value:function(e,t,n){return"CppPlatform/Extensions/particleSystemicon.png"}}]),n}(s.a)}).call(this,n(25))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f}));var r=n(6),a=n(5),o=n(118),i=n(10),s=n(11),c=n(416),u=n(399),l=(n(320),n(378)),d=n(1128),b=n(307),p=n(1903),j=n(329),h=e.gd,f=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(e,a,i,s,c,f){var g;Object(r.a)(this,n),(g=t.call(this,e,a,i,s,c,f))._pixiObject=new j.Container,g._pixiContainer.addChild(g._pixiObject);var m=h.asCustomObjectConfiguration(s),O=m.getProperties(),v=O.has("ParentOrigin")&&O.get("ParentOrigin").getValue(),x=O.has("ParentOriginX")&&O.get("ParentOriginX").getValue(),y=O.has("ParentOriginY")&&O.get("ParentOriginY").getValue();g._proportionalOriginX=v&&Object(p.d)(v)||x&&Object(p.d)(x)||0,g._proportionalOriginY=v&&Object(p.e)(v)||y&&Object(p.e)(y)||0;var C=e.hasEventsBasedObject(m.getType())?e.getEventsBasedObject(m.getType()):null;if(g.childrenInstances=[],g.childrenLayouts=[],g.childrenRenderedInstances=[],g.childrenRenderedInstanceByNames=new Map,!C)return Object(o.a)(g);var k=Object(p.c)(C,m);return Object(b.mapReverseFor)(0,C.getObjectsCount(),(function(t){var n=C.getObjectAt(t),r=k.get(n.getName())||{isShown:!0,horizontalLayout:{},verticalLayout:{}},o=m.getChildObjectConfiguration(n.getName()),i=new p.a,s=l.a.createNewInstanceRenderer(e,a,i,o,g._pixiObject);r.isShown||g._pixiObject.removeChild(s._pixiObject),s instanceof d.a&&(s._pixiObject.style.align="center"),g.childrenInstances.push(i),g.childrenLayouts.push(r),g.childrenRenderedInstances.push(s),g.childrenRenderedInstanceByNames.set(n.getName(),s)})),0===g.childrenRenderedInstances.length&&(g._pixiObject=new j.Sprite(u.a.getInvalidPIXITexture()),g._pixiContainer.addChild(g._pixiObject)),g}return Object(a.a)(n,[{key:"update",value:function(){Object(p.b)(this);var e=this.getWidth(),t=this.getHeight(),n=this._proportionalOriginX*e,r=this._proportionalOriginY*t,a=e/2,o=t/2;this._pixiObject.pivot.x=a,this._pixiObject.pivot.y=o,this._pixiObject.rotation=c.a.toRad(this._instance.getAngle()),this._pixiObject.scale.x=1,this._pixiObject.scale.y=1,this._pixiObject.position.x=this._instance.getX()+a-n,this._pixiObject.position.y=this._instance.getY()+o-r}},{key:"getWidth",value:function(){return this._instance.hasCustomSize()?this._instance.getCustomWidth():this.getDefaultWidth()}},{key:"getHeight",value:function(){return this._instance.hasCustomSize()?this._instance.getCustomHeight():this.getDefaultHeight()}},{key:"getDefaultWidth",value:function(){return this.childrenRenderedInstances.length>0?this.childrenRenderedInstances[0].getDefaultWidth():48}},{key:"getDefaultHeight",value:function(){return this.childrenRenderedInstances.length>0?this.childrenRenderedInstances[0].getDefaultHeight():48}},{key:"getOriginX",value:function(){return this._proportionalOriginX*this.getWidth()}},{key:"getOriginY",value:function(){return this._proportionalOriginY*this.getHeight()}}],[{key:"getThumbnail",value:function(e,t,n){var r=h.asCustomObjectConfiguration(n),a=e.hasEventsBasedObject(r.getType())?e.getEventsBasedObject(r.getType()):null;if(!a)return"res/unknown32.png";for(var o=0;o<a.getObjectsCount();o++){var i=a.getObjectAt(o),s=r.getChildObjectConfiguration(i.getName()),c=s.getType();if("Sprite"===c||"TiledSpriteObject::TiledSprite"===c||"PanelSpriteObject::PanelSprite"===c)return l.a.getThumbnail(e,s)}return"res/unknown32.png"}}]),n}(c.a)}).call(this,n(25))},function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"c",(function(){return b})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return j}));var r=n(6),a=n(5),o=["Show","LeftPadding","TopPadding","RightPadding","BottomPadding","HorizontalAnchorOrigin","HorizontalAnchorTarget","VerticalAnchorOrigin","VerticalAnchorTarget","AnchorOrigin","AnchorTarget","AnchorDeltaX","AnchorDeltaY","IsScaledProportionallyOnX","IsScaledProportionallyOnY","IsScaledProportionally"],i=function(e){var t=(e.includes("-")?e.split("-")[1]:e).toLowerCase();return"left"===t?0:"right"===t?1:"center"===t?.5:null},s=function(e){var t=(e.includes("-")?e.split("-")[0]:e).toLowerCase();return"top"===t?0:"bottom"===t?1:"center"===t?.5:null},c=function(e,t){var n=i(e);return null!==n?n:t&&t.has(e)?i(t.get(e).getValue()):null},u=function(e,t){var n=s(e);return null!==n?n:t&&t.has(e)?s(t.get(e).getValue()):null},l=function(e,t,n){var r=(e.includes("-")?e.split("-")[1]:e).toLowerCase();return"same"===r?n:"opposite"===r&&null!==n?1-n:c(r,t)},d=function(e,t,n){var r=(e.includes("-")?e.split("-")[0]:e).toLowerCase();return"same"===r?n:"opposite"===r&&null!==n?1-n:u(r,t)},b=function(e,t){for(var n=new Map,r=e.getPropertyDescriptors(),a=t.getProperties(),i=function(e){var t=r.getAt(e),i=t.getExtraInfo();if(!i)return"continue";var s=t.getName(),b=a.get(s).getValue(),p="true"===b,j=Number.parseFloat(b)||0,h=o.find((function(e){return s.includes(e)})),f="",g=null,m=null;if("HorizontalAnchorOrigin"===h||"VerticalAnchorOrigin"===h||"AnchorOrigin"===h){var O=s.replace("AnchorOrigin","AnchorTarget");if(r.has(O)){var v=r.get(O);f=v.getExtraInfo().size()>0?v.getExtraInfo().at(0):"";var x=a.get(O).getValue(),y=Number.parseFloat(x)||0;"HorizontalAnchorOrigin"!==h&&"AnchorOrigin"!==h||(g=c(x,a)||y),"VerticalAnchorOrigin"!==h&&"AnchorOrigin"!==h||(m=u(x,a)||y)}}for(var C=0;C<i.size();C++){var k=i.at(C),w=n.get(k);if(w||(w={isShown:!0,horizontalLayout:{},verticalLayout:{}},n.set(k,w)),"Show"===h)"true"!==b&&(w.isShown=!1);else if("LeftPadding"===h)w.horizontalLayout.minSideAbsoluteMargin=j;else if("RightPadding"===h)w.horizontalLayout.maxSideAbsoluteMargin=j;else if("TopPadding"===h)w.verticalLayout.minSideAbsoluteMargin=j;else if("BottomPadding"===h)w.verticalLayout.maxSideAbsoluteMargin=j;else if("AnchorDeltaX"===h)w.horizontalLayout.anchorDelta=j;else if("AnchorDeltaY"===h)w.verticalLayout.anchorDelta=j;else if("IsScaledProportionallyOnX"===h)w.horizontalLayout.isScaledProportionally=p;else if("IsScaledProportionallyOnY"===h)w.verticalLayout.isScaledProportionally=p;else if("IsScaledProportionally"===h)w.horizontalLayout.isScaledProportionally=p,w.verticalLayout.isScaledProportionally=p;else{if("HorizontalAnchorOrigin"===h||"AnchorOrigin"===h){var T=l(b,a,g)||j;null!==T&&(w.horizontalLayout.anchorOrigin=T),null!==g&&(w.horizontalLayout.anchorTarget=g),w.horizontalLayout.anchorTargetObject=f}if("VerticalAnchorOrigin"===h||"AnchorOrigin"===h){var E=d(b,a,g)||j;null!==E&&(w.verticalLayout.anchorOrigin=E),null!==m&&(w.verticalLayout.anchorTarget=m),w.verticalLayout.anchorTargetObject=f}}}},s=0;s<r.getCount();s++)i(s);return n},p=function(){function e(){Object(r.a)(this,e),this.x=0,this.y=0,this._customWidth=0,this._customHeight=0,this._hasCustomSize=!1}return Object(a.a)(e,[{key:"getX",value:function(){return this.x}},{key:"getY",value:function(){return this.y}},{key:"getAngle",value:function(){return 0}},{key:"setObjectName",value:function(e){}},{key:"getObjectName",value:function(){return""}},{key:"setX",value:function(e){}},{key:"setY",value:function(e){}},{key:"setAngle",value:function(e){}},{key:"isLocked",value:function(){return!1}},{key:"setLocked",value:function(e){}},{key:"isSealed",value:function(){return!1}},{key:"setSealed",value:function(e){}},{key:"getZOrder",value:function(){return 0}},{key:"setZOrder",value:function(e){}},{key:"getLayer",value:function(){return""}},{key:"setLayer",value:function(e){}},{key:"setHasCustomSize",value:function(e){this._hasCustomSize=e}},{key:"hasCustomSize",value:function(){return this._hasCustomSize}},{key:"setCustomWidth",value:function(e){this._customWidth=e,this._hasCustomSize=!0}},{key:"getCustomWidth",value:function(){return this._customWidth}},{key:"setCustomHeight",value:function(e){this._customHeight=e,this._hasCustomSize=!0}},{key:"getCustomHeight",value:function(){return this._customHeight}},{key:"resetPersistentUuid",value:function(){return this}},{key:"updateCustomProperty",value:function(e,t,n,r){}},{key:"getCustomProperties",value:function(e,t){return null}},{key:"getRawDoubleProperty",value:function(e){return 0}},{key:"getRawStringProperty",value:function(e){return""}},{key:"setRawDoubleProperty",value:function(e,t){}},{key:"setRawStringProperty",value:function(e,t){}},{key:"getVariables",value:function(){return[]}},{key:"serializeTo",value:function(e){}},{key:"unserializeFrom",value:function(e){}}]),e}(),j=function(e){for(var t=e.getWidth(),n=e.getHeight(),r=0;r<e.childrenRenderedInstances.length;r++){var a=e.childrenRenderedInstances[r],o=e.childrenInstances[r],i=e.childrenLayouts[r];if(null==i.horizontalLayout.anchorOrigin){var s=i.horizontalLayout.minSideAbsoluteMargin||(i.horizontalLayout.minSideProportionalMargin||0)*t,c=t-(i.horizontalLayout.maxSideAbsoluteMargin||(i.horizontalLayout.maxSideProportionalMargin||0)*t);o.x=s,o.setCustomWidth(c-s)}else{var u=i.horizontalLayout.anchorOrigin||0,l=i.horizontalLayout.anchorTarget||0,d=e.childrenRenderedInstanceByNames.get(i.horizontalLayout.anchorTargetObject||"")||e.childrenRenderedInstances[0],b=d._instance,p=b.hasCustomSize()?b.getCustomWidth():d.getDefaultWidth(),j=i.horizontalLayout.isScaledProportionally?p*a.getDefaultWidth()/d.getDefaultWidth():a.getDefaultWidth();o.x=b.getX()+(i.horizontalLayout.anchorDelta||0)+l*p-u*j,o.setCustomWidth(j)}if(null==i.verticalLayout.anchorOrigin){var h=i.verticalLayout.minSideAbsoluteMargin||(i.verticalLayout.minSideProportionalMargin||0)*n,f=n-(i.verticalLayout.maxSideAbsoluteMargin||(i.verticalLayout.maxSideProportionalMargin||0)*n);o.y=h;var g=f-h;o.setCustomHeight(f-h),a.update(),o.y+=(g-a._pixiObject.height)/2}else{var m=i.verticalLayout.anchorOrigin||0,O=i.verticalLayout.anchorTarget||0,v=e.childrenRenderedInstanceByNames.get(i.horizontalLayout.anchorTargetObject||"")||e.childrenRenderedInstances[0],x=v._instance,y=x.hasCustomSize()?x.getCustomHeight():v.getDefaultHeight(),C=i.horizontalLayout.isScaledProportionally?y*a.getDefaultHeight()/v.getDefaultHeight():a.getDefaultHeight();o.y=x.getY()+(i.verticalLayout.anchorDelta||0)+O*y-m*C,o.setCustomHeight(C)}a.update()}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return x}));var r=n(6),a=n(5),o=n(10),i=n(11),s=n(9),c=n(17),u=n.n(c),l=n(295),d=n(1130),b=n(818),p=n(296),j=n(2595),h=n(345),f=n(2591),g=n(2578),m=n(8),O={description:{marginRight:5}},v=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o)))._yesButton=u.a.createRef(),e}return Object(a.a)(n,[{key:"focus",value:function(){Object(b.a)(this._yesButton)}},{key:"render",value:function(){var e=this,t=this.props,n=t.parameterMetadata,r=t.value,a=n?n.getDescription():null,o=n?n.getLongDescription():null,i="yes"===Object(d.a)(r,n);return Object(m.jsxs)(l.a,{noMargin:!0,children:[Object(m.jsxs)(l.c,{alignItems:"center",justifyContent:"space-between",children:[Object(m.jsx)(p.a,{style:O.description,displayInlineAsSpan:!0,children:a}),Object(m.jsxs)(f.a,{children:[Object(m.jsx)(g.a,{id:"yes-button","data-effective":i?"true":void 0,variant:i?"contained":"outlined",color:i?"secondary":"default",onClick:function(){return e.props.onChange("yes")},ref:this._yesButton,children:Object(m.jsx)(s.Trans,{id:"Yes"})}),Object(m.jsx)(g.a,{id:"no-button","data-effective":i?void 0:"true",variant:i?"outlined":"contained",color:i?"default":"secondary",onClick:function(){return e.props.onChange("no")},children:Object(m.jsx)(s.Trans,{id:"No"})})]})]}),o?Object(m.jsx)(j.a,{variant:"filled",margin:"dense",children:Object(m.jsx)(h.a,{source:o})}):null]})}}]),n}(c.Component),x=function(e){var t=e.value,n=e.parameterMetadata;return"yes"===Object(d.a)(t,n)?Object(m.jsx)(s.Trans,{id:"yes"}):Object(m.jsx)(s.Trans,{id:"no"})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return x}));var r=n(6),a=n(5),o=n(10),i=n(11),s=n(9),c=n(17),u=n.n(c),l=n(295),d=n(1130),b=n(818),p=n(296),j=n(2595),h=n(345),f=n(2591),g=n(2578),m=n(8),O={description:{marginRight:5}},v=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o)))._trueButton=u.a.createRef(),e}return Object(a.a)(n,[{key:"focus",value:function(){Object(b.a)(this._trueButton)}},{key:"render",value:function(){var e=this,t=this.props,n=t.parameterMetadata,r=t.value,a=n?n.getDescription():void 0,o=n?n.getLongDescription():null,i=Object(d.a)(r,n);return Object(m.jsxs)(l.a,{noMargin:!0,children:[Object(m.jsxs)(l.c,{alignItems:"center",justifyContent:"space-between",children:[Object(m.jsx)(p.a,{style:O.description,displayInlineAsSpan:!0,children:a}),Object(m.jsxs)(f.a,{children:[Object(m.jsx)(g.a,{variant:"True"===i?"contained":"outlined",color:"True"===i?"secondary":"default",onClick:function(){return e.props.onChange("True")},ref:this._trueButton,children:Object(m.jsx)(s.Trans,{id:"True"})}),Object(m.jsx)(g.a,{variant:"True"!==i?"contained":"outlined",color:"True"!==i?"secondary":"default",onClick:function(){return e.props.onChange("False")},children:Object(m.jsx)(s.Trans,{id:"False"})})]})]}),o?Object(m.jsx)(j.a,{variant:"filled",margin:"dense",children:Object(m.jsx)(h.a,{source:o})}):null]})}}]),n}(c.Component),x=function(e){var t=e.value,n=e.parameterMetadata;return"True"===Object(d.a)(t,n)?Object(m.jsx)(s.Trans,{id:"true"}):Object(m.jsx)(s.Trans,{id:"false"})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n(3),a=n(18),o=n(6),i=n(5),s=n(10),c=n(11),u=n(17),l=n(1132),d=n(819),b=n(666),p=n(667),j=n(8),h=["expressionType","scope"],f={flex:1,display:"flex",flexDirection:"column"},g=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).instructionsInfo=Object(p.a)(Object(l.a)(e.props.expressionType),e.props.scope),e.instructionsInfoTree=Object(b.a)(e.instructionsInfo),e}return Object(i.a)(n,[{key:"render",value:function(){var e=this.props,t=(e.expressionType,e.scope,Object(a.a)(e,h));return Object(j.jsx)(d.a,Object(r.a)({id:"expression-selector",style:f,instructionsInfo:this.instructionsInfo,instructionsInfoTree:this.instructionsInfoTree,iconSize:16,useSubheaders:!0,helpPagePath:"/all-features/expressions-reference"},t))}}]),n}(u.Component)},,,,,function(e,t,n){"use strict";var r=n(34),a=n(9),o=n(17),i=n.n(o),s=n(1136),c=n(303),u=n(296),l=n(295),d=n(318),b=n(8),p={minHeightContainer:{minHeight:300,flex:1,flexDirection:"column"}};t.a=function(e){var t=e.project,n=e.scope,o=e.onDone,j=e.onRequestClose,h=e.globalObjectsContainer,f=e.objectsContainer,g=e.expressionMetadata,m=e.parameterRenderingService,O=i.a.useState(Array(g.getParametersCount()).fill("")),v=Object(r.a)(O,2),x=v[0],y=v[1];return Object(b.jsx)(c.c,{title:Object(b.jsx)(a.Trans,{id:"Enter the expression parameters"}),id:"expression-parameters-editor-dialog",open:!0,actions:[Object(b.jsx)(c.a,{id:"apply-button",label:Object(b.jsx)(a.Trans,{id:"Apply"}),primary:!0,onClick:function(){return o(x)}},"apply")],secondaryActions:g.getHelpPath()?[Object(b.jsx)(d.a,{helpPagePath:g.getHelpPath()},"help-button")]:[],onRequestClose:j,onApply:function(){return o(x)},children:Object(b.jsx)(l.a,{noMargin:!0,children:Object(b.jsxs)("div",{style:p.minHeightContainer,children:[Object(b.jsx)(u.a,{children:g.getDescription()}),Object(b.jsx)(s.a,{project:t,scope:n,globalObjectsContainer:h,objectsContainer:f,expressionMetadata:g,parameterValues:x,onChangeParameter:function(e,t){y(x.map((function(n,r){return r===e?t:n})))},parameterRenderingService:m})]})})})}},function(e,t,n){"use strict";var r=n(3),a=(n(17),n(8)),o={width:"100%",position:"absolute",whiteSpace:"pre-wrap",wordWrap:"break-word",color:"transparent"},i={backgroundColor:"rgba(244, 67, 54, 0.15)",borderSizing:"border-box",borderBottom:"3px solid rgba(244, 67, 54, 0.7)"};t.a=function(e){var t=e.value,n=e.style,s=e.highlights.slice().sort((function(e,t){return e.begin-t.begin})),c=[],u=0;return s.forEach((function(e,n){var r=Math.max(e.begin,u);r!==u&&c.push(Object(a.jsx)("span",{children:t.substring(u,r)},"defaultText-".concat(n))),u<e.end&&(c.push(Object(a.jsx)("span",{style:i,children:t.substring(r,e.end)},"highlightedText-".concat(n))),u=e.end)})),u<t.length&&c.push(Object(a.jsx)("span",{children:t.substring(u)},"defaultText-end")),Object(a.jsx)("div",{style:Object(r.a)(Object(r.a)({},o),n),children:c})}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return y}));var r=n(19),a=n(307),o=n(415),i=n(1137),s=n(432),c=n.n(s),u=n(1132),l=n(667),d=n(820),b=n(389),p=n(388),j=n(486),h=n(1139),f=e.gd,g=function(e,t){if(!t)return e;var n=t.toLowerCase();return e.filter((function(e){return-1!==e.toLowerCase().indexOf(n)}))},m=function(e,t,n,r,a,o){return e.filter((function(e){return!a||e.type===t})).map((function(e){return e.name&&e.parameters?{kind:"Expression",completion:e.name,replacementStartPosition:n,replacementEndPosition:r,enumeratedExpressionMetadata:e,addParenthesis:!0,hasVisibleParameters:0!==Object(d.b)(e).length,isExact:a,shouldConvertToString:"string"===o&&"number"===e.metadata.getReturnType()}:null})).filter(Boolean)},O=function(e,t){var n=t.getPrefix(),r=t.getType(),o=e.project,i=e.scope,s=[];if("layer"===r){var c=i.layout;if(c)for(var u=0;u<c.getLayersCount();u++)s.push('"'.concat(c.getLayerAt(u).getName(),'"'))}else if("sceneName"===r){if(o)for(var l=0;l<o.getLayoutsCount();l++)s.push('"'.concat(o.getLayoutAt(l).getName(),'"'))}else if("stringWithSelector"===r)s=Object(b.c)(t.getParameterMetadata()).map((function(e){return e.completion}));else if("objectPointName"===r){var d=t.getObjectName();if(!d)return[];var m=Object(p.a)(o,i.layout,d);if(!m)return[];if("Sprite"!==m.getType())return[];var O=f.asSpriteConfiguration(m.getConfiguration());s=Object(j.k)(O).map((function(e){return e.length>0?'"'.concat(e,'"'):null})).filter(Boolean)}else if("objectAnimationName"===r){var v=t.getObjectName();if(!v)return[];var x=Object(p.a)(o,i.layout,v);if(!x)return[];if("Sprite"!==x.getType())return[];var y=f.asSpriteConfiguration(x.getConfiguration());s=Object(a.mapFor)(0,y.getAnimationsCount(),(function(e){var t=y.getAnimation(e).getName();return t.length>0?'"'.concat(t,'"'):null})).filter(Boolean)}else if("functionParameterName"===r){var C=i.eventsBasedBehavior||i.eventsBasedObject,k=C?C.getEventsFunctions():i.eventsFunctionsExtension;i.eventsFunction&&k&&(s=Object(h.a)(k,i.eventsFunction).map((function(e){return'"'.concat(e.getName(),'"')})))}var w=g(s,n).sort(),T=t.isLastParameter();return w.map((function(e){return{kind:"Text",completion:e,replacementStartPosition:t.getReplacementStartPosition(),replacementEndPosition:t.getReplacementEndPosition(),addParameterSeparator:!T}}))},v=function(e,t){var n=e.gd;return c()(Object(a.mapVector)(t,(function(t){var a=t.getCompletionKind();if(a===n.ExpressionCompletionDescription.Expression){var s=t.getObjectName();return t.getBehaviorName()?function(e,t){var n=t.getPrefix(),r=t.getType(),a=t.getBehaviorName(),o=t.isExact(),i=e.gd,s=e.globalObjectsContainer,c=e.objectsContainer,d=i.getTypeOfBehavior(s,c,a,!0),b=Object(u.b)(r,d),p=Object(l.a)(Object(u.e)(b,n),e.scope);return m(p,n,t.getReplacementStartPosition(),t.getReplacementEndPosition(),o,r)}(e,t):s?function(e,t){var n=t.getPrefix(),r=t.getType(),a=t.getObjectName(),o=t.isExact(),i=e.gd,s=e.globalObjectsContainer,c=e.objectsContainer,d=i.getTypeOfObject(s,c,a,!0),b=Object(u.d)(r,d),p=Object(l.a)(Object(u.e)(b,n),e.scope);return m(p,n,t.getReplacementStartPosition(),t.getReplacementEndPosition(),o,r)}(e,t):function(e,t){var n=t.getPrefix(),r=t.getType(),a=t.isExact(),o=Object(u.c)(r),i=Object(l.a)(Object(u.e)(o,n),e.scope);return m(i,n,t.getReplacementStartPosition(),t.getReplacementEndPosition(),a,r)}(e,t)}return a===n.ExpressionCompletionDescription.Object?function(e,t){var n=t.getPrefix(),a=t.getType(),i=e.gd,s=e.globalObjectsContainer,c=e.objectsContainer,u=Object(o.d)(s,c),l=u.allObjectsList,d=u.allGroupsList,b=Object(o.g)(l,{searchText:n,selectedTags:[],hideExactMatches:!0}),p=Object(o.e)(d,{searchText:n,hideExactMatches:!0}),j=!i.ParameterMetadata.isObject(a);return[].concat(Object(r.a)(b.map((function(e){var n=e.object;return{kind:"Object",completion:n.getName(),replacementStartPosition:t.getReplacementStartPosition(),replacementEndPosition:t.getReplacementEndPosition(),object:n,addDot:j}}))),Object(r.a)(p.map((function(e){return{kind:"Object",completion:e.group.getName(),replacementStartPosition:t.getReplacementStartPosition(),replacementEndPosition:t.getReplacementEndPosition(),addDot:j}}))))}(e,t):a===n.ExpressionCompletionDescription.Behavior?function(e,t){var n=t.getPrefix(),r=t.isExact(),a=t.getObjectName(),o=e.gd,i=e.globalObjectsContainer,s=e.objectsContainer;return o.getBehaviorsOfObject(i,s,a,!0).toJSArray().filter((function(e){return-1!==e.indexOf(n)})).map((function(e){return{kind:"Behavior",completion:e,replacementStartPosition:t.getReplacementStartPosition(),replacementEndPosition:t.getReplacementEndPosition(),addNamespaceSeparator:!0,isExact:r}}))}(e,t):a===n.ExpressionCompletionDescription.Text?O(e,t):a===n.ExpressionCompletionDescription.Variable?function(e,t){var n,r=t.getPrefix(),a=t.getType(),o=t.getObjectName(),s=e.project,c=e.scope.layout;if("globalvar"===a){if(!s)return[];n=s.getVariables()}else if("scenevar"===a){if(!c)return[];n=c.getVariables()}else if("objectvar"===a){var u=Object(p.a)(s,c,o);if(!u)return[];n=u.getVariables()}var l=Object(i.a)(n).map((function(e){var t=e.name;return e.isValidName?t:null})).filter(Boolean);return g(l,r).map((function(e){return{kind:"Variable",completion:e,replacementStartPosition:t.getReplacementStartPosition(),replacementEndPosition:t.getReplacementEndPosition()}}))}(e,t):[]})))},x=function(e){var t=e.expression,n=e.wordStartPosition,r=e.wordEndPosition,a=e.insertedWord,o=function(e){for(var t,n=[],r=new RegExp(/[^\w\d.:]/g);t=r.exec(e);)n.push(t.index);return Math.max.apply(Math,n)}(t.substring(0,n)),i=t.substring(0,o+1),s=t.substring(o+1,n);return{expression:i+"ToString("+s+a+")"+t.substring(r),caretLocation:i.length+s.length+a.length+"ToString(".length}},y=function(e,t){var n=e.expression,r=e.caretLocation,a=t.addDot,o=t.addParameterSeparator,i=t.addNamespaceSeparator,s=t.addParenthesis,c=t.completion,u=t.shouldConvertToString,l=t.replacementStartPosition,d=t.replacementEndPosition,b=t.hasVisibleParameters,p=function(e){var t=a?".":o?", ":i?"::":s?"()":"",n=!e||!t||e[0]!==t[0];return c+(n?t:"")};if(r>n.length&&(r=n.length),0===r||!n){var j=p(void 0)+n;return{caretLocation:j.length,expression:u?"ToString(".concat(j,")"):j}}var h=l||0,f=d||n.length,g=p(n[f]),m=u?x({expression:n,insertedWord:g,wordEndPosition:f,wordStartPosition:h}):function(e){var t=e.expression,n=e.wordStartPosition,r=e.wordEndPosition,a=e.insertedWord,o=t.substring(0,n);return{expression:o+a+t.substring(r),caretLocation:o.length+a.length}}({expression:n,insertedWord:g,wordEndPosition:f,wordStartPosition:h});return s&&b&&(m.caretLocation=m.caretLocation-1),m}}).call(this,n(25))},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"f",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"d",(function(){return l}));var r=n(3),a=n(330),o=function(){return{autocompletions:[],selectedCompletionIndex:0,renderEverything:!1}},i=function(e){return e.renderEverything?0:Math.max(0,e.autocompletions.length-7)},s=function(e){return 0===i(e)?e.autocompletions:e.autocompletions.slice(0,7)},c=function(e,t){var n=e.autocompletions.length!==t.length;return{autocompletions:t,selectedCompletionIndex:n?0:e.selectedCompletionIndex,renderEverything:!n&&e.renderEverything}},u=function(e){return Object(r.a)(Object(r.a)({},e),{},{renderEverything:!0})},l=function(e,t){var n=t.event,i=t.onUpdateAutocompletions,s=t.onInsertAutocompletion;if("ArrowDown"!==n.key&&"ArrowUp"!==n.key&&"ArrowLeft"!==n.key&&"ArrowRight"!==n.key||i(),!e.autocompletions.length)return e;if("ArrowDown"===n.key)return n.preventDefault(),Object(r.a)(Object(r.a)({},e),{},{renderEverything:!0,selectedCompletionIndex:(e.selectedCompletionIndex+1)%e.autocompletions.length});if("ArrowUp"===n.key)return n.preventDefault(),Object(r.a)(Object(r.a)({},e),{},{renderEverything:!0,selectedCompletionIndex:(e.autocompletions.length+e.selectedCompletionIndex-1)%e.autocompletions.length});if(Object(a.c)(n))return n.preventDefault(),n.stopPropagation(),o();if(Object(a.g)(n)||Object(a.d)(n)){var c=e.autocompletions[e.selectedCompletionIndex];if(c){if(c.isExact)return e;s(c),n.stopPropagation()}n.preventDefault()}return e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return T}));var r=n(9),a=n(17),o=n(2594),i=n(620),s=n.n(i),c=n(2721),u=n(296),l=n(331),d=n(820),b=n(295),p=n(378),j=n(327),h=n(307),f=n(8),g={overflow:"hidden",overflowWrap:"break-word"},m=a.memo((function(e){var t=e.src;return Object(f.jsx)("img",{alt:"",src:t,style:{maxWidth:16,maxHeight:16}})})),O=function(e,t,n){return Object(d.b)(n).map((function(n){var r=e.getUserFriendlyTypeName(n);return r?t._(r):n})).join(", ")},v=a.forwardRef((function(e,t){var n=e.expressionAutocompletion,r=e.isSelected,a=e.onClick;return Object(f.jsx)(c.a,{style:w.button,onPointerDown:function(){a()},ref:t,children:Object(f.jsx)(u.a,{style:g,noMargin:!0,align:"left",children:r?Object(f.jsx)("b",{children:n.completion}):n.completion})})})),x=a.forwardRef((function(e,t){var n=e.expressionAutocompletion,r=e.isSelected,a=e.onClick,o=e.i18n,i=e.parameterRenderingService;if(!n.enumeratedExpressionMetadata)return null;var s=r?Object(f.jsx)("b",{children:n.completion}):n.completion;return Object(f.jsxs)(c.a,{style:w.button,onPointerDown:function(){a()},ref:t,children:[Object(f.jsx)(m,{src:n.enumeratedExpressionMetadata.iconFilename}),Object(f.jsx)(b.d,{}),Object(f.jsxs)(u.a,{style:g,noMargin:!0,align:"left",children:[s,"(",Object(f.jsx)("i",{children:O(i,o,n.enumeratedExpressionMetadata)}),")"]})]})})),y=a.forwardRef((function(e,t){var n=e.project,r=e.expressionAutocompletion,a=e.isSelected,o=e.onClick,i=n&&r.object?p.a.getThumbnail(n,r.object.getConfiguration()):"res/types/object.png",s=a?Object(f.jsx)("b",{children:r.completion}):r.completion;return Object(f.jsxs)(c.a,{style:w.button,onPointerDown:function(){o()},ref:t,children:[Object(f.jsx)(m,{src:i}),Object(f.jsx)(b.d,{}),Object(f.jsx)(u.a,{style:g,noMargin:!0,align:"left",children:s})]})})),C=a.forwardRef((function(e,t){var n=e.expressionAutocompletion,r=e.isSelected,a=e.onClick,o=r?Object(f.jsx)("b",{children:n.completion}):n.completion;return Object(f.jsxs)(c.a,{style:w.button,onPointerDown:function(){a()},ref:t,children:[Object(f.jsx)(m,{src:"res/types/behavior.png"}),Object(f.jsx)(b.d,{}),Object(f.jsx)(u.a,{style:g,noMargin:!0,align:"left",children:o})]})})),k=function(e){var t=e.expressionMetadata,n=e.i18n,r=e.parameterRenderingService;return Object(f.jsxs)(b.a,{noMargin:!0,children:[Object(f.jsx)(u.a,{style:g,size:"body2",children:t.getDescription()}),Object(h.mapVector)(t.getParameters(),(function(e,a){return function(e,t){var n=e.getParameter(t);return!n.isCodeOnly()&&(0!==t||"object"!==n.getType())&&(1!==t||"behavior"!==n.getType())}(t,a)&&Object(f.jsxs)(u.a,{style:g,size:"body2",children:[Object(f.jsx)("i",{children:n._(r.getUserFriendlyTypeName(e.getType()))})," \uff0d "+e.getDescription()]},a)}))]})},w={container:{width:370,maxHeight:150,display:"flex",overflowX:"hidden"},button:{width:"100%",paddingLeft:8,paddingRight:8,justifyContent:"flex-start"},tooManyTextContainer:{width:"100%"},popperStyle:{zIndex:s.a.tooltip+100,flex:1,display:"flex",flexDirection:"row"}};function T(e){var t=e.project,n=e.expressionAutocompletions,i=e.remainingCount,s=e.selectedCompletionIndex,c=e.anchorEl,d=e.onChoose,p=e.onScroll,h=e.parameterRenderingService,g=a.useRef(null),m=a.useRef(null);return a.useEffect((function(){g.current&&m.current&&g.current.scrollTo(m.current)}),[g,m,s]),0===n.length?null:Object(f.jsx)(r.I18n,{children:function(e){var a=e.i18n;return Object(f.jsxs)(o.a,{style:w.popperStyle,open:!0,anchorEl:c,placement:"bottom-start",disablePortal:!1,children:[Object(f.jsx)(j.a,{variant:"outlined",square:!0,style:w.container,background:"light",children:Object(f.jsxs)(l.a,{ref:g,onScroll:p,children:[n.map((function(e,n){var r=s===n,o=r?m:void 0;return"Text"===e.kind||"FullExpression"===e.kind||"Variable"===e.kind?Object(f.jsx)(v,{expressionAutocompletion:e,isSelected:r,onClick:function(){return d(e)},ref:o},n):"Expression"===e.kind?!e.isExact&&Object(f.jsx)(x,{expressionAutocompletion:e,onClick:function(){return d(e)},isSelected:r,i18n:a,parameterRenderingService:h,ref:o},n):"Object"===e.kind?Object(f.jsx)(y,{project:t,expressionAutocompletion:e,onClick:function(){return d(e)},isSelected:r,ref:o},n):"Behavior"===e.kind?Object(f.jsx)(C,{expressionAutocompletion:e,onClick:function(){return d(e)},isSelected:r,ref:o},n):null})),i>0&&Object(f.jsx)(b.a,{justifyContent:"flex-start",children:Object(f.jsx)(u.a,{children:Object(f.jsx)(r.Trans,{id:"And others..."})})})]})}),null!==s&&"Expression"===n[s].kind&&!n[s].isExact&&Object(f.jsx)(j.a,{variant:"outlined",square:!0,style:w.container,background:"light",children:Object(f.jsx)(l.a,{autoHideScrollbar:!0,children:Object(f.jsx)(b.a,{children:Object(f.jsx)(b.c,{noMargin:!0,expand:!0,alignItems:"center",children:Object(f.jsx)(k,{expressionMetadata:n[s].enumeratedExpressionMetadata.metadata,i18n:a,parameterRenderingService:h})})})})})]})}})}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(3),a=n(6),o=n(5),i=n(10),s=n(11),c=n(17),u=n(356),l=n(8),d=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"focus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._field&&this._field.focus(e)}},{key:"render",value:function(){var e=this;return Object(l.jsx)(u.a,Object(r.a)({expressionType:"string",ref:function(t){return e._field=t}},this.props))}}]),n}(c.Component)},function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(3),a=n(6),o=n(5),i=n(10),s=n(11),c=n(17),u=n(356),l=n(389),d=n(8),b=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"focus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._field&&this._field.focus(e)}},{key:"render",value:function(){var e=this;return Object(d.jsx)(u.a,Object(r.a)({expressionType:"string",onGetAdditionalAutocompletions:function(t){return Object(l.c)(e.props.parameterMetadata).filter((function(e){return 0===e.completion.indexOf(t)}))},ref:function(t){return e._field=t}},this.props))}}]),n}(c.Component)},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return p}));var r=n(6),a=n(5),o=n(10),i=n(11),s=n(9),c=n(17),u=n(389),l=n(374),d=n(8),b=e.gd,p=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(e){var a;Object(r.a)(this,n),(a=t.call(this,e)).state={errorText:null},a._behaviorNames=[],a._getError=function(e){return e||a.props.value?0!==a._behaviorNames.filter((function(e){return a.props.value===e})).length?null:"This behavior is not attached to the object":null},a._doValidation=function(e){a.setState({errorText:a._getError(e)})},a._forceChooseBehavior=function(){1===a._behaviorNames.length&&a.props.value!==a._behaviorNames[0]&&a.props.onChange(a._behaviorNames[0])};var o=a.props.parameterMetadata;return a._description=o?o.getDescription():void 0,a._longDescription=o?o.getLongDescription():void 0,a._behaviorTypeAllowed=o?o.getExtraInfo():void 0,a}return Object(a.a)(n,[{key:"_updateBehaviorsList",value:function(){var e=this,t=this.props,n=t.instructionMetadata,r=t.instruction,a=t.expressionMetadata,o=t.expression,i=t.parameterIndex,s=Object(u.b)({instructionMetadata:n,instruction:r,expressionMetadata:a,expression:o,parameterIndex:i});s&&(this._behaviorNames=b.getBehaviorsOfObject(this.props.globalObjectsContainer,this.props.objectsContainer,s,!0).toJSArray().filter((function(t){return!e._behaviorTypeAllowed||b.getTypeOfBehavior(e.props.globalObjectsContainer,e.props.objectsContainer,t,!1)===e._behaviorTypeAllowed})))}},{key:"focus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._field&&this._field.focus(e)}},{key:"componentDidUpdate",value:function(){this._forceChooseBehavior()}},{key:"componentDidMount",value:function(){this._forceChooseBehavior()}},{key:"render",value:function(){var e=this;this._updateBehaviorsList();var t=""!==this._behaviorTypeAllowed?Object(d.jsx)(s.Trans,{id:"The behavior is not attached to this object. Please select another object or add this behavior."}):Object(d.jsx)(s.Trans,{id:"This object has no behaviors: please add this behavior to the object first."});return Object(d.jsx)(l.c,{margin:this.props.isInline?"none":"dense",floatingLabelText:this._description,helperMarkdownText:this._longDescription,fullWidth:!0,errorText:this._behaviorNames.length?this.state.errorText:t,value:this.props.value,onChange:this.props.onChange,onRequestClose:this.props.onRequestClose,onApply:this.props.onApply,onBlur:function(t){e._doValidation(t.currentTarget.value)},dataSource:this._behaviorNames.map((function(e){return{text:e,value:e}})),openOnFocus:!this.props.isInline,disabled:this._behaviorNames.length<=1,ref:function(t){return e._field=t}})}}]),n}(c.Component)}).call(this,n(25))},function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return j}));var r=n(6),a=n(5),o=n(10),i=n(11),s=n(9),c=n(17),u=n(822),l=n(510),d=n(481),b=n(8),p=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={editorOpen:!1},e}return Object(a.a)(n,[{key:"focus",value:function(){this._field&&this._field.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,r=t.scope,a=function(){return n?d.a.findAllGlobalVariables(n.getCurrentPlatform(),n):[]};return Object(b.jsxs)(c.Fragment,{children:[Object(b.jsx)(u.a,{variablesContainer:n?n.getVariables():null,onComputeAllVariableNames:a,parameterMetadata:this.props.parameterMetadata,value:this.props.value,onChange:this.props.onChange,isInline:this.props.isInline,onRequestClose:this.props.onRequestClose,onApply:this.props.onApply,ref:function(t){return e._field=t},onOpenDialog:function(){return e.setState({editorOpen:!0})},globalObjectsContainer:this.props.globalObjectsContainer,objectsContainer:this.props.objectsContainer,scope:r}),this.state.editorOpen&&n&&Object(b.jsx)(l.a,{title:Object(b.jsx)(s.Trans,{id:"Global Variables"}),open:this.state.editorOpen,variablesContainer:n.getVariables(),onCancel:function(){return e.setState({editorOpen:!1})},onApply:function(){e.setState({editorOpen:!1}),e._field&&e._field.updateAutocompletions()},emptyPlaceholderTitle:Object(b.jsx)(s.Trans,{id:"Add your first global variable"}),emptyPlaceholderDescription:Object(b.jsx)(s.Trans,{id:"These variables hold additional information on a project."}),helpPagePath:"/all-features/variables/global-variables",onComputeAllVariableNames:a})]})}}]),n}(c.Component),j=function(e){return Object(u.b)(e,"res/types/globalvar.png","global variable")}},function(e,t,n){"use strict";n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return h}));var r=n(6),a=n(5),o=n(10),i=n(11),s=n(9),c=n(17),u=n(822),l=n(510),d=n(389),b=n(481),p=n(8),j=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={editorOpen:!1},e}return Object(a.a)(n,[{key:"focus",value:function(){this._field&&this._field.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,r=t.scope,a=t.instructionMetadata,o=t.instruction,i=t.expressionMetadata,j=t.expression,h=t.parameterIndex,f=Object(d.b)({instructionMetadata:a,instruction:o,expressionMetadata:i,expression:j,parameterIndex:h}),g=r.layout,m=null,O=null;f&&(g&&g.hasObjectNamed(f)?O=(m=g.getObject(f)).getVariables():n&&n.hasObjectNamed(f)&&(O=(m=n.getObject(f)).getVariables()));var v=function(){return n&&g&&m?b.a.findAllObjectVariables(n.getCurrentPlatform(),n,g,m):[]};return Object(p.jsxs)(c.Fragment,{children:[Object(p.jsx)(u.a,{variablesContainer:O,onComputeAllVariableNames:v,parameterMetadata:this.props.parameterMetadata,value:this.props.value,onChange:this.props.onChange,isInline:this.props.isInline,onRequestClose:this.props.onRequestClose,onApply:this.props.onApply,ref:function(t){return e._field=t},onOpenDialog:function(){return e.setState({editorOpen:!0})},globalObjectsContainer:this.props.globalObjectsContainer,objectsContainer:this.props.objectsContainer,scope:r}),this.state.editorOpen&&O&&Object(p.jsx)(l.a,{title:Object(p.jsx)(s.Trans,{id:"Object Variables"}),open:this.state.editorOpen,variablesContainer:O,emptyPlaceholderTitle:Object(p.jsx)(s.Trans,{id:"Add your first object variable"}),emptyPlaceholderDescription:Object(p.jsx)(s.Trans,{id:"These variables hold additional information on an object."}),helpPagePath:"/all-features/variables/object-variables",onComputeAllVariableNames:v,onCancel:function(){return e.setState({editorOpen:!1})},onApply:function(){e.setState({editorOpen:!1}),e._field&&e._field.updateAutocompletions()}})]})}}]),n}(c.Component),h=function(e){return Object(u.b)(e,"res/types/objectvar.png","object variable")}},function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(3),a=n(6),o=n(5),i=n(10),s=n(11),c=n(17),u=n(307),l=n(356),d=n(8),b=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"focus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._field&&this._field.focus(e)}},{key:"render",value:function(){var e=this,t=this.props.scope.layout,n=t?Object(u.mapFor)(0,t.getLayersCount(),(function(e){var n=t.getLayerAt(e);return{kind:"Text",completion:'"'.concat(n.getName(),'"')}})):[];return Object(d.jsx)(l.a,Object(r.a)({id:void 0!==this.props.parameterIndex?"parameter-".concat(this.props.parameterIndex,"-layer-field"):void 0,expressionType:"string",onGetAdditionalAutocompletions:function(e){return n.filter((function(t){return 0===t.completion.indexOf(e)}))},ref:function(t){return e._field=t}},this.props))}}]),n}(c.Component)},function(e,t,n){"use strict";var r=n(9),a=n(17),o=n(387),i=n(320),s=n(8),c=a.forwardRef((function(e,t){var n=a.useRef(null),c=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];n.current&&n.current.focus(e)};return a.useImperativeHandle(t,(function(){return{focus:c}})),e.resourceManagementProps&&e.project?Object(s.jsx)(o.a,{margin:e.isInline?"none":"dense",project:e.project,resourceManagementProps:e.resourceManagementProps,resourcesLoader:i.a,resourceKind:"image",fullWidth:!0,initialResourceName:e.value,onChange:e.onChange,floatingLabelText:Object(s.jsx)(r.Trans,{id:"Choose the image file to use"}),onRequestClose:e.onRequestClose,onApply:e.onApply,ref:n}):(console.error("Missing project or resourceManagementProps for ImageResourceField"),null)}));t.a=c},function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(6),a=n(5),o=n(10),i=n(11),s=n(9),c=n(17),u=n(387),l=n(320),d=n(8),b=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"focus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._field&&this._field.focus(e)}},{key:"render",value:function(){var e=this;return this.props.resourceManagementProps&&this.props.project?Object(d.jsx)(u.a,{margin:this.props.isInline?"none":"dense",project:this.props.project,resourceManagementProps:this.props.resourceManagementProps,resourcesLoader:l.a,resourceKind:"audio",fullWidth:!0,initialResourceName:this.props.value,onChange:this.props.onChange,floatingLabelText:Object(d.jsx)(s.Trans,{id:"Choose the audio file to use"}),onRequestClose:this.props.onRequestClose,onApply:this.props.onApply,ref:function(t){return e._field=t}}):(console.error("Missing project or resourceManagementProps for AudioResourceField"),null)}}]),n}(c.Component)},function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(6),a=n(5),o=n(10),i=n(11),s=n(9),c=n(17),u=n(387),l=n(320),d=n(8),b=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"focus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._field&&this._field.focus(e)}},{key:"render",value:function(){var e=this;return this.props.resourceManagementProps&&this.props.project?Object(d.jsx)(u.a,{margin:this.props.isInline?"none":"dense",project:this.props.project,resourceManagementProps:this.props.resourceManagementProps,resourcesLoader:l.a,resourceKind:"video",fullWidth:!0,initialResourceName:this.props.value,onChange:this.props.onChange,floatingLabelText:Object(d.jsx)(s.Trans,{id:"Choose the video file to use"}),onRequestClose:this.props.onRequestClose,onApply:this.props.onApply,ref:function(t){return e._field=t}}):(console.error("Missing project or resourceManagementProps for VideoResourceField"),null)}}]),n}(c.Component)},function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(6),a=n(5),o=n(10),i=n(11),s=n(9),c=n(17),u=n(387),l=n(320),d=n(8),b=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"focus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._field&&this._field.focus(e)}},{key:"render",value:function(){var e=this;return this.props.resourceManagementProps&&this.props.project?Object(d.jsx)(u.a,{margin:this.props.isInline?"none":"dense",project:this.props.project,resourceManagementProps:this.props.resourceManagementProps,resourcesLoader:l.a,resourceKind:"json",fullWidth:!0,initialResourceName:this.props.value,onChange:this.props.onChange,floatingLabelText:Object(d.jsx)(s.Trans,{id:"Choose the json file to use"}),onRequestClose:this.props.onRequestClose,onApply:this.props.onApply,ref:function(t){return e._field=t}}):(console.error("Missing project or resourceManagementProps for JsonResourceField"),null)}}]),n}(c.Component)},function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(6),a=n(5),o=n(10),i=n(11),s=n(9),c=n(17),u=n(387),l=n(320),d=n(8),b=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"focus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._field&&this._field.focus(e)}},{key:"render",value:function(){var e=this;return this.props.resourceManagementProps&&this.props.project?Object(d.jsx)(u.a,{margin:this.props.isInline?"none":"dense",project:this.props.project,resourceManagementProps:this.props.resourceManagementProps,resourcesLoader:l.a,resourceKind:"bitmapFont",fullWidth:!0,initialResourceName:this.props.value,onChange:this.props.onChange,floatingLabelText:Object(d.jsx)(s.Trans,{id:"Choose the bitmap font file (.fnt, .xml) to use"}),onRequestClose:this.props.onRequestClose,onApply:this.props.onApply,ref:function(t){return e._field=t}}):(console.error("Missing project or resourceManagementProps for BitmapFontResourceField"),null)}}]),n}(c.Component)},function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(6),a=n(5),o=n(10),i=n(11),s=n(9),c=n(17),u=n(387),l=n(320),d=n(8),b=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"focus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._field&&this._field.focus(e)}},{key:"render",value:function(){var e=this;return this.props.resourceManagementProps&&this.props.project?Object(d.jsx)(u.a,{margin:this.props.isInline?"none":"dense",project:this.props.project,resourceManagementProps:this.props.resourceManagementProps,resourcesLoader:l.a,resourceKind:"font",fullWidth:!0,initialResourceName:this.props.value,onChange:this.props.onChange,floatingLabelText:Object(d.jsx)(s.Trans,{id:"Choose the font file to use"}),onRequestClose:this.props.onRequestClose,onApply:this.props.onApply,ref:function(t){return e._field=t}}):(console.error("Missing project or resourceManagementProps for FontResourceField"),null)}}]),n}(c.Component)},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(3),a=n(6),o=n(5),i=n(10),s=n(11),c=n(17),u=n(356),l=n(517),d=n(66),b=n(8),p=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"focus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._field&&this._field.focus(e)}},{key:"render",value:function(){var e=this;return Object(b.jsx)(u.a,Object(r.a)({expressionType:"string",ref:function(t){return e._field=t},renderExtraButton:function(t){var n=t.style;return Object(b.jsx)(l.a,{style:n,disableAlpha:!0,color:Object(d.i)(e.props.value),onChangeComplete:function(t){e.props.onChange('"'+t.rgb.r+";"+t.rgb.g+";"+t.rgb.b+'"')}})},onExtractAdditionalErrors:function(e,t){return e.trim().startsWith('"\\"')?"A color is a text in the format R;G;B, like 100;200;180 (numbers going from 0 to 255). You need to surround the text with quotes, but the text itself should not contain a quote inside.":null}},this.props))}}]),n}(c.Component)},function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return O}));var r=n(3),a=n(6),o=n(5),i=n(10),s=n(11),c=n(9),u=n(17),l=n.n(u),d=n(305),b=n(295),p=n(356),j=n(347),h=n(818),f=n(296),g=n(8),m=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o)))._instantButton=l.a.createRef(),e.state={showDeprecatedNumericValue:""!==e.props.value&&"1"!==e.props.value&&"0"!==e.props.value},e}return Object(o.a)(n,[{key:"focus",value:function(){Object(h.a)(this._instantButton)}},{key:"render",value:function(){var e=this,t=this.state.showDeprecatedNumericValue;return Object(g.jsxs)(b.a,{expand:!0,noMargin:!0,children:[Object(g.jsxs)(b.c,{expand:!0,alignItems:"center",children:[Object(g.jsx)(b.a,{children:Object(g.jsx)(d.a,{label:Object(g.jsx)(c.Trans,{id:"Instant"}),primary:""===this.props.value||"0"===this.props.value,onClick:function(){return e.props.onChange("0")},ref:this._instantButton})}),Object(g.jsx)(b.a,{children:Object(g.jsx)(f.a,{children:Object(g.jsx)(c.Trans,{id:"The force will only push the object during the time of one frame. Typically used in an event with no conditions or with conditions that stay valid for a certain amount of time."})})})]}),Object(g.jsxs)(b.c,{expand:!0,alignItems:"center",children:[Object(g.jsx)(b.a,{children:Object(g.jsx)(d.a,{label:Object(g.jsx)(c.Trans,{id:"Permanent"}),primary:"1"===this.props.value,onClick:function(){return e.props.onChange("1")}})}),Object(g.jsx)(b.a,{children:Object(g.jsx)(f.a,{children:Object(g.jsx)(c.Trans,{id:'The force will push the object forever, unless you use the action "Stop the object". Typically used in an event with conditions that are only true once, or with a "Trigger Once" condition.'})})})]}),t&&Object(g.jsxs)(l.a.Fragment,{children:[Object(g.jsx)(j.a,{children:Object(g.jsx)(c.Trans,{id:"or"})}),Object(g.jsx)(b.c,{expand:!0,children:Object(g.jsx)(b.a,{expand:!0,children:Object(g.jsx)(p.a,Object(r.a)({expressionType:"number"},this.props))})}),Object(g.jsx)(j.a,{children:Object(g.jsx)(c.Trans,{id:'The usage of a number or expression is deprecated. Please now use only "Permanent" or "Instant" for configuring forces.'})})]})]})}}]),n}(u.Component),O=function(e){var t=e.value;return"1"===t?Object(g.jsx)(c.Trans,{id:"a permanent"}):"0"===t||""===t?Object(g.jsx)(c.Trans,{id:"an instant"}):"a (multiplier: "+t+")"}},function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(3),a=n(6),o=n(5),i=n(10),s=n(11),c=n(17),u=n(356),l=n(521),d=n(8),b=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"focus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._field&&this._field.focus(e)}},{key:"render",value:function(){var e=this,t=this.props.project?Object(l.d)(this.props.project).map((function(e){return{kind:"Text",completion:'"'.concat(e.getName(),'"')}})):[];return Object(d.jsx)(u.a,Object(r.a)({id:void 0!==this.props.parameterIndex?"parameter-".concat(this.props.parameterIndex,"-scene-field"):void 0,expressionType:"string",onGetAdditionalAutocompletions:function(e){return t.filter((function(t){return 0===t.completion.indexOf(e)}))},ref:function(t){return e._field=t}},this.props))}}]),n}(c.Component)},function(e,t,n){"use strict";var r=n(3),a=n(17),o=n(356),i=n(389),s=n(823),c=n(8);t.a=a.forwardRef((function(e,t){var n=a.useRef(null);a.useImperativeHandle(t,(function(){return{focus:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];n.current&&n.current.focus(e)}}}));return Object(c.jsx)(o.a,Object(r.a)({expressionType:"string",onGetAdditionalAutocompletions:function(t){return function(){var t=e.scope,n=e.instruction,r=e.expression,a=e.parameterIndex,o=t.layout;if(!o)return[];var c=Object(i.e)(Object(i.d)({instruction:n,expression:r,parameterIndex:a}));if(null==c||!o.hasLayerNamed(c))return[];var u=o.getLayer(c);return Object(s.a)(u.getEffects()).sort().map((function(e){return{kind:"Text",completion:'"'.concat(e,'"')}}))}().filter((function(e){return 0===e.completion.indexOf(t)}))},ref:n},e))}))},function(e,t,n){"use strict";(function(e){var r=n(3),a=n(17),o=n(356),i=n(389),s=n(8),c=e.gd;t.a=a.forwardRef((function(e,t){var n=a.useRef(null);a.useImperativeHandle(t,(function(){return{focus:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];n.current&&n.current.focus(e)}}}));return Object(s.jsx)(o.a,Object(r.a)({expressionType:"string",onGetAdditionalAutocompletions:function(t){return function(){var t=e.project,n=e.scope,r=e.instruction,a=e.expression,o=e.parameterIndex,s=n.layout;if(!s||!t)return[];var u=Object(i.e)(Object(i.d)({instruction:r,expression:a,parameterIndex:o?o-1:null}));if(null==u||!s.hasLayerNamed(u))return[];var l=s.getLayer(u),d=Object(i.e)(Object(i.d)({instruction:r,expression:a,parameterIndex:o}));if(!d||!l.getEffects().hasEffectNamed(d))return[];var b=l.getEffects().getEffect(d).getEffectType();return c.MetadataProvider.getEffectMetadata(t.getCurrentPlatform(),b).getProperties().keys().toJSArray().sort().map((function(e){return{kind:"Text",completion:'"'.concat(e,'"')}}))}().filter((function(e){return 0===e.completion.indexOf(t)}))},ref:n},e))}))}).call(this,n(25))},function(e,t,n){"use strict";var r=n(3),a=n(19),o=n(17),i=n(1141),s=n.n(i),c=n(356),u=n(388),l=n(389),d=n(823),b=n(668),p=n(307),j=n(8);t.a=o.forwardRef((function(e,t){var n=o.useRef(null);o.useImperativeHandle(t,(function(){return{focus:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];n.current&&n.current.focus(e)}}}));var i=e.project,h=e.scope,f=e.instructionMetadata,g=e.instruction,m=e.expressionMetadata,O=e.expression,v=e.parameterIndex,x=function(){var e=Object(l.b)({instructionMetadata:f,instruction:g,expressionMetadata:m,expression:O,parameterIndex:v});if(!e||!i)return[];var t=Object(u.a)(i,h.layout,e);if(t)return Object(d.a)(t.getEffects()).sort().map((function(e){return{kind:"Text",completion:'"'.concat(e,'"')}}));var n=Object(b.a)(i,h.layout,e);if(n){var r=Object(p.mapVector)(n.getAllObjectsNames(),(function(e){var t=Object(u.a)(i,h.layout,e);return t?Object(d.a)(t.getEffects()):null})).filter(Boolean);return s.a.apply(void 0,Object(a.a)(r)).sort().map((function(e){return{kind:"Text",completion:'"'.concat(e,'"')}}))}return[]};return Object(j.jsx)(c.a,Object(r.a)({expressionType:"string",onGetAdditionalAutocompletions:function(e){return x().filter((function(t){return 0===t.completion.indexOf(e)}))},ref:n},e))}))},,,,,,,,,,function(e,t,n){"use strict";(function(e){var r=n(3),a=n(17),o=n(642),i=n.n(o),s=n(356),c=n(388),u=n(389),l=n(668),d=n(307),b=n(8),p=e.gd;t.a=a.forwardRef((function(e,t){var n=a.useRef(null);a.useImperativeHandle(t,(function(){return{focus:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];n.current&&n.current.focus(e)}}}));return Object(b.jsx)(s.a,Object(r.a)({expressionType:"string",onGetAdditionalAutocompletions:function(t){return function(){var t=e.project,n=e.scope,r=e.instructionMetadata,a=e.instruction,o=e.expressionMetadata,s=e.expression,b=e.parameterIndex,j=Object(u.b)({instructionMetadata:r,instruction:a,expressionMetadata:o,expression:s,parameterIndex:b}),h=Object(u.e)(Object(u.d)({instruction:a,expression:s,parameterIndex:b}));if(!j||!t||!h)return[];var f=null,g=Object(c.a)(t,n.layout,j);if(g&&g.getEffects().hasEffectNamed(h)&&(f=g.getEffects().getEffect(h).getEffectType()),!f){var m=Object(l.a)(t,n.layout,j);if(m){var O=Object(d.mapVector)(m.getAllObjectsNames(),(function(e){var r=Object(c.a)(t,n.layout,e);return r&&r.getEffects().hasEffectNamed(h)?r.getEffects().getEffect(h).getEffectType():null}));O.every((function(e){return!!e}))&&1===i()(O).length&&(f=O[0])}}return f?p.MetadataProvider.getEffectMetadata(t.getCurrentPlatform(),f).getProperties().keys().toJSArray().sort().map((function(e){return{kind:"Text",completion:'"'.concat(e,'"')}})):[]}().filter((function(e){return 0===e.completion.indexOf(t)}))},ref:n},e))}))}).call(this,n(25))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return v}));var r=n(3),a=n(19),o=n(6),i=n(5),s=n(10),c=n(11),u=n(17),l=n(1141),d=n.n(l),b=n(356),p=n(388),j=n(389),h=n(486),f=n(668),g=n(307),m=n(8),O=e.gd,v=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"focus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._field&&this._field.focus(e)}},{key:"getPointNames",value:function(){var e=this.props,t=e.project,n=e.scope,r=e.instructionMetadata,o=e.instruction,i=e.expressionMetadata,s=e.expression,c=e.parameterIndex,u=Object(j.b)({instructionMetadata:r,instruction:o,expressionMetadata:i,expression:s,parameterIndex:c});if(!u||!t)return[];var l=Object(p.a)(t,n.layout,u);if(l&&"Sprite"===l.getType()){var b=O.asSpriteConfiguration(l.getConfiguration());return Object(h.k)(b).map((function(e){return e.length>0?e:null})).filter(Boolean).sort().map((function(e){return{kind:"Text",completion:'"'.concat(e,'"')}}))}var m=Object(f.a)(t,n.layout,u);if(m){var v=Object(g.mapVector)(m.getAllObjectsNames(),(function(e){var r=Object(p.a)(t,n.layout,e);if(!r||"Sprite"!==r.getType())return null;var a=O.asSpriteConfiguration(r.getConfiguration());return Object(h.k)(a).map((function(e){return e.length>0?e:null})).filter(Boolean)}));return v.some((function(e){return!e}))?[]:d.a.apply(void 0,Object(a.a)(v)).sort().map((function(e){return{kind:"Text",completion:'"'.concat(e,'"')}}))}return[]}},{key:"render",value:function(){var e=this;return Object(m.jsx)(b.a,Object(r.a)({expressionType:"string",onGetAdditionalAutocompletions:function(t){return e.getPointNames().filter((function(e){return 0===e.completion.indexOf(t)}))},ref:function(t){return e._field=t}},this.props))}}]),n}(u.Component)}).call(this,n(25))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return h}));var r=n(3),a=n(6),o=n(5),i=n(10),s=n(11),c=n(17),u=n(356),l=n(388),d=n(389),b=n(307),p=n(8),j=e.gd,h=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"focus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._field&&this._field.focus(e)}},{key:"getAnimationNames",value:function(){var e=this.props,t=e.project,n=e.scope,r=e.instructionMetadata,a=e.instruction,o=e.expressionMetadata,i=e.expression,s=e.parameterIndex,c=Object(d.b)({instructionMetadata:r,instruction:a,expressionMetadata:o,expression:i,parameterIndex:s});if(!c||!t)return[];var u=Object(l.a)(t,n.layout,c);if(!u)return[];if("Sprite"===u.getType()){var p=j.asSpriteConfiguration(u.getConfiguration());return Object(b.mapFor)(0,p.getAnimationsCount(),(function(e){var t=p.getAnimation(e).getName();return t.length>0?t:null})).filter(Boolean).sort().map((function(e){return{kind:"Text",completion:'"'.concat(e,'"')}}))}return[]}},{key:"render",value:function(){var e=this;return Object(p.jsx)(u.a,Object(r.a)({expressionType:"string",onGetAdditionalAutocompletions:function(t){return e.getAnimationNames().filter((function(e){return 0===e.completion.indexOf(t)}))},ref:function(t){return e._field=t}},this.props))}}]),n}(c.Component)}).call(this,n(25))},function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(3),a=n(6),o=n(5),i=n(10),s=n(11),c=n(17),u=n(356),l=n(1139),d=n(8),b=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"focus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._field&&this._field.focus(e)}},{key:"render",value:function(){var e=this,t=this.props.scope.eventsBasedBehavior||this.props.scope.eventsBasedObject,n=t?t.getEventsFunctions():this.props.scope.eventsFunctionsExtension,a=this.props.scope.eventsFunction&&n?Object(l.a)(n,this.props.scope.eventsFunction).map((function(e){return{kind:"Text",completion:'"'.concat(e.getName(),'"')}})):[];return Object(d.jsx)(u.a,Object(r.a)({expressionType:"string",onGetAdditionalAutocompletions:function(e){return a.filter((function(t){return 0===t.completion.indexOf(e)}))},ref:function(t){return e._field=t}},this.props))}}]),n}(c.Component)},function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(3),a=n(6),o=n(5),i=n(10),s=n(11),c=n(17),u=n(356),l=n(521),d=n(8),b=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"focus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._field&&this._field.focus(e)}},{key:"render",value:function(){var e=this,t=this.props.project?Object(l.c)(this.props.project).map((function(e){return{kind:"Text",completion:'"'.concat(e.getName(),'"')}})):[];return Object(d.jsx)(u.a,Object(r.a)({expressionType:"string",onGetAdditionalAutocompletions:function(e){return t.filter((function(t){return 0===t.completion.indexOf(e)}))},ref:function(t){return e._field=t}},this.props))}}]),n}(c.Component)},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return l}));var r=n(3),a=n(17),o=n.n(a),i=n(356),s=n(389),c=n(8),u=e.gd,l=function(e){var t=e.project,n=e.scope,a=e.instructionMetadata,l=e.instruction,d=e.expressionMetadata,b=e.expression,p=e.parameterIndex,j=n.layout,h=Object(s.b)({instructionMetadata:a,instruction:l,expressionMetadata:d,expression:b,parameterIndex:p})||"",f=o.a.useMemo((function(){if(!p)return[];var e=a?a.getParameter(p):d?d.getParameter(p):null,n=e?e.getExtraInfo():"";return(t&&j?u.EventsIdentifiersFinder.findAllIdentifierExpressions(t.getCurrentPlatform(),t,j,n,h).toNewVectorString().toJSArray():[]).map((function(e){return{kind:"FullExpression",completion:e}}))}),[t,j,d,a,p,h]),g=o.a.useRef(null);return o.a.useEffect((function(){g.current&&g.current.focus()}),[]),Object(c.jsx)(i.a,Object(r.a)({expressionType:"string",onGetAdditionalAutocompletions:function(e){return f.filter((function(t){return 0===t.completion.indexOf(e)}))},ref:g},e))}}).call(this,n(25))},function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(6),a=n(5),o=n(10),i=n(11),s=n(9),c=n(17),u=n(387),l=n(320),d=n(8),b=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"focus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._field&&this._field.focus(e)}},{key:"render",value:function(){var e=this;return this.props.resourceManagementProps&&this.props.project?Object(d.jsx)(u.a,{margin:this.props.isInline?"none":"dense",project:this.props.project,resourceManagementProps:this.props.resourceManagementProps,resourcesLoader:l.a,resourceKind:"tilemap",fallbackResourceKind:"json",fullWidth:!0,initialResourceName:this.props.value,onChange:this.props.onChange,floatingLabelText:Object(d.jsx)(s.Trans,{id:"Choose the JSON/LDtk file to use"}),onRequestClose:this.props.onRequestClose,onApply:this.props.onApply,ref:function(t){return e._field=t}}):(console.error("Missing project or resourceManagementProps for TilemapResourceField"),null)}}]),n}(c.Component)},function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(6),a=n(5),o=n(10),i=n(11),s=n(9),c=n(17),u=n(387),l=n(320),d=n(8),b=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"focus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._field&&this._field.focus(e)}},{key:"render",value:function(){var e=this;return this.props.resourceManagementProps&&this.props.project?Object(d.jsx)(u.a,{margin:this.props.isInline?"none":"dense",project:this.props.project,resourceManagementProps:this.props.resourceManagementProps,resourcesLoader:l.a,resourceKind:"tileset",fallbackResourceKind:"json",fullWidth:!0,initialResourceName:this.props.value,onChange:this.props.onChange,floatingLabelText:Object(d.jsx)(s.Trans,{id:"Choose the tileset to use"}),onRequestClose:this.props.onRequestClose,onApply:this.props.onApply,ref:function(t){return e._field=t}}):(console.error("Missing project or resourceManagementProps for TilesetResourceField"),null)}}]),n}(c.Component)},function(e,t,n){"use strict";n(17);var r=n(349),a=n(8);t.a=function(e){var t=e.children;return e.isEmpty?Object(a.jsxs)("span",{className:r.k,children:["< ",t," >"]}):Object(a.jsx)("span",{className:r.k,children:t})}},function(e,t,n){"use strict";n(17);var r=n(349),a=n(8);t.a=function(){return Object(a.jsx)("span",{className:r.l,children:"\xa0"})}},function(e,t,n){"use strict";var r=n(3),a=n(17),o=n.n(a),i=n(905),s=n(8);t.a=o.a.memo(o.a.forwardRef((function(e,t){return Object(s.jsxs)(i.a,Object(r.a)(Object(r.a)({viewBox:"10 10 54 54"},e),{},{ref:t,children:[Object(s.jsx)("path",{d:"M30.5461 30.5034L28.3521 34.288C30.0252 35.8147 31.6363 36.9026 34.934 37.9129L36.1222 33.5573C33.9641 32.8388 31.7827 31.6259 30.5461 30.5034Z",fill:"#29ABE1"}),Object(s.jsx)("path",{d:"M24.4035 30.8975C24.4035 30.8975 25.544 32.6156 26.0043 32.2051L27.8585 28.4191C25.9976 26.5822 24.4035 23.6184 24.4035 19.5989C24.4035 32.6265 24.4035 26.5737 24.4035 30.8975Z",fill:"#29ABE1"}),Object(s.jsx)("path",{d:"M44.9316 26.7094L55.9031 36.8682L44.9316 47.0269L44.9316 39.357C42.7099 39.3063 40.7076 39.1539 38.9796 38.8745L39.8706 34.288C41.1872 34.4658 43.2036 34.8111 44.9316 34.8365L44.9316 26.7094Z",fill:"#29ABE1"}),Object(s.jsx)("path",{d:"M20.4015 51.1301L24.4035 51.1301C24.758 37.0402 24.4035 22.938 24.4035 8.84436L20.4015 8.84435L20.4015 19.6497C20.4015 29.4361 20.669 40.0776 20.4015 51.1301Z",fill:"#2B3990"}),Object(s.jsx)("path",{d:"M22.4813 59.5759C26.4597 59.5759 29.6848 56.3507 29.6848 52.3723C29.6848 48.3939 26.4597 45.1688 22.4813 45.1688C18.5029 45.1688 15.2777 48.3939 15.2777 52.3723C15.2777 56.3507 18.5029 59.5759 22.4813 59.5759Z",fill:"#29ABE1"}),Object(s.jsx)("path",{d:"M22.4813 55.9741C24.4705 55.9741 26.083 54.3615 26.083 52.3723C26.083 50.3831 24.4705 48.7706 22.4813 48.7706C20.4921 48.7706 18.8795 50.3831 18.8795 52.3723C18.8795 54.3615 20.4921 55.9741 22.4813 55.9741Z",fill:"white"})]}))})))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return v}));var r=n(3),a=n(1),o=n(6),i=n(5),s=n(10),c=n(11),u=n(9),l=n(17),d=n(317),b=n.n(d),p=n(311),j=n(349),h=n(330),f=n(467),g=n(8),m=e.gd,O={container:{height:"2.5em",display:"flex",alignItems:"center",padding:5,overflow:"hidden"},title:{fontSize:"1.3em",width:"100%"}},v=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={editing:!1,editingPreviousValue:null},e._textField=null,e.edit=function(){if(!e.state.editing){var t=m.asGroupEvent(e.props.event);e.state.editingPreviousValue||e.setState({editingPreviousValue:t.getName()}),e.setState({editing:!0},(function(){e._textField&&e._textField.focus()}))}},e.endEditing=function(){e.setState({editing:!1}),m.asGroupEvent(e.props.event).getName()!==e.state.editingPreviousValue&&(e.props.onEndEditingEvent(),e.setState({editingPreviousValue:null}))},e}return Object(i.a)(n,[{key:"render",value:function(){var e,t,n=this,o=m.asGroupEvent(this.props.event),i=o.getBackgroundColorR(),s=o.getBackgroundColorG(),c=o.getBackgroundColorB(),l=(i+s+c)/3>200?"black":"white";return Object(g.jsx)("div",{className:b()((e={},Object(a.a)(e,j.o,!0),Object(a.a)(e,j.p,this.props.selected),e)),style:Object(r.a)(Object(r.a)({},O.container),{},{backgroundColor:"rgb(".concat(i,", ").concat(s,", ").concat(c,")")}),onClick:this.edit,onKeyUp:function(e){Object(h.a)(e)&&n.edit()},tabIndex:0,children:this.state.editing?Object(g.jsx)(p.b,{margin:"none",ref:function(e){return n._textField=e},value:o.getName(),translatableHintText:{id:"<Enter group name>"},onBlur:this.endEditing,onChange:function(e,t){o.setName(t),n.forceUpdate()},style:O.title,inputStyle:{color:l,WebkitTextFillColor:l},fullWidth:!0,id:"group-title",onKeyUp:function(e){Object(h.c)(e)&&n.endEditing()},onKeyDown:function(e){(Object(h.g)(e)||Object(h.f)(e))&&n.endEditing()},underlineShow:!1}):Object(g.jsx)("span",Object(r.a)(Object(r.a)({className:b()((t={},Object(a.a)(t,j.s,!0),Object(a.a)(t,j.d,this.props.disabled),t)),style:Object(r.a)(Object(r.a)({},O.title),{},{color:l})},Object(f.a)({editableText:"true"})),{},{children:o.getName()?o.getName():Object(g.jsx)(u.Trans,{id:"<Enter group name>"})}))})}}]),n}(l.Component)}).call(this,n(25))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return x}));var r=n(1),a=n(6),o=n(5),i=n(10),s=n(11),c=n(3),u=n(17),l=n(317),d=n.n(l),b=n(311),p=n(66),j=n(349),h=n(330),f=n(467),g=n(8),m=e.gd,O={width:"100%"},v={container:{display:"flex",flexWrap:"wrap",padding:5,overflow:"hidden",minHeight:"2.1em"},commentTextField:Object(c.a)(Object(c.a)({},O),{},{fontSize:"inherit"}),commentSpan:Object(c.a)(Object(c.a)({},O),{},{alignItems:"center",height:"100%",whiteSpace:"pre-wrap"})},x=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={editing:!1,editingPreviousValue:null},e.edit=function(){if(!e.state.editing){var t=m.asCommentEvent(e.props.event);e.setState({editing:!0,editingPreviousValue:t.getComment()},(function(){e._textField&&e._textField.focus({caretPosition:"end"})}))}},e.onChange=function(t,n){m.asCommentEvent(e.props.event).setComment(n),e.props.onUpdate(),e.forceUpdate()},e.endEditing=function(){if(e._textField){var t=m.asCommentEvent(e.props.event);e.state.editingPreviousValue!==t.getComment()&&e.props.onEndEditingEvent(),e.setState({editing:!1,editingPreviousValue:null},(function(){return e.props.onUpdate()}))}},e._getCommentHTML=function(){return m.asCommentEvent(e.props.event).getComment().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<br>")},e}return Object(o.a)(n,[{key:"render",value:function(){var e,t,n=this,a=m.asCommentEvent(this.props.event),o="#".concat(Object(p.l)(a.getBackgroundColorRed(),a.getBackgroundColorGreen(),a.getBackgroundColorBlue())),i="#".concat(Object(p.l)(a.getTextColorRed(),a.getTextColorGreen(),a.getTextColorBlue()));return Object(g.jsx)("div",{className:d()((e={},Object(r.a)(e,j.o,!0),Object(r.a)(e,j.p,this.props.selected),e)),style:Object(c.a)(Object(c.a)({},v.container),{},{backgroundColor:o}),onClick:this.edit,onKeyUp:function(e){!n.state.editing&&Object(h.a)(e)&&n.edit()},tabIndex:0,children:this.state.editing?Object(g.jsx)(b.b,{multiline:!0,margin:"none",ref:function(e){return n._textField=e},value:a.getComment(),translatableHintText:{id:"<Enter comment>"},onBlur:this.endEditing,onChange:this.onChange,style:v.commentTextField,inputStyle:{color:i,padding:0},fullWidth:!0,id:"comment-title",onKeyDown:function(e){(Object(h.c)(e)||Object(h.f)(e))&&n.endEditing()},underlineShow:!1}):Object(g.jsx)("span",Object(c.a)({ref:function(e){return n._selectable=e},className:d()((t={},Object(r.a)(t,j.s,!0),Object(r.a)(t,j.d,this.props.disabled),t)),style:Object(c.a)(Object(c.a)({},v.commentSpan),{},{color:i}),dangerouslySetInnerHTML:{__html:this._getCommentHTML()}},Object(f.a)({editableText:"true"})))})}}]),n}(u.Component)}).call(this,n(25))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return y}));var r=n(3),a=n(1),o=n(6),i=n(5),s=n(10),c=n(11),u=n(9),l=n(17),d=n(527),b=n(317),p=n.n(b),j=n(349),h=n(530),f=n(814),g=n(580),m=n(330),O=n(8),v=e.gd,x={container:{display:"flex",flexDirection:"column"},instructionsContainer:{display:"flex"},actionsList:{flex:1}},y=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a)))._objectField=null,e.state={editing:!1,editingPreviousValue:null,anchorEl:null},e.edit=function(t){var n=v.asForEachEvent(e.props.event).getObjectToPick(),r=t.currentTarget;setTimeout((function(){return e.setState({editing:!0,editingPreviousValue:n,anchorEl:r},(function(){setTimeout((function(){e._objectField&&e._objectField.focus()}),10)}))}),10)},e.cancelEditing=function(){e.endEditing();var t=v.asForEachEvent(e.props.event),n=e.state.editingPreviousValue;null!=n&&(t.setObjectToPick(n),e.forceUpdate())},e.endEditing=function(){var t=e.state.anchorEl;t&&t.focus(),e.setState({editing:!1,editingPreviousValue:null,anchorEl:null})},e}return Object(i.a)(n,[{key:"render",value:function(){var e,t,n=this,o=v.asForEachEvent(this.props.event),i=o.getObjectToPick();return Object(O.jsxs)("div",{style:x.container,className:p()((e={},Object(a.a)(e,j.o,!0),Object(a.a)(e,j.p,this.props.selected),Object(a.a)(e,j.h,!0),e)),children:[Object(O.jsx)("div",{children:Object(O.jsx)("span",{className:p()((t={},Object(a.a)(t,j.s,!0),Object(a.a)(t,j.d,this.props.disabled),t)),onClick:this.edit,onKeyPress:function(e){Object(m.a)(e)&&n.edit(e)},tabIndex:0,children:i?Object(O.jsx)(u.Trans,{id:"Repeat for each instance of {objectName}:",values:{objectName:i}}):Object(O.jsx)("i",{children:Object(O.jsx)(u.Trans,{id:"Click to choose for which objects this event will be repeated"})})})}),Object(O.jsx)(g.a,{leftIndentWidth:this.props.leftIndentWidth,windowWidth:this.props.windowWidth,renderConditionsList:function(e){var t=e.style,r=e.className;return Object(O.jsx)(d.a,{instrsList:o.getConditions(),style:t,className:r,selection:n.props.selection,areConditions:!0,onAddNewInstruction:n.props.onAddNewInstruction,onPasteInstructions:n.props.onPasteInstructions,onMoveToInstruction:n.props.onMoveToInstruction,onMoveToInstructionsList:n.props.onMoveToInstructionsList,onInstructionClick:n.props.onInstructionClick,onInstructionDoubleClick:n.props.onInstructionDoubleClick,onInstructionContextMenu:n.props.onInstructionContextMenu,onAddInstructionContextMenu:n.props.onAddInstructionContextMenu,onParameterClick:n.props.onParameterClick,disabled:n.props.disabled,renderObjectThumbnail:n.props.renderObjectThumbnail,screenType:n.props.screenType,windowWidth:n.props.windowWidth,globalObjectsContainer:n.props.globalObjectsContainer,objectsContainer:n.props.objectsContainer})},renderActionsList:function(e){var t=e.className;return Object(O.jsx)(d.a,{instrsList:o.getActions(),style:Object(r.a)({},x.actionsList),className:t,selection:n.props.selection,areConditions:!1,onAddNewInstruction:n.props.onAddNewInstruction,onPasteInstructions:n.props.onPasteInstructions,onMoveToInstruction:n.props.onMoveToInstruction,onMoveToInstructionsList:n.props.onMoveToInstructionsList,onInstructionClick:n.props.onInstructionClick,onInstructionDoubleClick:n.props.onInstructionDoubleClick,onInstructionContextMenu:n.props.onInstructionContextMenu,onAddInstructionContextMenu:n.props.onAddInstructionContextMenu,onParameterClick:n.props.onParameterClick,disabled:n.props.disabled,renderObjectThumbnail:n.props.renderObjectThumbnail,screenType:n.props.screenType,windowWidth:n.props.windowWidth,globalObjectsContainer:n.props.globalObjectsContainer,objectsContainer:n.props.objectsContainer})}}),Object(O.jsx)(h.a,{open:this.state.editing,anchorEl:this.state.anchorEl,onRequestClose:this.cancelEditing,onApply:this.endEditing,children:Object(O.jsx)(f.a,{project:this.props.project,scope:this.props.scope,globalObjectsContainer:this.props.globalObjectsContainer,objectsContainer:this.props.objectsContainer,value:i,onChange:function(e){o.setObjectToPick(e),n.props.onUpdate()},isInline:!0,onRequestClose:this.cancelEditing,onApply:this.endEditing,ref:function(e){return n._objectField=e}})})]})}}]),n}(l.Component)}).call(this,n(25))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return y}));var r=n(3),a=n(1),o=n(6),i=n(5),s=n(10),c=n(11),u=n(9),l=n(17),d=n(527),b=n(317),p=n.n(b),j=n(349),h=n(530),f=n(1140),g=n(580),m=n(330),O=n(8),v=e.gd,x={container:{display:"flex",flexDirection:"column"},instructionsContainer:{display:"flex"},actionsList:{flex:1},variableContainer:{marginLeft:"3px",marginRight:"2px"},eventLabel:{marginLeft:"5px",whiteSpace:"normal",wordWrap:"break-word"}},y=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a)))._valueIteratorField=null,e._keyIteratorField=null,e._iterableField=null,e.state={editingValueIteratorVariableName:!1,editingKeyIteratorVariableName:!1,editingIterableVariableName:!1,editingPreviousValue:null,anchorEl:null},e.edit=function(t,n){var r=v.asForEachChildVariableEvent(e.props.event),a=r.getValueIteratorVariableName(),o=r.getKeyIteratorVariableName(),i=r.getIterableVariableName();setTimeout((function(){return e.setState({editingValueIteratorVariableName:"iteratorValue"===t,editingKeyIteratorVariableName:"iteratorKey"===t,editingIterableVariableName:"iterable"===t,editingPreviousValue:"iterable"===t?i:"iteratorValue"===t?a:o,anchorEl:n},(function(){setTimeout((function(){var n="iterable"===t?e._iterableField:"iteratorValue"===t?e._valueIteratorField:e._keyIteratorField;n&&n.focus()}),10)}))}),10)},e.cancelEditing=function(){e.endEditing();var t=v.asForEachChildVariableEvent(e.props.event),n=e.state,r=n.editingPreviousValue,a=n.editingIterableVariableName,o=n.editingValueIteratorVariableName,i=n.editingKeyIteratorVariableName;null!=r&&(a?t.setIterableVariableName(r):o?t.setValueIteratorVariableName(r):i&&t.setKeyIteratorVariableName(r),e.forceUpdate())},e.endEditing=function(){var t=e.state.anchorEl;t&&t.focus(),e.setState({editingKeyIteratorVariableName:!1,editingValueIteratorVariableName:!1,editingIterableVariableName:!1,editingPreviousValue:null,anchorEl:null})},e}return Object(i.a)(n,[{key:"render",value:function(){var e,t,n,o,i=this,s=v.asForEachChildVariableEvent(this.props.event),c=s.getValueIteratorVariableName(),l=s.getKeyIteratorVariableName(),b=s.getIterableVariableName();return Object(O.jsxs)("div",{style:x.container,className:p()((e={},Object(a.a)(e,j.h,!0),Object(a.a)(e,j.o,!0),Object(a.a)(e,j.p,this.props.selected),e)),children:[Object(O.jsx)("div",{style:x.eventLabel,children:Object(O.jsx)(u.Trans,{id:"<0>For every child in<1><2/>{0}</1>, store the child in variable<3><4/>{1}</3>, the child name in<5><6/>{2}</5>and do:</0>",values:{0:0!==b.length?Object(O.jsx)("span",{children:b}):Object(O.jsx)("span",{className:"instruction-missing-parameter",children:Object(O.jsx)(u.Trans,{id:"<Select a variable>"})}),1:0!==c.length?Object(O.jsx)("span",{children:c}):Object(O.jsx)("span",{children:Object(O.jsx)(u.Trans,{id:"<Select a variable> (optional)"})}),2:0!==l.length?Object(O.jsx)("span",{children:l}):Object(O.jsx)("span",{children:Object(O.jsx)(u.Trans,{id:"<Select a variable> (optional)"})})},components:[Object(O.jsx)("span",{className:p()(Object(a.a)({},j.d,this.props.disabled))}),Object(O.jsx)("span",{className:p()((t={},Object(a.a)(t,j.s,!0),Object(a.a)(t,j.m,!0),Object(a.a)(t,j.r,!0),Object(a.a)(t,"scenevar",!0),t)),style:x.variableContainer,onClick:function(e){return i.edit("iterable",e.currentTarget)},onKeyPress:function(e){Object(m.a)(e)&&i.edit("iterable",e.currentTarget)},tabIndex:0}),Object(O.jsx)("img",{className:j.j,src:"res/types/scenevar.png",alt:"Scene variable"}),Object(O.jsx)("span",{className:p()((n={},Object(a.a)(n,j.s,!0),Object(a.a)(n,j.m,!0),Object(a.a)(n,j.r,!0),Object(a.a)(n,"scenevar",!0),n)),style:x.variableContainer,onClick:function(e){return i.edit("iteratorValue",e.currentTarget)},onKeyPress:function(e){Object(m.a)(e)&&i.edit("iteratorValue",e.currentTarget)},tabIndex:0}),Object(O.jsx)("img",{className:j.j,src:"res/types/scenevar.png",alt:"Scene variable"}),Object(O.jsx)("span",{className:p()((o={},Object(a.a)(o,j.s,!0),Object(a.a)(o,j.m,!0),Object(a.a)(o,j.r,!0),Object(a.a)(o,"scenevar",!0),o)),style:x.variableContainer,onClick:function(e){return i.edit("iteratorKey",e.currentTarget)},onKeyPress:function(e){Object(m.a)(e)&&i.edit("iteratorKey",e.currentTarget)},tabIndex:0}),Object(O.jsx)("img",{className:j.j,src:"res/types/scenevar.png",alt:"Scene variable"})]})}),Object(O.jsx)(g.a,{leftIndentWidth:this.props.leftIndentWidth,windowWidth:this.props.windowWidth,renderConditionsList:function(e){var t=e.style,n=e.className;return Object(O.jsx)(d.a,{instrsList:s.getConditions(),style:t,className:n,selection:i.props.selection,areConditions:!0,onAddNewInstruction:i.props.onAddNewInstruction,onPasteInstructions:i.props.onPasteInstructions,onMoveToInstruction:i.props.onMoveToInstruction,onMoveToInstructionsList:i.props.onMoveToInstructionsList,onInstructionClick:i.props.onInstructionClick,onInstructionDoubleClick:i.props.onInstructionDoubleClick,onInstructionContextMenu:i.props.onInstructionContextMenu,onAddInstructionContextMenu:i.props.onAddInstructionContextMenu,onParameterClick:i.props.onParameterClick,disabled:i.props.disabled,renderObjectThumbnail:i.props.renderObjectThumbnail,screenType:i.props.screenType,windowWidth:i.props.windowWidth,globalObjectsContainer:i.props.globalObjectsContainer,objectsContainer:i.props.objectsContainer})},renderActionsList:function(e){var t=e.className;return Object(O.jsx)(d.a,{instrsList:s.getActions(),style:Object(r.a)({},x.actionsList),className:t,selection:i.props.selection,areConditions:!1,onAddNewInstruction:i.props.onAddNewInstruction,onPasteInstructions:i.props.onPasteInstructions,onMoveToInstruction:i.props.onMoveToInstruction,onMoveToInstructionsList:i.props.onMoveToInstructionsList,onInstructionClick:i.props.onInstructionClick,onInstructionDoubleClick:i.props.onInstructionDoubleClick,onInstructionContextMenu:i.props.onInstructionContextMenu,onAddInstructionContextMenu:i.props.onAddInstructionContextMenu,onParameterClick:i.props.onParameterClick,disabled:i.props.disabled,renderObjectThumbnail:i.props.renderObjectThumbnail,screenType:i.props.screenType,windowWidth:i.props.windowWidth,globalObjectsContainer:i.props.globalObjectsContainer,objectsContainer:i.props.objectsContainer})}}),Object(O.jsx)(h.a,{open:this.state.editingValueIteratorVariableName,anchorEl:this.state.anchorEl,onRequestClose:this.cancelEditing,onApply:this.endEditing,children:Object(O.jsx)(f.a,{project:this.props.project,scope:this.props.scope,globalObjectsContainer:this.props.globalObjectsContainer,objectsContainer:this.props.objectsContainer,value:c,onChange:function(e){s.setValueIteratorVariableName(e),i.props.onUpdate()},isInline:!0,onRequestClose:this.cancelEditing,onApply:this.endEditing,ref:function(e){return i._valueIteratorField=e}})}),Object(O.jsx)(h.a,{open:this.state.editingKeyIteratorVariableName,anchorEl:this.state.anchorEl,onRequestClose:this.cancelEditing,onApply:this.endEditing,children:Object(O.jsx)(f.a,{project:this.props.project,scope:this.props.scope,globalObjectsContainer:this.props.globalObjectsContainer,objectsContainer:this.props.objectsContainer,value:l,onChange:function(e){s.setKeyIteratorVariableName(e),i.props.onUpdate()},isInline:!0,onRequestClose:this.cancelEditing,onApply:this.endEditing,ref:function(e){return i._keyIteratorField=e}})}),Object(O.jsx)(h.a,{open:this.state.editingIterableVariableName,anchorEl:this.state.anchorEl,onRequestClose:this.cancelEditing,onApply:this.endEditing,children:Object(O.jsx)(f.a,{project:this.props.project,scope:this.props.scope,globalObjectsContainer:this.props.globalObjectsContainer,objectsContainer:this.props.objectsContainer,value:b,onChange:function(e){s.setIterableVariableName(e),i.props.onUpdate()},isInline:!0,onRequestClose:this.cancelEditing,onApply:this.endEditing,ref:function(e){return i._iterableField=e}})})]})}}]),n}(l.Component)}).call(this,n(25))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return C}));var r=n(3),a=n(1),o=n(6),i=n(5),s=n(10),c=n(11),u=n(9),l=n(17),d=n(527),b=n(317),p=n.n(b),j=n(349),h=n(530),f=n(1131),g=n(580),m=n(330),O=n(664),v=n(8),x=e.gd,y={container:{display:"flex",flexDirection:"column"},instructionsContainer:{display:"flex"},actionsList:{flex:1}},C=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a)))._field=null,e.state={editing:!1,editingPreviousValue:null,anchorEl:null},e.edit=function(t){var n=x.asRepeatEvent(e.props.event).getRepeatExpression(),r=t.currentTarget;setTimeout((function(){return e.setState({editing:!0,editingPreviousValue:n,anchorEl:r},(function(){setTimeout((function(){e._field&&e._field.focus()}),10)}))}),10)},e.cancelEditing=function(){e.endEditing();var t=x.asRepeatEvent(e.props.event),n=e.state.editingPreviousValue;null!=n&&(t.setRepeatExpression(n),e.forceUpdate())},e.endEditing=function(){var t=e.state.anchorEl;t&&t.focus(),e.setState({editing:!1,editingPreviousValue:null,anchorEl:null})},e}return Object(i.a)(n,[{key:"render",value:function(){var e,t,n=this,o=x.asRepeatEvent(this.props.event),i=o.getRepeatExpression();return Object(v.jsxs)("div",{style:y.container,className:p()((e={},Object(a.a)(e,j.o,!0),Object(a.a)(e,j.p,this.props.selected),Object(a.a)(e,j.h,!0),e)),children:[Object(v.jsx)("div",{children:Object(v.jsx)("span",{className:p()((t={},Object(a.a)(t,j.s,!0),Object(a.a)(t,j.d,this.props.disabled),t)),onClick:this.edit,onKeyPress:function(e){Object(m.a)(e)&&n.edit(e)},tabIndex:0,children:i?Object(v.jsx)(u.Trans,{id:"Repeat {expression} times:",values:{expression:i}}):Object(v.jsx)("i",{children:Object(v.jsx)(u.Trans,{id:"Click to choose how many times will be repeated"})})})}),Object(v.jsx)(g.a,{leftIndentWidth:this.props.leftIndentWidth,windowWidth:this.props.windowWidth,renderConditionsList:function(e){var t=e.style,r=e.className;return Object(v.jsx)(d.a,{instrsList:o.getConditions(),style:t,className:r,selection:n.props.selection,areConditions:!0,onAddNewInstruction:n.props.onAddNewInstruction,onPasteInstructions:n.props.onPasteInstructions,onMoveToInstruction:n.props.onMoveToInstruction,onMoveToInstructionsList:n.props.onMoveToInstructionsList,onInstructionClick:n.props.onInstructionClick,onInstructionDoubleClick:n.props.onInstructionDoubleClick,onInstructionContextMenu:n.props.onInstructionContextMenu,onAddInstructionContextMenu:n.props.onAddInstructionContextMenu,onParameterClick:n.props.onParameterClick,disabled:n.props.disabled,renderObjectThumbnail:n.props.renderObjectThumbnail,screenType:n.props.screenType,windowWidth:n.props.windowWidth,globalObjectsContainer:n.props.globalObjectsContainer,objectsContainer:n.props.objectsContainer})},renderActionsList:function(e){var t=e.className;return Object(v.jsx)(d.a,{instrsList:o.getActions(),style:Object(r.a)({},y.actionsList),className:t,selection:n.props.selection,areConditions:!1,onAddNewInstruction:n.props.onAddNewInstruction,onPasteInstructions:n.props.onPasteInstructions,onMoveToInstruction:n.props.onMoveToInstruction,onMoveToInstructionsList:n.props.onMoveToInstructionsList,onInstructionClick:n.props.onInstructionClick,onInstructionDoubleClick:n.props.onInstructionDoubleClick,onInstructionContextMenu:n.props.onInstructionContextMenu,onAddInstructionContextMenu:n.props.onAddInstructionContextMenu,onParameterClick:n.props.onParameterClick,disabled:n.props.disabled,renderObjectThumbnail:n.props.renderObjectThumbnail,screenType:n.props.screenType,windowWidth:n.props.windowWidth,globalObjectsContainer:n.props.globalObjectsContainer,objectsContainer:n.props.objectsContainer})}}),Object(v.jsx)(h.a,{open:this.state.editing,anchorEl:this.state.anchorEl,onRequestClose:this.cancelEditing,onApply:this.endEditing,children:Object(v.jsx)(f.a,{project:this.props.project,scope:this.props.scope,globalObjectsContainer:this.props.globalObjectsContainer,objectsContainer:this.props.objectsContainer,value:i,onChange:function(e){o.setRepeatExpression(e),n.props.onUpdate()},parameterRenderingService:O.a,isInline:!0,ref:function(e){return n._field=e}})})]})}}]),n}(l.Component)}).call(this,n(25))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return O}));var r=n(3),a=n(1),o=n(6),i=n(5),s=n(10),c=n(11),u=n(9),l=n(17),d=n(527),b=n(317),p=n.n(b),j=n(349),h=n(580),f=n(8),g=e.gd,m={container:{display:"flex",flexDirection:"column"},instructionsContainer:{display:"flex"},actionsList:{flex:1}},O=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e,t=this,n=g.asWhileEvent(this.props.event);return Object(f.jsxs)("div",{style:m.container,className:p()((e={},Object(a.a)(e,j.o,!0),Object(a.a)(e,j.p,this.props.selected),Object(a.a)(e,j.h,!0),e)),children:[Object(f.jsx)("div",{className:p()(Object(a.a)({},j.d,this.props.disabled)),children:Object(f.jsx)(u.Trans,{id:"While these conditions are true:"})}),Object(f.jsx)(d.a,{instrsList:n.getWhileConditions(),style:{},className:j.c,selection:this.props.selection,areConditions:!0,onAddNewInstruction:this.props.onAddNewInstruction,onPasteInstructions:this.props.onPasteInstructions,onMoveToInstruction:this.props.onMoveToInstruction,onMoveToInstructionsList:this.props.onMoveToInstructionsList,onInstructionClick:this.props.onInstructionClick,onInstructionDoubleClick:this.props.onInstructionDoubleClick,onInstructionContextMenu:this.props.onInstructionContextMenu,onAddInstructionContextMenu:this.props.onAddInstructionContextMenu,onParameterClick:this.props.onParameterClick,disabled:this.props.disabled,renderObjectThumbnail:this.props.renderObjectThumbnail,screenType:this.props.screenType,windowWidth:this.props.windowWidth,globalObjectsContainer:this.props.globalObjectsContainer,objectsContainer:this.props.objectsContainer}),Object(f.jsx)("div",{className:p()(Object(a.a)({},j.d,this.props.disabled)),children:Object(f.jsx)(u.Trans,{id:"Repeat these:"})}),Object(f.jsx)(h.a,{leftIndentWidth:this.props.leftIndentWidth,windowWidth:this.props.windowWidth,renderConditionsList:function(e){var r=e.style,a=e.className;return Object(f.jsx)(d.a,{instrsList:n.getConditions(),style:r,className:a,selection:t.props.selection,areConditions:!0,onAddNewInstruction:t.props.onAddNewInstruction,onPasteInstructions:t.props.onPasteInstructions,onMoveToInstruction:t.props.onMoveToInstruction,onMoveToInstructionsList:t.props.onMoveToInstructionsList,onInstructionClick:t.props.onInstructionClick,onInstructionDoubleClick:t.props.onInstructionDoubleClick,onInstructionContextMenu:t.props.onInstructionContextMenu,onAddInstructionContextMenu:t.props.onAddInstructionContextMenu,onParameterClick:t.props.onParameterClick,disabled:t.props.disabled,renderObjectThumbnail:t.props.renderObjectThumbnail,screenType:t.props.screenType,windowWidth:t.props.windowWidth,globalObjectsContainer:t.props.globalObjectsContainer,objectsContainer:t.props.objectsContainer})},renderActionsList:function(e){var a=e.className;return Object(f.jsx)(d.a,{instrsList:n.getActions(),style:Object(r.a)({},m.actionsList),className:a,selection:t.props.selection,areConditions:!1,onAddNewInstruction:t.props.onAddNewInstruction,onPasteInstructions:t.props.onPasteInstructions,onMoveToInstruction:t.props.onMoveToInstruction,onMoveToInstructionsList:t.props.onMoveToInstructionsList,onInstructionClick:t.props.onInstructionClick,onInstructionDoubleClick:t.props.onInstructionDoubleClick,onInstructionContextMenu:t.props.onInstructionContextMenu,onAddInstructionContextMenu:t.props.onAddInstructionContextMenu,onParameterClick:t.props.onParameterClick,disabled:t.props.disabled,renderObjectThumbnail:t.props.renderObjectThumbnail,screenType:t.props.screenType,windowWidth:t.props.windowWidth,globalObjectsContainer:t.props.globalObjectsContainer,objectsContainer:t.props.objectsContainer})}})]})}}]),n}(l.Component)}).call(this,n(25))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return C}));var r=n(1),a=n(6),o=n(5),i=n(10),s=n(11),c=n(9),u=n(17),l=n(469),d=n.n(l),b=n(310),p=n(317),j=n.n(p),h=n(349),f=n(530),g=n(1964),m=n(60),O=n(330),v=n(8),x=e.gd,y={container:{height:"4em",display:"flex",alignItems:"center",padding:5},title:{fontSize:"1.2em",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},openInNewIcon:{fontSize:"1.5em"}},C=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o)))._externalEventsAutoComplete=null,e.state={editing:!1,editingPreviousValue:null,anchorEl:null},e.edit=function(t){var n=x.asLinkEvent(e.props.event).getTarget(),r=t.currentTarget;setTimeout((function(){return e.setState({editing:!0,editingPreviousValue:n,anchorEl:r},(function(){setTimeout((function(){e._externalEventsAutoComplete&&e._externalEventsAutoComplete.focus()}),10)}))}),10)},e.openTarget=function(t){var n=e.props,r=n.project,a=n.event,o=n.onOpenLayout,i=n.onOpenExternalEvents,s=x.asLinkEvent(a).getTarget();r.hasExternalEventsNamed(s)?i(s):r.hasLayoutNamed(s)?o(s):Object(m.c)(t._({id:"The specified external events do not exist in the game. Be sure that the name is correctly spelled or create them using the project manager."}))},e.cancelEditing=function(){e.endEditing();var t=x.asLinkEvent(e.props.event),n=e.state.editingPreviousValue;null!=n&&(t.setTarget(n),e.forceUpdate())},e.endEditing=function(){var t=e.state.anchorEl,n=x.asLinkEvent(e.props.event);t&&t.focus(),e.state.editingPreviousValue!==n.getTarget()&&e.props.onEndEditingEvent(),e.setState({editing:!1,editingPreviousValue:null,anchorEl:null})},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=x.asLinkEvent(this.props.event),n=t.getTarget();return Object(v.jsx)(c.I18n,{children:function(a){var o,i=a.i18n;return Object(v.jsxs)("div",{className:j()((o={},Object(r.a)(o,h.o,!0),Object(r.a)(o,h.p,e.props.selected),Object(r.a)(o,h.q,!0),o)),style:y.container,children:[Object(v.jsx)("span",{style:y.title,className:j()(Object(r.a)({},h.d,e.props.disabled)),children:e.props.scope.layout?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(c.Trans,{id:"Include events from"})," ",Object(v.jsx)("i",{className:j()(Object(r.a)({},h.s,!0)),onClick:e.edit,onKeyPress:function(t){Object(O.a)(t)&&e.edit(t)},tabIndex:0,children:n||Object(v.jsx)(c.Trans,{id:"<Enter the name of external events>"})})," "]}):Object(v.jsx)(c.Trans,{id:"Links can't be used outside of a scene."})}),Object(v.jsx)(b.a,{onClick:function(){return e.openTarget(i)},disabled:!n,children:Object(v.jsx)(d.a,{style:y.openInNewIcon})}),Object(v.jsx)(f.a,{open:e.state.editing,anchorEl:e.state.anchorEl,onRequestClose:e.cancelEditing,onApply:e.endEditing,children:Object(v.jsx)(g.a,{project:e.props.project,value:n,sceneName:e.props.scope.layout?e.props.scope.layout.getName():void 0,externalEventsName:e.props.scope.externalEvents?e.props.scope.externalEvents.getName():void 0,onChange:function(n){t.setTarget(n),e.props.onUpdate()},isInline:!0,onRequestClose:e.cancelEditing,onApply:e.endEditing,ref:function(t){return e._externalEventsAutoComplete=t}})})]})}})}}]),n}(u.Component)}).call(this,n(25))},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(6),a=n(5),o=n(10),i=n(11),s=n(19),c=n(17),u=n(521),l=n(374),d=n(8),b=function(e,t,n){if(!n||!e)return[];var r=Object(u.b)(n).filter((function(e){return e.getName()!==t})).map((function(e){return{text:e.getName(),value:e.getName()}})),a=Object(u.d)(n).filter((function(t){return t.getName()!==e})).map((function(e){return{text:e.getName(),value:e.getName()}}));return[].concat(Object(s.a)(r),[{type:"separator"}],Object(s.a)(a))},p=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"focus",value:function(){this._field&&this._field.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.value,r=t.onChange,a=t.onRequestClose,o=t.onApply,i=t.isInline,s=t.project,c=t.sceneName,u=t.externalEventsName;return Object(d.jsx)(l.c,{margin:this.props.isInline?"none":"dense",fullWidth:!0,id:"external-events-field",value:n,onChange:r,onRequestClose:a,onApply:o,dataSource:b(c,u,s),openOnFocus:!i,ref:function(t){return e._field=t}})}}]),n}(c.Component)},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return S}));var r=n(1),a=n(6),o=n(5),i=n(10),s=n(11),c=n(9),u=n(17),l=n(317),d=n.n(l),b=n(508),p=n.n(b),j=n(955),h=n.n(j),f=n(2578),g=n(530),m=n(814),O=n(349),v=n(470),x=n(555),y=n(2521),C=n(330),k=n(8),w=e.gd,T=200,E={container:{minHeight:30,display:"flex",flexDirection:"column",backgroundColor:"#1e1e1e"},wrappingText:{fontFamily:'"Lucida Console", Monaco, monospace',fontSize:"0.95em",paddingLeft:5,paddingRight:5,paddingTop:2,paddingBottom:2,margin:0,backgroundColor:"#1e1e1e",color:"#d4d4d4",overflowX:"hidden",maxWidth:"100%",whiteSpace:"normal",wordBreak:"normal",overflowWrap:"anywhere"},comment:{color:"#777"},commentLink:{cursor:"pointer",color:"#777",textDecoration:"underline"},expandIcon:{color:"#d4d4d4"}},S=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o)))._objectField=null,e.state={editingObject:!1,editingPreviousValue:null,anchorEl:null},e.onFocus=function(){var t=w.asJsCodeEvent(e.props.event);e._inlineCodeBeforeChanges=t.getInlineCode()},e.onBlur=function(){var t=w.asJsCodeEvent(e.props.event).getInlineCode();e._inlineCodeBeforeChanges!==t&&e.props.onEndEditingEvent()},e.onChange=function(t){w.asJsCodeEvent(e.props.event).setInlineCode(t)},e.editObject=function(t){var n=w.asJsCodeEvent(e.props.event).getParameterObjects(),r=t.currentTarget;setTimeout((function(){return e.setState({editingObject:!0,editingPreviousValue:n,anchorEl:r},(function(){setTimeout((function(){e._objectField&&e._objectField.focus()}),10)}))}),10)},e.cancelObjectEditing=function(){e.endObjectEditing();var t=w.asJsCodeEvent(e.props.event),n=e.state.editingPreviousValue;null!=n&&(t.setParameterObjects(n),e.forceUpdate())},e.endObjectEditing=function(){var t=e.state.anchorEl;t&&t.focus();var n=w.asJsCodeEvent(e.props.event);e.state.editingPreviousValue!==n.getParameterObjects()&&e.props.onEndEditingEvent(),e.setState({editingObject:!1,editingPreviousValue:null,anchorEl:null})},e.toggleExpanded=function(){var t=w.asJsCodeEvent(e.props.event);t.setEventsSheetExpanded(!t.isEventsSheetExpanded())},e._getCodeEditorHeight=function(){if(!w.asJsCodeEvent(e.props.event).isEventsSheetExpanded())return T;var t=e.props.eventsSheetHeight-100;return Math.max(T,t)},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=w.asJsCodeEvent(this.props.event),n=t.getParameterObjects(),a=this.props.disabled?E.comment:void 0,o=Object(k.jsx)("span",{className:d()(Object(r.a)({},O.s,!0)),onClick:this.editObject,onKeyPress:function(t){Object(C.a)(t)&&e.editObject(t)},tabIndex:0,style:a,children:n?Object(k.jsx)(c.Trans,{id:", objects /*{parameterObjects}*/",values:{parameterObjects:n}}):Object(k.jsxs)(k.Fragment,{children:[" ",Object(k.jsx)(c.Trans,{id:"/* Click here to choose objects to pass to JavaScript */"})]})}),i=this.props.scope.eventsFunction?Object(k.jsx)("span",{style:a,children:", eventsFunctionContext"}):null,s=Object(k.jsxs)("p",{style:E.wrappingText,children:[Object(k.jsxs)("span",{style:a,children:[this.props.disabled?"/*":"","(function(runtimeScene"]}),o,i,Object(k.jsx)("span",{style:a,children:") {"})]}),u=Object(k.jsxs)("p",{style:E.wrappingText,children:[Object(k.jsx)("span",{style:a,children:"})(runtimeScene"}),o,i,Object(k.jsxs)("span",{style:a,children:[");",this.props.disabled?"*/":""]}),Object(k.jsxs)("span",{style:E.comment,children:[" // ",Object(k.jsx)("a",{href:Object(v.a)("/events/js-code"),target:"_blank",rel:"noopener noreferrer",style:E.commentLink,children:"Read the documentation and help"})]})]}),l=Object(k.jsx)("div",{style:E.expandIcon,children:t.isEventsSheetExpanded()?Object(k.jsx)(h.a,{fontSize:"small",color:"inherit"}):Object(k.jsx)(p.a,{fontSize:"small",color:"inherit"})});return Object(k.jsx)(x.a,{bounds:!0,children:function(a){var o,i=a.measureRef,c=a.contentRect;return Object(k.jsxs)("div",{style:E.container,className:d()((o={},Object(r.a)(o,O.o,!0),Object(r.a)(o,O.p,e.props.selected),o)),ref:i,children:[s,Object(k.jsx)(y.a,{value:t.getInlineCode(),onChange:e.onChange,width:c.bounds.width-5,height:e._getCodeEditorHeight(),onEditorMounted:function(){e.props.onUpdate()},onFocus:e.onFocus,onBlur:e.onBlur}),u,Object(k.jsx)(f.a,{onClick:e.toggleExpanded,fullWidth:!0,size:"small",children:l}),Object(k.jsx)(g.a,{open:e.state.editingObject,anchorEl:e.state.anchorEl,onRequestClose:e.cancelObjectEditing,onApply:e.endObjectEditing,children:Object(k.jsx)(m.a,{project:e.props.project,scope:e.props.scope,globalObjectsContainer:e.props.globalObjectsContainer,objectsContainer:e.props.objectsContainer,value:n,onChange:function(n){t.setParameterObjects(n),e.props.onUpdate()},isInline:!0,onRequestClose:e.cancelObjectEditing,onApply:e.endObjectEditing,ref:function(t){return e._objectField=t}})})]})}})}}]),n}(u.Component)}).call(this,n(25))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6),a=n(5),o=function(){function e(t){Object(r.a)(this,e),this.eventHeights={},this.updateTimeoutId=null,this.component=null,this.component=t}return Object(a.a)(e,[{key:"_notifyComponent",value:function(){var e=this;this.updateTimeoutId||(this.updateTimeoutId=setTimeout((function(){e.component?e.component.onHeightsChanged((function(){return e.updateTimeoutId=null})):e.updateTimeoutId=null}),0))}},{key:"setEventHeight",value:function(e,t){var n=this.eventHeights[e.ptr];void 0!==n&&n===t||this._notifyComponent(),this.eventHeights[e.ptr]=t}},{key:"getEventHeight",value:function(e){return this.eventHeights[e.ptr]||60}}]),e}()},,function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var r=n(3),a=n(9),o=n(17),i=n(295),s=n(350),c=n(1145),u=n(824),l=n(306),d=n(8),b={addButton:{cursor:"pointer"},dropIndicator:{border:"2px solid black",outline:"1px solid white"}},p=function(e){return function(){return Object(c.a)().map((function(t){return{label:t.fullName,click:function(){return e(t.type)}}}))}};function j(e){var t=e.onAddEvent,n=e.DnDComponent,c=e.draggedNode,j=e.rootEventsList,h=o.useContext(l.a);return Object(d.jsx)(n,{canDrop:function(){return!0},drop:function(){c&&Object(u.d)({targetEventsList:j,movingEvent:c.event,initialEventsList:c.eventsList,toIndex:-1})},children:function(e){var n=e.connectDropTarget,o=e.isOver;return n(Object(d.jsxs)("div",{children:[o&&Object(d.jsx)("div",{style:Object(r.a)(Object(r.a)({},b.dropIndicator),{},{borderColor:h.dropIndicator.canDrop,outlineColor:h.dropIndicator.border})}),Object(d.jsx)(i.a,{children:Object(d.jsxs)(i.c,{justifyContent:"space-between",children:[Object(d.jsx)(s.a,{openMenuWithSecondaryClick:!0,element:Object(d.jsx)("button",{style:b.addButton,className:"add-link",onClick:function(){return t("BuiltinCommonInstructions::Standard")},children:Object(d.jsx)(a.Trans,{id:"Add a new event"})}),buildMenuTemplate:p(t)}),Object(d.jsx)(s.a,{element:Object(d.jsx)("button",{style:b.addButton,className:"add-link",children:Object(d.jsx)(a.Trans,{id:"Add..."})}),buildMenuTemplate:p(t)})]})})]}))}})}},function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return f}));var r=n(34),a=n(3),o=n(17),i=n(1118),s=n(824),c=(n(1144),n(306)),u=n(8),l={zIndex:1,position:"absolute"},d={position:"absolute",zIndex:2,border:"2px solid black",outline:"1px solid white"},b={width:"100%",position:"absolute",height:"10%",zIndex:2};function p(e){var t=e.DnDComponent,n=e.canDrop,r=e.onDrop,i=e.style,s=o.useContext(c.a);return Object(u.jsx)(t,{canDrop:n,drop:r,children:function(e){var t=e.isOver,n=e.connectDropTarget,r=e.canDrop;return n(Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{style:Object(a.a)(Object(a.a)({},l),i.dropArea)}),r&&t&&Object(u.jsx)("div",{style:Object(a.a)(Object(a.a)(Object(a.a)({},d),i.dropIndicator),{},{borderColor:s.dropIndicator.canDrop,outlineColor:s.dropIndicator.border})})]}))}})}function j(e){var t=e.DnDComponent,n=e.onDrop,r=(e.activateTargets,e.getNodeAtPath),a=e.node,o=e.draggedNode,i=e.indentWidth,c=e.draggedNodeHeight,l=a.depth;return Object(u.jsx)(u.Fragment,{children:new Array(l).fill(0).map((function(e,d){return d===o.depth?null:Object(u.jsx)(p,{DnDComponent:t,onDrop:function(){return n(s.g,r(a.nodePath.slice(0,d+1)))},canDrop:function(){return!0},style:{dropArea:{top:"100%",bottom:"-".concat(c,"px"),left:"-".concat(i*(l-d),"px"),width:i},dropIndicator:{left:"-".concat(i*(l-d),"px"),right:"0px",bottom:"-2px"}}},d)}))})}function h(e){var t=e.node,n=e.draggedNode,r=e.DnDComponent,o=e.onDrop,c=e.activateTargets,l=e.windowWidth,d=e.draggedNodeHeight,b=e.getNodeAtPath,h=Object(s.c)(t,n),f=Object(s.b)(t,n),g=!!t.event&&t.event.canHaveSubEvents(),m=Object(i.b)(l),O=function(e,t,n){return{"bottom-left":{left:"0px",bottom:"0px",top:"50%",width:e},"bottom-right":{left:"".concat(e,"px"),right:"0px",bottom:"0px",top:"50%"},top:{left:"0px",right:"0px",top:"0px",bottom:"50%"},bottom:{left:"0px",right:"0px",top:"50%",bottom:"0px"},"below-left":{left:n?"10px":"0px",top:"100%",height:t,width:e},"below-right":{left:"".concat(n?e:e+10,"px"),right:"0px",top:"100%",height:t}}}(m,d,h),v=function(e){return{bottom:{left:"0px",right:"0px",bottom:"-2px"},"bottom-right":{left:"".concat(e,"px"),right:"0px",bottom:"-2px"},top:{left:"0px",right:"0px",top:"-2px"}}}(m),x={DnDComponent:r,canDrop:function(){return!0}};return Object(u.jsxs)("div",{style:{visibility:c?"visible":"hidden"},children:[Object(u.jsx)(p,Object(a.a)({style:{dropIndicator:v.top,dropArea:O.top},onDrop:function(){return o(s.e,t)}},x)),g?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(p,Object(a.a)({style:{dropIndicator:v["bottom-right"],dropArea:O["bottom-right"]},onDrop:function(){return o(s.f,t)}},x)),Object(u.jsx)(p,Object(a.a)({style:{dropIndicator:v.bottom,dropArea:O["bottom-left"]},onDrop:function(){return o(s.g,t)}},x)),f&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(p,Object(a.a)({style:{dropIndicator:v.bottom,dropArea:O["below-left"]},onDrop:function(){return o(s.g,t)}},x)),Object(u.jsx)(p,Object(a.a)({style:{dropIndicator:v["bottom-right"],dropArea:O["below-right"]},onDrop:function(){return o(s.f,t)}},x))]})]}):Object(u.jsx)(p,Object(a.a)({style:{dropIndicator:v.bottom,dropArea:O.bottom},onDrop:function(){return o(s.g,t)}},x)),f&&Object(u.jsx)(j,{node:t,draggedNode:n,DnDComponent:r,activateTargets:c,onDrop:o,indentWidth:m,draggedNodeHeight:d,getNodeAtPath:b})]})}function f(e){var t=e.direction,n=e.DnDComponent,i=e.activateTargets,s=e.onHover,c=o.useRef(null),l=o.useState(!1),d=Object(r.a)(l,2),p=d[0],j=d[1];return o.useEffect((function(){return i?c.current=setTimeout((function(){j(!0)}),100):(j(!1),clearTimeout(c.current),c.current=null),function(){c.current&&clearTimeout(c.current)}}),[i]),Object(u.jsx)(n,{canDrop:function(){return!0},drop:function(){},children:function(e){var n=e.isOverLazy,r=e.connectDropTarget;n&&s();var o=Object(u.jsx)("div",{style:Object(a.a)(Object(a.a)({},b),"top"===t?{top:0}:{bottom:0})});return p?r(o):null}})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var r=n(34),a=n(9),o=n(17),i=n(303),s=n(298),c=n(1971),u=n(1146),l=n(819),d=n(318),b=n(1147),p=n(309),j=n(670),h=n(1148),f=n(314),g=n(388),m=n(1150),O=n(1023),v=n(54),x=n(363),y=n(8),C={fullHeightSelector:{flex:1,display:"flex",flexDirection:"column"}};function k(e){var t=e.project,n=e.globalObjectsContainer,k=e.objectsContainer,w=e.onCancel,T=e.open,E=e.instruction,S=e.isCondition,P=e.isNewInstruction,I=e.scope,A=e.onSubmit,D=e.resourceManagementProps,F=e.openInstructionOrExpression,M=Object(f.a)(),_=Object(j.b)({instruction:E,isCondition:S,project:t,isNewInstruction:P,scope:I,globalObjectsContainer:n,objectsContainer:k}),L=Object(r.a)(_,2),R=L[0],N=L[1],B=R.chosenObjectName,U=R.chosenObjectInstructionsInfo,H=R.chosenObjectInstructionsInfoTree,W=N.chooseInstruction,z=N.chooseObject,V=N.chooseObjectInstruction,G=!!U&&!!H,Z=B?Object(g.a)(t,I.layout,B):null,Y=o.useRef(null),q=o.useState((function(){return function(e){return e?"object-or-free-instructions":"parameters"}(P)})),X=Object(r.a)(q,2),J=X[0],K=X[1],Q=o.useState((function(){return function(e,t){return e||t?"objects":"free-instructions"}(P,G)})),$=Object(r.a)(Q,2),ee=$[0],te=$[1],ne=Object(p.b)(),re=E.getType(),ae=o.useState(!1),oe=Object(r.a)(ae,2),ie=oe[0],se=oe[1],ce=o.useState(!1),ue=Object(r.a)(ce,2),le=ue[0],de=ue[1],be=Object(x.c)(),pe=o.useRef(null);o.useEffect((function(){be&&"parameters"===J&&pe.current&&pe.current.focus()}),[J,be]);var je=Object(j.a)({instructionType:re,isCondition:S,project:t}),he=je?je.getHelpPath():void 0;return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(i.c,{title:S?Object(y.jsx)(a.Trans,{id:"Condition"}):Object(y.jsx)(a.Trans,{id:"Action"}),actions:[Object(y.jsx)(s.a,{label:Object(y.jsx)(a.Trans,{id:"Cancel"}),primary:!1,onClick:w},"cancel"),Object(y.jsx)(i.a,{label:Object(y.jsx)(a.Trans,{id:"Ok"}),primary:!0,disabled:!re,onClick:A,id:"ok-button"},"ok")],secondaryActions:["large"!==ne&&"object-or-free-instructions"!==J?Object(y.jsx)(s.a,{label:Object(y.jsx)(a.Trans,{id:"Back"}),primary:!1,onClick:function(){return function(e,t){K("parameters"===e&&B?"medium"===t?"object-or-free-instructions":"object-instructions":"object-or-free-instructions")}(J,ne)}},"back"):null,Object(y.jsx)(d.a,{helpPagePath:he||"/events",label:he&&"small"!==ne&&"object-or-free-instructions"!==J?S?Object(y.jsx)(a.Trans,{id:"Help for this condition"}):Object(y.jsx)(a.Trans,{id:"Help for this action"}):Object(y.jsx)(a.Trans,{id:"Help"})},"help")],open:T,onRequestClose:w,onApply:re?A:null,maxWidth:!1,flexBody:!0,fullHeight:!0,id:"instruction-editor-dialog",children:Object(y.jsx)(b.a,{columnsRenderer:{"instruction-or-object-selector":function(){return Object(y.jsx)(a.I18n,{children:function(e){var r=e.i18n;return Object(y.jsx)(u.a,{style:C.fullHeightSelector,project:t,scope:I,ref:Y,currentTab:ee,onChangeTab:te,globalObjectsContainer:n,objectsContainer:k,isCondition:S,chosenInstructionType:B?void 0:re,onChooseInstruction:function(e){W(e),K("parameters")},chosenObjectName:B,onChooseObject:function(e){z(e),K("object-instructions")},focusOnMount:be&&!re,onSearchStartOrReset:M,onClickMore:function(){return de(!0)},i18n:r},"instruction-or-object-selector")}})},"object-instruction-selector":function(){return H&&U?Object(y.jsx)(l.a,{style:C.fullHeightSelector,instructionsInfo:U,instructionsInfoTree:H,iconSize:24,onChoose:function(e){V(e),K("parameters")},selectedType:re,useSubheaders:!0,focusOnMount:be&&!re,searchPlaceholderObjectName:B,searchPlaceholderIsCondition:S,onClickMore:function(){return se(!0)},id:"object-instruction-selector"},"object-instruction-selector"):null},parameters:function(){return Object(y.jsx)(c.a,{project:t,scope:I,globalObjectsContainer:n,objectsContainer:k,objectName:B,isCondition:S,instruction:E,resourceManagementProps:D,openInstructionOrExpression:F,ref:pe,focusOnMount:be&&!!re,noHelpButton:!0},"parameters")}},getColumns:function(){return"large"===ne?[{columnName:"instruction-or-object-selector"},B?{columnName:"object-instruction-selector"}:null,{columnName:"parameters",ratio:B?1:2}].filter(Boolean):"medium"===ne?"object-or-free-instructions"===J?[{columnName:"instruction-or-object-selector",ratio:1}]:[B?{columnName:"object-instruction-selector"}:null,{columnName:"parameters"}].filter(Boolean):"object-or-free-instructions"===J?[{columnName:"instruction-or-object-selector"}]:"object-instructions"===J?[{columnName:"object-instruction-selector"}]:[{columnName:"parameters"}]}})}),ie&&Z&&Object(y.jsx)(h.a,{project:t,eventsFunctionsExtension:I.eventsFunctionsExtension,open:ie,objectType:Z.getType(),objectBehaviorsTypes:Object(m.b)(Z),onClose:function(){return se(!1)},onChoose:function(e,n){Z&&(Object(m.a)(t,Z,e,n)&&(se(!1),Object(v.g)({behaviorType:e,parentEditor:"instruction-editor-dialog"})),z(Z.getName()))}}),le&&Object(y.jsx)(a.I18n,{children:function(e){var n=e.i18n;return Object(y.jsx)(O.a,{project:t,onClose:function(){return de(!1)},onInstallExtension:function(){},onExtensionInstalled:function(){return function(e){de(!1),Y.current&&Y.current.reEnumerateInstructions(e)}(n)}})}})]})}},function(e,t,n){"use strict";(function(e){var r=n(3),a=n(34),o=n(9),i=n(17),s=n(447),c=n(307),u=n(316),l=n(664),d=n(318),b=n(295),p=n(312),j=n(385),h=n(26),f=n(671),g=n(480),m=n(460),O=n(528),v=n(296),x=n(670),y=n(297),C=n(825),k=n(331),w=n(472),T=n(314),E=n(306),S=n(514),P=n.n(S),I=n(298),A=n(8),D=e.gd,F={emptyContainer:{display:"flex",alignItems:"center",justifyContent:"center"},parametersContainer:{flex:1},icon:{width:24,height:24,marginRight:8,paddingTop:6,flexShrink:0},invertToggle:{marginTop:8},description:{whiteSpace:"pre-wrap"}},M=function(e,t,n){return!e.isCodeOnly()&&t!==n},_=i.forwardRef((function(e,t){var n=e.instruction,S=e.project,_=e.globalObjectsContainer,L=e.objectsContainer,R=e.noHelpButton,N=e.objectName,B=e.isCondition,U=e.scope,H=e.focusOnMount,W=e.style,z=e.openInstructionOrExpression,V=e.resourceManagementProps,G=i.useRef(null),Z=i.useState(!1),Y=Object(a.a)(Z,2),q=Y[0],X=Y[1],J=i.useContext(E.a).palette.type,K=Object(T.a)(),Q=function(){0!==$(Object(x.a)({instructionType:n.getType(),isCondition:B,project:S}),N)&&G.current&&G.current.focus&&G.current.focus()};i.useImperativeHandle(t,(function(){return{focus:Q}}));var $=function(e,t){if(!e)return 0;var n=t?Object(O.f)(e):-1;return Object(c.mapFor)(0,e.getParametersCount(),(function(t){if(!e)return!1;var r=e.getParameter(t);return M(r,t,n)})).filter((function(e){return e})).length};i.useEffect((function(){if(H){var e=setTimeout((function(){Q()}),300);return function(){return clearTimeout(e)}}}),[]);var ee=n.getType(),te=Object(x.a)({instructionType:ee,isCondition:B,project:S});if(!te)return Object(A.jsx)("div",{style:Object(r.a)(Object(r.a)({},F.emptyContainer),W)});var ne=te.getHelpPath(),re=Object(f.b)(ee),ae=Object(w.b)(ee),oe=N?Object(O.f)(te):-1;Object(C.a)(_,L,n,te,N);var ie=te.getIconFilename(),se="dark"===J&&(ie.startsWith("data:image/svg+xml")||ie.includes("_black")),ce=0;return Object(A.jsx)(o.I18n,{children:function(e){var t=e.i18n;return Object(A.jsx)(k.a,{autoHideScrollbar:!0,children:Object(A.jsxs)(b.a,{expand:!0,children:[Object(A.jsxs)(b.c,{alignItems:"flex-start",children:[Object(A.jsx)("img",{src:te.getIconFilename(),alt:"",style:Object(r.a)(Object(r.a)({},F.icon),{},{filter:se?"grayscale(1) invert(1)":void 0})}),Object(A.jsx)(b.a,{expand:!0,children:Object(A.jsx)(v.a,{style:F.description,children:te.getDescription()})})]}),re&&Object(A.jsx)(b.c,{children:void 0===re.identifier?Object(A.jsx)(p.a,{kind:re.kind,children:t._(re.message)}):Object(A.jsx)(j.a,{kind:re.kind,identifier:re.identifier,children:t._(re.message)})}),ae.length?Object(A.jsx)(b.c,{children:Object(A.jsx)(y.a,{expand:!0,children:ae.map((function(e){return Object(A.jsx)(g.a,{tutorialId:e},e)}))})}):null,Object(A.jsx)(b.d,{}),Object(A.jsxs)("div",{style:F.parametersContainer,id:"instruction-parameters-container",children:[Object(A.jsx)(y.a,{noMargin:!0,children:Object(c.mapFor)(0,te.getParametersCount(),(function(e){var t=te.getParameter(e);if(!M(t,e,oe))return null;var r=t.getType(),a=l.a.getParameterComponent(r),o=0===ce;return ce++,Object(A.jsx)(a,{instructionMetadata:te,instruction:n,parameterMetadata:t,parameterIndex:e,value:n.getParameter(e).getPlainString(),onChange:function(t){n.getParameter(e).getPlainString()!==t&&(n.setParameter(e,t),X(!0),K())},project:S,scope:U,globalObjectsContainer:_,objectsContainer:L,parameterRenderingService:l.a,resourceManagementProps:V,ref:function(e){o&&(G.current=e)}},e)}))}),0===$(te,N)&&Object(A.jsx)(u.a,{children:Object(A.jsx)(o.Trans,{id:"There is nothing to configure."})}),B&&Object(A.jsx)(s.a,{label:Object(A.jsx)(o.Trans,{id:"Invert condition"}),labelPosition:"right",toggled:n.isInverted(),style:F.invertToggle,onToggle:function(e,t){n.setInverted(t),K()}}),te.isOptionallyAsync()&&Object(A.jsx)(s.a,{label:Object(A.jsx)(o.Trans,{id:"Wait for the action to end before executing the actions (and subevents) following it"}),labelPosition:"right",toggled:n.isAwaited(),style:F.invertToggle,onToggle:function(e,t){n.setAwaited(t),K()}}),Object(m.e)(te)&&Object(A.jsx)(b.c,{children:Object(A.jsx)(I.a,{label:B?Object(A.jsx)(o.Trans,{id:"Edit this condition events"}):Object(A.jsx)(o.Trans,{id:"Edit this action events"}),onClick:function(){!function(e){if(q&&!h.b.showConfirmDialog(e._({id:"You've made some changes here. Are you sure you want to discard them and open the function?"})))return;var t=n.getType();if(!t)return null;var r=B?D.MetadataProvider.getExtensionAndConditionMetadata(S.getCurrentPlatform(),t).getExtension():D.MetadataProvider.getExtensionAndActionMetadata(S.getCurrentPlatform(),t).getExtension();z(r,t)}(t)},leftIcon:Object(A.jsx)(P.a,{})},"open-extension")})]},ee),Object(A.jsx)(b.c,{children:!R&&ne&&Object(A.jsx)(d.a,{helpPagePath:te.getHelpPath(),label:B?Object(A.jsx)(o.Trans,{id:"Help for this condition"}):Object(A.jsx)(o.Trans,{id:"Help for this action"})})})]})})}})}));t.a=_}).call(this,n(25))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e,t,n){var r=[".","=","-"],a="-";return"undefined"!=typeof n&&(r=n),"undefined"!=typeof t&&(a=t),e.replace(/\xfc/g,"ue").replace(/\xe4/g,"ae").replace(/\xf6/g,"oe").replace(/\xdf/g,"ss").replace(new RegExp("["+r.join("")+"]","g")," ").replace(/-{2,}/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"").replace(/[^\w ]/gi,"").replace(/[ ]/gi,a)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n(17);var r=n(336),a=n(394),o=n(529),i=n(568),s=n(8),c=function(e){var t=e.groupWithContext,n=e.iconSize,c=e.onClick,u=e.selectedValue,l=e.matchesCoordinates,d=t.group.getName();return Object(s.jsx)(r.b,{selected:u===Object(o.f)(d),primaryText:Object(s.jsx)(i.a,{text:d,matchesCoordinates:l}),leftIcon:Object(s.jsx)(a.a,{iconSize:n,src:"res/ribbon_default/objectsgroups64.png"}),onClick:c,disableAutoTranslate:!0},Object(o.d)(t))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));n(17);var r=n(336),a=n(394),o=n(378),i=n(529),s=n(568),c=n(8),u=function(e){var t=e.project,n=e.objectWithContext,u=e.iconSize,l=e.onClick,d=e.selectedValue,b=e.matchesCoordinates,p=e.id,j=e.data,h=n.object.getName();return Object(c.jsx)(r.b,{id:p,data:j,selected:d===Object(i.f)(h),primaryText:Object(c.jsx)(s.a,{text:h,matchesCoordinates:b}),leftIcon:Object(c.jsx)(a.a,{iconSize:u,src:o.a.getThumbnail(t,n.object.getConfiguration())}),onClick:l,disableAutoTranslate:!0},Object(i.e)(n))}},,function(e,t,n){"use strict";var r=n(34),a=n(9),o=n(2581),i=n(17),s=n(670),c=n(1146),u=n(819),l=n(1147),d=n(314),b=n(825),p=n(386),j=n(981),h=n(295),f=n(8),g={fullHeightSelector:{flex:1,display:"flex",flexDirection:"column",height:"400px",width:"400px"}};t.a=function(e){var t=e.project,n=e.globalObjectsContainer,m=e.objectsContainer,O=e.onCancel,v=e.open,x=e.instruction,y=e.isCondition,C=e.isNewInstruction,k=e.anchorEl,w=e.scope,T=e.onSubmit,E=e.canPasteInstructions,S=e.onPasteInstructions,P=Object(d.a)(),I=Object(s.b)({instruction:x,isCondition:y,project:t,isNewInstruction:C,scope:w,globalObjectsContainer:n,objectsContainer:m}),A=Object(r.a)(I,2),D=A[0],F=A[1],M=D.chosenObjectName,_=D.chosenObjectInstructionsInfo,L=D.chosenObjectInstructionsInfoTree,R=F.chooseInstruction,N=F.chooseObject,B=F.chooseObjectInstruction,U=i.useState("object-or-free-instructions"),H=Object(r.a)(U,2),W=H[0],z=H[1],V=i.useState("objects"),G=Object(r.a)(V,2),Z=G[0],Y=G[1],q=x.getType(),X=function(e){var r=e.instruction,a=e.chosenObjectName,o=Object(s.a)({instructionType:r.getType(),isCondition:y,project:t});o&&Object(b.a)(n,m,r,o,a),T()};return Object(f.jsx)(o.a,{open:v,onClose:O,anchorEl:k,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:Object(f.jsxs)(h.a,{children:[Object(f.jsx)(h.c,{children:Object(f.jsx)(l.a,{columnsRenderer:{"instruction-or-object-selector":function(){return Object(f.jsx)(a.I18n,{children:function(e){var r=e.i18n;return Object(f.jsx)(c.a,{style:g.fullHeightSelector,project:t,scope:w,currentTab:Z,onChangeTab:Y,globalObjectsContainer:n,objectsContainer:m,isCondition:y,chosenInstructionType:M?void 0:q,onChooseInstruction:function(e){var t=R(e),n=t.instruction,r=t.chosenObjectName;X({instruction:n,chosenObjectName:r})},chosenObjectName:M,onChooseObject:function(e){N(e),z("object-instructions")},focusOnMount:!q,onSearchStartOrReset:P,i18n:r},"instruction-or-object-selector")}})},"object-instruction-selector":function(){return L&&_?Object(f.jsx)(u.a,{style:g.fullHeightSelector,instructionsInfo:_,instructionsInfoTree:L,iconSize:24,onChoose:function(e){var t=B(e),n=t.instruction,r=t.chosenObjectName;X({instruction:n,chosenObjectName:r})},selectedType:q,useSubheaders:!0,focusOnMount:!q,searchPlaceholderObjectName:M,searchPlaceholderIsCondition:y},"object-instruction-selector"):null}},getColumns:function(){return"object-or-free-instructions"===W?[{columnName:"instruction-or-object-selector"}]:[{columnName:"object-instruction-selector"}]}})}),Object(f.jsx)(h.c,{noMargin:!0,justifyContent:"flex-end",children:Object(f.jsx)(p.a,{label:y?Object(f.jsx)(a.Trans,{id:"Paste condition(s)"}):Object(f.jsx)(a.Trans,{id:"Paste action(s)"}),icon:Object(f.jsx)(j.a,{}),disabled:!E,onClick:function(){return S()}})})]})})}},function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return g}));var r=n(34),a=n(9),o=n(17),i=n(303),s=n(298),c=n(295),u=n(517),l=n(400),d=n(324),b=n(8),p=e.gd,j={sizeTextField:{width:90}},h={r:255,g:255,b:255},f={r:0,g:0,b:0},g=function(e){return e.filter((function(e){return["BuiltinCommonInstructions::Group","BuiltinCommonInstructions::Comment"].includes(e.getType())}))};t.a=function(e){var t=e.event,n=e.onClose,g=o.useState(""),m=Object(r.a)(g,2),O=m[0],v=m[1],x=o.useState(f),y=Object(r.a)(x,2),C=y[0],k=y[1],w=o.useState(f),T=Object(r.a)(w,2),E=T[0],S=T[1],P=t.getType();o.useEffect((function(){if("BuiltinCommonInstructions::Comment"===P){var e=p.asCommentEvent(t);k({r:e.getTextColorRed(),g:e.getTextColorGreen(),b:e.getTextColorBlue()}),S({r:e.getBackgroundColorRed(),g:e.getBackgroundColorGreen(),b:e.getBackgroundColorBlue()}),v(p.asCommentEvent(t).getComment())}else if("BuiltinCommonInstructions::Group"===P){var n=p.asGroupEvent(t),r=n.getBackgroundColorR(),a=n.getBackgroundColorG(),o=n.getBackgroundColorB();k((function(){return(r+a+o)/3>200?f:h})),S({r:n.getBackgroundColorR(),g:n.getBackgroundColorG(),b:n.getBackgroundColorB()}),v(p.asGroupEvent(t).getName())}else console.error("Dialog was opened for an unsupported event type: "+P)}),[t,P]);var I=o.useCallback((function(){"BuiltinCommonInstructions::Comment"===P?(p.asCommentEvent(t).setComment(O),p.asCommentEvent(t).setTextColor(C.r,C.g,C.b),p.asCommentEvent(t).setBackgroundColor(E.r,E.g,E.b)):"BuiltinCommonInstructions::Group"===P&&(p.asGroupEvent(t).setName(O),p.asGroupEvent(t).setBackgroundColor(E.r,E.g,E.b)),e.onApply()}),[e,t,P,O,C,E]);return Object(b.jsx)(i.c,{title:"BuiltinCommonInstructions::Comment"===P?Object(b.jsx)(a.Trans,{id:"Edit comment"}):Object(b.jsx)(a.Trans,{id:"Edit group"}),open:!0,actions:[Object(b.jsx)(s.a,{label:Object(b.jsx)(a.Trans,{id:"Cancel"}),primary:!1,onClick:n},"close"),Object(b.jsx)(i.a,{label:Object(b.jsx)(a.Trans,{id:"Apply"}),primary:!0,onClick:I},"Apply")],onRequestClose:n,onApply:I,children:Object(b.jsxs)(c.a,{noMargin:!0,children:[Object(b.jsxs)(l.b,{noPadding:!0,children:[Object(b.jsx)(l.a,{firstChild:!0,children:Object(b.jsx)(a.Trans,{id:"Background color:"})}),Object(b.jsx)(u.a,{style:j.sizeTextField,disableAlpha:!0,color:E,onChangeComplete:function(e){S(e.rgb)}}),"BuiltinCommonInstructions::Comment"===P&&Object(b.jsxs)(o.Fragment,{children:[Object(b.jsx)(l.a,{children:Object(b.jsx)(a.Trans,{id:"Text color:"})}),Object(b.jsx)(u.a,{style:j.sizeTextField,disableAlpha:!0,color:C,onChangeComplete:function(e){k(e.rgb)}})]})]}),Object(b.jsx)(c.c,{noMargin:!0,children:Object(b.jsx)(c.a,{expand:!0,noMargin:!0,children:Object(b.jsx)(c.c,{children:Object(b.jsx)(d.a,{commitOnBlur:!0,translatableHintText:{id:"Enter the text to be displayed"},fullWidth:!0,multiline:!0,rows:8,rowsMax:30,value:O,onChange:function(e){v(e)}})})})})]})})}}).call(this,n(25))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return j}));var r=n(6),a=n(5),o=n(10),i=n(11),s=n(17),c=n(530),u=n(664),l=n(825),d=n(528),b=n(8),p=e.gd,j=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={parameterMetadata:null,instructionMetadata:null,ParameterComponent:null},e._onApply=function(){var t=e.props.instruction,n=e.state.instructionMetadata;if(t&&n){var r=Object(d.f)(n);Object(l.a)(e.props.globalObjectsContainer,e.props.objectsContainer,t,n,-1!==r?t.getParameter(r).getPlainString():null)}e.props.onApply()},e}return Object(a.a)(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){(e.open&&!this.props.open||e.instruction!==this.props.instruction)&&this._loadComponentFromInstruction(e)}},{key:"_unload",value:function(){this.setState({ParameterComponent:null,parameterMetadata:null,instructionMetadata:null})}},{key:"_loadComponentFromInstruction",value:function(e){var t=this,n=e.project,r=e.isCondition,a=e.instruction,o=e.parameterIndex;if(!a)return this._unload();var i=a.getType(),s=r?p.MetadataProvider.getConditionMetadata(n.getCurrentPlatform(),i):p.MetadataProvider.getActionMetadata(n.getCurrentPlatform(),i);if(o>=s.getParametersCount())return this._unload();var c=s.getParameter(o),l=u.a.getParameterComponent(c.getType());this.setState({ParameterComponent:l,parameterMetadata:c,instructionMetadata:s},(function(){setTimeout((function(){t._field&&t._field.focus&&t._field.focus(!0)}),10)}))}},{key:"render",value:function(){var e=this;if(!this.state.ParameterComponent||!this.props.open)return null;var t=this.props.instruction;if(!t)return null;var n=this.state.ParameterComponent;return Object(b.jsx)(c.a,{open:this.props.open,anchorEl:this.props.anchorEl,onRequestClose:this.props.onRequestClose,onApply:this._onApply,children:Object(b.jsx)(n,{instruction:t,instructionMetadata:this.state.instructionMetadata,parameterMetadata:this.state.parameterMetadata,parameterIndex:this.props.parameterIndex,value:t.getParameter(this.props.parameterIndex).getPlainString(),onChange:this.props.onChange,onRequestClose:this.props.onRequestClose,onApply:this._onApply,project:this.props.project,scope:this.props.scope,globalObjectsContainer:this.props.globalObjectsContainer,objectsContainer:this.props.objectsContainer,ref:function(t){return e._field=t},parameterRenderingService:u.a,isInline:!0,resourceManagementProps:this.props.resourceManagementProps},t.ptr)})}}]),n}(s.Component)}).call(this,n(25))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a}));var r=e.gd,a=function(e){for(var t=!1,n=!1,a=e.size()-1;a>=0;--a){var o=e.get(a);a===e.size()-1?"BuiltinCommonInstructions::Once"===o.getType()&&(t=!0):"BuiltinCommonInstructions::Once"===o.getType()&&(e.removeAt(a),n=!0)}if(n&&!t){var i=new r.Instruction;i.setType("BuiltinCommonInstructions::Once"),e.insert(i,e.size()),i.delete()}return n}}).call(this,n(25))},function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return j}));var r=n(6),a=n(5),o=n(10),i=n(11),s=n(9),c=n(17),u=n(303),l=n(298),d=n(296),b=n(8),p=function(e){var t=e.getObjectNames().toNewVectorString().toJSArray(),n=e.getReferencedObjectOrGroupNames().toNewVectorString().toJSArray(),r={};return n.forEach((function(t){var n=e.getBehaviorNamesOfObjectOrGroup(t).toNewVectorString().toJSArray();n.length&&(r[t]=n)})),{objectsNames:t,objectOrGroupNames:n,objectOrGroupBehaviorNames:r}},j=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e=this.props,t=e.onClose,n=e.eventsContextResult,r=[Object(b.jsx)(l.a,{label:Object(b.jsx)(s.Trans,{id:"Close"}),primary:!0,onClick:this.props.onClose},"close")];return Object(b.jsxs)(u.c,{title:Object(b.jsx)(s.Trans,{id:"Events analysis"}),actions:r,open:!0,onRequestClose:t,children:[Object(b.jsx)(d.a,{children:Object(b.jsx)(s.Trans,{id:"Objects or groups being directly referenced in the events: {0}",values:{0:n.objectOrGroupNames.join(", ")}})}),Object(b.jsx)(d.a,{children:Object(b.jsx)(s.Trans,{id:"All objects potentially used in events: {0}",values:{0:n.objectsNames.join(", ")}})}),Object(b.jsxs)(d.a,{children:[Object(b.jsx)(s.Trans,{id:"All behaviors being directly referenced in the events:"})," ",Object.keys(n.objectOrGroupBehaviorNames).map((function(e){return Object(b.jsx)(s.Trans,{id:"Behaviors of {objectOrGroupName}: {0} ;",values:{0:n.objectOrGroupBehaviorNames[e].join(", "),objectOrGroupName:e}},e)}))]})]})}}]),n}(c.Component)},function(e,t,n){"use strict";var r=n(34),a=n(9),o=n(17),i=n(357),s=n(311),c=n(295),u=n(1982),l=n.n(u),d=n(560),b=n.n(d),p=n(310),j=n(298),h=n(425),f=n(296),g=n(305),m=n(297),O=n(330),v=n(352),x=n(309),y=n(8),C=function(e,t){var n=e.onSearchInEvents,u=e.onReplaceInEvents,d=e.onCloseSearchPanel,C=e.resultsCount,k=e.hasEventSelected,w=e.onGoToPreviousSearchResult,T=e.onGoToNextSearchResult,E=e.searchFocusOffset,S=Object(x.b)(),P=o.useRef(null),I=o.useState(""),A=Object(r.a)(I,2),D=A[0],F=A[1],M=o.useState(""),_=Object(r.a)(M,2),L=_[0],R=_[1],N=o.useState(!1),B=Object(r.a)(N,2),U=B[0],H=B[1],W=o.useState(!0),z=Object(r.a)(W,2),V=z[0],G=z[1],Z=o.useState(!0),Y=Object(r.a)(Z,2),q=Y[0],X=Y[1],J=o.useState(!0),K=Object(r.a)(J,2),Q=K[0],$=K[1],ee=o.useState(!1),te=Object(r.a)(ee,2),ne=te[0],re=(te[1],o.useState(!1)),ae=Object(r.a)(re,2),oe=ae[0],ie=ae[1],se=o.useState("search-and-replace"),ce=Object(r.a)(se,2),ue=ce[0],le=ce[1],de=o.useCallback((function(){return!!D&&!oe}),[D,oe]),be=o.useCallback((function(){P.current&&P.current.focus()}),[]),pe=o.useCallback((function(){ie(!0)}),[]);o.useImperativeHandle(t,(function(){return{isSearchOngoing:de,focus:be,markSearchResultsDirty:pe}})),o.useEffect((function(){ie(!0)}),[D,V,q,Q,U]),o.useEffect(be,[ue]),o.useEffect(pe,[ue]);var je=function(){u({searchInSelection:ne,searchText:D,replaceText:L,matchCase:U,searchInActions:V,searchInConditions:q,searchInEventStrings:Q})},he=function(){oe&&(n({searchInSelection:ne,searchText:D,matchCase:U,searchInActions:V,searchInConditions:q,searchInEventStrings:Q,searchInEventSentences:!fe()}),ie(!1))},fe=o.useCallback((function(){return"search-and-replace"===ue}),[ue]),ge=!D,me=!D||!k&&ne;return Object(y.jsx)(i.a,{noFullHeight:!0,noExpand:!0,children:Object(y.jsxs)(c.a,{noMargin:!0,children:[Object(y.jsx)(c.c,{children:Object(y.jsx)(c.a,{expand:!0,noOverflowParent:!0,children:Object(y.jsx)(v.a,{value:ue,onChange:le,options:[{value:"search-and-replace",label:Object(y.jsx)(a.Trans,{id:"Search and replace in parameters"})},{value:"search-in-event-sentences",label:Object(y.jsx)(a.Trans,{id:"Search in event sentences"})}],variant:"small"===S?"scrollable":void 0})})}),Object(y.jsx)(c.c,{noMargin:!0,children:Object(y.jsxs)(m.a,{expand:!0,children:[Object(y.jsxs)(m.b,{alignItems:"baseline",noMargin:!0,children:[Object(y.jsx)(s.b,{ref:P,type:"search",margin:"dense",translatableHintText:fe()?{id:"Text to search in parameters"}:{id:"Text to search in event sentences"},onChange:function(e,t){F(t)},onKeyPress:function(e){Object(O.b)(e)?w():Object(O.g)(e)&&(oe?ge||he():T())},onKeyUp:function(e){Object(O.c)(e)&&d()},value:D,fullWidth:!0}),Object(y.jsx)(g.a,{disabled:ge,primary:!0,label:Object(y.jsx)(a.Trans,{id:"Search"}),onClick:function(){oe?he():T()}})]}),fe()&&Object(y.jsxs)(m.b,{alignItems:"baseline",noMargin:!0,children:[Object(y.jsx)(s.b,{type:"search",margin:"dense",translatableHintText:{id:"Text to replace in parameters"},onChange:function(e,t){R(t)},onKeyPress:function(e){Object(O.g)(e)&&(me||je())},onKeyUp:function(e){Object(O.c)(e)&&d()},value:L,fullWidth:!0}),Object(y.jsx)(g.a,{disabled:me,label:Object(y.jsx)(a.Trans,{id:"Replace"}),onClick:je})]}),Object(y.jsxs)(m.c,{noMargin:!0,alignItems:"center",justifyContent:"space-between",children:[Object(y.jsxs)(m.c,{noMargin:!0,alignItems:"center",children:[Object(y.jsxs)(m.b,{noMargin:!0,alignItems:"center",children:[Object(y.jsx)(h.a,{label:Object(y.jsx)(a.Trans,{id:"Case insensitive"}),checked:!U,onCheck:function(e,t){H(!t)}}),"small"!==S&&Object(y.jsx)(f.a,{children:Object(y.jsx)(a.Trans,{id:"Search in:"})}),Object(y.jsx)(h.a,{label:Object(y.jsx)(a.Trans,{id:"Conditions"}),checked:q,onCheck:function(e,t){X(t)}})]}),Object(y.jsxs)(c.c,{noMargin:!0,alignItems:"center",children:[Object(y.jsx)(h.a,{label:Object(y.jsx)(a.Trans,{id:"Actions"}),checked:V,onCheck:function(e,t){G(t)}}),Object(y.jsx)(h.a,{label:Object(y.jsx)(a.Trans,{id:"Texts"}),checked:Q,onCheck:function(e,t){$(t)}})]})]}),Object(y.jsxs)(c.c,{noMargin:!0,alignItems:"center",justifyContent:"flex-end",children:[Object(y.jsx)(f.a,{children:null===C||void 0===C?"":0===C?Object(y.jsx)(a.Trans,{id:"No results"}):null===E||void 0===E?Object(y.jsx)(a.Trans,{id:"{resultsCount} results",values:{resultsCount:C}}):Object(y.jsx)(a.Trans,{id:"Showing {0} of {resultsCount}",values:{0:E+1,resultsCount:C}})}),Object(y.jsx)(p.a,{disabled:!C,onClick:function(){w()},children:Object(y.jsx)(l.a,{})}),Object(y.jsx)(p.a,{disabled:!C,onClick:function(){T()},children:Object(y.jsx)(b.a,{})}),Object(y.jsx)(j.a,{label:Object(y.jsx)(a.Trans,{id:"Close"}),primary:!1,onClick:function(){d()}},"close")]})]})]})})]})})};t.a=o.forwardRef(C)},,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f}));var r=n(6),a=n(5),o=n(10),i=n(11),s=n(643),c=n(19),u=n(17),l=n(578),d=n(307),b=n(1038),p=n.n(b),j=e.gd,h=function(e,t,n){var r=Object(l.h)(n);if(!r.length)return 0;var a=[r[0]].concat(Object(c.a)(t)),o=new j.EventsPositionFinder;a.forEach((function(e){return o.addEventToSearch(e)})),o.launch(e);var i=o.getPositions().toJSArray(),u=Object(s.a)(i),d=u[0],b=u.slice(1);o.delete();for(var p=0;p<b.length;p++)if(b[p]>=d)return p;return 0},f=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={eventsSearchResults:null,searchFocusOffset:null},e._resultEvents=null,e.reset=function(){e.state.eventsSearchResults&&e.state.eventsSearchResults.delete(),e._resultEvents=null,e.setState({eventsSearchResults:null,searchFocusOffset:null})},e._deduplicateEventSearchResults=function(e){var t=Object(d.mapFor)(0,e.size(),(function(t){var n=e.at(t);return n.isEventValid()?n.getEvent():null})).filter(Boolean);return p()(t,(function(e){return e.ptr}))},e._doReplaceInEvents=function(t,n){var r=t.searchInSelection,a=t.searchText,o=t.replaceText,i=t.matchCase,s=t.searchInConditions,c=t.searchInActions,u=t.searchInEventStrings,l=e.props,d=l.globalObjectsContainer,b=l.objectsContainer,p=l.events;r&&console.error("Replace in selection is not implemented yet");var h=j.EventsRefactorer.replaceStringInEvents(d,b,p,a,o,i,s,c,u);return e.state.eventsSearchResults&&e.state.eventsSearchResults.delete(),e.setState({eventsSearchResults:h.clone(),searchFocusOffset:null},(function(){e._updateListOfResultEvents(),n()})),e._deduplicateEventSearchResults(h)},e._doSearchInEvents=function(t,n){var r=t.searchInSelection,a=t.searchText,o=t.matchCase,i=t.searchInConditions,s=t.searchInActions,c=t.searchInEventStrings,u=t.searchInEventSentences,l=e.props.events;r&&console.error("Search in selection is not implemented yet");var d=j.EventsRefactorer.searchInEvents(e.props.project.getCurrentPlatform(),l,a,o,i,s,c,u);e.state.eventsSearchResults&&e.state.eventsSearchResults.delete(),e.setState({eventsSearchResults:d.clone(),searchFocusOffset:null},(function(){e._updateListOfResultEvents(),n()}))},e._updateListOfResultEvents=function(){var t=e.state.eventsSearchResults;e._resultEvents=t?e._deduplicateEventSearchResults(t):null},e._goToSearchResults=function(t){if(e._updateListOfResultEvents(),!e._resultEvents||0===e._resultEvents.length)return e.setState({searchFocusOffset:null}),null;var n=e.state.searchFocusOffset,r=null===n||void 0===n?h(e.props.events,e._resultEvents,e.props.selection):(n+t)%e._resultEvents.length;r<0&&(r+=e._resultEvents.length);var a=e._resultEvents[r];return setTimeout((function(){return e.setState({searchFocusOffset:r})}),0),a},e._goToPreviousSearchResult=function(){return e._goToSearchResults(-1)},e._goToNextSearchResult=function(){return e._goToSearchResults(1)},e}return Object(a.a)(n,[{key:"componentWillUnmount",value:function(){this.reset()}},{key:"render",value:function(){return this.props.children({eventsSearchResultEvents:this._resultEvents,searchFocusOffset:this.state.searchFocusOffset,searchInEvents:this._doSearchInEvents,replaceInEvents:this._doReplaceInEvents,goToNextSearchResult:this._goToNextSearchResult,goToPreviousSearchResult:this._goToPreviousSearchResult,clearSearchResults:this.reset})}}]),n}(u.Component)}).call(this,n(25))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a}));var r=e.gd,a=function e(t,n){var a=t.getSubInstructions();if(r.compare(a,n))return!0;for(var o=0;o<a.size();++o){if(e(a.get(o),n))return!0}return!1}}).call(this,n(25))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return E}));var r=n(19),a=n(6),o=n(5),i=n(10),s=n(11),c=n(9),u=n(17),l=n(303),d=n(298),b=n(521),p=n(295),j=n(324),h=n(322),f=n(321),g=n(1153),m=n(312),O=n(385),v=n(1154),x=n(1158),y=n(318),C=n(297),k=n(8),w=e.gd,T="<create a new extension>",E=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(a.a)(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={eventsFunction:null,extensionName:"",createNewExtension:!1},e._getFunctionGroupNames=function(){var t=e.state,n=t.createNewExtension,a=t.extensionName;if(n||!a)return[];for(var o=new Set,i=e.props.project.getEventsFunctionsExtension(a),s=0;s<i.getEventsFunctionsCount();s++){var c=i.getEventsFunctionAt(s).getGroup();c&&o.add(c)}return Object(r.a)(o).sort((function(e,t){return e.localeCompare(t)}))},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.project,n=e.globalObjectsContainer,r=e.objectsContainer,a=e.serializedEvents,o=new w.EventsFunction;Object(g.d)({project:t,globalObjectsContainer:n,objectsContainer:r,serializedEvents:a,eventsFunction:o}),this.setState({eventsFunction:o}),0===Object(b.a)(t).length&&this.setState({createNewExtension:!0})}},{key:"componentWillUnmount",value:function(){var e=this.state.eventsFunction;e&&e.delete()}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,r=t.onClose,a=t.onCreate,o=this.state,i=o.eventsFunction,s=o.extensionName,u=o.createNewExtension;if(!i)return null;var w=Object(b.a)(n),E=Object(g.c)(i),S=function(){Object(g.a)(n,s,i)?a(s,i):r()};return Object(k.jsx)(l.c,{title:Object(k.jsx)(c.Trans,{id:"Extract the events in a function"}),secondaryActions:[Object(k.jsx)(y.a,{helpPagePath:"/events/functions/extract-events"},"help")],actions:[Object(k.jsx)(d.a,{label:Object(k.jsx)(c.Trans,{id:"Cancel"}),onClick:r},"cancel"),Object(k.jsx)(l.a,{label:Object(k.jsx)(c.Trans,{id:"Create"}),primary:!0,disabled:!Object(g.a)(n,s,i),onClick:S},"create")],open:!0,cannotBeDismissed:!0,onRequestClose:r,onApply:S,children:Object(k.jsxs)(C.a,{noMargin:!0,children:[Object(k.jsx)(O.a,{identifier:"function-extractor-explanation",kind:"info",children:"After creating a function, it will be usable in the events sheet. Functions are grouped by extensions. Choose, or enter the name of a new extension, and a function name, then configure the function and its parameters."}),Object(k.jsxs)(p.a,{noMargin:!0,children:[Object(k.jsxs)(C.c,{noMargin:!0,expand:!0,children:[Object(k.jsxs)(h.a,{floatingLabelText:Object(k.jsx)(c.Trans,{id:"Extension (storing the function)"}),value:u?T:s,onChange:function(t,n,r){r===T?e.setState({createNewExtension:!0,extensionName:""}):e.setState({createNewExtension:!1,extensionName:r})},fullWidth:!0,children:[w.map((function(e){return Object(k.jsx)(f.a,{value:e.getName(),primaryText:e.getFullName()||e.getName()},e.getName())})),Object(k.jsx)(f.a,{value:T,primaryText:{id:"<Create a New Extension>"}})]}),u?Object(k.jsx)(j.a,{commitOnBlur:!0,value:s,floatingLabelText:Object(k.jsx)(c.Trans,{id:"New extension name"}),onChange:function(t){return e.setState({extensionName:t})},fullWidth:!0,errorText:Object(g.h)(n,s)?Object(g.g)(s)?void 0:Object(k.jsx)(c.Trans,{id:"This name is not valid. Only use alphanumeric characters (0-9, a-z) and underscores."}):Object(k.jsx)(c.Trans,{id:"This name is already taken by another extension."})}):null]}),Object(k.jsx)(p.c,{children:Object(k.jsx)(j.a,{commitOnBlur:!0,value:i.getName(),floatingLabelText:Object(k.jsx)(c.Trans,{id:"Function name"}),onChange:function(t){i.setName(t),e.forceUpdate()},fullWidth:!0,errorText:Object(g.f)(n,s,i)?Object(g.e)(i.getName())?void 0:Object(k.jsx)(c.Trans,{id:"This name is not valid. Only use alphanumeric characters (0-9, a-z) and underscores."}):Object(k.jsx)(c.Trans,{id:"This name is already taken by another function. Choose another name."})})}),E?Object(k.jsx)(p.c,{children:Object(k.jsx)(m.a,{kind:"warning",children:Object(k.jsx)(c.Trans,{id:"This function will have a lot of parameters. Consider creating groups or functions for a smaller set of objects so that the function is easier to reuse."})})}):null]}),Object(k.jsx)(x.a,{project:n,eventsFunction:i,eventsBasedBehavior:null,eventsBasedObject:null,eventsFunctionsContainer:null,onConfigurationUpdated:function(){e.forceUpdate()},freezeEventsFunctionType:!0,getFunctionGroupNames:this._getFunctionGroupNames}),Object(k.jsx)(v.a,{project:n,eventsFunction:i,eventsBasedBehavior:null,eventsBasedObject:null,eventsFunctionsContainer:null,onParametersUpdated:function(){e.forceUpdate()},freezeParameters:!0})]})})}}]),n}(u.Component)}).call(this,n(25))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){},,,,,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return G}));var r=n(19),a=n(2),o=n(6),i=n(5),s=n(10),c=n(11),u=n(0),l=n.n(u),d=n(9),b=n(17),p=n(812),j=n(531),h=n(316),f=n(2132),g=n(2135),m=n(2510),O=n(2511),v=n(357),x=n(2500),y=n(60),C=n(2139),k=n(2142),w=n(2181),T=n(2182),E=n(2184),S=n(672),P=n(309),I=n(2185),A=n(2186),D=n(2187),F=n.n(D),M=n(1212),_=n.n(M),L=n(39),R=n(460),N=n(54),B=n(500),U=n(310),H=n(1050),W=n(8),z=e.gd,V=function(e){return{direction:"row",first:e?{direction:"column",first:"free-functions-list",second:{direction:"column",first:"objects-list",second:"behaviors-list",splitPercentage:50},splitPercentage:33}:{direction:"column",first:"free-functions-list",second:"behaviors-list",splitPercentage:50},second:{direction:"column",first:"parameters",second:"events-sheet",splitPercentage:25},splitPercentage:25}},G=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(o.a)(this,n);for(var i=arguments.length,s=new Array(i),c=0;c<i;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={selectedEventsFunction:null,selectedEventsBasedBehavior:null,editedEventsBasedBehavior:null,selectedEventsBasedObject:null,editedEventsBasedObject:null,editOptionsDialogOpen:!1,behaviorMethodSelectorDialogOpen:!1,objectMethodSelectorDialogOpen:!1,extensionFunctionSelectorDialogOpen:!1,onAddEventsFunctionCb:null},e._globalObjectsContainer=new z.ObjectsContainer,e._objectsContainer=new z.ObjectsContainer,e._loadEventsFunctionFrom=function(t,n,r,a,o){if(r)z.EventsFunctionTools.behaviorEventsFunctionToObjectsContainer(t,r,n,e._globalObjectsContainer,e._objectsContainer);else if(a)z.EventsFunctionTools.objectEventsFunctionToObjectsContainer(t,a,n,e._globalObjectsContainer,e._objectsContainer);else{if(!o)throw new Error("No extension, behavior or object was specified when loading a function");z.EventsFunctionTools.freeEventsFunctionToObjectsContainer(t,o,n,e._globalObjectsContainer,e._objectsContainer)}},e.updateToolbar=function(){e.editor?e.editor.updateToolbar():e.props.setToolbar(Object(W.jsx)(B.b,{lastChild:!0,children:Object(W.jsx)(U.a,{size:"small",color:"default",onClick:e._editOptions,tooltip:{id:"Open extension settings"},children:Object(W.jsx)(H.a,{})})}))},e.selectEventsFunctionByName=function(t,n){var r=e.props.eventsFunctionsExtension;if(n){var a=r.getEventsBasedBehaviors();if(a.has(n)){var o=a.get(n),i=o.getEventsFunctions();i.hasEventsFunctionNamed(t)&&e._selectEventsFunction(i.getEventsFunction(t),o)}}else r.hasEventsFunctionNamed(t)&&e._selectEventsFunction(r.getEventsFunction(t),null)},e._selectEventsFunction=function(t,n,r){t?(e._loadEventsFunctionFrom(e.props.project,t,n,r,e.props.eventsFunctionsExtension),e.setState({selectedEventsFunction:t,selectedEventsBasedBehavior:n,selectedEventsBasedObject:r},(function(){e.updateToolbar(),e._editorNavigator&&(t&&!t.getEvents().getEventsCount()?e._editorNavigator.openEditor("parameters"):e._editorNavigator.openEditor("events-sheet"))}))):e.setState({selectedEventsFunction:null,selectedEventsBasedBehavior:n,selectedEventsBasedObject:r},(function(){return e.updateToolbar()}))},e._makeRenameFreeEventsFunction=function(t){return function(n,r,a){if(z.Project.validateName(r)){if(Object(S.l)(r))return Object(y.c)(t._({id:"This name is reserved for a lifecycle function of the extension. Choose another name for your function."}),{delayToNextTick:!0}),a(!1);var o=e.props,i=o.project,s=o.eventsFunctionsExtension;z.WholeProjectRefactorer.renameEventsFunction(i,s,n.getName(),r),a(!0)}else Object(y.c)(t._({id:"This name is invalid. Only use alphanumeric characters (0-9, a-z) and underscores. Digits are not allowed as the first character."}),{delayToNextTick:!0})}},e._makeRenameBehaviorEventsFunction=function(t){return function(n,r,a,o){if(!z.Project.validateName(a))return Object(y.c)(t._({id:"This name is invalid. Only use alphanumeric characters (0-9, a-z) and underscores. Digits are not allowed as the first character."}),{delayToNextTick:!0}),o(!1);if(Object(S.k)(a))return Object(y.c)(t._({id:"This name is reserved for a lifecycle method of the behavior. Choose another name for your custom function."}),{delayToNextTick:!0}),o(!1);var i=e.props,s=i.project,c=i.eventsFunctionsExtension;z.WholeProjectRefactorer.renameBehaviorEventsFunction(s,c,n,r.getName(),a),o(!0)}},e._makeRenameObjectEventsFunction=function(t){return function(n,r,a,o){if(!z.Project.validateName(a))return Object(y.c)(t._({id:"This name is invalid. Only use alphanumeric characters (0-9, a-z) and underscores. Digits are not allowed as the first character."}),{delayToNextTick:!0}),o(!1);if(Object(S.m)(a))return Object(y.c)(t._({id:"This name is reserved for a lifecycle method of the object. Choose another name for your custom function."}),{delayToNextTick:!0}),o(!1);var i=e.props,s=i.project,c=i.eventsFunctionsExtension;z.WholeProjectRefactorer.renameObjectEventsFunction(s,c,n,r.getName(),a),o(!0)}},e._makeMoveFreeEventsParameter=function(t){return function(t,n,r,a){var o=e.props,i=o.project,s=o.eventsFunctionsExtension;z.WholeProjectRefactorer.moveEventsFunctionParameter(i,s,t.getName(),n+R.a.FreeFunction,r+R.a.FreeFunction),a(!0)}},e._makeMoveBehaviorEventsParameter=function(t){return function(t,n,r,a,o){var i=e.props,s=i.project,c=i.eventsFunctionsExtension;z.WholeProjectRefactorer.moveBehaviorEventsFunctionParameter(s,c,t,n.getName(),r,a),o(!0)}},e._makeMoveObjectEventsParameter=function(t){return function(t,n,r,a,o){var i=e.props,s=i.project,c=i.eventsFunctionsExtension;z.WholeProjectRefactorer.moveObjectEventsFunctionParameter(s,c,t,n.getName(),r,a),o(!0)}},e._onDeleteEventsFunction=function(t,n){e.state.selectedEventsFunction&&z.compare(t,e.state.selectedEventsFunction)&&e._selectEventsFunction(null,e.state.selectedEventsBasedBehavior,e.state.selectedEventsBasedObject),n(!0)},e.selectEventsBasedBehaviorByName=function(t){var n=e.props.eventsFunctionsExtension.getEventsBasedBehaviors();n.has(t)&&e._selectEventsBasedBehavior(n.get(t))},e._selectEventsBasedBehavior=function(t){e.setState({selectedEventsBasedBehavior:t,selectedEventsFunction:null,selectedEventsBasedObject:null},(function(){e.updateToolbar(),t&&(e._editorMosaic&&e._editorMosaic.openEditor("behavior-functions-list","end",75,"column"),e._editorNavigator&&e._editorNavigator.openEditor("behavior-functions-list"))}))},e._selectEventsBasedObject=function(t){e.setState({selectedEventsBasedObject:t,selectedEventsFunction:null,selectedEventsBasedBehavior:null},(function(){e.updateToolbar(),t&&(e._editorMosaic&&e._editorMosaic.openEditor("behavior-functions-list","end",75,"column"),e._editorNavigator&&e._editorNavigator.openEditor("behavior-functions-list"))}))},e._makeRenameEventsBasedBehavior=function(t){return function(n,r,a){if(z.Project.validateName(r)){var o=e.props,i=o.project,s=o.eventsFunctionsExtension;z.WholeProjectRefactorer.renameEventsBasedBehavior(i,s,n.getName(),r),a(!0)}else Object(y.c)(t._({id:"This name is invalid. Only use alphanumeric characters (0-9, a-z) and underscores. Digits are not allowed as the first character."}),{delayToNextTick:!0})}},e._makeRenameEventsBasedObject=function(t){return function(n,r,a){if(z.Project.validateName(r)){var o=e.props,i=o.project,s=o.eventsFunctionsExtension;z.WholeProjectRefactorer.renameEventsBasedObject(i,s,n.getName(),r),a(!0)}else Object(y.c)(t._({id:"This name is invalid. Only use alphanumeric characters (0-9, a-z) and underscores. Digits are not allowed as the first character."}),{delayToNextTick:!0})}},e._onEventsBasedBehaviorRenamed=function(){e.props.onBehaviorEdited&&e.props.onBehaviorEdited(),e.state.selectedEventsFunction&&e._loadEventsFunctionFrom(e.props.project,e.state.selectedEventsFunction,e.state.selectedEventsBasedBehavior,e.state.selectedEventsBasedObject,e.props.eventsFunctionsExtension)},e._onEventsBasedObjectRenamed=function(){e.props.onObjectEdited&&e.props.onObjectEdited(),e.state.selectedEventsFunction&&e._loadEventsFunctionFrom(e.props.project,e.state.selectedEventsFunction,e.state.selectedEventsBasedBehavior,e.state.selectedEventsBasedObject,e.props.eventsFunctionsExtension)},e._onDeleteEventsBasedBehavior=function(t,n){e.state.selectedEventsBasedBehavior&&z.compare(t,e.state.selectedEventsBasedBehavior)&&e._selectEventsBasedBehavior(null),n(!0)},e._onDeleteEventsBasedObject=function(t,n){e.state.selectedEventsBasedObject&&z.compare(t,e.state.selectedEventsBasedObject)&&e._selectEventsBasedObject(null),n(!0)},e._onAddFreeEventsFunction=function(t){e.setState({extensionFunctionSelectorDialogOpen:!0,onAddEventsFunctionCb:t})},e._onCloseExtensionFunctionSelectorDialog=function(t){var n=e.state.onAddEventsFunctionCb;e.setState({extensionFunctionSelectorDialogOpen:!1,onAddEventsFunctionCb:null},(function(){n&&n(t)}))},e._onAddBehaviorEventsFunction=function(t){e.setState({behaviorMethodSelectorDialogOpen:!0,onAddEventsFunctionCb:t})},e._onAddObjectEventsFunction=function(t){e.setState({objectMethodSelectorDialogOpen:!0,onAddEventsFunctionCb:t})},e._onCloseBehaviorMethodSelectorDialog=function(t){var n=e.state.onAddEventsFunctionCb;e.setState({behaviorMethodSelectorDialogOpen:!1,onAddEventsFunctionCb:null},(function(){n&&n(t)}))},e._onCloseObjectMethodSelectorDialog=function(t){var n=e.state.onAddEventsFunctionCb;e.setState({objectMethodSelectorDialogOpen:!1,onAddEventsFunctionCb:null},(function(){n&&n(t)}))},e._onBehaviorEventsFunctionAdded=function(t,n){z.WholeProjectRefactorer.ensureBehaviorEventsFunctionsProperParameters(e.props.eventsFunctionsExtension,t)},e._onObjectEventsFunctionAdded=function(t,n){z.WholeProjectRefactorer.ensureObjectEventsFunctionsProperParameters(e.props.eventsFunctionsExtension,t)},e._onBehaviorPropertyRenamed=function(t,n,r){var a=e.props,o=a.project,i=a.eventsFunctionsExtension;z.WholeProjectRefactorer.renameEventsBasedBehaviorProperty(o,i,t,n,r)},e._onBehaviorSharedPropertyRenamed=function(t,n,r){var a=e.props,o=a.project,i=a.eventsFunctionsExtension;z.WholeProjectRefactorer.renameEventsBasedBehaviorSharedProperty(o,i,t,n,r)},e._onObjectPropertyRenamed=function(t,n,r){var a=e.props,o=a.project,i=a.eventsFunctionsExtension;z.WholeProjectRefactorer.renameEventsBasedObjectProperty(o,i,t,n,r)},e._editOptions=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e.setState({editOptionsDialogOpen:t})},e._editBehavior=function(t){e.setState((function(n){return n.editedEventsBasedBehavior&&!t&&z.WholeProjectRefactorer.ensureBehaviorEventsFunctionsProperParameters(e.props.eventsFunctionsExtension,n.editedEventsBasedBehavior),{editedEventsBasedBehavior:t}}),Object(a.a)(l.a.mark((function n(){return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=6;break}if(!e.props.onBehaviorEdited){n.next=5;break}return n.next=4,e.props.onBehaviorEdited();case 4:z.WholeProjectRefactorer.fixInvalidRequiredBehaviorProperties(e.props.project);case 5:e.state.selectedEventsFunction&&e._loadEventsFunctionFrom(e.props.project,e.state.selectedEventsFunction,e.state.selectedEventsBasedBehavior,e.state.selectedEventsBasedObject,e.props.eventsFunctionsExtension);case 6:case"end":return n.stop()}}),n)}))))},e._editObject=function(t){e.setState((function(n){return n.editedEventsBasedObject&&!t&&z.WholeProjectRefactorer.ensureObjectEventsFunctionsProperParameters(e.props.eventsFunctionsExtension,n.editedEventsBasedObject),{editedEventsBasedObject:t}}),Object(a.a)(l.a.mark((function n(){return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=5;break}if(!e.props.onObjectEdited){n.next=4;break}return n.next=4,e.props.onObjectEdited();case 4:e.state.selectedEventsFunction&&e._loadEventsFunctionFrom(e.props.project,e.state.selectedEventsFunction,e.state.selectedEventsBasedBehavior,e.state.selectedEventsBasedObject,e.props.eventsFunctionsExtension);case 5:case"end":return n.stop()}}),n)}))))},e._openFreeFunctionsListEditor=function(){e._editorNavigator&&e._editorNavigator.openEditor("free-functions-list")},e._openBehaviorsListEditor=function(){e._editorNavigator&&e._editorNavigator.openEditor("behaviors-list")},e._onEditorNavigatorEditorChanged=function(t){e.updateToolbar(),"behaviors-list"===t?e._selectEventsBasedBehavior(null):"free-functions-list"!==t&&"behavior-functions-list"!==t||e._selectEventsFunction(null,e.state.selectedEventsBasedBehavior)},e._getFunctionGroupNames=function(){var t=new Set,n=e.state,a=n.selectedEventsBasedBehavior,o=n.selectedEventsBasedObject;if(a)for(var i=a.getEventsFunctions(),s=0;s<i.getEventsFunctionsCount();s++){var c=i.getEventsFunctionAt(s).getGroup();c&&t.add(c)}else if(o)for(var u=o.getEventsFunctions(),l=0;l<u.getEventsFunctionsCount();l++){var d=u.getEventsFunctionAt(l).getGroup();d&&t.add(d)}else for(var b=e.props.eventsFunctionsExtension,p=0;p<b.getEventsFunctionsCount();p++){var j=b.getEventsFunctionAt(p).getGroup();j&&t.add(j)}return Object(r.a)(t).sort((function(e,t){return e.localeCompare(t)}))},e._onConfigurationUpdated=function(t){"type"===t&&e.forceUpdate()},e.onBeginCreateEventsFunction=function(){Object(N.k)({step:"begin",parentEditor:"extension-events-editor"})},e.onCreateEventsFunction=function(t,n){e.props.onCreateEventsFunction(t,n,"extension-events-editor")},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.props.initiallyFocusedFunctionName?this.selectEventsFunctionByName(this.props.initiallyFocusedFunctionName,this.props.initiallyFocusedBehaviorName):this.props.initiallyFocusedBehaviorName&&this.selectEventsBasedBehaviorByName(this.props.initiallyFocusedBehaviorName)}},{key:"componentWillUnmount",value:function(){this._globalObjectsContainer&&this._globalObjectsContainer.delete(),this._objectsContainer&&this._objectsContainer.delete()}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,r=t.eventsFunctionsExtension,a=this.state,o=a.selectedEventsFunction,i=a.selectedEventsBasedBehavior,s=a.selectedEventsBasedObject,c=a.editOptionsDialogOpen,u=a.behaviorMethodSelectorDialogOpen,l=a.objectMethodSelectorDialogOpen,y=a.extensionFunctionSelectorDialogOpen,D=a.editedEventsBasedBehavior,M=a.editedEventsBasedObject,R=i||s,N={"choose-editor":{type:"primary",noTitleBar:!0,renderEditor:function(){return Object(W.jsx)(A.a,{eventsFunctionsExtension:r,onEditFreeFunctions:e._openFreeFunctionsListEditor,onEditBehaviors:e._openBehaviorsListEditor,onEditExtensionOptions:e._editOptions})}},parameters:{type:"primary",title:{id:"Function Configuration"},toolbarControls:[],renderEditor:function(){return Object(W.jsx)(d.I18n,{children:function(t){var a=t.i18n;return Object(W.jsx)(v.a,{maxWidth:!0,children:o&&e._globalObjectsContainer&&e._objectsContainer?Object(W.jsx)(f.a,{project:n,eventsFunction:o,eventsBasedBehavior:i,eventsBasedObject:s,eventsFunctionsContainer:R&&R.getEventsFunctions()||r,globalObjectsContainer:e._globalObjectsContainer,objectsContainer:e._objectsContainer,onConfigurationUpdated:e._onConfigurationUpdated,helpPagePath:s?"/behaviors/events-based-objects":i?"/behaviors/events-based-behaviors":"/events/functions",onParametersOrGroupsUpdated:function(){e._loadEventsFunctionFrom(n,o,i,s,e.props.eventsFunctionsExtension),e.forceUpdate()},onMoveFreeEventsParameter:e._makeMoveFreeEventsParameter(a),onMoveBehaviorEventsParameter:e._makeMoveBehaviorEventsParameter(a),onMoveObjectEventsParameter:e._makeMoveObjectEventsParameter(a),unsavedChanges:e.props.unsavedChanges,getFunctionGroupNames:e._getFunctionGroupNames}):Object(W.jsx)(h.a,{children:Object(W.jsx)(d.Trans,{id:"Choose a function, or a function of a behavior, to set the parameters that it accepts."})})})}})}},"events-sheet":{type:"primary",noTitleBar:!0,renderEditor:function(){return o&&e._globalObjectsContainer&&e._objectsContainer?Object(W.jsx)(v.a,{children:Object(W.jsx)(p.a,{ref:function(t){return e.editor=t},project:n,scope:{layout:null,externalEvents:null,eventsFunctionsExtension:r,eventsBasedBehavior:i,eventsBasedObject:s,eventsFunction:o},globalObjectsContainer:e._globalObjectsContainer,objectsContainer:e._objectsContainer,events:o.getEvents(),onOpenExternalEvents:function(){},onOpenLayout:function(){},resourceManagementProps:e.props.resourceManagementProps,openInstructionOrExpression:e.props.openInstructionOrExpression,setToolbar:e.props.setToolbar,onBeginCreateEventsFunction:e.onBeginCreateEventsFunction,onCreateEventsFunction:e.onCreateEventsFunction,onOpenSettings:e._editOptions,settingsIcon:Object(W.jsx)(H.a,{}),unsavedChanges:e.props.unsavedChanges,isActive:!0},o.ptr)}):Object(W.jsx)(v.a,{children:Object(W.jsx)(h.a,{children:Object(W.jsx)(d.Trans,{id:"Choose a function, or a function of a behavior, to edit its events."})})})}},"free-functions-list":{type:"primary",title:{id:"Functions"},toolbarControls:[],renderEditor:function(){return Object(W.jsx)(d.I18n,{children:function(t){var a=t.i18n;return Object(W.jsx)(g.a,{project:n,eventsFunctionsContainer:r,selectedEventsFunction:o,onSelectEventsFunction:function(t){return e._selectEventsFunction(t,null)},onDeleteEventsFunction:e._onDeleteEventsFunction,canRename:function(e){return!Object(S.l)(e.getName())},onRenameEventsFunction:e._makeRenameFreeEventsFunction(a),onAddEventsFunction:e._onAddFreeEventsFunction,onEventsFunctionAdded:function(){},unsavedChanges:e.props.unsavedChanges})}})}},"behavior-functions-list":{type:"primary",title:s?{id:"Object functions"}:{id:"Behavior functions"},renderEditor:function(){return s?Object(W.jsx)(d.I18n,{children:function(t){var r=t.i18n;return Object(W.jsx)(g.a,{project:n,eventsFunctionsContainer:s.getEventsFunctions(),selectedEventsFunction:o,onSelectEventsFunction:function(t){return e._selectEventsFunction(t,i,s)},onDeleteEventsFunction:e._onDeleteEventsFunction,canRename:function(e){return!Object(S.m)(e.getName())},onRenameEventsFunction:function(t,n,a){return e._makeRenameObjectEventsFunction(r)(s,t,n,a)},onAddEventsFunction:e._onAddObjectEventsFunction,onEventsFunctionAdded:function(t){return e._onObjectEventsFunctionAdded(s,t)},unsavedChanges:e.props.unsavedChanges})}}):i?Object(W.jsx)(d.I18n,{children:function(t){var r=t.i18n;return Object(W.jsx)(g.a,{project:n,eventsFunctionsContainer:i.getEventsFunctions(),selectedEventsFunction:o,onSelectEventsFunction:function(t){return e._selectEventsFunction(t,i,s)},onDeleteEventsFunction:e._onDeleteEventsFunction,canRename:function(e){return!Object(S.k)(e.getName())},onRenameEventsFunction:function(t,n,a){return e._makeRenameBehaviorEventsFunction(r)(i,t,n,a)},onAddEventsFunction:e._onAddBehaviorEventsFunction,onEventsFunctionAdded:function(t){return e._onBehaviorEventsFunctionAdded(i,t)},unsavedChanges:e.props.unsavedChanges})}}):Object(W.jsx)(v.a,{children:Object(W.jsx)(h.a,{children:Object(W.jsx)(d.Trans,{id:"Select a behavior or an object to display its functions."})})})}},"behaviors-list":{type:"secondary",title:{id:"Behaviors"},toolbarControls:[],renderEditor:function(){return Object(W.jsx)(d.I18n,{children:function(t){var a=t.i18n;return Object(W.jsx)(m.a,{project:n,eventsBasedBehaviorsList:r.getEventsBasedBehaviors(),selectedEventsBasedBehavior:i,onSelectEventsBasedBehavior:e._selectEventsBasedBehavior,onDeleteEventsBasedBehavior:e._onDeleteEventsBasedBehavior,onRenameEventsBasedBehavior:e._makeRenameEventsBasedBehavior(a),onEventsBasedBehaviorRenamed:e._onEventsBasedBehaviorRenamed,onEditProperties:e._editBehavior,unsavedChanges:e.props.unsavedChanges})}})}},"objects-list":{type:"secondary",title:{id:"Objects"},toolbarControls:[],renderEditor:function(){return Object(W.jsx)(d.I18n,{children:function(t){var a=t.i18n;return Object(W.jsx)(O.a,{project:n,eventsBasedObjectsList:r.getEventsBasedObjects(),selectedEventsBasedObject:s,onSelectEventsBasedObject:e._selectEventsBasedObject,onDeleteEventsBasedObject:e._onDeleteEventsBasedObject,onRenameEventsBasedObject:e._makeRenameEventsBasedObject(a),onEventsBasedObjectRenamed:e._onEventsBasedObjectRenamed,onEditProperties:e._editObject,unsavedChanges:e.props.unsavedChanges})}})}}};return Object(W.jsxs)(b.Fragment,{children:[Object(W.jsx)(P.a,{children:function(t){return"small"===t?Object(W.jsx)(I.a,{ref:function(t){return e._editorNavigator=t},editors:N,initialEditorName:"choose-editor",transitions:{"behaviors-list":{previousEditor:"choose-editor"},"behavior-functions-list":{previousEditor:"behaviors-list"},"free-functions-list":{previousEditor:"choose-editor"},"events-sheet":{nextIcon:Object(W.jsx)(_.a,{}),nextLabel:Object(W.jsx)(d.Trans,{id:"Parameters"}),nextEditor:"parameters",previousEditor:function(){return i||s?"behavior-functions-list":"free-functions-list"}},parameters:{nextIcon:Object(W.jsx)(F.a,{}),nextLabel:Object(W.jsx)(d.Trans,{id:"Validate these parameters"}),nextEditor:"events-sheet"}},onEditorChanged:e._onEditorNavigatorEditorChanged}):Object(W.jsx)(L.a.Consumer,{children:function(t){var n=t.getDefaultEditorMosaicNode,r=t.setDefaultEditorMosaicNode,a=t.getShowEventBasedObjectsEditor;return Object(W.jsx)(j.a,{ref:function(t){return e._editorMosaic=t},editors:N,onPersistNodes:function(e){return r("events-functions-extension-editor",e)},initialNodes:a()===Object(j.b)(n("events-functions-extension-editor")||V(a()),"objects-list")&&n("events-functions-extension-editor")||V(a())})}})}}),c&&Object(W.jsx)(x.a,{eventsFunctionsExtension:r,open:!0,onClose:function(){return e._editOptions(!1)}}),l&&s&&Object(W.jsx)(T.a,{eventsBasedObject:s,onCancel:function(){return e._onCloseObjectMethodSelectorDialog(null)},onChoose:function(t){return e._onCloseObjectMethodSelectorDialog(t)}}),u&&i&&Object(W.jsx)(w.a,{eventsBasedBehavior:i,onCancel:function(){return e._onCloseBehaviorMethodSelectorDialog(null)},onChoose:function(t){return e._onCloseBehaviorMethodSelectorDialog(t)}}),y&&r&&Object(W.jsx)(E.a,{eventsFunctionsExtension:r,onCancel:function(){return e._onCloseExtensionFunctionSelectorDialog(null)},onChoose:function(t){return e._onCloseExtensionFunctionSelectorDialog(t)}}),D&&Object(W.jsx)(C.a,{project:n,eventsFunctionsExtension:r,eventsBasedBehavior:D,onApply:function(){e.props.unsavedChanges&&e.props.unsavedChanges.triggerUnsavedChanges(),e._editBehavior(null)},onRenameProperty:function(t,n){return e._onBehaviorPropertyRenamed(D,t,n)},onRenameSharedProperty:function(t,n){return e._onBehaviorSharedPropertyRenamed(D,t,n)}}),M&&this._globalObjectsContainer&&Object(W.jsx)(k.a,{project:n,globalObjectsContainer:this._globalObjectsContainer,eventsFunctionsExtension:r,eventsBasedObject:M,onApply:function(){e.props.unsavedChanges&&e.props.unsavedChanges.triggerUnsavedChanges(),e._editObject(null)},onRenameProperty:function(t,n){return e._onObjectPropertyRenamed(M,t,n)}})]})}}]),n}(b.Component)}).call(this,n(25))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return O}));var r=n(6),a=n(5),o=n(10),i=n(11),s=n(9),c=n(17),u=n(2133),l=n(352),d=n(1154),b=n(1158),p=n(331),j=n(295),h=n(60),f=n(26),g=n(8),m=e.gd,O=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={currentTab:"config"},e._canObjectOrGroupUseNewName=function(t){var n=e.props,r=n.objectsContainer,a=n.globalObjectsContainer;return r.hasObjectNamed(t)||a.hasObjectNamed(t)||r.getObjectGroups().has(t)||a.getObjectGroups().has(t)?(Object(h.c)("Another object or group with this name already exists in this function.",{delayToNextTick:!0}),!1):!!m.Project.validateName(t)||(Object(h.c)("This name is invalid. Only use alphanumeric characters (0-9, a-z) and underscores. Digits are not allowed as the first character.",{delayToNextTick:!0}),!1)},e._onDeleteGroup=function(t,n){var r=t.group,a=e.props,o=a.project,i=a.eventsFunction,s=a.globalObjectsContainer,c=a.objectsContainer,u=f.b.showConfirmDialog("Do you want to remove all references to this group in events (actions and conditions using the group)?");m.WholeProjectRefactorer.objectOrGroupRemovedInEventsFunction(o,i,s,c,r.getName(),!0,!!u),n(!0)},e._onRenameGroup=function(t,n,r){var a=t.group,o=e.props,i=o.project,s=o.eventsFunction,c=o.globalObjectsContainer,u=o.objectsContainer;a.getName()!==n&&m.WholeProjectRefactorer.objectOrGroupRenamedInEventsFunction(i,s,c,u,a.getName(),n,!0),r(!0)},e._chooseTab=function(t){return e.setState({currentTab:t})},e}return Object(a.a)(n,[{key:"render",value:function(){var e=this.props,t=e.project,n=e.globalObjectsContainer,r=e.objectsContainer,a=e.eventsFunction,o=e.eventsBasedBehavior,i=e.eventsBasedObject,c=e.freezeEventsFunctionType,h=e.onConfigurationUpdated,f=e.onParametersOrGroupsUpdated,m=e.freezeParameters,O=e.helpPagePath,v=e.renderConfigurationHeader,x=e.onMoveFreeEventsParameter,y=e.onMoveBehaviorEventsParameter,C=e.onMoveObjectEventsParameter,k=e.getFunctionGroupNames,w=e.eventsFunctionsContainer;return Object(g.jsxs)(j.a,{expand:!0,useFullHeight:!0,noOverflowParent:!0,children:[Object(g.jsx)(j.c,{children:Object(g.jsx)(j.a,{noMargin:!0,expand:!0,noOverflowParent:!0,children:Object(g.jsx)(l.a,{value:this.state.currentTab,onChange:this._chooseTab,options:[{value:"config",label:Object(g.jsx)(s.Trans,{id:"Configuration"})},{value:"parameters",label:Object(g.jsx)(s.Trans,{id:"Parameters"})},{value:"groups",label:Object(g.jsx)(s.Trans,{id:"Object groups"})}]})})}),"config"===this.state.currentTab?Object(g.jsx)(p.a,{children:Object(g.jsx)(j.c,{children:Object(g.jsx)(b.a,{project:t,eventsFunction:a,eventsBasedBehavior:o,eventsBasedObject:i,eventsFunctionsContainer:w,helpPagePath:O,onConfigurationUpdated:h,renderConfigurationHeader:v,freezeEventsFunctionType:c,getFunctionGroupNames:k})})}):null,"parameters"===this.state.currentTab?Object(g.jsx)(p.a,{children:Object(g.jsx)(j.c,{children:Object(g.jsx)(d.a,{project:t,eventsFunction:a,eventsBasedBehavior:o,eventsBasedObject:i,eventsFunctionsContainer:w,onParametersUpdated:f,helpPagePath:O,freezeParameters:m,onMoveFreeEventsParameter:x,onMoveBehaviorEventsParameter:y,onMoveObjectEventsParameter:C},a?a.ptr:null)})}):null,"groups"===this.state.currentTab?Object(g.jsx)(u.a,{project:t,globalObjectsContainer:n,objectsContainer:r,globalObjectGroups:n.getObjectGroups(),objectGroups:a.getObjectGroups(),canRenameGroup:this._canObjectOrGroupUseNewName,onRenameGroup:this._onRenameGroup,onDeleteGroup:this._onDeleteGroup,onGroupsUpdated:f,canSetAsGlobalGroup:!1,unsavedChanges:this.props.unsavedChanges}):null]})}}]),n}(c.Component)}).call(this,n(25))},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(6),a=n(5),o=n(10),i=n(11),s=n(17),c=n(1201),u=n(1202),l=n(8),d=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={editedGroup:null},e.editGroup=function(t){return e.setState({editedGroup:t})},e}return Object(a.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.project,r=t.objectsContainer,a=t.globalObjectsContainer,o=t.objectGroups,i=t.globalObjectGroups;return Object(l.jsxs)(s.Fragment,{children:[Object(l.jsx)(c.a,{globalObjectGroups:i,objectGroups:o,onEditGroup:this.editGroup,onDeleteGroup:this.props.onDeleteGroup,onRenameGroup:this.props.onRenameGroup,canRenameGroup:this.props.canRenameGroup,onGroupAdded:this.props.onGroupsUpdated,onGroupRemoved:this.props.onGroupsUpdated,onGroupRenamed:this.props.onGroupsUpdated,canSetAsGlobalGroup:this.props.canSetAsGlobalGroup,unsavedChanges:this.props.unsavedChanges}),this.state.editedGroup&&Object(l.jsx)(u.a,{project:n,group:this.state.editedGroup,globalObjectsContainer:a,objectsContainer:r,onCancel:function(){return e.editGroup(null)},onApply:function(){e.props.onGroupsUpdated&&e.props.onGroupsUpdated(),e.editGroup(null)}},a.ptr+";"+r.ptr)]})}}]),n}(s.Component)},function(e,t,n){"use strict";(function(e){var r=n(34),a=n(9),o=n(17),i=n(336),s=n(1123),c=n(295),u=n(394),l=n(378),d=n(388),b=n(327),p=n(297),j=n(312),h=n(8),f=e.gd,g={objectSelector:{position:"sticky",bottom:0}};t.a=function(e){var t=e.project,n=e.group,m=e.globalObjectsContainer,O=e.objectsContainer,v=e.onSizeUpdated,x=e.onObjectGroupUpdated,y=o.useState(""),C=Object(r.a)(y,2),k=C[0],w=C[1],T=n.getAllObjectsNames().toJSArray();return Object(h.jsxs)(p.a,{noMargin:!0,children:[function(){var e=void 0;if(0===T.length)return null;T.forEach((function(t){var n=f.getTypeOfObject(m,O,t,!1);e=void 0===e||n===e?n:""}));var t=""===e?Object(h.jsx)(a.Trans,{id:"This group contains objects of different kinds. You'll only be able to use actions and conditions common to all objects with this group."}):Object(h.jsx)(a.Trans,{id:"This group contains objects of the same kind ({type}). You can use actions and conditions related to this kind of objects in events with this group.",values:{type:e}});return Object(h.jsx)(j.a,{kind:"info",children:t})}(),Object(h.jsx)(i.a,{children:n.getAllObjectsNames().toJSArray().map((function(e){var r=Object(d.a)(m,O,e),a=t&&r?Object(h.jsx)(u.a,{iconSize:24,src:l.a.getThumbnail(t,r.getConfiguration())}):null;return Object(h.jsx)(i.b,{primaryText:e,displayRemoveButton:!0,onRemove:function(){return function(e){n.removeObject(e),v&&v(),x&&x()}(e)},leftIcon:a},e)}))}),Object(h.jsx)(b.a,{style:g.objectSelector,background:"medium",children:Object(h.jsx)(c.a,{noMargin:!0,children:Object(h.jsx)(s.a,{project:t,globalObjectsContainer:m,objectsContainer:O,value:k,excludedObjectOrGroupNames:T,onChange:w,onChoose:function(e){n.addObject(e),w(""),v&&v(),x&&x()},openOnFocus:!0,noGroups:!0,hintText:{id:"Choose an object to add to the group"},fullWidth:!0})})})]})}}).call(this,n(25))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return M}));var r=n(6),a=n(5),o=n(10),i=n(11),s=n(9),c=n(17),u=n(379),l=n(538),d=n(361),b=n(60),p=n(357),j=n(95),h=n(2593),f=n(2136),g=n(449),m=n(397),O=n.n(m),v=n(2137),x=n.n(v),y=n(26),C=n(338),k=n(295),w=n(328),T=n.n(w),E=n(586),S=n(8),P="Events Function",I=e.gd,A={listContainer:{flex:1},tooltip:{marginRight:5,verticalAlign:"bottom"}},D=function(e){var t=Object(S.jsx)("span",{title:e.getName(),children:e.getName()});return e.isPrivate()&&(t=Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(h.a,{title:Object(S.jsx)(s.Trans,{id:"This function won't be visible in the events editor."}),children:Object(S.jsx)(O.a,{fontSize:"small",style:A.tooltip})}),t]})),e.isAsync()&&(t=Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(h.a,{title:Object(S.jsx)(s.Trans,{id:'This function is asynchronous - it will only allow subsequent events to run after calling the action "End asynchronous task" within the function.'}),children:Object(S.jsx)(x.a,{fontSize:"small",style:A.tooltip})}),t]})),t},F=function(e){return e.getName()},M=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={renamedEventsFunction:null,searchText:""},e._togglePrivate=function(t){t.setPrivate(!t.isPrivate()),e.forceUpdate()},e._toggleAsync=function(t){t.setAsync(!t.isAsync()),e.forceUpdate()},e._deleteEventsFunction=function(t,n){var r=n.askForConfirmation,a=e.props.eventsFunctionsContainer;if(r&&!y.b.showConfirmDialog("Are you sure you want to remove this function? This can't be undone."))return;e.props.onDeleteEventsFunction(t,(function(n){n&&(a.removeEventsFunction(t.getName()),e._onEventsFunctionModified())}))},e._editName=function(t){e.setState({renamedEventsFunction:t},(function(){e.sortableList&&e.sortableList.forceUpdateGrid()}))},e._getFunctionThumbnail=function(e){switch(e.getFunctionType()){default:return"res/functions/function.svg";case I.EventsFunction.Action:case I.EventsFunction.ActionWithOperator:switch(e.getName()){default:return"res/functions/action.svg";case"onSceneUnloading":case"onDestroy":return"res/functions/destroy.svg";case"onSceneResumed":case"onActivate":return"res/functions/activate.svg";case"onScenePaused":case"onDeActivate":return"res/functions/deactivate.svg";case"onScenePreEvents":case"onScenePostEvents":case"doStepPreEvents":case"doStepPostEvents":return"res/functions/step.svg";case"onSceneLoaded":case"onFirstSceneLoaded":case"onCreated":return"res/functions/create.svg";case"onHotReloading":return"res/functions/reload.svg"}case I.EventsFunction.Condition:return"res/functions/condition.svg";case I.EventsFunction.Expression:case I.EventsFunction.ExpressionAndCondition:return"res/functions/expression.svg"}},e._rename=function(t,n){var r=e.props.eventsFunctionsContainer;e.setState({renamedEventsFunction:null}),t.getName()!==n&&(r.hasEventsFunctionNamed(n)?Object(b.c)("Another function with this name already exists.",{delayToNextTick:!0}):e.props.onRenameEventsFunction(t,n,(function(r){r&&(t.setName(n),e._onEventsFunctionModified())})))},e._moveSelectionTo=function(t){var n=e.props,r=n.eventsFunctionsContainer,a=n.selectedEventsFunction;if(a){var o=r.getEventsFunctionPosition(a),i=r.getEventsFunctionPosition(t);r.moveEventsFunction(o,i+(i<=o?0:-1)),e.forceUpdateList()}},e.forceUpdateList=function(){e._onEventsFunctionModified(),e.sortableList&&e.sortableList.forceUpdateGrid()},e._copyEventsFunction=function(e){g.b.set(P,{eventsFunction:Object(C.b)(e),name:e.getName()})},e._cutEventsFunction=function(t){e._copyEventsFunction(t),e._deleteEventsFunction(t,{askForConfirmation:!1})},e._pasteEventsFunction=function(t){if(g.b.has(P)){var n=g.b.get(P),r=g.a.extractObjectProperty(n,"eventsFunction"),a=g.a.extractStringProperty(n,"name");if(a&&r){var o=e.props,i=o.project,s=o.eventsFunctionsContainer,c=Object(j.a)(a,(function(e){return s.hasEventsFunctionNamed(e)})),u=s.insertNewEventsFunction(c,t);Object(C.c)(u,r,"unserializeFrom",i),u.setName(c),e.props.onEventsFunctionAdded(u),e._onEventsFunctionModified(),e.props.onSelectEventsFunction(u),e._editName(u)}}},e._duplicateEventsFunction=function(t,n){var r=e.props.eventsFunctionsContainer,a=Object(j.a)(t.getName(),(function(e){return r.hasEventsFunctionNamed(e)})),o=r.insertEventsFunction(t,n);o.setName(a),e.props.onEventsFunctionAdded(o),e._onEventsFunctionModified(),e.props.onSelectEventsFunction(o),e._editName(o)},e._renderEventsFunctionMenuTemplate=function(t){return function(n,r){return[{label:t._({id:"Rename"}),click:function(){return e._editName(n)},enabled:e.props.canRename(n)},{label:n.isPrivate()?t._({id:"Make public"}):t._({id:"Make private"}),click:function(){return e._togglePrivate(n)}},{label:n.isAsync()?t._({id:"Make synchronous"}):t._({id:"Make asynchrounous"}),click:function(){return e._toggleAsync(n)}},{label:t._({id:"Delete"}),click:function(){return e._deleteEventsFunction(n,{askForConfirmation:!0})}},{type:"separator"},{label:t._({id:"Copy"}),click:function(){return e._copyEventsFunction(n)}},{label:t._({id:"Cut"}),click:function(){return e._cutEventsFunction(n)}},{label:t._({id:"Paste"}),enabled:g.b.has(P),click:function(){return e._pasteEventsFunction(r+1)}},{label:t._({id:"Duplicate"}),click:function(){return e._duplicateEventsFunction(n,r+1)}}]}},e._addNewEventsFunction=function(){var t=e.props,n=t.eventsFunctionsContainer,r=t.project;e.props.onAddEventsFunction((function(t){if(t){var a=t.name||Object(j.a)("Function",(function(e){return n.hasEventsFunctionNamed(e)})),o=n.insertNewEventsFunction(a,n.getEventsFunctionsCount());o.setFunctionType(t.functionType),o.isCondition()&&!o.isExpression()&&I.PropertyFunctionGenerator.generateConditionSkeleton(r,o),e.props.onEventsFunctionAdded(o),e._onEventsFunctionModified(),e.props.onSelectEventsFunction(o),e.props.canRename(o)&&e._editName(o)}}))},e}return Object(a.a)(n,[{key:"_onEventsFunctionModified",value:function(){this.props.unsavedChanges&&this.props.unsavedChanges.triggerUnsavedChanges(),this.forceUpdate()}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,r=t.eventsFunctionsContainer,a=t.selectedEventsFunction,o=t.onSelectEventsFunction,i=this.state.searchText,c=Object(f.b)(Object(f.a)(r),i),b=n.ptr+";"+r.ptr;return Object(S.jsxs)(p.a,{children:[Object(S.jsx)(k.c,{children:Object(S.jsx)(k.a,{expand:!0,children:Object(S.jsx)(d.a,{value:i,onRequestSearch:function(){},onChange:function(t){return e.setState({searchText:t})},placeholder:{id:"Search functions"}})})}),Object(S.jsx)("div",{style:A.listContainer,children:Object(S.jsx)(u.a,{children:function(t){var n=t.height,r=t.width;return Object(S.jsx)(s.I18n,{children:function(t){var i=t.i18n;return Object(S.jsx)(l.a,{ref:function(t){return e.sortableList=t},fullList:c,width:r,height:n,renderItemLabel:D,getItemName:F,getItemThumbnail:e._getFunctionThumbnail,selectedItems:a?[a]:[],onItemSelected:o,renamedItem:e.state.renamedEventsFunction,onRename:e._rename,onMoveSelectionToItem:e._moveSelectionTo,buildMenuTemplate:e._renderEventsFunctionMenuTemplate(i),reactDndType:"GD_EVENTS_FUNCTION"},b)}})}})}),Object(S.jsx)(k.c,{children:Object(S.jsx)(k.a,{expand:!0,children:Object(S.jsx)(E.a,{label:Object(S.jsx)(s.Trans,{id:"Add a new function"}),primary:!0,onClick:this._addNewEventsFunction,icon:Object(S.jsx)(T.a,{})})})})]})}}]),n}(c.Component);M.defaultProps={onDeleteEventsFunction:function(e,t){return t(!0)},onRenameEventsFunction:function(e,t,n){return n(!0)}}}).call(this,n(25))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var r=n(307),a=function(e){return Object(r.mapFor)(0,e.getEventsFunctionsCount(),(function(t){return e.getEventsFunctionAt(t)}))},o=function(e,t){if(!t)return e;var n=t.toLowerCase();return e.filter((function(e){return-1!==e.getName().toLowerCase().indexOf(n)}))}},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(34),a=n(9),o=n(17),i=n(303),s=n(2140),c=n(318),u=n(352),l=n(2141),d=n(8);function b(e){var t=e.onApply,n=e.eventsBasedBehavior,b=e.eventsFunctionsExtension,p=e.project,j=e.onRenameProperty,h=e.onRenameSharedProperty,f=o.useState("configuration"),g=Object(r.a)(f,2),m=g[0],O=g[1];return Object(d.jsxs)(i.c,{title:Object(d.jsx)(a.Trans,{id:"Edit {0}",values:{0:n.getName()}}),secondaryActions:[Object(d.jsx)(c.a,{helpPagePath:"/behaviors/events-based-behaviors"},"help")],actions:[Object(d.jsx)(i.a,{label:Object(d.jsx)(a.Trans,{id:"Apply"}),primary:!0,onClick:t},"Apply")],open:!0,onRequestClose:t,onApply:t,fullHeight:!0,flexBody:!0,fixedContent:Object(d.jsx)(u.a,{value:m,onChange:O,options:[{value:"configuration",label:Object(d.jsx)(a.Trans,{id:"Configuration"})},{value:"behavior-properties",label:Object(d.jsx)(a.Trans,{id:"Behavior properties"})},{value:"scene-properties",label:Object(d.jsx)(a.Trans,{id:"Scene properties"})}]}),children:["configuration"===m&&Object(d.jsx)(s.a,{project:p,eventsFunctionsExtension:b,eventsBasedBehavior:n}),"behavior-properties"===m&&Object(d.jsx)(l.a,{project:p,extension:b,eventsBasedBehavior:n,properties:n.getPropertyDescriptors(),onRenameProperty:j,behaviorObjectType:n.getObjectType()}),"scene-properties"===m&&Object(d.jsx)(l.a,{isSceneProperties:!0,project:p,extension:b,eventsBasedBehavior:n,properties:n.getSharedPropertyDescriptors(),onRenameProperty:h})]})}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return j}));var r=n(9),a=n(17),o=n(311),i=n(324),s=n(1156),c=n(385),u=n(312),l=n(297),d=n(314),b=n(8),p=e.gd;function j(e){var t=e.project,n=e.eventsFunctionsExtension,j=e.eventsBasedBehavior,h=Object(d.a)(),f=a.useMemo((function(){return p.WholeProjectRefactorer.getAllObjectTypesUsingEventsBasedBehavior(t,n,j).toNewVectorString().toJSArray()}),[t,n,j]);return Object(b.jsx)(r.I18n,{children:function(e){var n=e.i18n;return Object(b.jsxs)(l.a,{expand:!0,noMargin:!0,children:[Object(b.jsx)(c.a,{identifier:"events-based-behavior-explanation",kind:"info",children:Object(b.jsx)(r.Trans,{id:"This is the configuration of your behavior. Make sure to choose a proper internal name as it's hard to change it later. Enter a description explaining what the behavior is doing to the object."})}),Object(b.jsx)(o.b,{floatingLabelText:Object(b.jsx)(r.Trans,{id:"Internal Name"}),value:j.getName(),disabled:!0,fullWidth:!0}),Object(b.jsx)(i.a,{commitOnBlur:!0,floatingLabelText:Object(b.jsx)(r.Trans,{id:"Name displayed in editor"}),value:j.getFullName(),onChange:function(e){j.setFullName(e),h()},fullWidth:!0}),Object(b.jsx)(i.a,{commitOnBlur:!0,floatingLabelText:Object(b.jsx)(r.Trans,{id:"Description"}),helperMarkdownText:n._({id:"Explain what the behavior is doing to the object. Start with a verb when possible."}),value:j.getDescription(),onChange:function(e){j.setDescription(e),h()},multiline:!0,fullWidth:!0,rows:3}),Object(b.jsx)(s.a,{floatingLabelText:Object(b.jsx)(r.Trans,{id:"Object on which this behavior can be used"}),project:t,value:j.getObjectType(),onChange:function(e){j.setObjectType(e),h()},allowedObjectTypes:0===f.length?void 0:1===f.length?["",f[0]]:[""]}),f.length>1&&Object(b.jsx)(u.a,{kind:"info",children:Object(b.jsx)(r.Trans,{id:"This behavior is being used by multiple types of objects. Thus, you can't restrict its usage to any particular object type. All the object types using this behavior are listed here: {0}",values:{0:f.join(", ")}})}),0===j.getEventsFunctions().getEventsFunctionsCount()&&Object(b.jsx)(c.a,{identifier:"empty-events-based-behavior-explanation",kind:"info",children:Object(b.jsx)(r.Trans,{id:"Once you're done, close this dialog and start adding some functions to the behavior. Then, test the behavior by adding it to an object in a scene."})})]})}})}}).call(this,n(25))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return B}));var r=n(19),a=n(6),o=n(5),i=n(10),s=n(11),c=n(9),u=n(17),l=n(295),d=n(322),b=n(321),p=n(307),j=n(305),h=n(310),f=n(316),g=n(350),m=n(324),O=n(400),v=n(60),x=n(95),y=n(425),C=n(403),k=n.n(C),w=n(397),T=n.n(w),E=n(328),S=n.n(E),P=n(297),I=n(828),A=n(410),D=n(1157),F=n(374),M=n(331),_=n(405),L=n(8),R=e.gd,N=function(e){return e.getExtraInfo().toJSArray()},B=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(a.a)(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i)))._addProperty=function(){var t=e.props.properties,n=Object(x.a)("Property",(function(e){return t.has(e)}));t.insertNew(n,t.getCount()).setType("Number"),e.forceUpdate(),e.props.onPropertiesUpdated&&e.props.onPropertiesUpdated()},e._removeProperty=function(t){e.props.properties.remove(t),e.forceUpdate(),e.props.onPropertiesUpdated&&e.props.onPropertiesUpdated()},e._moveProperty=function(t,n){e.props.properties.move(t,n),e.forceUpdate(),e.props.onPropertiesUpdated&&e.props.onPropertiesUpdated()},e._setChoiceExtraInfo=function(t){return function(n){var r=N(t).indexOf(t.getValue()),a=new R.VectorString;n.forEach((function(e){return a.push_back(e)})),t.setExtraInfo(a),a.delete(),t.setValue(n[r]||""),e.forceUpdate()}},e._getPropertyGroupNames=function(){for(var t=e.props.properties,n=new Set,a=0;a<t.size();a++){var o=t.at(a).getGroup()||"";n.add(o)}return Object(r.a)(n).sort((function(e,t){return e.localeCompare(t)}))},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.props.properties;return Object(L.jsx)(c.I18n,{children:function(n){var r=n.i18n;return Object(L.jsxs)(M.a,{children:[Object(p.mapVector)(t,(function(n,a){return Object(L.jsxs)(u.Fragment,{children:[Object(L.jsxs)(O.b,{noPadding:!0,children:[Object(L.jsx)(l.a,{expand:!0,noMargin:!0,children:Object(L.jsx)(m.a,{margin:"none",commitOnBlur:!0,translatableHintText:{id:"Enter the property name"},value:n.getName(),onChange:function(a){a!==n.getName()&&function(e,t,n){return n?"name"===n||"type"===n?(Object(v.c)(e._({id:'The name of a property cannot be "name" or "type", as they are used by GDevelop internally.'}),{delayToNextTick:!0}),!1):t.has(n)?(Object(v.c)(e._({id:"This name is already used by another property. Choose a unique name for each property."}),{delayToNextTick:!0}),!1):!!R.Project.validateName(n)||(Object(v.c)(e._({id:"This name is invalid. Only use alphanumeric characters (0-9, a-z) and underscores. Digits are not allowed as the first character."}),{delayToNextTick:!0}),!1):(Object(v.c)(e._({id:"The name of a property cannot be empty."}),{delayToNextTick:!0}),!1)}(r,t,a)&&(e.props.onRenameProperty(n.getName(),a),n.setName(a),e.forceUpdate(),e.props.onPropertiesUpdated&&e.props.onPropertiesUpdated())},fullWidth:!0})}),Object(L.jsx)(l.a,{children:Object(L.jsx)(y.a,{label:n.isHidden()?Object(L.jsx)(c.Trans,{id:"Hidden"}):Object(L.jsx)(c.Trans,{id:"Visible in editor"}),checked:!n.isHidden(),onCheck:function(t,r){n.setHidden(!r),e.forceUpdate(),e.props.onPropertiesUpdated&&e.props.onPropertiesUpdated()},checkedIcon:Object(L.jsx)(k.a,{}),uncheckedIcon:Object(L.jsx)(T.a,{}),disabled:"Behavior"===n.getType()&&!n.isHidden()})}),Object(L.jsx)(g.a,{element:Object(L.jsx)(h.a,{children:Object(L.jsx)(_.a,{})}),buildMenuTemplate:function(r){return[{label:r._({id:"Delete"}),click:function(){return e._removeProperty(n.getName())}},{type:"separator"},{label:r._({id:"Move up"}),click:function(){return e._moveProperty(a,a-1)},enabled:a-1>=0},{label:r._({id:"Move down"}),click:function(){return e._moveProperty(a,a+1)},enabled:a+1<t.getCount()},{label:r._({id:"Generate expression and action"}),click:function(){return R.PropertyFunctionGenerator.generateBehaviorGetterAndSetter(e.props.project,e.props.extension,e.props.eventsBasedBehavior,n,!!e.props.isSceneProperties)},enabled:R.PropertyFunctionGenerator.canGenerateGetterAndSetter(e.props.eventsBasedBehavior,n)}]}})]}),Object(L.jsx)(l.c,{children:Object(L.jsxs)(P.a,{expand:!0,noMargin:!0,children:[Object(L.jsxs)(P.c,{noMargin:!0,children:[Object(L.jsxs)(d.a,{floatingLabelText:Object(L.jsx)(c.Trans,{id:"Type"}),value:n.getType(),onChange:function(t,r,a){n.setType(a),"Behavior"===a&&n.setHidden(!1),e.forceUpdate(),e.props.onPropertiesUpdated&&e.props.onPropertiesUpdated()},fullWidth:!0,children:[Object(L.jsx)(b.a,{value:"Number",primaryText:{id:"Number"}}),Object(L.jsx)(b.a,{value:"String",primaryText:{id:"String"}}),Object(L.jsx)(b.a,{value:"Boolean",primaryText:{id:"Boolean (checkbox)"}}),Object(L.jsx)(b.a,{value:"Choice",primaryText:{id:"String from a list of options (text)"}}),Object(L.jsx)(b.a,{value:"Color",primaryText:{id:"Color (text)"}}),!e.props.isSceneProperties&&Object(L.jsx)(b.a,{value:"Behavior",primaryText:{id:"Required behavior"}})]}),("String"===n.getType()||"Number"===n.getType())&&Object(L.jsx)(m.a,{commitOnBlur:!0,floatingLabelText:Object(L.jsx)(c.Trans,{id:"Default value"}),hintText:"Number"===n.getType()?"123":"ABC",value:n.getValue(),onChange:function(t){n.setValue(t),e.forceUpdate(),e.props.onPropertiesUpdated&&e.props.onPropertiesUpdated()},fullWidth:!0}),"Boolean"===n.getType()&&Object(L.jsxs)(d.a,{floatingLabelText:Object(L.jsx)(c.Trans,{id:"Default value"}),value:"true"===n.getValue()?"true":"false",onChange:function(t,r,a){n.setValue(a),e.forceUpdate(),e.props.onPropertiesUpdated&&e.props.onPropertiesUpdated()},fullWidth:!0,children:[Object(L.jsx)(b.a,{value:"true",primaryText:{id:"True (checked)"}}),Object(L.jsx)(b.a,{value:"false",primaryText:{id:"False (not checked)"}})]}),"Behavior"===n.getType()&&Object(L.jsx)(D.a,{project:e.props.project,objectType:e.props.behaviorObjectType||"",value:0===n.getExtraInfo().size()?"":n.getExtraInfo().at(0),onChange:function(t){var r=n.getExtraInfo();0===r.size()?r.push_back(t):r.set(0,t),e.forceUpdate(),e.props.onPropertiesUpdated&&e.props.onPropertiesUpdated()},disabled:!1}),"Color"===n.getType()&&Object(L.jsx)(A.a,{floatingLabelText:Object(L.jsx)(c.Trans,{id:"Default value"}),disableAlpha:!0,fullWidth:!0,color:n.getValue(),onChange:function(t){n.setValue(t),e.forceUpdate(),e.props.onPropertiesUpdated&&e.props.onPropertiesUpdated()}}),"Choice"===n.getType()&&Object(L.jsx)(d.a,{floatingLabelText:Object(L.jsx)(c.Trans,{id:"Default value"}),value:n.getValue(),onChange:function(t,r,a){n.setValue(a),e.forceUpdate(),e.props.onPropertiesUpdated&&e.props.onPropertiesUpdated()},fullWidth:!0,children:N(n).map((function(e,t){return Object(L.jsx)(b.a,{value:e,primaryText:e},t)}))})]}),"Choice"===n.getType()&&Object(L.jsx)(I.a,{extraInfo:N(n),setExtraInfo:e._setChoiceExtraInfo(n)}),Object(L.jsxs)(P.c,{noMargin:!0,children:[Object(L.jsx)(m.a,{commitOnBlur:!0,floatingLabelText:Object(L.jsx)(c.Trans,{id:"Short label"}),translatableHintText:{id:"Make the purpose of the property easy to understand"},floatingLabelFixed:!0,value:n.getLabel(),onChange:function(t){n.setLabel(t),e.forceUpdate()},fullWidth:!0}),Object(L.jsx)(F.c,{floatingLabelText:Object(L.jsx)(c.Trans,{id:"Group name"}),hintText:{id:"Leave it empty to use the default group"},fullWidth:!0,value:n.getGroup(),onChange:function(t){n.setGroup(t),e.forceUpdate(),e.props.onPropertiesUpdated&&e.props.onPropertiesUpdated()},dataSource:e._getPropertyGroupNames().map((function(e){return{text:e,value:e}})),openOnFocus:!0})]}),Object(L.jsx)(m.a,{commitOnBlur:!0,floatingLabelText:Object(L.jsx)(c.Trans,{id:"Description"}),translatableHintText:{id:"Optionally, explain the purpose of the property in more details"},floatingLabelFixed:!0,value:n.getDescription(),onChange:function(t){n.setDescription(t),e.forceUpdate()},fullWidth:!0})]})})]},a)})),0===t.getCount()?Object(L.jsx)(f.a,{children:Object(L.jsx)(c.Trans,{id:"No properties for this behavior. Add one to store data inside this behavior (for example: health, ammo, speed, etc...)"})}):null,Object(L.jsx)(l.a,{children:Object(L.jsx)(l.c,{justifyContent:"flex-end",expand:!0,children:Object(L.jsx)(j.a,{primary:!0,label:Object(L.jsx)(c.Trans,{id:"Add a property"}),onClick:e._addProperty,icon:Object(L.jsx)(S.a,{})})})})]})}})}}]),n}(u.Component)}).call(this,n(25))},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(34),a=n(9),o=n(17),i=n(303),s=n(2143),c=n(318),u=n(352),l=n(2144),d=n(2145),b=n(8);function p(e){var t=e.onApply,n=e.project,p=e.globalObjectsContainer,j=e.eventsFunctionsExtension,h=e.eventsBasedObject,f=e.onRenameProperty,g=o.useState("configuration"),m=Object(r.a)(g,2),O=m[0],v=m[1];return Object(b.jsxs)(i.c,{title:Object(b.jsx)(a.Trans,{id:"Edit {0}",values:{0:h.getName()}}),secondaryActions:[Object(b.jsx)(c.a,{helpPagePath:"/objects/events-based-objects"},"help")],actions:[Object(b.jsx)(i.a,{label:Object(b.jsx)(a.Trans,{id:"Apply"}),primary:!0,onClick:t},"Apply")],open:!0,onRequestClose:t,onApply:t,fullHeight:!0,flexBody:!0,fixedContent:Object(b.jsx)(u.a,{value:O,onChange:v,options:[{value:"configuration",label:Object(b.jsx)(a.Trans,{id:"Configuration"})},{value:"properties",label:Object(b.jsx)(a.Trans,{id:"Properties"})},{value:"children",label:Object(b.jsx)(a.Trans,{id:"Children"})}]}),children:["configuration"===O&&Object(b.jsx)(s.a,{eventsBasedObject:h}),"properties"===O&&Object(b.jsx)(l.a,{project:n,extension:j,eventsBasedObject:h,onRenameProperty:f}),"children"===O&&Object(b.jsx)(d.a,{project:n,globalObjectsContainer:p,eventsFunctionsExtension:j,eventsBasedObject:h})]})}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return p}));var r=n(9),a=(n(17),n(311)),o=n(324),i=n(385),s=n(312),c=n(297),u=n(60),l=n(314),d=n(8),b=e.gd;function p(e){var t=e.eventsBasedObject,n=Object(l.a)();return Object(d.jsxs)(c.a,{expand:!0,noMargin:!0,children:[Object(d.jsx)(s.a,{kind:"warning",children:Object(d.jsx)(r.Trans,{id:"The custom object editor is at a very early stage. A lot of features are missing or broken. Extensions written with it may no longer work in future GDevelop releases."})}),Object(d.jsx)(i.a,{identifier:"events-based-object-explanation",kind:"info",children:Object(d.jsx)(r.Trans,{id:"This is the configuration of your object. Make sure to choose a proper internal name as it's hard to change it later. Enter a description explaining how the object works."})}),Object(d.jsx)(a.b,{floatingLabelText:Object(d.jsx)(r.Trans,{id:"Internal Name"}),value:t.getName(),disabled:!0,fullWidth:!0}),Object(d.jsx)(o.a,{commitOnBlur:!0,floatingLabelText:Object(d.jsx)(r.Trans,{id:"Name displayed in editor"}),value:t.getFullName(),onChange:function(e){t.setFullName(e),n()},fullWidth:!0}),Object(d.jsx)(o.a,{commitOnBlur:!0,floatingLabelText:Object(d.jsx)(r.Trans,{id:"Description"}),floatingLabelFixed:!0,translatableHintText:{id:"The description of the object should explain what the object is doing, and, briefly, how to use it."},value:t.getDescription(),onChange:function(e){t.setDescription(e),n()},multiline:!0,fullWidth:!0,rows:3}),Object(d.jsx)(r.I18n,{children:function(e){var a=e.i18n;return Object(d.jsx)(o.a,{commitOnBlur:!0,floatingLabelText:Object(d.jsx)(r.Trans,{id:"Default name for created objects"}),value:t.getDefaultName()||t.getName(),onChange:function(e){b.Project.validateName(e)?(t.setDefaultName(e),n()):Object(u.c)(a._({id:"This name is invalid. Only use alphanumeric characters (0-9, a-z) and underscores. Digits are not allowed as the first character."}),{delayToNextTick:!0})},fullWidth:!0})}}),0===t.getEventsFunctions().getEventsFunctionsCount()&&Object(d.jsx)(i.a,{identifier:"empty-events-based-object-explanation",kind:"info",children:Object(d.jsx)(r.Trans,{id:"Once you're done, close this dialog and start adding some functions to the object. Then, test the object by adding to a scene."})})]})}}).call(this,n(25))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return N}));var r=n(19),a=n(6),o=n(5),i=n(10),s=n(11),c=n(9),u=n(17),l=n(295),d=n(322),b=n(321),p=n(307),j=n(305),h=n(310),f=n(316),g=n(350),m=n(324),O=n(400),v=n(60),x=n(95),y=n(425),C=n(403),k=n.n(C),w=n(397),T=n.n(w),E=n(328),S=n.n(E),P=n(297),I=n(828),A=n(410),D=n(374),F=n(405),M=n(8),_=e.gd,L={propertiesContainer:{flex:1}},R=function(e){return e.getExtraInfo().toJSArray()},N=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(a.a)(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i)))._addProperty=function(){var t=e.props.eventsBasedObject.getPropertyDescriptors(),n=Object(x.a)("Property",(function(e){return t.has(e)}));t.insertNew(n,t.getCount()).setType("Number"),e.forceUpdate(),e.props.onPropertiesUpdated&&e.props.onPropertiesUpdated()},e._removeProperty=function(t){e.props.eventsBasedObject.getPropertyDescriptors().remove(t),e.forceUpdate(),e.props.onPropertiesUpdated&&e.props.onPropertiesUpdated()},e._moveProperty=function(t,n){e.props.eventsBasedObject.getPropertyDescriptors().move(t,n),e.forceUpdate(),e.props.onPropertiesUpdated&&e.props.onPropertiesUpdated()},e._setChoiceExtraInfo=function(t){return function(n){var r=R(t).indexOf(t.getValue()),a=new _.VectorString;n.forEach((function(e){return a.push_back(e)})),t.setExtraInfo(a),a.delete(),t.setValue(n[r]||""),e.forceUpdate()}},e._getPropertyGroupNames=function(){for(var t=e.props.eventsBasedObject.getPropertyDescriptors(),n=new Set,a=0;a<t.size();a++){var o=t.at(a).getGroup()||"";n.add(o)}return Object(r.a)(n).sort((function(e,t){return e.localeCompare(t)}))},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.props.eventsBasedObject.getPropertyDescriptors();return Object(M.jsx)(c.I18n,{children:function(n){var r=n.i18n;return Object(M.jsx)(l.a,{noMargin:!0,expand:!0,children:Object(M.jsx)(l.c,{noMargin:!0,children:Object(M.jsxs)("div",{style:L.propertiesContainer,children:[Object(p.mapVector)(t,(function(n,a){return Object(M.jsxs)(u.Fragment,{children:[Object(M.jsxs)(O.b,{noPadding:!0,children:[Object(M.jsx)(l.a,{expand:!0,noMargin:!0,children:Object(M.jsx)(m.a,{margin:"none",commitOnBlur:!0,translatableHintText:{id:"Enter the property name"},value:n.getName(),onChange:function(a){a!==n.getName()&&function(e,t,n){return n?"name"===n||"type"===n?(Object(v.c)(e._({id:'The name of a property cannot be "name" or "type", as they are used by GDevelop internally.'}),{delayToNextTick:!0}),!1):t.has(n)?(Object(v.c)(e._({id:"This name is already used by another property. Choose a unique name for each property."}),{delayToNextTick:!0}),!1):!!_.Project.validateName(n)||(Object(v.c)(e._({id:"This name is invalid. Only use alphanumeric characters (0-9, a-z) and underscores. Digits are not allowed as the first character."}),{delayToNextTick:!0}),!1):(Object(v.c)(e._({id:"The name of a property cannot be empty."}),{delayToNextTick:!0}),!1)}(r,t,a)&&(e.props.onRenameProperty(n.getName(),a),n.setName(a),e.forceUpdate(),e.props.onPropertiesUpdated&&e.props.onPropertiesUpdated())},fullWidth:!0})}),Object(M.jsx)(y.a,{label:n.isHidden()?Object(M.jsx)(c.Trans,{id:"Hidden"}):Object(M.jsx)(c.Trans,{id:"Visible in editor"}),checked:!n.isHidden(),onCheck:function(t,r){n.setHidden(!r),e.forceUpdate(),e.props.onPropertiesUpdated&&e.props.onPropertiesUpdated()},checkedIcon:Object(M.jsx)(k.a,{}),uncheckedIcon:Object(M.jsx)(T.a,{})}),Object(M.jsx)(g.a,{element:Object(M.jsx)(h.a,{children:Object(M.jsx)(F.a,{})}),buildMenuTemplate:function(r){return[{label:r._({id:"Delete"}),click:function(){return e._removeProperty(n.getName())}},{type:"separator"},{label:r._({id:"Move up"}),click:function(){return e._moveProperty(a,a-1)},enabled:a-1>=0},{label:r._({id:"Move down"}),click:function(){return e._moveProperty(a,a+1)},enabled:a+1<t.getCount()},{label:r._({id:"Generate expression and action"}),click:function(){return _.PropertyFunctionGenerator.generateObjectGetterAndSetter(e.props.project,e.props.extension,e.props.eventsBasedObject,n)},enabled:_.PropertyFunctionGenerator.canGenerateGetterAndSetter(e.props.eventsBasedObject,n)}]}})]}),Object(M.jsx)(l.c,{children:Object(M.jsxs)(P.a,{expand:!0,noMargin:!0,children:[Object(M.jsxs)(P.c,{noMargin:!0,children:[Object(M.jsxs)(d.a,{floatingLabelText:Object(M.jsx)(c.Trans,{id:"Type"}),value:n.getType(),onChange:function(t,r,a){n.setType(a),e.forceUpdate(),e.props.onPropertiesUpdated&&e.props.onPropertiesUpdated()},fullWidth:!0,children:[Object(M.jsx)(b.a,{value:"Number",primaryText:{id:"Number"}}),Object(M.jsx)(b.a,{value:"String",primaryText:{id:"String"}}),Object(M.jsx)(b.a,{value:"Boolean",primaryText:{id:"Boolean (checkbox)"}}),Object(M.jsx)(b.a,{value:"Choice",primaryText:{id:"String from a list of options (text)"}}),Object(M.jsx)(b.a,{value:"Color",primaryText:{id:"Color (text)"}})]}),("String"===n.getType()||"Number"===n.getType())&&Object(M.jsx)(m.a,{commitOnBlur:!0,floatingLabelText:Object(M.jsx)(c.Trans,{id:"Default value"}),hintText:"Number"===n.getType()?"123":"ABC",value:n.getValue(),onChange:function(t){n.setValue(t),e.forceUpdate(),e.props.onPropertiesUpdated&&e.props.onPropertiesUpdated()},fullWidth:!0}),"Boolean"===n.getType()&&Object(M.jsxs)(d.a,{floatingLabelText:Object(M.jsx)(c.Trans,{id:"Default value"}),value:"true"===n.getValue()?"true":"false",onChange:function(t,r,a){n.setValue(a),e.forceUpdate(),e.props.onPropertiesUpdated&&e.props.onPropertiesUpdated()},fullWidth:!0,children:[Object(M.jsx)(b.a,{value:"true",primaryText:{id:"True (checked)"}}),Object(M.jsx)(b.a,{value:"false",primaryText:{id:"False (not checked)"}})]}),"Choice"===n.getType()&&Object(M.jsx)(d.a,{floatingLabelText:Object(M.jsx)(c.Trans,{id:"Default value"}),value:n.getValue(),onChange:function(t,r,a){n.setValue(a),e.forceUpdate(),e.props.onPropertiesUpdated&&e.props.onPropertiesUpdated()},fullWidth:!0,children:R(n).map((function(e,t){return Object(M.jsx)(b.a,{value:e,primaryText:e},t)}))})]}),"Choice"===n.getType()&&Object(M.jsx)(I.a,{extraInfo:R(n),setExtraInfo:e._setChoiceExtraInfo(n)}),"Color"===n.getType()&&Object(M.jsx)(A.a,{floatingLabelText:Object(M.jsx)(c.Trans,{id:"Color"}),disableAlpha:!0,fullWidth:!0,color:n.getValue(),onChange:function(t){n.setValue(t),e.forceUpdate(),e.props.onPropertiesUpdated&&e.props.onPropertiesUpdated()}}),Object(M.jsxs)(P.c,{noMargin:!0,children:[Object(M.jsx)(m.a,{commitOnBlur:!0,floatingLabelText:Object(M.jsx)(c.Trans,{id:"Short label"}),translatableHintText:{id:"Make the purpose of the property easy to understand"},floatingLabelFixed:!0,value:n.getLabel(),onChange:function(t){n.setLabel(t),e.forceUpdate()},fullWidth:!0}),Object(M.jsx)(D.c,{floatingLabelText:Object(M.jsx)(c.Trans,{id:"Group name"}),hintText:{id:"Leave it empty to use the default group"},fullWidth:!0,value:n.getGroup(),onChange:function(t){n.setGroup(t),e.forceUpdate(),e.props.onPropertiesUpdated&&e.props.onPropertiesUpdated()},dataSource:e._getPropertyGroupNames().map((function(e){return{text:e,value:e}})),openOnFocus:!0})]}),Object(M.jsx)(m.a,{commitOnBlur:!0,floatingLabelText:Object(M.jsx)(c.Trans,{id:"Description"}),translatableHintText:{id:"Optionally, explain the purpose of the property in more details"},floatingLabelFixed:!0,value:n.getDescription(),onChange:function(t){n.setDescription(t),e.forceUpdate()},fullWidth:!0})]})})]},a)})),0===t.getCount()?Object(M.jsx)(f.a,{children:Object(M.jsx)(c.Trans,{id:"No properties for this object. Add one to store data inside this object (for example: health, ammo, speed, etc...)"})}):null,Object(M.jsx)(l.a,{children:Object(M.jsx)(l.c,{justifyContent:"flex-end",expand:!0,children:Object(M.jsx)(j.a,{primary:!0,label:Object(M.jsx)(c.Trans,{id:"Add a property"}),onClick:e._addProperty,icon:Object(M.jsx)(S.a,{})})})})]})})})}})}}]),n}(u.Component)}).call(this,n(25))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return x}));var r=n(2),a=n(6),o=n(5),i=n(10),s=n(11),c=n(0),u=n.n(c),l=n(9),d=n(17),b=n(295),p=n(860),j=n(378),h=n(60),f=n(26),g=n(1216),m=n(690),O=n(8),v=e.gd,x=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={editedObjectWithContext:null,editedObjectInitialTab:"properties",selectedObjectsWithContext:[],renamedObjectWithContext:null},e._onDeleteObject=function(t){return function(n,r){var a=n.object,o=e.props,i=o.project,s=o.globalObjectsContainer,c=o.eventsBasedObject,u=f.b.showYesNoCancelDialog(t._({id:"Do you want to remove all references to this object in groups and events (actions and conditions using the object)?"}));if("cancel"!==u){var l="yes"===u;v.WholeProjectRefactorer.objectOrGroupRemovedInEventsBasedObject(i,c,s,c,a.getName(),!1,l),r(!0)}}},e._canObjectOrGroupUseNewName=function(t,n){var r=e.props.eventsBasedObject;return r.hasObjectNamed(t)||r.getObjectGroups().has(t)?(Object(h.c)(n._({id:"Another object or group with this name already exists."}),{delayToNextTick:!0}),!1):!!v.Project.validateName(t)||(Object(h.c)(n._({id:"This name is invalid. Only use alphanumeric characters (0-9, a-z) and underscores. Digits are not allowed as the first character."}),{delayToNextTick:!0}),!1)},e._onRenameObjectStart=function(t){var n=[];t&&n.push(t),e.setState({renamedObjectWithContext:t,selectedObjectsWithContext:n},(function(){e.forceUpdateObjectsList()}))},e._onRenameEditedObject=function(t,n){var r=e.state.editedObjectWithContext;r&&e._onRenameObject(r,t,(function(){}),n)},e._onRenameObject=function(t,n,r,a){if("Object"!==n){var o=t.object,i=e.props,s=i.project,c=i.globalObjectsContainer,u=i.eventsBasedObject;o.getName()!==n&&v.WholeProjectRefactorer.objectOrGroupRenamedInEventsBasedObject(s,c,u,o.getName(),n,!1),o.setName(n),r(!0)}else Object(h.c)(a._({id:'"Object" is a reserved name, used for the parent object in the events (actions, conditions, expressions...). Please choose another name.'}),{delayToNextTick:!0})},e.editObject=function(t,n){t?e.setState({editedObjectWithContext:{object:t,global:!1},editedObjectInitialTab:n||"properties"}):e.setState({editedObjectWithContext:null,editedObjectInitialTab:"properties"})},e._onObjectSelected=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=[];t&&n.push(t),e.setState({selectedObjectsWithContext:n},(function(){e.forceUpdateObjectsList()}))},e.updateBehaviorsSharedData=function(){},e.forceUpdateObjectsList=function(){e._objectsList&&e._objectsList.forceUpdateList()},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.eventsBasedObject,a=t.project,o=t.eventsFunctionsExtension,i=this.state.selectedObjectsWithContext.map((function(e){return e.object.getName()}));return Object(O.jsx)(l.I18n,{children:function(t){var s=t.i18n;return Object(O.jsxs)(d.Fragment,{children:[Object(O.jsx)(b.c,{expand:!0,useFullHeight:!0,children:Object(O.jsx)(p.a,{getThumbnail:j.a.getThumbnail.bind(j.a),project:a,objectsContainer:n,layout:null,resourceManagementProps:{resourceSources:[],resourceExternalEditors:[],onChooseResource:function(){var e=Object(r.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[]);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getStorageProvider:function(){return m.b},onFetchNewlyAddedResources:function(){var e=Object(r.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},selectedObjectNames:i,onEditObject:e.editObject,onExportObject:function(){},onDeleteObject:e._onDeleteObject(s),canRenameObject:function(t){return e._canObjectOrGroupUseNewName(t,s)},onObjectCreated:function(){},onObjectSelected:e._onObjectSelected,renamedObjectWithContext:e.state.renamedObjectWithContext,onRenameObjectStart:e._onRenameObjectStart,onRenameObjectFinish:function(t,n,r){return e._onRenameObject(t,n,r,s)},onAddObjectInstance:function(){},onObjectPasted:function(){return e.updateBehaviorsSharedData()},selectedObjectTags:[],onChangeSelectedObjectTags:function(e){},getAllObjectTags:function(){return[]},ref:function(t){return e._objectsList=t},unsavedChanges:null,hotReloadPreviewButtonProps:{hasPreviewsRunning:!1,launchProjectDataOnlyPreview:function(){},launchProjectWithLoadingScreenPreview:function(){}},canInstallPrivateAsset:function(){return!1}})}),e.state.editedObjectWithContext&&Object(O.jsx)(g.a,{open:!0,object:e.state.editedObjectWithContext.object,initialTab:e.state.editedObjectInitialTab,project:a,eventsFunctionsExtension:o,resourceManagementProps:{resourceSources:[],resourceExternalEditors:[],onChooseResource:function(){var e=Object(r.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[]);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getStorageProvider:function(){return m.b},onFetchNewlyAddedResources:function(){var e=Object(r.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},onComputeAllVariableNames:function(){return[]},onCancel:function(){e.editObject(null)},canRenameObject:function(t){return e._canObjectOrGroupUseNewName(t,s)},onRename:function(t){e._onRenameEditedObject(t,s)},onApply:function(){e.editObject(null),e.updateBehaviorsSharedData(),e.forceUpdateObjectsList()},hotReloadPreviewButtonProps:{hasPreviewsRunning:!1,launchProjectDataOnlyPreview:function(){},launchProjectWithLoadingScreenPreview:function(){}},onUpdateBehaviorsSharedData:function(){return e.updateBehaviorsSharedData()},openBehaviorEvents:function(){}})]})}})}}]),n}(d.Component)}).call(this,n(25))},,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="Object"},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(6),a=n(5),o=n(10),i=n(11),s=n(9),c=n(17),u=n(303),l=n(311),d=n(298),b=n(509),p=n(330),j=n(8),h=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={tagsString:e.props.tagsString},e._tagsField=c.createRef(),e._canEdit=function(){var t=e.state.tagsString,n=Object(b.c)(t);return!!e.props.tagsString||!!n.length},e._onEdit=function(t){e._canEdit()&&e.props.onEdit(t)},e}return Object(a.a)(n,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e._tagsField&&e._tagsField.current&&e._tagsField.current.focus()}),10)}},{key:"render",value:function(){var e=this,t=this.props,n=t.onCancel,r=t.onEdit,a=this.state.tagsString,o=Object(b.c)(a);return Object(j.jsx)(u.c,{title:Object(j.jsx)(s.Trans,{id:"Edit object tags"}),actions:[Object(j.jsx)(d.a,{label:Object(j.jsx)(s.Trans,{id:"Cancel"}),primary:!1,onClick:n},"close"),Object(j.jsx)(u.a,{label:this.props.tagsString&&!o.length?Object(j.jsx)(s.Trans,{id:"Remove all tags"}):Object(j.jsx)(s.Trans,{id:"Add/update {0} tag(s)",values:{0:o.length}}),primary:!0,onClick:function(){return e._onEdit(o)},disabled:!this._canEdit()},"add")],onRequestClose:n,onApply:function(){return e._onEdit(o)},open:!0,children:Object(j.jsx)(l.b,{fullWidth:!0,value:a,onChange:function(t,n){return e.setState({tagsString:n})},floatingLabelText:"Tag(s) (comma-separated)",translatableHintText:{id:"For example: player, spaceship, inventory..."},onKeyPress:function(e){Object(p.g)(e)&&r(o)},ref:this._tagsField})})}}]),n}(c.Component)},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return E}));var r=n(6),a=n(5),o=n(10),i=n(11),s=n(3),c=n(9),u=n(17),l=n(340),d=n(295),b=n(517),p=n(400),j=n(387),h=n(320),f=n(324),g=n(2591),m=n(2578),O=n(2593),v=n(2157),x=n(2158),y=n(2159),C=n(8),k=e.gd,w={marginRight:10},T={sizeTextField:Object(s.a)({width:90},w),resourcesSelector:{alignSelf:"center"},toolbarItem:w,checkbox:w},E=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.objectConfiguration,r=t.project,a=t.resourceManagementProps,o=k.asTextObjectConfiguration(n),i=o.getTextAlignment();return Object(C.jsxs)(d.a,{noMargin:!0,children:[Object(C.jsxs)(p.b,{children:[Object(C.jsx)(p.a,{firstChild:!0,children:Object(C.jsx)(c.Trans,{id:"Size:"})}),Object(C.jsx)(f.a,{commitOnBlur:!0,id:"text-object-font-size",type:"number",margin:"none",style:T.sizeTextField,value:o.getCharacterSize(),onChange:function(t){o.setCharacterSize(parseInt(t,10)||0),e.forceUpdate()}}),Object(C.jsx)(p.a,{children:Object(C.jsx)(c.Trans,{id:"Color:"})}),Object(C.jsx)(b.a,{style:T.toolbarItem,disableAlpha:!0,color:{r:o.getColorR(),g:o.getColorG(),b:o.getColorB(),a:255},onChangeComplete:function(t){o.setColor(t.rgb.r,t.rgb.g,t.rgb.b),e.forceUpdate()}}),Object(C.jsx)(l.a,{label:Object(C.jsx)(c.Trans,{id:"Bold"}),checked:o.isBold(),onCheck:function(t,n){o.setBold(n),e.forceUpdate()},style:T.checkbox}),Object(C.jsx)(l.a,{label:Object(C.jsx)(c.Trans,{id:"Italic"}),checked:o.isItalic(),onCheck:function(t,n){o.setItalic(n),e.forceUpdate()},style:T.checkbox}),Object(C.jsxs)(g.a,{size:"small",children:[Object(C.jsx)(O.a,{title:Object(C.jsx)(c.Trans,{id:"Align text on the left"}),children:Object(C.jsx)(m.a,{variant:"left"===i?"contained":"outlined",color:"left"===i?"secondary":"default",onClick:function(){o.setTextAlignment("left"),e.forceUpdate()},children:Object(C.jsx)(v.a,{})})}),Object(C.jsx)(O.a,{title:Object(C.jsx)(c.Trans,{id:"Align text on the center"}),children:Object(C.jsx)(m.a,{variant:"center"===i?"contained":"outlined",color:"center"===i?"secondary":"default",onClick:function(){o.setTextAlignment("center"),e.forceUpdate()},children:Object(C.jsx)(x.a,{})})}),Object(C.jsx)(O.a,{title:Object(C.jsx)(c.Trans,{id:"Align text on the right"}),children:Object(C.jsx)(m.a,{variant:"right"===i?"contained":"outlined",color:"right"===i?"secondary":"default",onClick:function(){o.setTextAlignment("right"),e.forceUpdate()},children:Object(C.jsx)(y.a,{})})})]})]}),Object(C.jsx)(d.c,{children:Object(C.jsx)(d.a,{expand:!0,children:Object(C.jsx)(j.a,{project:r,resourceManagementProps:a,resourcesLoader:h.a,resourceKind:"font",fullWidth:!0,canBeReset:!0,initialResourceName:o.getFontName(),onChange:function(t){o.setFontName(t),e.forceUpdate()},floatingLabelText:Object(C.jsx)(c.Trans,{id:"Choose a font"}),hintText:Object(C.jsx)(c.Trans,{id:"Choose a font"})})})}),Object(C.jsx)(d.c,{noMargin:!0,children:Object(C.jsx)(d.a,{expand:!0,children:Object(C.jsx)(d.c,{children:Object(C.jsx)(f.a,{floatingLabelText:Object(C.jsx)(c.Trans,{id:"Initial text to display"}),floatingLabelFixed:!0,id:"text-object-initial-text",commitOnBlur:!0,translatableHintText:{id:"Enter the text to be displayed by the object"},fullWidth:!0,multiline:!0,rows:8,rowsMax:8,value:o.getString(),onChange:function(t){o.setString(t),e.forceUpdate(),e.props.onSizeUpdated()}})})})})]})}}]),n}(u.Component)}).call(this,n(25))},function(e,t,n){"use strict";var r=n(3),a=n(17),o=n.n(a),i=n(905),s=n(8);t.a=o.a.memo((function(e){return Object(s.jsxs)(i.a,Object(r.a)(Object(r.a)({},e),{},{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:[Object(s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.5 6.66667C3.5 6.39052 3.72386 6.16667 4 6.16667H11.3333C11.6095 6.16667 11.8333 6.39052 11.8333 6.66667C11.8333 6.94281 11.6095 7.16667 11.3333 7.16667H4C3.72386 7.16667 3.5 6.94281 3.5 6.66667Z",fill:"currentColor"}),Object(s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.5 4C3.5 3.72386 3.72386 3.5 4 3.5H13.3333C13.6095 3.5 13.8333 3.72386 13.8333 4C13.8333 4.27614 13.6095 4.5 13.3333 4.5H4C3.72386 4.5 3.5 4.27614 3.5 4Z",fill:"currentColor"}),Object(s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.5 9.33333C3.5 9.05719 3.72386 8.83333 4 8.83333H13.3333C13.6095 8.83333 13.8333 9.05719 13.8333 9.33333C13.8333 9.60948 13.6095 9.83333 13.3333 9.83333H4C3.72386 9.83333 3.5 9.60948 3.5 9.33333Z",fill:"currentColor"}),Object(s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.5 12C3.5 11.7239 3.72386 11.5 4 11.5H11.3333C11.6095 11.5 11.8333 11.7239 11.8333 12C11.8333 12.2761 11.6095 12.5 11.3333 12.5H4C3.72386 12.5 3.5 12.2761 3.5 12Z",fill:"currentColor"})]}))}))},function(e,t,n){"use strict";var r=n(3),a=n(17),o=n.n(a),i=n(905),s=n(8);t.a=o.a.memo((function(e){return Object(s.jsxs)(i.a,Object(r.a)(Object(r.a)({},e),{},{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:[Object(s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.5 6.66667C5.5 6.39052 5.72386 6.16667 6 6.16667H11.3333C11.6095 6.16667 11.8333 6.39052 11.8333 6.66667C11.8333 6.94281 11.6095 7.16667 11.3333 7.16667H6C5.72386 7.16667 5.5 6.94281 5.5 6.66667Z",fill:"currentColor"}),Object(s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.5 4C3.5 3.72386 3.72386 3.5 4 3.5H13.3333C13.6095 3.5 13.8333 3.72386 13.8333 4C13.8333 4.27614 13.6095 4.5 13.3333 4.5H4C3.72386 4.5 3.5 4.27614 3.5 4Z",fill:"currentColor"}),Object(s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.5 9.33333C3.5 9.05719 3.72386 8.83333 4 8.83333H13.3333C13.6095 8.83333 13.8333 9.05719 13.8333 9.33333C13.8333 9.60948 13.6095 9.83333 13.3333 9.83333H4C3.72386 9.83333 3.5 9.60948 3.5 9.33333Z",fill:"currentColor"}),Object(s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.5 12C5.5 11.7239 5.72386 11.5 6 11.5H11.3333C11.6095 11.5 11.8333 11.7239 11.8333 12C11.8333 12.2761 11.6095 12.5 11.3333 12.5H6C5.72386 12.5 5.5 12.2761 5.5 12Z",fill:"currentColor"})]}))}))},function(e,t,n){"use strict";var r=n(3),a=n(17),o=n.n(a),i=n(905),s=n(8);t.a=o.a.memo((function(e){return Object(s.jsxs)(i.a,Object(r.a)(Object(r.a)({},e),{},{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:[Object(s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.5 6.66667C5.5 6.39052 5.72386 6.16667 6 6.16667H13.3333C13.6095 6.16667 13.8333 6.39052 13.8333 6.66667C13.8333 6.94281 13.6095 7.16667 13.3333 7.16667H6C5.72386 7.16667 5.5 6.94281 5.5 6.66667Z",fill:"currentColor"}),Object(s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.5 4C3.5 3.72386 3.72386 3.5 4 3.5H13.3333C13.6095 3.5 13.8333 3.72386 13.8333 4C13.8333 4.27614 13.6095 4.5 13.3333 4.5H4C3.72386 4.5 3.5 4.27614 3.5 4Z",fill:"currentColor"}),Object(s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.5 9.33333C3.5 9.05719 3.72386 8.83333 4 8.83333H13.3333C13.6095 8.83333 13.8333 9.05719 13.8333 9.33333C13.8333 9.60948 13.6095 9.83333 13.3333 9.83333H4C3.72386 9.83333 3.5 9.60948 3.5 9.33333Z",fill:"currentColor"}),Object(s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.5 12C5.5 11.7239 5.72386 11.5 6 11.5H13.3333C13.6095 11.5 13.8333 11.7239 13.8333 12C13.8333 12.2761 13.6095 12.5 13.3333 12.5H6C5.72386 12.5 5.5 12.2761 5.5 12Z",fill:"currentColor"})]}))}))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return j}));var r=n(6),a=n(5),o=n(10),i=n(11),s=n(9),c=n(17),u=n(324),l=n(592),d=n(297),b=n(8),p=e.gd,j=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.objectConfiguration,r=t.project,a=t.resourceManagementProps,o=p.asTiledSpriteConfiguration(n);return Object(b.jsxs)(d.a,{noMargin:!0,children:[Object(b.jsx)(l.a,{project:r,resourceManagementProps:a,resourceKind:"image",resourceName:o.getTexture(),onChange:function(t){o.setTexture(t),e.forceUpdate()},floatingLabelText:Object(b.jsx)(s.Trans,{id:"Select an image"})}),Object(b.jsxs)(d.c,{noMargin:!0,children:[Object(b.jsx)(u.a,{commitOnBlur:!0,floatingLabelText:Object(b.jsx)(s.Trans,{id:"Default width (in pixels)"}),fullWidth:!0,type:"number",value:o.getWidth(),onChange:function(t){o.setWidth(parseInt(t,10)||0),e.forceUpdate()}}),Object(b.jsx)(u.a,{commitOnBlur:!0,floatingLabelText:Object(b.jsx)(s.Trans,{id:"Default height (in pixels)"}),fullWidth:!0,type:"number",value:o.getHeight(),onChange:function(t){o.setHeight(parseInt(t,10)||0),e.forceUpdate()}})]})]})}}]),n}(c.Component)}).call(this,n(25))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return h}));var r=n(6),a=n(5),o=n(10),i=n(11),s=n(9),c=n(17),u=n(340),l=n(592),d=n(324),b=n(297),p=n(8),j=e.gd,h=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.objectConfiguration,r=t.project,a=t.resourceManagementProps,o=j.asPanelSpriteConfiguration(n);return Object(p.jsxs)(b.a,{noMargin:!0,children:[Object(p.jsx)(l.a,{project:r,resourceManagementProps:a,resourceKind:"image",resourceName:o.getTexture(),onChange:function(t){o.setTexture(t),e.forceUpdate()},floatingLabelText:Object(p.jsx)(s.Trans,{id:"Select an image"})}),Object(p.jsx)(u.a,{label:Object(p.jsx)(s.Trans,{id:"Repeat borders and center textures (instead of stretching them)"}),checked:o.isTiled(),onCheck:function(t,n){o.setTiled(n),e.forceUpdate()}}),Object(p.jsxs)(b.c,{noMargin:!0,children:[Object(p.jsx)(d.a,{commitOnBlur:!0,floatingLabelText:Object(p.jsx)(s.Trans,{id:"Top margin"}),fullWidth:!0,type:"number",value:o.getTopMargin(),onChange:function(t){o.setTopMargin(parseInt(t,10)||0),e.forceUpdate()}}),Object(p.jsx)(d.a,{commitOnBlur:!0,floatingLabelText:Object(p.jsx)(s.Trans,{id:"Bottom margin"}),fullWidth:!0,type:"number",value:o.getBottomMargin(),onChange:function(t){o.setBottomMargin(parseInt(t,10)||0),e.forceUpdate()}})]}),Object(p.jsxs)(b.c,{noMargin:!0,children:[Object(p.jsx)(d.a,{commitOnBlur:!0,floatingLabelText:Object(p.jsx)(s.Trans,{id:"Left margin"}),fullWidth:!0,type:"number",value:o.getLeftMargin(),onChange:function(t){o.setLeftMargin(parseInt(t,10)||0),e.forceUpdate()}}),Object(p.jsx)(d.a,{commitOnBlur:!0,floatingLabelText:Object(p.jsx)(s.Trans,{id:"Right margin"}),fullWidth:!0,type:"number",value:o.getRightMargin(),onChange:function(t){o.setRightMargin(parseInt(t,10)||0),e.forceUpdate()}})]}),Object(p.jsxs)(b.c,{noMargin:!0,children:[Object(p.jsx)(d.a,{commitOnBlur:!0,floatingLabelText:Object(p.jsx)(s.Trans,{id:"Default width (in pixels)"}),fullWidth:!0,type:"number",value:o.getWidth(),onChange:function(t){o.setWidth(parseInt(t,10)||0),e.forceUpdate()}}),Object(p.jsx)(d.a,{commitOnBlur:!0,floatingLabelText:Object(p.jsx)(s.Trans,{id:"Default height (in pixels)"}),fullWidth:!0,type:"number",value:o.getHeight(),onChange:function(t){o.setHeight(parseInt(t,10)||0),e.forceUpdate()}})]})]})}}]),n}(c.Component)}).call(this,n(25))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return X})),n.d(t,"b",(function(){return J}));var r=n(34),a=n(1),o=n(3),i=n(6),s=n(5),c=n(10),u=n(11),l=n(9),d=n(17),b=n(734),p=n(2163),j=n(328),h=n.n(j),f=n(395),g=n.n(f),m=n(310),O=n(298),v=n(305),x=n(307),y=n(324),C=n(296),k=n(303),w=n(318),T=n(400),E=n(556),S=n(497),P=n(60),I=n(320),A=n(2165),D=n(2169),F=n(26),M=n(486),_=n(295),L=n(297),R=n(331),N=n(340),B=n(314),U=n(475),H=n(2173),W=n(8),z=e.gd,V={animationLine:{marginBottom:16}},G=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.animation,n=e.id,r=e.project,a=e.onRemove,o=e.resourceManagementProps,i=e.resourcesLoader,s=e.onSpriteContextMenu,c=e.selectedSprites,u=e.onSelectSprite,d=e.onReplaceDirection,b=e.objectName,j=e.onChangeName,h=e.isAnimationListLocked,f=e.onSpriteUpdated,O=t.getName();return Object(W.jsx)("div",{style:V.animationLine,children:Object(W.jsxs)(_.a,{expand:!0,noMargin:!0,children:[h&&Object(W.jsx)(_.a,{expand:!0,noMargin:!0,children:Object(W.jsx)(C.a,{size:"block-title",children:t.getName()})}),!h&&Object(W.jsxs)(T.b,{noPadding:!0,children:[Object(W.jsx)(E.b,{}),Object(W.jsx)(T.a,{children:Object(W.jsx)(l.Trans,{id:"Animation #{id}",values:{id:n}})}),Object(W.jsx)(_.a,{expand:!0,children:Object(W.jsx)(y.a,{commitOnBlur:!0,margin:"none",value:t.getName(),translatableHintText:{id:"Optional animation name"},onChange:function(e){return j(e)},fullWidth:!0})}),Object(W.jsx)(m.a,{size:"small",onClick:a,children:Object(W.jsx)(g.a,{})})]}),Object(x.mapFor)(0,t.getDirectionsCount(),(function(e){var n=t.getDirection(e);return Object(W.jsx)(p.a,{direction:n,project:r,resourcesLoader:i,resourceManagementProps:o,onSpriteContextMenu:s,selectedSprites:c,onSelectSprite:u,onReplaceByDirection:function(t){return d(e,t)},objectName:b,animationName:O,onChangeName:j,onSpriteUpdated:f},e)}))]})})}}]),n}(d.Component),Z=Object(b.SortableElement)(G),Y=Object(b.SortableContainer)((function(e){var t=e.spriteConfiguration,n=e.objectName,r=(e.onAddAnimation,e.onRemoveAnimation),a=e.onChangeAnimationName,o=e.project,i=e.resourcesLoader,s=e.resourceManagementProps,c=(e.extraBottomTools,e.onSpriteContextMenu),u=e.selectedSprites,l=e.onSelectSprite,d=e.onReplaceDirection,b=e.isAnimationListLocked,p=e.onSpriteUpdated;return Object(W.jsx)(R.a,{children:Object(x.mapFor)(0,t.getAnimationsCount(),(function(e){var j=t.getAnimation(e);return Object(W.jsx)(Z,{isAnimationListLocked:b,index:e,id:e,animation:j,project:o,resourcesLoader:i,resourceManagementProps:s,onRemove:function(){return r(e)},onChangeName:function(t){return a(e,t)},onSpriteContextMenu:c,selectedSprites:u,onSelectSprite:l,onReplaceDirection:function(t,n){return d(e,t,n)},objectName:n,onSpriteUpdated:p},e)}))})})),q=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={selectedSprites:{}},e.onSortEnd=function(t){var n=t.oldIndex,r=t.newIndex;e.props.spriteConfiguration.moveAnimation(n,r),e.forceUpdate()},e.addAnimation=function(){var t=new z.Animation;t.setDirectionsCount(1),e.props.spriteConfiguration.addAnimation(t),t.delete(),e.forceUpdate(),e.props.onSizeUpdated(),e.props.onObjectUpdated&&e.props.onObjectUpdated()},e.removeAnimation=function(t){F.b.showConfirmDialog("Are you sure you want to remove this animation?")&&(e.props.spriteConfiguration.removeAnimation(t),e.forceUpdate(),e.props.onSizeUpdated(),e.props.onObjectUpdated&&e.props.onObjectUpdated())},e.changeAnimationName=function(t,n){var r=e.props.spriteConfiguration,a=r.getAnimation(t).getName();if(a!==n){var o=Object(x.mapFor)(0,r.getAnimationsCount(),(function(e){return e===t?void 0:a}));""!==n&&o.filter((function(e){return e===n})).length?Object(P.c)("Another animation with this name already exists. Please use another name.",{delayToNextTick:!0}):(r.getAnimation(t).setName(n),e.forceUpdate(),e.props.onObjectUpdated&&e.props.onObjectUpdated())}},e.deleteSelection=function(){var t=e.props.spriteConfiguration;Object(x.mapFor)(0,t.getAnimationsCount(),(function(n){var r=t.getAnimation(n);Object(M.i)(r,e.state.selectedSprites)})),e.setState({selectedSprites:{}}),e.props.onObjectUpdated&&e.props.onObjectUpdated()},e.duplicateSelection=function(){var t=e.props.spriteConfiguration;Object(x.mapFor)(0,t.getAnimationsCount(),(function(n){var r=t.getAnimation(n);Object(M.j)(r,e.state.selectedSprites)})),e.setState({selectedSprites:{}}),e.props.onObjectUpdated&&e.props.onObjectUpdated()},e.openSpriteContextMenu=function(t,n,r,a){e.selectSprite(r,!0),e.spriteContextMenu&&e.spriteContextMenu.open(t,n)},e.selectSprite=function(t,n){e.setState({selectedSprites:Object(o.a)(Object(o.a)({},e.state.selectedSprites),{},Object(a.a)({},t.ptr,n))})},e.replaceDirection=function(t,n,r){e.props.spriteConfiguration.getAnimation(t).setDirection(r,n),e.forceUpdate(),e.props.onObjectUpdated&&e.props.onObjectUpdated()},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this;return Object(W.jsx)(_.a,{noMargin:!0,expand:!0,useFullHeight:!0,children:0===this.props.spriteConfiguration.getAnimationsCount()?Object(W.jsx)(_.a,{noMargin:!0,expand:!0,justifyContent:"center",children:Object(W.jsx)(U.a,{title:Object(W.jsx)(l.Trans,{id:"Add your first animation"}),description:Object(W.jsx)(l.Trans,{id:"Animations are a sequence of images."}),actionLabel:Object(W.jsx)(l.Trans,{id:"Add an animation"}),helpPagePath:"/objects/sprite",tutorialId:"intermediate-changing-animations",onAction:this.addAnimation})}):Object(W.jsxs)(d.Fragment,{children:[Object(W.jsx)(H.a,{}),Object(W.jsx)(Y,{isAnimationListLocked:this.props.isAnimationListLocked,spriteConfiguration:this.props.spriteConfiguration,objectName:this.props.objectName,helperClass:"sortable-helper",project:this.props.project,onSortEnd:this.onSortEnd,onChangeAnimationName:this.changeAnimationName,onRemoveAnimation:this.removeAnimation,onReplaceDirection:this.replaceDirection,onSpriteContextMenu:this.openSpriteContextMenu,selectedSprites:this.state.selectedSprites,onSelectSprite:this.selectSprite,resourcesLoader:this.props.resourcesLoader,resourceManagementProps:this.props.resourceManagementProps,useDragHandle:!0,lockAxis:"y",axis:"y",onSpriteUpdated:this.props.onObjectUpdated}),Object(W.jsx)(_.a,{noMargin:!0,children:Object(W.jsxs)(L.c,{justifyContent:"space-between",noColumnMargin:!0,children:[this.props.extraBottomTools,!this.props.isAnimationListLocked&&Object(W.jsx)(v.a,{label:Object(W.jsx)(l.Trans,{id:"Add an animation"}),primary:!0,onClick:this.addAnimation,icon:Object(W.jsx)(h.a,{})})]})}),Object(W.jsx)(S.a,{ref:function(t){return e.spriteContextMenu=t},buildMenuTemplate:function(t){return[{label:t._({id:"Delete selection"}),click:function(){return e.deleteSelection()}},{label:t._({id:"Duplicate selection"}),click:function(){return e.duplicateSelection()}}]}})]})})}}]),n}(d.Component);function X(e){var t=e.objectConfiguration,n=e.project,r=e.resourceManagementProps,a=e.onSizeUpdated,o=e.onObjectUpdated,i=e.objectName;return Object(W.jsx)(J,{isAnimationListLocked:!0,objectConfiguration:t,project:n,resourceManagementProps:r,onSizeUpdated:a,onObjectUpdated:o,objectName:i})}function J(e){var t=e.objectConfiguration,n=e.project,a=e.resourceManagementProps,o=e.onSizeUpdated,i=e.onObjectUpdated,s=e.objectName,c=e.isAnimationListLocked,u=void 0!==c&&c,b=d.useState(!1),p=Object(r.a)(b,2),j=p[0],h=p[1],f=d.useState(!1),g=Object(r.a)(f,2),m=g[0],x=g[1],y=d.useState(!1),C=Object(r.a)(y,2),T=C[0],E=C[1],S=Object(B.a)(),P=z.asSpriteConfiguration(t);return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(q,{isAnimationListLocked:u,spriteConfiguration:P,resourcesLoader:I.a,resourceManagementProps:a,project:n,objectName:s,onSizeUpdated:o,onObjectUpdated:i,extraBottomTools:Object(W.jsxs)(L.c,{noMargin:!0,noColumnMargin:!0,children:[Object(W.jsx)(v.a,{label:Object(W.jsx)(l.Trans,{id:"Edit collision masks"}),primary:!1,onClick:function(){return E(!0)},disabled:0===P.getAnimationsCount()}),!u&&Object(W.jsx)(v.a,{label:Object(W.jsx)(l.Trans,{id:"Edit points"}),primary:!1,onClick:function(){return h(!0)},disabled:0===P.getAnimationsCount()}),!u&&Object(W.jsx)(O.a,{label:Object(W.jsx)(l.Trans,{id:"Advanced options"}),primary:!1,onClick:function(){return x(!0)},disabled:0===P.getAnimationsCount()})]})}),m&&Object(W.jsx)(k.c,{title:Object(W.jsx)(l.Trans,{id:"Advanced options"}),actions:[Object(W.jsx)(O.a,{label:Object(W.jsx)(l.Trans,{id:"Close"}),primary:!0,onClick:function(){return x(!1)}},"close")],maxWidth:"sm",flexBody:!0,onRequestClose:function(){return x(!1)},open:!0,children:Object(W.jsx)(_.a,{noMargin:!0,children:Object(W.jsx)(N.a,{label:Object(W.jsx)(l.Trans,{id:"Don't play the animation when the object is far from the camera or hidden (recommended for performance)"}),checked:!P.getUpdateIfNotVisible(),onCheck:function(e,t){P.setUpdateIfNotVisible(!t),S(),i&&i()}})})}),j&&Object(W.jsx)(k.c,{title:Object(W.jsx)(l.Trans,{id:"Edit points"}),actions:[Object(W.jsx)(O.a,{label:Object(W.jsx)(l.Trans,{id:"Close"}),primary:!0,onClick:function(){return h(!1)}},"close")],secondaryActions:[Object(W.jsx)(w.a,{helpPagePath:"/objects/sprite/edit-points"},"help")],onRequestClose:function(){return h(!1)},maxWidth:"lg",flexBody:!0,fullHeight:!0,open:j,children:Object(W.jsx)(A.a,{objectConfiguration:P,resourcesLoader:I.a,project:n,onPointsUpdated:i})}),T&&Object(W.jsx)(k.c,{title:Object(W.jsx)(l.Trans,{id:"Edit collision masks"}),actions:[Object(W.jsx)(O.a,{label:Object(W.jsx)(l.Trans,{id:"Close"}),primary:!0,onClick:function(){return E(!1)}},"close")],secondaryActions:[Object(W.jsx)(w.a,{helpPagePath:"/objects/sprite/collision-mask"},"help")],maxWidth:"lg",flexBody:!0,fullHeight:!0,onRequestClose:function(){return E(!1)},open:T,children:Object(W.jsx)(D.a,{objectConfiguration:P,resourcesLoader:I.a,project:n,onMasksUpdated:i})})]})}}).call(this,n(25))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return D}));var r=n(2),a=n(6),o=n(5),i=n(10),s=n(11),c=n(19),u=n(0),l=n.n(u),d=n(9),b=n(17),p=n(734),j=n(307),h=n(328),f=n.n(h),g=n(2164),m=n(400),O=n(1018),v=n(486),x=(n(320),n(354)),y=n(452),C=n(991),k=n(60),w=n(8),T=e.gd,E={spritesList:{whiteSpace:"nowrap",overflowY:"hidden"},thumbnailExtraStyle:{marginRight:10},spriteThumbnailImage:{maxWidth:100,maxHeight:100,verticalAlign:"middle"}},S=Object(p.SortableElement)((function(e){var t=e.onAdd,n=e.resourceManagementProps,r=n.getStorageProvider(),a=n.resourceSources.filter((function(e){return"image"===e.kind})).filter((function(e){var t=e.onlyForStorageProvider;return!t||t===r.internalName}));return Object(w.jsx)("div",{style:O.b,children:Object(w.jsx)(y.a,{onClick:function(){t(a[0])},label:Object(w.jsx)(d.Trans,{id:"Add a sprite"}),icon:Object(w.jsx)(f.a,{}),primary:!0,buildMenuTemplate:function(e){var r=n.getStorageProvider();return n.resourceSources.filter((function(e){return"image"===e.kind})).filter((function(e){var t=e.onlyForStorageProvider;return!t||t===r.internalName})).map((function(n){return{label:e._(n.displayName),click:function(){return t(n)}}}))}})})})),P=Object(p.SortableElement)((function(e){var t=e.sprite,n=e.project,r=e.resourcesLoader,a=e.selected,o=e.onSelect,i=e.onContextMenu;return Object(w.jsx)(O.a,{selectable:!0,selected:a,onSelect:o,onContextMenu:i,resourceName:t.getImageName(),resourcesLoader:r,project:n,style:E.thumbnailExtraStyle})})),I=Object(p.SortableContainer)((function(e){var t=e.direction,n=e.project,r=e.resourcesLoader,a=e.onAddSprite,o=e.resourceManagementProps,i=e.selectedSprites,s=e.onSelectSprite,u=e.onSpriteContextMenu,l=t.getSpritesCount();return Object(w.jsx)("div",{style:E.spritesList,children:[].concat(Object(c.a)(Object(j.mapFor)(0,l,(function(e){var a=t.getSprite(e);return Object(w.jsx)(P,{sprite:a,index:e,selected:!!i[a.ptr],onContextMenu:function(e,t){return u(e,t,a)},onSelect:function(e){return s(a,e)},resourcesLoader:r,project:n},a.ptr)}))),[0===l&&Object(w.jsx)(O.a,{project:n,resourceName:"",resourcesLoader:r,style:E.thumbnailExtraStyle},"empty"),Object(w.jsx)(S,{displayHint:!t.getSpritesCount(),disabled:!0,index:l,onAdd:a,resourceManagementProps:o},"add-sprite-button")])})})),A=function(e){var t=!1,n=!1;return 0!==e.getSpritesCount()&&(t=Object(v.b)(e.getSprite(0),e),n=Object(v.a)(e.getSprite(0),e)),{allDirectionSpritesHaveSamePoints:t,allDirectionSpritesHaveSameCollisionMasks:n}},D=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(a.a)(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={externalEditorOpened:!1},e.onSortEnd=function(t){var n=t.oldIndex,r=t.newIndex;e.props.direction.moveSprite(n,r),e.forceUpdate()},e.onAddSprite=function(){var t=Object(r.a)(l.a.mark((function t(n){var r,a,o,i,s,c,u,d;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.props,a=r.resourceManagementProps,o=r.project,i=r.direction,s=A(i),c=s.allDirectionSpritesHaveSameCollisionMasks,u=s.allDirectionSpritesHaveSamePoints,t.next=4,a.onChooseResource({initialSourceName:n.name,multiSelection:!0,resourceKind:"image"});case 4:return(d=t.sent).forEach((function(e){Object(x.a)(o,e),o.getResourcesManager().addResource(e);var t=new T.Sprite;t.setImageName(e.getName()),u&&Object(v.g)(i.getSprite(0),t),c&&Object(v.h)(i.getSprite(0),t),i.addSprite(t),t.delete()})),d.forEach((function(e){return e.delete()})),e.forceUpdate(),t.next=10,a.onFetchNewlyAddedResources();case 10:d.length&&e.props.onSpriteUpdated&&e.props.onSpriteUpdated();case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.editWith=function(){var t=Object(r.a)(l.a.mark((function t(n,r){var a,o,i,s,c,u,d,b,p,h,f,g,m,O,x,y,C,w;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props,o=a.project,i=a.resourceManagementProps,s=a.direction,c=a.resourcesLoader,u=a.onReplaceByDirection,d=a.onChangeName,b=a.objectName,p=a.animationName,h=Object(j.mapFor)(0,s.getSpritesCount(),(function(e){return s.getSprite(e).getImageName()})),f=A(s),g=f.allDirectionSpritesHaveSameCollisionMasks,m=f.allDirectionSpritesHaveSamePoints,t.prev=3,e.setState({externalEditorOpened:!0}),t.next=7,r.edit({project:o,i18n:n,getStorageProvider:i.getStorageProvider,resourceManagementProps:i,resourceNames:h,extraOptions:{singleFrame:!1,fps:s.getTimeBetweenFrames()>0?1/s.getTimeBetweenFrames():1,name:p||h[0]||b,isLooping:s.isLooping(),existingMetadata:s.getMetadata()}});case 7:if(O=t.sent,e.setState({externalEditorOpened:!1}),O){t.next=11;break}return t.abrupt("return");case 11:x=O.resources,y=O.newMetadata,C=O.newName,(w=new T.Direction).setTimeBetweenFrames(s.getTimeBetweenFrames()),w.setLoop(s.isLooping()),x.forEach((function(e){var t=new T.Sprite;if(t.setImageName(e.name),void 0!==e.originalIndex&&null!==e.originalIndex){var n=s.getSprite(e.originalIndex);Object(v.g)(n,t),Object(v.h)(n,t)}else m&&Object(v.g)(s.getSprite(0),t),g&&Object(v.h)(s.getSprite(0),t);w.addSprite(t),t.delete()})),y&&w.setMetadata(JSON.stringify(y)),c.burstUrlsCacheForResources(o,h),u(w),C&&d(C),w.delete(),e.props.onSpriteUpdated&&e.props.onSpriteUpdated(),t.next=29;break;case 24:t.prev=24,t.t0=t.catch(3),e.setState({externalEditorOpened:!1}),console.error("An exception was thrown when launching or reading resources from the external editor:",t.t0),Object(k.a)({message:"There was an error while using the external editor. Try with another resource and if this persists, please report this as a bug.",rawError:t.t0,errorId:"external-editor-error"});case 29:case"end":return t.stop()}}),t,null,[[3,24]])})));return function(e,n){return t.apply(this,arguments)}}(),e}return Object(o.a)(n,[{key:"render",value:function(){return Object(w.jsxs)("div",{children:[Object(w.jsx)(m.b,{justifyContent:"flex-end",children:Object(w.jsx)(g.a,{animationName:this.props.animationName,direction:this.props.direction,resourcesLoader:this.props.resourcesLoader,project:this.props.project,resourceExternalEditors:this.props.resourceManagementProps.resourceExternalEditors,onEditWith:this.editWith,onDirectionUpdated:this.props.onSpriteUpdated})}),Object(w.jsx)(I,{resourcesLoader:this.props.resourcesLoader,direction:this.props.direction,project:this.props.project,onSortEnd:this.onSortEnd,onAddSprite:this.onAddSprite,resourceManagementProps:this.props.resourceManagementProps,selectedSprites:this.props.selectedSprites,onSelectSprite:this.props.onSelectSprite,onSpriteContextMenu:this.props.onSpriteContextMenu,helperClass:"sortable-helper",lockAxis:"x",axis:"x"}),this.state.externalEditorOpened&&Object(w.jsx)(C.a,{})]})}}]),n}(b.Component)}).call(this,n(25))},function(e,t,n){"use strict";var r=n(34),a=n(17),o=n.n(a),i=n(9),s=n(856),c=n.n(s),u=n(386),l=n(340),d=n(749),b=n.n(d),p=n(1211),j=n.n(p),h=n(311),f=n(303),g=n(1210),m=(n(320),n(309)),O=n(533),v=n(314),x=n(8),y={container:{paddingLeft:12,paddingRight:12,display:"flex",alignItems:"center"},timeField:{width:75},timeIcon:{paddingLeft:6,paddingRight:6},spacer:{width:16}},C=function(e){return Number(e.toFixed(6))};t.a=function(e){var t=e.animationName,n=e.direction,a=e.resourcesLoader,s=e.project,d=e.resourceExternalEditors,p=e.onEditWith,k=e.onDirectionUpdated,w=Object(v.a)(),T=o.a.useState(C(n.getTimeBetweenFrames())),E=Object(r.a)(T,2),S=E[0],P=E[1],I=o.a.useState(!1),A=Object(r.a)(I,2),D=A[0],F=A[1];o.a.useEffect((function(){P(C(n.getTimeBetweenFrames()))}),[n]);var M=function(){var e=n.getTimeBetweenFrames(),t=Math.max(parseFloat(S),1e-5);e!==t&&(!isNaN(t)&&(n.setTimeBetweenFrames(t),P(C(t)),k&&k()))},_=function(e){F(e),e||M()},L=d.filter((function(e){return"image"===e.kind})),R=n.getSpritesCount();return Object(x.jsx)(i.I18n,{children:function(e){var r=e.i18n;return Object(x.jsxs)("div",{style:y.container,children:[Object(x.jsx)(m.a,{children:function(e){return!!L.length&&Object(x.jsx)(u.a,{label:r._("small"===e?R?{id:"Edit"}:{id:"Create"}:R?L[0].editDisplayName:L[0].createDisplayName),icon:Object(x.jsx)(b.a,{}),onClick:function(){return p(r,L[0])}})}}),Object(x.jsx)(u.a,{label:Object(x.jsx)(i.Trans,{id:"Preview"}),icon:Object(x.jsx)(j.a,{}),onClick:function(){return _(!0)}}),Object(x.jsx)(c.a,{style:y.timeIcon}),Object(x.jsx)(h.b,{value:S,onChange:function(e,t){return P(parseFloat(t)||0)},onBlur:function(){return M()},id:"direction-time-between-frames",margin:"none",style:y.timeField,type:"number",step:.005,precision:2,min:.01,max:5}),Object(x.jsx)("span",{style:y.spacer}),Object(x.jsx)(l.a,{checked:n.isLooping(),label:Object(x.jsx)(i.Trans,{id:"Loop"}),onCheck:function(e,t){return function(e){n.setLoop(!!e),w(),k&&k()}(t)}}),D&&Object(x.jsx)(f.c,{title:Object(x.jsx)(i.Trans,{id:"Preview {animationName}",values:{animationName:t}}),actions:[Object(x.jsx)(f.a,{label:Object(x.jsx)(i.Trans,{id:"Ok"}),primary:!0,onClick:function(){return _(!1)}},"ok")],onRequestClose:function(){return _(!1)},onApply:function(){return _(!1)},open:D,fullHeight:!0,flexBody:!0,children:Object(x.jsx)(g.a,{animationName:t,resourceNames:n.getSpriteNames().toJSArray(),getImageResourceSource:function(e){return a.getResourceFullUrl(s,e,{})},isImageResourceSmooth:function(e){return Object(O.b)(s,e)},timeBetweenFrames:S,onChangeTimeBetweenFrames:function(e){return P(e)},isLooping:n.isLooping(),hideAnimationLoader:!0})})]})}})}},function(e,t,n){"use strict";(function(e){var r=n(3),a=n(34),o=n(9),i=n(17),s=n.n(i),c=n(316),u=n(295),l=n(307),d=n(2166),b=n(2168),p=n(533),j=n(486),h=n(1218),f=n(26),g=n(821),m=n.n(g),O=(n(320),n(314)),v=n(531),x=n(309),y=n(331),C=n(327),k=n(8),w=e.gd,T={leftContainer:{display:"flex",overflow:"hidden",flexDirection:"column"},rightContainer:{display:"flex"}},E={direction:"row",first:"preview",second:"properties",splitPercentage:66.67},S={direction:"column",first:"preview",second:"properties",splitPercentage:50};t.a=function(e){var t=e.objectConfiguration,n=e.resourcesLoader,i=e.project,g=e.onPointsUpdated,P=s.a.useState(0),I=Object(a.a)(P,2),A=I[0],D=I[1],F=s.a.useState(0),M=Object(a.a)(F,2),_=M[0],L=M[1],R=s.a.useState(0),N=Object(a.a)(R,2),B=N[0],U=N[1],H=s.a.useState(null),W=Object(a.a)(H,2),z=W[0],V=W[1],G=s.a.useState(null),Z=Object(a.a)(G,2),Y=Z[0],q=Z[1],X=Object(O.a)(),J=w.asSpriteConfiguration(t),K=Object(j.l)(J,A,_,B),Q=K.animation,$=K.sprite,ee=s.a.useState(!!$&&m()(Object(l.mapFor)(0,J.getAnimationsCount(),(function(e){var t=J.getAnimation(e);return Object(j.d)($,t)})))),te=Object(a.a)(ee,2),ne=te[0],re=te[1],ae=s.a.useState(!(!$||!Q)&&Object(j.d)($,Q)),oe=Object(a.a)(ae,2),ie=oe[0],se=oe[1],ce=s.a.useCallback((function(e,t){Q&&$&&(e?Object(l.mapFor)(0,J.getAnimationsCount(),(function(e){var t=J.getAnimation(e);Object(j.f)($,t)})):t&&Object(j.f)($,Q)),X(),g&&g()}),[Q,$,J,X,g]),ue=function(e){D(e),L(0),U(0)},le=function(e){L(e),U(0)},de=function(e){U(e)};s.a.useEffect((function(){$&&Q&&se(Object(j.d)($,Q))}),[Q,$]);var be=function(e){if(e&&!f.b.showConfirmDialog("Having the same points for all animations will erase and reset all the other animations points. This can't be undone. Are you sure you want to share these points amongst all the animations of the object?"))return;var t=e,n=e||ie;re(t),se(n),ce(t,n)},pe=function(e){if(e&&!f.b.showConfirmDialog("Having the same points for all frames will erase and reset all the other frames points. This can't be undone. Are you sure you want to share these points amongst all the frames of the animation?"))return;var t=e&&ne,n=e;re(t),se(n),ce(t,n)},je="small"===Object(x.b)()?S:E;if(!t.getAnimationsCount())return null;var he=$?$.getImageName():"",fe={preview:{type:"primary",noTitleBar:!0,renderEditor:function(){return Object(k.jsx)(C.a,{background:"medium",style:T.leftContainer,square:!0,children:Object(k.jsx)(u.a,{noMargin:!0,expand:!0,useFullHeight:!0,children:Object(k.jsx)(p.a,{resourceName:he,imageResourceSource:n.getResourceFullUrl(i,he,{}),isImageResourceSmooth:Object(p.b)(i,he),renderOverlay:function(e){return $&&Object(k.jsx)(b.a,Object(r.a)(Object(r.a)({},e),{},{pointsContainer:$,onPointsUpdated:function(){return ce(ne,ie)},selectedPointName:z,highlightedPointName:Y,onClickPoint:V}))}})})})}},properties:{type:"secondary",noTitleBar:!0,renderEditor:function(){return Object(k.jsx)(C.a,{background:"medium",style:T.rightContainer,square:!0,children:Object(k.jsxs)(u.a,{noMargin:!0,expand:!0,children:[Object(k.jsx)(u.c,{children:Object(k.jsx)(u.a,{expand:!0,children:Object(k.jsx)(h.a,{spriteConfiguration:J,animationIndex:A,directionIndex:_,spriteIndex:B,chooseAnimation:ue,chooseDirection:le,chooseSprite:de,sameForAllAnimations:ne,sameForAllSprites:ie,setSameForAllAnimations:be,setSameForAllSprites:pe,setSameForAllAnimationsLabel:Object(k.jsx)(o.Trans,{id:"Share same points for all animations"}),setSameForAllSpritesLabel:Object(k.jsx)(o.Trans,{id:"Share same points for all sprites of this animation"})})})}),Object(k.jsxs)(y.a,{children:[!!$&&Object(k.jsx)(d.a,{pointsContainer:$,onPointsUpdated:function(){return ce(ne,ie)},selectedPointName:z,onHoverPoint:q,onSelectPoint:V}),!$&&Object(k.jsx)(c.a,{children:Object(k.jsx)(o.Trans,{id:"Choose an animation and frame to edit the points"})})]})]})})}}};return Object(k.jsx)("div",{style:{flex:1},children:Object(k.jsx)(v.a,{editors:fe,initialNodes:je})})}}).call(this,n(25))},function(e,t,n){"use strict";(function(e){var r=n(19),a=n(1),o=n(3),i=n(34),s=n(9),c=n(17),u=n(328),l=n.n(u),d=n(461),b=n(95),p=n(307),j=n(26),h=n(314),f=n(295),g=n(305),m=n(2167),O=n(1217),v=n(8),x=e.gd,y=function(e){var t=c.useState({}),n=Object(i.a)(t,2),s=n[0],u=n[1],l=e.pointsContainer,b=Object(h.a)(),f=function(){b(),e.onPointsUpdated()},g=l.getAllNonDefaultPoints(),O=Object(p.mapVector)(g,(function(t,n){var r=t.getName();return Object(v.jsx)(m.a,{pointX:t.getX(),pointY:t.getY(),onChangePointX:function(e){return function(e,t){e.setX(t),f()}(t,e)},onChangePointY:function(e){return function(e,t){e.setY(t),f()}(t,e)},pointName:r,selected:r===e.selectedPointName,nameError:s[r],onChangePointName:function(n){if(r!==n&&n){var i=!0;l.hasPoint(n)?i=!1:(t.setName(n),e.selectedPointName===r&&e.onSelectPoint(n),f()),u((function(e){return Object(o.a)(Object(o.a)({},e),{},Object(a.a)({},r,!i))}))}},onPointerEnter:e.onHoverPoint,onPointerLeave:e.onHoverPoint,onClick:e.onSelectPoint,onRemove:function(){j.b.showConfirmDialog("Are you sure you want to remove this point? This can't be undone.")&&(l.delPoint(r),f())}},"point-".concat(t.ptr))})),x=l.getOrigin(),y=l.getCenter(),C=Object(v.jsx)(m.a,{pointName:"Origin",pointX:x.getX(),pointY:x.getY(),onChangePointX:function(e){l.getOrigin().setX(e),f()},onChangePointY:function(e){l.getOrigin().setY(e),f()},onPointerEnter:e.onHoverPoint,onPointerLeave:e.onHoverPoint,onClick:e.onSelectPoint,selected:"Origin"===e.selectedPointName},"origin-point-row"),k=Object(v.jsx)(m.a,{pointName:"Center",isAutomatic:l.isDefaultCenterPoint(),pointX:y.getX(),pointY:y.getY(),onChangePointX:function(e){l.getCenter().setX(e),f()},onChangePointY:function(e){l.getCenter().setY(e),f()},onPointerEnter:e.onHoverPoint,onPointerLeave:e.onHoverPoint,onClick:e.onSelectPoint,selected:"Center"===e.selectedPointName,onEdit:l.isDefaultCenterPoint()?function(){l.setDefaultCenterPoint(!1),f()}:null,onRemove:l.isDefaultCenterPoint()?null:function(){l.setDefaultCenterPoint(!0),f()}},"center-point-row");return Object(v.jsx)(d.b,{children:[C,k].concat(Object(r.a)(O))})};t.a=function(e){return Object(v.jsxs)(f.a,{expand:!0,children:[Object(v.jsxs)(d.a,{children:[Object(v.jsx)(d.c,{children:Object(v.jsxs)(d.e,{children:[Object(v.jsx)(d.d,{style:O.a.nameColumn,children:Object(v.jsx)(s.Trans,{id:"Point name"})}),Object(v.jsx)(d.d,{style:O.a.coordinateColumn,padding:"none",children:Object(v.jsx)(f.a,{children:"X"})}),Object(v.jsx)(d.d,{style:O.a.coordinateColumn,padding:"none",children:Object(v.jsx)(f.a,{children:"Y"})}),Object(v.jsx)(d.d,{style:O.a.toolColumn})]})}),Object(v.jsx)(y,{pointsContainer:e.pointsContainer,onHoverPoint:e.onHoverPoint,onSelectPoint:e.onSelectPoint,selectedPointName:e.selectedPointName,onPointsUpdated:e.onPointsUpdated})]}),Object(v.jsx)(f.d,{}),Object(v.jsx)(f.c,{alignItems:"center",justifyContent:"center",children:Object(v.jsx)(g.a,{primary:!0,icon:Object(v.jsx)(l.a,{}),label:Object(v.jsx)(s.Trans,{id:"Add a point"}),onClick:function(){var t=Object(b.a)("Point",(function(t){return e.pointsContainer.hasPoint(t)})),n=new x.Point(t);e.pointsContainer.addPoint(n),n.delete(),e.onSelectPoint(t),e.onPointsUpdated()}})})]})}}).call(this,n(25))},function(e,t,n){"use strict";var r=n(18),a=n(9),o=n(17),i=n(461),s=n(310),c=n(395),u=n.n(c),l=n(514),d=n.n(l),b=n(324),p=n(296),j=n(649),h=n(295),f=n(306),g=n(1217),m=n(8),O=["pointX","pointY"];t.a=function(e){var t=e.pointX,n=e.pointY,c=Object(r.a)(e,O),l=o.useContext(f.a);return Object(m.jsxs)(i.e,{style:{backgroundColor:c.selected?l.listItem.selectedBackgroundColor:l.list.itemsBackgroundColor},onClick:function(){return c.onClick(c.pointName)},onPointerEnter:function(){return c.onPointerEnter(c.pointName)},onPointerLeave:c.onPointerEnter,children:[Object(m.jsx)(i.f,{style:g.a.nameColumn,children:Object(m.jsx)(b.a,{margin:"none",inputStyle:c.selected?{color:l.listItem.selectedTextColor}:void 0,value:c.pointName,id:c.pointName,fullWidth:!0,errorText:c.nameError?"This name is already taken":void 0,disabled:!c.onChangePointName,commitOnBlur:!0,onChange:c.onChangePointName||function(e){}})}),Object(m.jsx)(i.f,{style:g.a.coordinateColumn,padding:"none",children:Object(m.jsx)(h.a,{children:c.isAutomatic?Object(m.jsx)(p.a,{noMargin:!0,children:Object(m.jsx)(a.Trans,{id:"(auto)"})}):Object(m.jsx)(b.a,{margin:"none",inputStyle:c.selected?{color:l.listItem.selectedTextColor}:void 0,value:Object(j.a)(t,4).toString(),type:"number",id:"point-x",onChange:function(e){var t=parseFloat(e);isNaN(t)||c.onChangePointX(t)},onBlur:function(e){c.onChangePointX(parseFloat(e.currentTarget.value)||0)}})})}),Object(m.jsx)(i.f,{style:g.a.coordinateColumn,padding:"none",children:Object(m.jsx)(h.a,{children:c.isAutomatic?Object(m.jsx)(p.a,{noMargin:!0,children:Object(m.jsx)(a.Trans,{id:"(auto)"})}):Object(m.jsx)(b.a,{margin:"none",inputStyle:c.selected?{color:l.listItem.selectedTextColor}:void 0,value:Object(j.a)(n,4).toString(),type:"number",id:"point-y",onChange:function(e){var t=parseFloat(e);isNaN(t)||c.onChangePointY(t)},onBlur:function(e){c.onChangePointY(parseFloat(e.currentTarget.value)||0)}})})}),Object(m.jsxs)(i.f,{style:g.a.toolColumn,children:[!!c.onRemove&&Object(m.jsx)(s.a,{size:"small",onClick:c.onRemove,children:Object(m.jsx)(u.a,{})}),!!c.onEdit&&Object(m.jsx)(s.a,{size:"small",onClick:c.onEdit,children:Object(m.jsx)(d.a,{})})]})]})}},function(e,t,n){"use strict";var r=n(3),a=n(34),o=n(17),i=n(307),s=n(314),c=n(8),u={container:{position:"relative",width:"100%",height:"100%"},point:{position:"absolute",transform:"translate(-5px, -5px)",cursor:"move",width:11,height:11},highlightedPoint:{outline:"1px solid black",backdropFilter:"brightness(200%)",zIndex:1e3},selectedPoint:{outline:"1px solid blue",backdropFilter:"brightness(130%)",zIndex:900}},l=1,d=2,b=3,p=function(e,t){return e===d?"Origin":e===b?"Center":t.getName()},j=function(e){return e===d?"res/originPoint.png":e===b?"res/centerPoint.png":"res/point.png"};t.a=function(e){var t=o.useRef(null),n=o.useState({draggedPoint:null,draggedPointKind:null}),h=Object(a.a)(n,2),f=h[0],g=h[1],m=e.pointsContainer,O=e.imageWidth,v=e.imageHeight,x=e.offsetTop,y=e.offsetLeft,C=e.imageZoomFactor,k=e.highlightedPointName,w=e.selectedPointName,T=Object(s.a)(),E=function(e,t,n,a,o){var i=p(a,o);return Object(c.jsx)("div",{title:i,style:Object(r.a)(Object(r.a)({backgroundImage:"url(".concat(j(a),")"),left:t,top:n},u.point),i===k?u.highlightedPoint:i===w?u.selectedPoint:null),alt:"",onPointerDown:function(e){var t,n;t=o,n=a,f.draggedPoint||g({draggedPoint:t,draggedPointKind:n})}},e)},S=m.getAllNonDefaultPoints(),P=Object(i.mapVector)(S,(function(e,t){return E(e.getName(),e.getX()*C,e.getY()*C,l,e)})),I=m.getOrigin(),A=m.getCenter(),D=m.isDefaultCenterPoint(),F={position:"absolute",top:x||0,left:y||0,width:O*C,height:v*C,overflow:"visible"};return Object(c.jsx)("div",{style:u.container,onPointerMove:function(n){var r=f.draggedPoint,a=f.draggedPointKind;if(r&&t.current){var o=t.current.getBoundingClientRect(),i=n.clientX-o.left,s=n.clientY-o.top;a===b&&e.pointsContainer.setDefaultCenterPoint(!1),r.setX(i/C),r.setY(s/C),T()}},onPointerUp:function(){!!f.draggedPoint&&(e.onPointsUpdated(),f.draggedPointKind&&f.draggedPoint&&e.onClickPoint(p(f.draggedPointKind,f.draggedPoint))),g({draggedPoint:null,draggedPointKind:null})},children:Object(c.jsxs)("div",{style:F,ref:t,children:[P,E("Origin",I.getX()*C,I.getY()*C,d,I),E("Center",(D?O/2:A.getX())*C,(D?v/2:A.getY())*C,b,A)]})})}},function(e,t,n){"use strict";(function(e){var r=n(3),a=n(34),o=n(9),i=n(17),s=n.n(i),c=n(298),u=n(316),l=n(295),d=n(307),b=n(2170),p=n(2172),j=n(533),h=n(486),f=n(1218),g=n(26),m=n(821),O=n.n(m),v=(n(320),n(314)),x=n(531),y=n(309),C=n(327),k=n(331),w=n(8),T=e.gd,E={leftContainer:{display:"flex",overflow:"hidden",flexDirection:"column"},rightContainer:{display:"flex"}},S={direction:"row",first:"preview",second:"properties",splitPercentage:66.67},P={direction:"column",first:"preview",second:"properties",splitPercentage:50};t.a=function(e){var t=e.objectConfiguration,n=e.resourcesLoader,i=e.project,m=e.onMasksUpdated,I=s.a.useState(0),A=Object(a.a)(I,2),D=A[0],F=A[1],M=s.a.useState(0),_=Object(a.a)(M,2),L=_[0],R=_[1],N=s.a.useState(0),B=Object(a.a)(N,2),U=B[0],H=B[1],W=s.a.useState(null),z=Object(a.a)(W,2),V=z[0],G=z[1],Z=s.a.useState(null),Y=Object(a.a)(Z,2),q=Y[0],X=Y[1],J=s.a.useState(0),K=Object(a.a)(J,2),Q=K[0],$=K[1],ee=s.a.useState(0),te=Object(a.a)(ee,2),ne=te[0],re=te[1],ae=Object(v.a)(),oe=T.asSpriteConfiguration(t),ie=Object(h.l)(oe,D,L,U),se=ie.animation,ce=ie.sprite,ue=s.a.useState(!!ce&&O()(Object(d.mapFor)(0,oe.getAnimationsCount(),(function(e){var t=oe.getAnimation(e);return Object(h.c)(ce,t)})))),le=Object(a.a)(ue,2),de=le[0],be=le[1],pe=s.a.useState(!(!ce||!se)&&Object(h.c)(ce,se)),je=Object(a.a)(pe,2),he=je[0],fe=je[1],ge=s.a.useCallback((function(e,t){se&&ce&&(e?Object(d.mapFor)(0,oe.getAnimationsCount(),(function(e){var t=oe.getAnimation(e);Object(h.e)(ce,t)})):t&&Object(h.e)(ce,se)),ae(),m&&m()}),[se,ce,oe,ae,m]),me=function(e){F(e),R(0),H(0)},Oe=function(e){R(e),H(0)},ve=function(e){H(e)};s.a.useEffect((function(){se&&ce&&fe(Object(h.c)(ce,se))}),[se,ce]);var xe=s.a.useCallback((function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];ce&&(ce.setCollisionMaskAutomatic(e),ge(de,he))}),[ce,ge,de,he]),ye=function(e){if(e&&!g.b.showConfirmDialog("Having the same collision masks for all animations will erase and reset all the other animations collision masks. This can't be undone. Are you sure you want to share these collision masks amongst all the animations of the object?"))return;var t=e,n=e||he;be(t),fe(n),ge(t,n)},Ce=function(e){if(e&&!g.b.showConfirmDialog("Having the same collision masks for all animations will erase and reset all the other animations collision masks. This can't be undone. Are you sure you want to share these collision masks amongst all the animations of the object?"))return;var t=e&&de,n=e;be(t),fe(n),ge(t,n)},ke=function(e,t){$(e),re(t)},we="small"===Object(y.b)()?P:S;if(!t.getAnimationsCount())return null;var Te=ce?ce.getImageName():"",Ee={preview:{type:"primary",noTitleBar:!0,renderEditor:function(){return Object(w.jsx)(C.a,{background:"medium",style:E.leftContainer,square:!0,children:Object(w.jsx)(l.a,{expand:!0,noMargin:!0,useFullHeight:!0,children:Object(w.jsx)(j.a,{resourceName:Te,imageResourceSource:n.getResourceFullUrl(i,Te,{}),isImageResourceSmooth:Object(j.b)(i,Te),onSize:ke,renderOverlay:function(e){return ce&&Object(w.jsx)(p.a,Object(r.a)(Object(r.a)({},e),{},{isDefaultBoundingBox:ce.isCollisionMaskAutomatic(),polygons:ce.getCustomCollisionMask(),onPolygonsUpdated:function(){return ge(de,he)},highlightedVerticePtr:V,selectedVerticePtr:q,onClickVertice:X}))}})})})}},properties:{type:"secondary",noTitleBar:!0,renderEditor:function(){return Object(w.jsx)(C.a,{background:"medium",style:E.rightContainer,square:!0,children:Object(w.jsxs)(l.a,{expand:!0,noMargin:!0,children:[Object(w.jsx)(l.c,{children:Object(w.jsx)(l.a,{expand:!0,children:Object(w.jsx)(f.a,{spriteConfiguration:oe,animationIndex:D,directionIndex:L,spriteIndex:U,chooseAnimation:me,chooseDirection:Oe,chooseSprite:ve,sameForAllAnimations:de,sameForAllSprites:he,setSameForAllAnimations:ye,setSameForAllSprites:Ce,setSameForAllAnimationsLabel:Object(w.jsx)(o.Trans,{id:"Share same collision masks for all animations"}),setSameForAllSpritesLabel:Object(w.jsx)(o.Trans,{id:"Share same collision masks for all sprites of this animation"})})})}),Object(w.jsxs)(k.a,{children:[!!ce&&!ce.isCollisionMaskAutomatic()&&Object(w.jsx)(s.a.Fragment,{children:Object(w.jsx)(b.a,{polygons:ce.getCustomCollisionMask(),onPolygonsUpdated:function(){return ge(de,he)},restoreCollisionMask:function(){return xe(!0)},onHoverVertice:G,onClickVertice:X,selectedVerticePtr:q,spriteWidth:Q,spriteHeight:ne})}),!!ce&&ce.isCollisionMaskAutomatic()&&Object(w.jsxs)(s.a.Fragment,{children:[Object(w.jsx)(u.a,{children:Object(w.jsx)(o.Trans,{id:"This sprite uses the default collision mask, a rectangle that is as large as the sprite."})}),Object(w.jsx)(l.c,{justifyContent:"center",children:Object(w.jsx)(c.a,{label:Object(w.jsx)(o.Trans,{id:"Use a custom collision mask"}),primary:!1,onClick:function(){return xe(!1)}})})]}),!ce&&Object(w.jsx)(u.a,{children:Object(w.jsx)(o.Trans,{id:"Choose an animation and frame to edit the collision masks"})})]})]})})}}};return Object(w.jsx)("div",{style:{flex:1},children:Object(w.jsx)(x.a,{editors:Ee,initialNodes:we})})}}).call(this,n(25))},function(e,t,n){"use strict";(function(e){var r=n(9),a=n(17),o=n(395),i=n.n(o),s=n(507),c=n.n(s),u=n(328),l=n.n(u),d=n(461),b=n(307),p=n(1219),j=n(2171),h=n(523),f=n(296),g=n(310),m=n(298),O=n(295),v=n(452),x=n(312),y=n(306),C=n(331),k=n(1220),w=n(8),T=e.gd,E=function(e){return Object(w.jsxs)(O.a,{expand:!0,children:[Object(w.jsxs)(d.a,{children:[Object(w.jsx)(d.c,{children:Object(w.jsxs)(d.e,{children:[Object(w.jsx)(d.d,{style:p.a.coordinateColumn,children:"X"}),Object(w.jsx)(d.d,{style:p.a.coordinateColumn,children:"Y"}),Object(w.jsx)(d.f,{style:p.a.toolColumn})]})}),Object(w.jsx)(d.b,{children:Object(b.mapVector)(e.vertices,(function(t,n){return Object(w.jsx)(j.a,{parentVerticeId:e.vertices.ptr.toString(),onPointerEnter:function(){return e.onHoverVertice(t.ptr)},onPointerLeave:e.onHoverVertice,selected:e.selectedVerticePtr===t.ptr,onClick:function(){return e.onClickVertice(t.ptr)},verticeX:t.get_x(),verticeY:t.get_y(),onChangeVerticeX:function(n){return function(t,n){t.set_x(Math.min(e.spriteWidth,Math.max(n,0))),e.onUpdated()}(t,n)},onChangeVerticeY:function(n){return function(t,n){t.set_y(Math.min(e.spriteHeight,Math.max(n,0))),e.onUpdated()}(t,n)},onRemove:function(){T.removeFromVectorVector2f(e.vertices,n),e.onUpdated()},canRemove:e.vertices.size()>3},t.ptr)}))})]}),Object(w.jsx)(O.d,{}),e.hasWarning&&Object(w.jsx)(x.a,{kind:"warning",children:Object(w.jsx)(r.Trans,{id:"The polygon is not convex. Ensure it is, otherwise the collision mask won't work."})}),Object(w.jsx)(O.c,{justifyContent:"center",children:Object(w.jsx)(m.a,{leftIcon:Object(w.jsx)(l.a,{size:"small"}),label:Object(w.jsx)(r.Trans,{id:"Add a vertex"}),onClick:function(){Object(k.a)(e.vertices),e.onUpdated()}})})]})},S=function(e){var t=a.useContext(y.a).message.warning,n=e.polygon.getVertices(),o=n.size(),s=e.polygon.isConvex(),u=[s?null:Object(w.jsx)(g.a,{size:"small",tooltip:{id:"Polygon is not convex!"},children:Object(w.jsx)(c.a,{style:{color:t}})},"not-convex"),Object(w.jsx)(g.a,{size:"small",onClick:function(t){t.stopPropagation(),e.onRemove()},tooltip:{id:"Delete collision mask"},children:Object(w.jsx)(i.a,{})},"delete-mask")];return Object(w.jsxs)(h.a,{defaultExpanded:!0,children:[Object(w.jsx)(h.c,{actions:u,children:Object(w.jsxs)(f.a,{displayInlineAsSpan:!0,children:[3===o&&Object(w.jsx)(r.Trans,{id:"Triangle"}),4===o&&Object(w.jsx)(r.Trans,{id:"Quadrilateral"}),o>=5&&Object(w.jsx)(r.Trans,{id:"Polygon with ${verticesCount} vertices",values:{verticesCount:o}})]})}),Object(w.jsx)(h.b,{disableGutters:!0,children:Object(w.jsx)(E,{vertices:n,hasWarning:!s,onHoverVertice:e.onHoverVertice,onClickVertice:e.onClickVertice,selectedVerticePtr:e.selectedVerticePtr,onUpdated:e.onUpdated,spriteWidth:e.spriteWidth,spriteHeight:e.spriteHeight})})]})};t.a=function(e){var t=e.polygons,n=e.spriteHeight,o=e.spriteWidth,i=e.onPolygonsUpdated,s=e.restoreCollisionMask,c=e.onHoverVertice,u=e.onClickVertice,d=e.selectedVerticePtr,p=a.useCallback((function(){var e=T.Polygon2d.createRectangle(o,n);e.move(o/2,n/2),t.push_back(e),i()}),[n,o,t,i]);return a.useEffect((function(){0===t.size()&&p()}),[t,p]),Object(w.jsx)(a.Fragment,{children:Object(w.jsxs)(O.a,{noMargin:!0,expand:!0,useFullHeight:!0,children:[Object(w.jsx)(C.a,{children:Object(b.mapVector)(t,(function(e,r){return Object(w.jsx)(S,{polygon:e,onUpdated:i,onRemove:function(){T.removeFromVectorPolygon2d(t,r),0===t.size()&&s(),i()},onHoverVertice:c,onClickVertice:u,selectedVerticePtr:d,spriteWidth:o,spriteHeight:n},"polygon-".concat(r))}))}),Object(w.jsx)(O.a,{children:Object(w.jsx)(O.c,{alignItems:"center",justifyContent:"center",children:Object(w.jsx)(v.a,{primary:!0,icon:Object(w.jsx)(l.a,{}),label:Object(w.jsx)(r.Trans,{id:"Add collision mask"}),onClick:function(){p()},buildMenuTemplate:function(e){return[{label:e._({id:"Restore the default collision mask"}),click:s}]}})})})]})})}}).call(this,n(25))},function(e,t,n){"use strict";var r=n(18),a=n(17),o=n.n(a),i=n(395),s=n.n(i),c=n(461),u=n(310),l=n(324),d=n(1219),b=n(649),p=n(306),j=n(8),h=["verticeX","verticeY","parentVerticeId"];t.a=function(e){var t=e.verticeX,n=e.verticeY,a=(e.parentVerticeId,Object(r.a)(e,h)),i=o.a.useContext(p.a);return Object(j.jsxs)(c.e,{style:{backgroundColor:a.selected?i.listItem.selectedBackgroundColor:i.list.itemsBackgroundColor},onPointerEnter:a.onPointerEnter,onPointerLeave:a.onPointerLeave,onClick:a.onClick,children:[Object(j.jsx)(c.f,{style:d.a.coordinateColumn,children:Object(j.jsx)(l.a,{margin:"none",inputStyle:a.selected?{color:i.listItem.selectedTextColor}:void 0,value:Object(b.a)(t,4).toString(),type:"number",id:"vertice-x",onChange:function(e){var t=parseFloat(e);isNaN(t)||a.onChangeVerticeX(t)},onBlur:function(e){a.onChangeVerticeX(parseFloat(e.currentTarget.value)||0)}})}),Object(j.jsx)(c.f,{style:d.a.coordinateColumn,children:Object(j.jsx)(l.a,{margin:"none",inputStyle:a.selected?{color:i.listItem.selectedTextColor}:void 0,value:Object(b.a)(n,4).toString(),type:"number",id:"vertice-y",onChange:function(e){var t=parseFloat(e);isNaN(t)||a.onChangeVerticeY(t)},onBlur:function(e){a.onChangeVerticeY(parseFloat(e.currentTarget.value)||0)}})}),Object(j.jsx)(c.f,{style:d.a.toolColumn,children:!!a.onRemove&&Object(j.jsx)(u.a,{size:"small",onClick:a.onRemove,disabled:!a.canRemove,children:Object(j.jsx)(s.a,{})})})]})}},function(e,t,n){"use strict";(function(e){var r=n(34),a=n(17),o=n(307),i=n(314),s=n(1220),c=n(8),u=e.gd,l={vertexCircle:{cursor:"move"}};t.a=function(e){var t=a.useRef(null),n=a.useState(null),d=Object(r.a)(n,2),b=d[0],p=d[1],j=a.useState(null),h=Object(r.a)(j,2),f=h[0],g=h[1],m=e.polygons,O=e.imageZoomFactor,v=e.imageHeight,x=e.imageWidth,y=e.offsetTop,C=e.offsetLeft,k=e.isDefaultBoundingBox,w=Object(i.a)(),T=function(e){if(!t.current)return null;var n=t.current.createSVGPoint();n.x=e.clientX,n.y=e.clientY;var r=t.current.getScreenCTM().inverse(),a=n.matrixTransform(r);return[a.x,a.y]},E=function(e,t){var n=x*O,r=v*O;return{frameX:Math.min(n,Math.max(e,0)),frameY:Math.min(r,Math.max(t,0))}},S=function(t){var n=e.polygons.at(t.polygonIndex).getVertices(),r=n.size(),a=new u.Vector2f;a.x=t.x,a.y=t.y,n.push_back(a),a.delete(),n.moveVector2fInVector(r,t.vertexIndex);var o=n.at(t.vertexIndex);p({vertex:o,polygonIndex:t.polygonIndex,vertexIndex:t.vertexIndex}),g(null),e.onClickVertice(o.ptr),e.onPolygonsUpdated()},P=function(){if(!b)return!1;var e=m.at(b.polygonIndex).getVertices(),t=10/O,n=5/O,r=Object(s.c)(e,b.vertexIndex,t,n);return!!r&&(b.vertex.set_x(r[0]),b.vertex.set_y(r[1]),!0)},I={position:"absolute",top:y||0,left:C||0,width:x*O,height:v*O,overflow:"visible"};return Object(c.jsx)("div",{style:{position:"relative",width:"100%",height:"100%"},onPointerMove:function(t){var n=T(t);if(n)if(b){var r=E(n[0],n[1]),a=r.frameX/O,o=r.frameY/O;b.vertex.set_x(a),b.vertex.set_y(o),P(),w()}else{var i=n[0]/O,c=n[1]/O,u=20/O,l=40/O;g(Object(s.b)(e.polygons,i,c,u,l))}},onPointerUp:function(){if(b)if(P()){var t=e.polygons.at(b.polygonIndex).getVertices();u.removeFromVectorVector2f(t,b.vertexIndex),e.onPolygonsUpdated(),e.onClickVertice(null)}else e.onPolygonsUpdated(),e.onClickVertice(b.vertex.ptr);p(null)},onPointerDown:function(t){var n=T(t);if(n){var r=E(n[0],n[1]),a=r.frameX/O,o=r.frameY/O,i=20/O,c=10/O,u=Object(s.b)(e.polygons,a,o,i,c);u&&S(u)}},children:Object(c.jsxs)("svg",{style:I,ref:t,children:[k&&Object(c.jsx)("polygon",{fill:"rgba(255,133,105,0.2)",stroke:"rgba(255,133,105,0.5)",strokeWidth:1,fillRule:"evenodd",points:"0,0 ".concat(x*O,",0 ").concat(x*O,",").concat(v*O," 0,").concat(v*O)}),!k&&Object(c.jsxs)(a.Fragment,{children:[Object(o.mapVector)(m,(function(e,t){var n=e.getVertices();return Object(c.jsx)("polygon",{fill:"rgba(255,133,105,0.2)",stroke:"rgba(255,133,105,0.5)",strokeWidth:2,fillRule:"evenodd",points:Object(o.mapVector)(n,(function(e,t){return"".concat(e.get_x()*O,",").concat(e.get_y()*O)})).join(" ")},"polygon-".concat(t))})),Object(o.mapVector)(m,(function(t,n){var r=t.getVertices();return Object(o.mapVector)(r,(function(t,r){return Object(c.jsx)("circle",{onPointerDown:function(){return function(e,t,n){b||p({vertex:e,polygonIndex:t,vertexIndex:n})}(t,n,r)},fill:t.ptr===e.highlightedVerticePtr?"rgba(0,0,0,0.75)":t.ptr===e.selectedVerticePtr?"rgba(107,175,255,0.75)":"rgba(255,133,105,0.75)",stroke:t.ptr===e.highlightedVerticePtr?"white":void 0,strokeWidth:2,cx:t.get_x()*O,cy:t.get_y()*O,r:5,style:l.vertexCircle},"polygon-".concat(n,"-vertex-").concat(r))}))})),f&&Object(c.jsx)("circle",{onPointerDown:function(){return S(f)},fill:"rgba(0,0,0,0.75)",stroke:"white",strokeWidth:2,cx:f.x*O,cy:f.y*O,r:5,style:l.vertexCircle},"new-vertex")]})]})})}}).call(this,n(25))},function(e,t,n){"use strict";n(17);var r=n(295),a=n(511),o=n(8);t.a=function(){var e=Object(a.a)("intermediate-changing-animations").DismissableTutorialMessage;return e?Object(o.jsxs)(r.a,{noMargin:!0,children:[e,Object(o.jsx)(r.d,{})]}):null}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(9),a=(n(17),n(295)),o=n(316),i=n(8);function s(){return Object(i.jsx)(a.a,{noMargin:!0,children:Object(i.jsx)(a.c,{children:Object(i.jsx)(o.a,{children:Object(i.jsx)(r.Trans,{id:"This object does not have any specific configuration. Add it on the scene and use events to interact with it."})})})})}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f}));var r=n(6),a=n(5),o=n(10),i=n(11),s=n(9),c=n(17),u=n(340),l=n(410),d=n(66),b=n(324),p=n(297),j=n(8),h=e.gd,f=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e=this,t=this.props.objectConfiguration,n=h.asShapePainterConfiguration(t);return Object(j.jsxs)(p.a,{noMargin:!0,children:[Object(j.jsx)(u.a,{label:Object(j.jsx)(s.Trans,{id:"Draw the shapes relative to the object position on the scene"}),checked:!n.areCoordinatesAbsolute(),onCheck:function(t,r){r?n.setCoordinatesRelative():n.setCoordinatesAbsolute(),e.forceUpdate()}}),Object(j.jsx)(u.a,{label:Object(j.jsx)(s.Trans,{id:"Clear the rendered image between each frame"}),checked:n.isClearedBetweenFrames(),onCheck:function(t,r){n.setClearBetweenFrames(r),e.forceUpdate()}}),Object(j.jsxs)(p.c,{noMargin:!0,children:[Object(j.jsx)(l.a,{floatingLabelText:Object(j.jsx)(s.Trans,{id:"Outline color"}),disableAlpha:!0,fullWidth:!0,color:Object(d.f)({r:n.getOutlineColorR(),g:n.getOutlineColorG(),b:n.getOutlineColorB()}),onChange:function(t){var r=Object(d.i)(t);r&&(n.setOutlineColor(r.r,r.g,r.b),e.forceUpdate())}}),Object(j.jsx)(b.a,{commitOnBlur:!0,floatingLabelText:Object(j.jsx)(s.Trans,{id:"Outline opacity (0-255)"}),fullWidth:!0,type:"number",value:n.getOutlineOpacity(),onChange:function(t){n.setOutlineOpacity(parseInt(t,10)||0),e.forceUpdate()}}),Object(j.jsx)(b.a,{commitOnBlur:!0,floatingLabelText:Object(j.jsx)(s.Trans,{id:"Outline size (in pixels)"}),fullWidth:!0,type:"number",value:n.getOutlineSize(),onChange:function(t){n.setOutlineSize(parseInt(t,10)||0),e.forceUpdate()}})]}),Object(j.jsxs)(p.c,{noMargin:!0,children:[Object(j.jsx)(l.a,{floatingLabelText:Object(j.jsx)(s.Trans,{id:"Fill color"}),disableAlpha:!0,fullWidth:!0,color:Object(d.f)({r:n.getFillColorR(),g:n.getFillColorG(),b:n.getFillColorB()}),onChange:function(t){var r=Object(d.i)(t);r&&(n.setFillColor(r.r,r.g,r.b),e.forceUpdate())}}),Object(j.jsx)(b.a,{commitOnBlur:!0,floatingLabelText:Object(j.jsx)(s.Trans,{id:"Fill opacity (0-255)"}),fullWidth:!0,type:"number",value:n.getFillOpacity(),onChange:function(t){n.setFillOpacity(parseInt(t,10)||0),e.forceUpdate()}})]})]})}}]),n}(c.Component)}).call(this,n(25))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return x}));var r=n(6),a=n(5),o=n(10),i=n(11),s=n(9),c=n(17),u=n(340),l=n(322),d=n(321),b=n(410),p=n(66),j=n(324),h=n(592),f=n(297),g=n(480),m=n(472),O=n(8),v=e.gd,x=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.objectConfiguration,r=t.project,a=t.resourceManagementProps,o=v.asParticleEmitterConfiguration(n),i=Object(m.c)(n.getType());return Object(O.jsxs)(f.a,{noMargin:!0,children:[i.map((function(e){return Object(O.jsx)(g.a,{tutorialId:e},e)})),Object(O.jsxs)(l.a,{fullWidth:!0,floatingLabelText:Object(O.jsx)(s.Trans,{id:"Particle type"}),value:o.getRendererType(),onChange:function(t,n,r){var a=parseInt(r,10)||0;o.setRendererType(a),a!==v.ParticleEmitterObject.Quad&&o.setParticleTexture(""),e.forceUpdate()},children:[Object(O.jsx)(d.a,{value:v.ParticleEmitterObject.Point,primaryText:{id:"Circle"}}),Object(O.jsx)(d.a,{value:v.ParticleEmitterObject.Line,primaryText:{id:"Line"}}),Object(O.jsx)(d.a,{value:v.ParticleEmitterObject.Quad,primaryText:{id:"Image"}})]}),o.getRendererType()===v.ParticleEmitterObject.Point&&Object(O.jsx)(j.a,{commitOnBlur:!0,floatingLabelText:Object(O.jsx)(s.Trans,{id:"Size"}),fullWidth:!0,type:"number",value:o.getRendererParam1(),onChange:function(t){o.setRendererParam1(parseFloat(t)),e.forceUpdate()}}),o.getRendererType()===v.ParticleEmitterObject.Line&&Object(O.jsxs)(f.c,{noMargin:!0,children:[Object(O.jsx)(j.a,{commitOnBlur:!0,floatingLabelText:Object(O.jsx)(s.Trans,{id:"Lines length"}),fullWidth:!0,type:"number",value:o.getRendererParam1(),onChange:function(t){o.setRendererParam1(parseFloat(t)),e.forceUpdate()}}),Object(O.jsx)(j.a,{commitOnBlur:!0,floatingLabelText:Object(O.jsx)(s.Trans,{id:"Lines thickness"}),fullWidth:!0,type:"number",value:o.getRendererParam2(),onChange:function(t){o.setRendererParam2(parseFloat(t)),e.forceUpdate()}})]}),o.getRendererType()===v.ParticleEmitterObject.Quad&&Object(O.jsx)(h.a,{project:r,resourceManagementProps:a,resourceKind:"image",resourceName:o.getParticleTexture(),onChange:function(t){o.setParticleTexture(t),e.forceUpdate()},floatingLabelText:Object(O.jsx)(s.Trans,{id:"Select an image"})}),o.getRendererType()===v.ParticleEmitterObject.Quad&&Object(O.jsxs)(f.c,{noMargin:!0,children:[Object(O.jsx)(j.a,{commitOnBlur:!0,floatingLabelText:Object(O.jsx)(s.Trans,{id:"Particles start width"}),fullWidth:!0,type:"number",value:o.getRendererParam1(),onChange:function(t){o.setRendererParam1(Math.max(0,parseFloat(t))),e.forceUpdate()}}),Object(O.jsx)(j.a,{commitOnBlur:!0,floatingLabelText:Object(O.jsx)(s.Trans,{id:"Particles start height"}),fullWidth:!0,type:"number",value:o.getRendererParam2(),onChange:function(t){o.setRendererParam2(Math.max(0,parseFloat(t))),e.forceUpdate()}})]}),Object(O.jsxs)(f.c,{noMargin:!0,children:[Object(O.jsx)(b.a,{floatingLabelText:Object(O.jsx)(s.Trans,{id:"Particles start color"}),disableAlpha:!0,fullWidth:!0,color:Object(p.f)({r:o.getParticleRed1(),g:o.getParticleGreen1(),b:o.getParticleBlue1()}),onChange:function(t){var n=Object(p.i)(t);n&&(o.setParticleRed1(n.r),o.setParticleGreen1(n.g),o.setParticleBlue1(n.b),e.forceUpdate())}}),Object(O.jsx)(j.a,{commitOnBlur:!0,floatingLabelText:Object(O.jsx)(s.Trans,{id:"Start opacity (0-255)"}),fullWidth:!0,type:"number",value:o.getParticleAlpha1(),onChange:function(t){o.setParticleAlpha1(parseInt(t,10)||0),e.forceUpdate()}})]}),Object(O.jsxs)(f.c,{noMargin:!0,children:[Object(O.jsx)(b.a,{floatingLabelText:Object(O.jsx)(s.Trans,{id:"Particles end color"}),disableAlpha:!0,fullWidth:!0,color:Object(p.f)({r:o.getParticleRed2(),g:o.getParticleGreen2(),b:o.getParticleBlue2()}),onChange:function(t){var n=Object(p.i)(t);n&&(o.setParticleRed2(n.r),o.setParticleGreen2(n.g),o.setParticleBlue2(n.b),e.forceUpdate())}}),Object(O.jsx)(j.a,{commitOnBlur:!0,floatingLabelText:Object(O.jsx)(s.Trans,{id:"End opacity (0-255)"}),fullWidth:!0,type:"number",value:o.getParticleAlpha2(),onChange:function(t){o.setParticleAlpha2(parseInt(t,10)||0),e.forceUpdate()}})]}),Object(O.jsx)(u.a,{label:Object(O.jsx)(s.Trans,{id:"Additive rendering"}),checked:o.isRenderingAdditive(),onCheck:function(t,n){n?o.setRenderingAdditive():o.setRenderingAlpha(),e.forceUpdate()}}),Object(O.jsx)(u.a,{label:Object(O.jsx)(s.Trans,{id:"Delete when out of particles"}),checked:o.getDestroyWhenNoParticles(),onCheck:function(t,n){o.setDestroyWhenNoParticles(n),e.forceUpdate()}}),Object(O.jsx)(f.c,{noMargin:!0,children:Object(O.jsx)(j.a,{commitOnBlur:!0,floatingLabelText:Object(O.jsx)(s.Trans,{id:"Maximum number of particles displayed"}),fullWidth:!0,type:"number",value:o.getMaxParticleNb(),onChange:function(t){o.setMaxParticleNb(parseInt(t,10)||0),e.forceUpdate()}})}),Object(O.jsxs)(f.c,{noMargin:!0,children:[Object(O.jsx)(j.a,{commitOnBlur:!0,floatingLabelText:Object(O.jsx)(s.Trans,{id:"Number of particles in tank (-1 for infinite)"}),fullWidth:!0,type:"number",value:o.getTank(),onChange:function(t){o.setTank(parseInt(t,10)||0),e.forceUpdate()}}),Object(O.jsx)(j.a,{commitOnBlur:!0,floatingLabelText:Object(O.jsx)(s.Trans,{id:"Flow of particles (particles/seconds)"}),fullWidth:!0,type:"number",value:o.getFlow(),onChange:function(t){o.setFlow(parseInt(t,10)||0),e.forceUpdate()}})]}),Object(O.jsxs)(f.c,{noMargin:!0,children:[Object(O.jsx)(j.a,{commitOnBlur:!0,floatingLabelText:Object(O.jsx)(s.Trans,{id:"Minimum emitter force applied on particles"}),fullWidth:!0,type:"number",value:o.getEmitterForceMin(),onChange:function(t){o.setEmitterForceMin(parseInt(t,10)||0),e.forceUpdate()}}),Object(O.jsx)(j.a,{commitOnBlur:!0,floatingLabelText:Object(O.jsx)(s.Trans,{id:"Maximum emitter force applied on particles"}),fullWidth:!0,type:"number",value:o.getEmitterForceMax(),onChange:function(t){o.setEmitterForceMax(parseInt(t,10)||0),e.forceUpdate()}})]}),Object(O.jsxs)(f.c,{noMargin:!0,children:[Object(O.jsx)(j.a,{commitOnBlur:!0,floatingLabelText:Object(O.jsx)(s.Trans,{id:"Spray cone angle (in degrees)"}),fullWidth:!0,type:"number",value:o.getConeSprayAngle(),onChange:function(t){o.setConeSprayAngle(parseInt(t,10)||0),e.forceUpdate()}}),Object(O.jsx)(j.a,{commitOnBlur:!0,floatingLabelText:Object(O.jsx)(s.Trans,{id:"Radius of the emitter"}),fullWidth:!0,type:"number",value:o.getZoneRadius(),onChange:function(t){o.setZoneRadius(parseInt(t,10)||0),e.forceUpdate()}})]}),Object(O.jsxs)(f.c,{noMargin:!0,children:[Object(O.jsx)(j.a,{commitOnBlur:!0,floatingLabelText:Object(O.jsx)(s.Trans,{id:"Gravity on particles on X axis"}),fullWidth:!0,type:"number",value:o.getParticleGravityX(),onChange:function(t){o.setParticleGravityX(parseFloat(t)),e.forceUpdate()}}),Object(O.jsx)(j.a,{commitOnBlur:!0,floatingLabelText:Object(O.jsx)(s.Trans,{id:"Gravity on particles on Y axis"}),fullWidth:!0,type:"number",value:o.getParticleGravityY(),onChange:function(t){o.setParticleGravityY(parseFloat(t)),e.forceUpdate()}})]}),Object(O.jsxs)(f.c,{noMargin:!0,children:[Object(O.jsx)(j.a,{commitOnBlur:!0,floatingLabelText:Object(O.jsx)(s.Trans,{id:"Particle minimum lifetime (in seconds)"}),fullWidth:!0,type:"number",value:o.getParticleLifeTimeMin(),onChange:function(t){o.setParticleLifeTimeMin(parseFloat(t)),e.forceUpdate()}}),Object(O.jsx)(j.a,{commitOnBlur:!0,floatingLabelText:Object(O.jsx)(s.Trans,{id:"Particle maximum lifetime (in seconds)"}),fullWidth:!0,type:"number",value:o.getParticleLifeTimeMax(),onChange:function(t){o.setParticleLifeTimeMax(parseFloat(t)),e.forceUpdate()}})]}),Object(O.jsxs)(f.c,{noMargin:!0,children:[Object(O.jsx)(j.a,{commitOnBlur:!0,floatingLabelText:Object(O.jsx)(s.Trans,{id:"Particle start size (in percents)"}),fullWidth:!0,type:"number",value:o.getParticleSize1(),onChange:function(t){o.setParticleSize1(parseFloat(t)),e.forceUpdate()}}),Object(O.jsx)(j.a,{commitOnBlur:!0,floatingLabelText:Object(O.jsx)(s.Trans,{id:"Particle end size (in percents)"}),fullWidth:!0,type:"number",value:o.getParticleSize2(),onChange:function(t){o.setParticleSize2(parseFloat(t)),e.forceUpdate()}})]}),Object(O.jsxs)(f.c,{noMargin:!0,children:[Object(O.jsx)(j.a,{commitOnBlur:!0,floatingLabelText:Object(O.jsx)(s.Trans,{id:"Particle minimum rotation speed (degrees/second)"}),fullWidth:!0,type:"number",value:o.getParticleAngle1(),onChange:function(t){o.setParticleAngle1(parseFloat(t)),e.forceUpdate()}}),Object(O.jsx)(j.a,{commitOnBlur:!0,floatingLabelText:Object(O.jsx)(s.Trans,{id:"Particle maximum rotation speed (degrees/second)"}),fullWidth:!0,type:"number",value:o.getParticleAngle2(),onChange:function(t){o.setParticleAngle2(parseFloat(t)),e.forceUpdate()}})]})]})}}]),n}(c.Component)}).call(this,n(25))},function(e,t,n){"use strict";(function(e){var r=n(9),a=n(17),o=n(450),i=n(430),s=n(316),c=n(295),u=n(671),l=n(472),d=n(312),b=n(297),p=n(480),j=n(8),h=e.gd;t.a=function(e){var t=e.objectConfiguration,n=e.project,f=e.resourceManagementProps,g=e.unsavedChanges,m=h.castObject(t,h.ObjectConfiguration),O=m.getProperties(),v=Object(i.a)(O,(function(e){return e.getProperties()}),(function(e,t,n){return e.updateProperty(t,n)})),x=Object(u.c)()[m.getType()],y=Object(l.c)(m.getType());return Object(j.jsx)(r.I18n,{children:function(e){var t=e.i18n;return Object(j.jsxs)(b.a,{noMargin:!0,children:[y.map((function(e){return Object(j.jsx)(p.a,{tutorialId:e},e)})),v.length?Object(j.jsxs)(a.Fragment,{children:[x?Object(j.jsx)(c.c,{children:Object(j.jsx)(b.a,{noMargin:!0,children:x.map((function(e,n){var r=e.kind,a=e.message;return Object(j.jsx)(d.a,{kind:r,children:t._(a)},n)}))})}):null,Object(j.jsx)(o.a,{unsavedChanges:g,schema:v,instances:[m],project:n,resourceManagementProps:f})]}):Object(j.jsx)(s.a,{children:Object(j.jsx)(r.Trans,{id:"There is nothing to configure for this object. You can still use events to interact with the object."})})]})}})}}).call(this,n(25))},function(e,t,n){"use strict";(function(e){var r=n(9),a=n(17),o=n(450),i=n(430),s=n(316),c=n(295),u=n(671),l=n(472),d=n(312),b=n(297),p=n(480),j=n(307),h=n(588),f=n(296),g=n(314),m=n(523),O=n(453),v=n(39),x=n(8),y=e.gd;t.a=function(e){var t=Object(g.a)(),n=e.objectConfiguration,C=e.project,k=e.resourceManagementProps,w=e.unsavedChanges,T=y.asCustomObjectConfiguration(n),E=T.getProperties(),S=Object(i.a)(E,(function(e){return e.getProperties()}),(function(e,t,n){return e.updateProperty(t,n)})),P=Object(u.c)()[T.getType()],I=a.useContext(v.a).values,A=Object(l.c)(T.getType()),D=C.hasEventsBasedObject(T.getType())?C.getEventsBasedObject(T.getType()):null;return Object(x.jsx)(r.I18n,{children:function(e){var n=e.i18n;return Object(x.jsxs)(b.a,{noMargin:!0,children:[A.map((function(e){return Object(x.jsx)(p.a,{tutorialId:e},e)})),S.length||D&&D.getObjectsCount()?Object(x.jsxs)(a.Fragment,{children:[P?Object(x.jsx)(c.c,{children:Object(x.jsx)(b.a,{noMargin:!0,children:P.map((function(e,t){var r=e.kind,a=e.message;return Object(x.jsx)(d.a,{kind:r,children:n._(a)},t)}))})}):null,Object(x.jsx)(o.a,{unsavedChanges:w,schema:S,instances:[T],project:C,resourceManagementProps:k}),D&&Object(j.mapFor)(0,D.getObjectsCount(),(function(e){var n=D.getObjectAt(e),r=T.getChildObjectConfiguration(n.getName()),a=h.a.getEditorConfigurationForCustomObject(C,r.getType()).component,o=y.MetadataProvider.getObjectMetadata(y.JsPlatform.get(),r.getType()).getIconFilename(),i=Object(l.c)(r.getType()),s=i.filter((function(e){return!I.hiddenTutorialHints[e]}));return Object(x.jsxs)(m.a,{defaultExpanded:!0,children:[Object(x.jsxs)(m.c,{children:[o?Object(x.jsx)(O.a,{src:o,alt:n.getName(),size:20}):null,Object(x.jsx)(c.a,{expand:!0,children:Object(x.jsx)(f.a,{size:"block-title",children:n.getName()})})]}),Object(x.jsx)(m.b,{children:Object(x.jsxs)(c.a,{expand:!0,noMargin:!0,noOverflowParent:!0,children:[s.length?Object(x.jsx)(c.c,{children:Object(x.jsx)(b.a,{expand:!0,children:i.map((function(e){return Object(x.jsx)(p.a,{tutorialId:e},e)}))})}):null,Object(x.jsx)(c.c,{noMargin:!0,children:Object(x.jsx)(c.a,{expand:!0,children:Object(x.jsx)(a,{objectConfiguration:r,project:C,resourceManagementProps:k,onSizeUpdated:t,objectName:n.getName()})})})]})})]},n.getName())}))]}):Object(x.jsx)(s.a,{children:Object(x.jsx)(r.Trans,{id:"There is nothing to configure for this object. You can still use events to interact with the object."})})]})}})}}).call(this,n(25))},function(e,t,n){"use strict";(function(e){var r=n(19),a=n(34),o=n(9),i=n(17),s=n(311),c=n(328),u=n.n(c),l=n(395),d=n.n(l),b=n(310),p=n(316),j=n(400),h=n(613),f=n(1148),g=n(2495),m=n(26),O=n(295),v=n(305),x=n(480),y=n(297),C=n(314),k=n(523),w=n(475),T=n(39),E=n(331),S=n(453),P=n(472),I=n(1150),A=n(54),D=n(350),F=n(405),M=n(8),_=e.gd;t.a=function(e){var t=i.useState(!1),n=Object(a.a)(t,2),c=n[0],l=n[1],L=e.object,R=e.project,N=e.eventsFunctionsExtension,B=L.getAllBehaviorNames().toJSArray(),U=Object(C.a)(),H=i.useContext(T.a).values,W=function(t){var n="Are you sure you want to remove this behavior? This can't be undone.",r=_.WholeProjectRefactorer.findDependentBehaviorNames(R,L,t).toJSArray();r.length>0&&(n+="\nDependent behaviors will be removed too: "+r.join(", ")),m.b.showConfirmDialog(n)&&(L.removeBehavior(t),r.forEach((function(e){return L.removeBehavior(e)})),e.onSizeUpdated&&e.onSizeUpdated()),e.onBehaviorsUpdated&&e.onBehaviorsUpdated()};return Object(M.jsxs)(O.a,{noMargin:!0,expand:!0,useFullHeight:!0,noOverflowParent:!0,children:[0===B.length?Object(M.jsx)(O.a,{noMargin:!0,expand:!0,justifyContent:"center",children:Object(M.jsx)(w.a,{title:Object(M.jsx)(o.Trans,{id:"Add your first behavior"}),description:Object(M.jsx)(o.Trans,{id:"Behaviors add features to objects in a matter of clicks."}),actionLabel:Object(M.jsx)(o.Trans,{id:"Add a behavior"}),helpPagePath:"/behaviors",tutorialId:"intro-behaviors-and-functions",actionButtonId:"add-behavior-button",onAction:function(){return l(!0)}})}):Object(M.jsxs)(i.Fragment,{children:[Object(M.jsx)(E.a,{children:B.map((function(t,n){var a=L.getBehavior(t),i=a.getTypeName(),c=_.MetadataProvider.getBehaviorMetadata(_.JsPlatform.get(),i);if(_.MetadataProvider.isBadBehaviorMetadata(c))return Object(M.jsxs)(k.a,{defaultExpanded:!0,id:"behavior-parameters-".concat(t),children:[Object(M.jsxs)(k.c,{actions:[Object(M.jsx)(b.a,{onClick:function(e){e.stopPropagation(),W(t)},children:Object(M.jsx)(d.a,{})},"delete")],children:[Object(M.jsxs)(j.a,{firstChild:!0,children:[Object(M.jsx)(o.Trans,{id:"Unknown behavior"})," "]}),Object(M.jsx)(O.a,{noMargin:!0,expand:!0,children:Object(M.jsx)(s.b,{margin:"none",value:t,disabled:!0})})]}),Object(M.jsx)(k.b,{children:Object(M.jsx)(p.a,{children:Object(M.jsx)(o.Trans,{id:"This behavior is unknown. It might be a behavior that was defined in an extension and that was later removed. You should delete it."})})})]},t);var u=g.a.getEditor(i),l=Object(P.a)(i),f=l.filter((function(e){return!H.hiddenTutorialHints[e]})),m=c.getIconFilename();return Object(M.jsxs)(k.a,{defaultExpanded:!0,id:"behavior-parameters-".concat(t),children:[Object(M.jsxs)(k.c,{actions:[Object(M.jsx)(h.a,{size:"small",helpPagePath:c.getHelpPath()},"help"),Object(M.jsx)(D.a,{element:Object(M.jsx)(b.a,{size:"small",children:Object(M.jsx)(F.a,{})}),buildMenuTemplate:function(n){return[{label:n._({id:"Delete"}),click:function(){return W(t)}}].concat(Object(r.a)(R.hasEventsBasedBehavior(i)?[{type:"separator"},{label:n._({id:"Edit this behavior"}),click:function(){return function(t){var n=t.split("::");if(2===n.length){var r=n[0],a=n[1];r&&e.project.hasEventsFunctionsExtensionNamed(r)&&e.openBehaviorEvents(r,a)}}(i)}}]:[]))}})],children:[m?Object(M.jsx)(S.a,{src:m,alt:c.getFullName(),size:20}):null,Object(M.jsx)(O.a,{expand:!0,children:Object(M.jsx)(s.b,{value:t,translatableHintText:{id:"Behavior name"},margin:"none",fullWidth:!0,disabled:!0,onChange:function(t,n){return function(t,n){L.hasBehaviorNamed(n)||(L.renameBehavior(t.getName(),n),U(),e.onBehaviorsUpdated&&e.onBehaviorsUpdated())}(a,n)},id:"behavior-".concat(t,"-name-text-field")})})]}),Object(M.jsx)(k.b,{children:Object(M.jsxs)(O.a,{expand:!0,noMargin:!0,noOverflowParent:!0,children:[f.length?Object(M.jsx)(O.c,{children:Object(M.jsx)(y.a,{expand:!0,children:l.map((function(e){return Object(M.jsx)(x.a,{tutorialId:e},e)}))})}):null,Object(M.jsx)(O.c,{children:Object(M.jsx)(u,{behavior:a,project:R,object:L,resourceManagementProps:e.resourceManagementProps,onBehaviorUpdated:e.onBehaviorsUpdated})})]})})]},t)}))}),Object(M.jsx)(O.a,{children:Object(M.jsx)(O.c,{justifyContent:"flex-end",expand:!0,children:Object(M.jsx)(v.a,{label:Object(M.jsx)(o.Trans,{id:"Add a behavior"}),primary:!0,onClick:function(){return l(!0)},icon:Object(M.jsx)(u.a,{}),id:"add-behavior-button"},"add-behavior-line")})})]}),c&&Object(M.jsx)(f.a,{open:c,objectType:L.getType(),objectBehaviorsTypes:Object(I.b)(L),onClose:function(){return l(!1)},onChoose:function(t,n){Object(I.a)(R,L,t,n)&&(l(!1),Object(A.g)({behaviorType:t,parentEditor:"behaviors-editor"})),U(),e.onSizeUpdated&&e.onSizeUpdated(),e.onUpdateBehaviorsSharedData(),e.onBehaviorsUpdated&&e.onBehaviorsUpdated()},project:R,eventsFunctionsExtension:N})]})}}).call(this,n(25))},,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return S}));var r=n(34),a=n(9),o=n(17),i=n(298),s=n(409),c=n(336),u=n(303),l=n(318),d=n(866),b=n(867),p=n(868),j=n(869),h=n(870),f=n(871),g=n(1222),m=n(1223),O=n(295),v=n(403),x=n.n(v),y=n(397),C=n.n(y),k=n(8),w=e.gd,T={icon:{width:40,height:40},disabledItem:{opacity:.6}},E=function(e){var t=e.icon,n=e.disabled,r=e.onChoose,a=e.name,o=e.description;return Object(k.jsx)(c.b,{leftIcon:t,primaryText:a,secondaryText:o,secondaryTextLines:2,onClick:function(){return r({functionType:w.EventsFunction.Action,name:a})},style:n?T.disabledItem:void 0,disabled:n})};function S(e){var t=e.eventsBasedBehavior,n=e.onChoose,v=e.onCancel,y=t.getEventsFunctions(),S=o.useState(!1),P=Object(r.a)(S,2),I=P[0],A=P[1];return Object(k.jsxs)(u.c,{title:Object(k.jsx)(a.Trans,{id:'Choose a new behavior function ("method")'}),secondaryActions:[Object(k.jsx)(l.a,{helpPagePath:"/behaviors/events-based-behaviors"},"help")],actions:[Object(k.jsx)(i.a,{label:Object(k.jsx)(a.Trans,{id:"Cancel"}),keyboardFocused:!0,onClick:v},"close")],open:!0,onRequestClose:v,children:[Object(k.jsxs)(c.a,{children:[Object(k.jsx)(c.b,{leftIcon:Object(k.jsx)(j.a,{style:T.icon}),primaryText:Object(k.jsx)(a.Trans,{id:"Action"}),secondaryText:Object(k.jsx)(a.Trans,{id:"An action that can be used on objects with the behavior. You can define the action parameters: objects, texts, numbers, layers, etc..."}),onClick:function(){return n({functionType:w.EventsFunction.Action,name:null})}}),Object(k.jsx)(c.b,{leftIcon:Object(k.jsx)(h.a,{style:T.icon}),primaryText:Object(k.jsx)(a.Trans,{id:"Condition"}),secondaryText:Object(k.jsx)(a.Trans,{id:"A condition that can be used on objects with the behavior. You can define the condition parameters: objects, texts, numbers, layers, etc..."}),onClick:function(){return n({functionType:w.EventsFunction.Condition,name:null})}}),Object(k.jsx)(c.b,{leftIcon:Object(k.jsx)(f.a,{style:T.icon}),primaryText:Object(k.jsx)(a.Trans,{id:"Expression"}),secondaryText:Object(k.jsx)(a.Trans,{id:"An expression that can be used on objects with the behavior. Can either return a number or a string, and take some parameters."}),onClick:function(){return n({functionType:w.EventsFunction.Expression,name:null})}}),Object(k.jsx)(s.a,{children:Object(k.jsx)(a.Trans,{id:"Lifecycle methods"})}),Object(k.jsx)(E,{icon:Object(k.jsx)(d.a,{style:T.icon}),name:"onCreated",disabled:y.hasEventsFunctionNamed("onCreated"),onChoose:n,description:Object(k.jsx)(a.Trans,{id:"Events that will be run once, when an object is created with this behavior being attached to it."})}),Object(k.jsx)(E,{icon:Object(k.jsx)(b.a,{style:T.icon}),name:"doStepPreEvents",disabled:y.hasEventsFunctionNamed("doStepPreEvents"),onChoose:n,description:Object(k.jsx)(a.Trans,{id:"Events that will be run at every frame (roughly 60 times per second), for every object that has the behavior attached, before the events from the events sheet are launched."})}),Object(k.jsx)(E,{icon:Object(k.jsx)(p.a,{style:T.icon}),name:"onDestroy",disabled:y.hasEventsFunctionNamed("onOwnerRemovedFromScene")||y.hasEventsFunctionNamed("onDestroy"),onChoose:n,description:Object(k.jsx)(a.Trans,{id:"Events that will be run once, after the object is removed from the scene and before it is entirely removed from memory."})}),I&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(s.a,{children:Object(k.jsx)(a.Trans,{id:"Other lifecycle methods"})}),Object(k.jsx)(E,{icon:Object(k.jsx)(m.a,{style:T.icon}),name:"onDeActivate",disabled:y.hasEventsFunctionNamed("onDeActivate"),onChoose:n,description:Object(k.jsx)(a.Trans,{id:"Events that will be run once when the behavior is deactivated on an object (step events won't be run until the behavior is activated again)."})}),Object(k.jsx)(E,{icon:Object(k.jsx)(g.a,{style:T.icon}),name:"onActivate",disabled:y.hasEventsFunctionNamed("onActivate"),onChoose:n,description:Object(k.jsx)(a.Trans,{id:"Events that will be run once when the behavior is re-activated on an object (after it was previously deactivated)."})}),Object(k.jsx)(E,{icon:Object(k.jsx)(b.a,{style:T.icon}),name:"doStepPostEvents",disabled:y.hasEventsFunctionNamed("doStepPostEvents"),onChoose:n,description:Object(k.jsx)(a.Trans,{id:"Events that will be run at every frame (roughly 60 times per second), for every object that has the behavior attached, after the events from the events sheet."})})]})]}),Object(k.jsx)(O.c,{justifyContent:"center",alignItems:"center",children:I?Object(k.jsx)(i.a,{leftIcon:Object(k.jsx)(C.a,{}),primary:!1,onClick:function(){return A(!1)},label:Object(k.jsx)(a.Trans,{id:"Hide other lifecycle functions (advanced)"})}):Object(k.jsx)(i.a,{leftIcon:Object(k.jsx)(x.a,{}),primary:!1,onClick:function(){return A(!0)},label:Object(k.jsx)(a.Trans,{id:"Show other lifecycle functions (advanced)"})})})]})}}).call(this,n(25))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return E}));var r=n(34),a=n(9),o=n(17),i=n(298),s=n(409),c=n(336),u=n(303),l=n(318),d=n(866),b=n(2183),p=n(867),j=n(868),h=n(869),f=n(870),g=n(871),m=n(295),O=n(403),v=n.n(O),x=n(397),y=n.n(x),C=n(8),k=e.gd,w={icon:{width:40,height:40},disabledItem:{opacity:.6}},T=function(e){var t=e.icon,n=e.disabled,r=e.onChoose,a=e.name,o=e.description;return Object(C.jsx)(c.b,{leftIcon:t,primaryText:a,secondaryText:o,secondaryTextLines:2,onClick:function(){return r({functionType:k.EventsFunction.Action,name:a})},style:n?w.disabledItem:void 0,disabled:n})};function E(e){var t=e.eventsBasedObject,n=e.onChoose,O=e.onCancel,x=t.getEventsFunctions(),E=o.useState(!1),S=Object(r.a)(E,2),P=S[0],I=S[1];return Object(C.jsxs)(u.c,{title:Object(C.jsx)(a.Trans,{id:'Choose a new object function ("method")'}),secondaryActions:[Object(C.jsx)(l.a,{helpPagePath:"/behaviors/events-based-behaviors"},"help")],actions:[Object(C.jsx)(i.a,{label:Object(C.jsx)(a.Trans,{id:"Cancel"}),keyboardFocused:!0,onClick:O},"close")],open:!0,onRequestClose:O,children:[Object(C.jsxs)(c.a,{children:[Object(C.jsx)(c.b,{leftIcon:Object(C.jsx)(h.a,{style:w.icon}),primaryText:Object(C.jsx)(a.Trans,{id:"Action"}),secondaryText:Object(C.jsx)(a.Trans,{id:"An action that can be used on the object. You can define the action parameters: objects, texts, numbers, layers, etc..."}),onClick:function(){return n({functionType:k.EventsFunction.Action,name:null})}}),Object(C.jsx)(c.b,{leftIcon:Object(C.jsx)(f.a,{style:w.icon}),primaryText:Object(C.jsx)(a.Trans,{id:"Condition"}),secondaryText:Object(C.jsx)(a.Trans,{id:"A condition that can be used on the object. You can define the condition parameters: objects, texts, numbers, layers, etc..."}),onClick:function(){return n({functionType:k.EventsFunction.Condition,name:null})}}),Object(C.jsx)(c.b,{leftIcon:Object(C.jsx)(g.a,{style:w.icon}),primaryText:Object(C.jsx)(a.Trans,{id:"Expression"}),secondaryText:Object(C.jsx)(a.Trans,{id:"An expression that can be used on the object. Can either return a number or a string, and take some parameters."}),onClick:function(){return n({functionType:k.EventsFunction.Expression,name:null})}}),Object(C.jsx)(s.a,{children:Object(C.jsx)(a.Trans,{id:"Lifecycle methods"})}),Object(C.jsx)(T,{icon:Object(C.jsx)(d.a,{style:w.icon}),name:"onCreated",disabled:x.hasEventsFunctionNamed("onCreated"),onChoose:n,description:Object(C.jsx)(a.Trans,{id:"Events that will be run once, when an object is created."})}),Object(C.jsx)(T,{icon:Object(C.jsx)(p.a,{style:w.icon}),name:"doStepPostEvents",disabled:x.hasEventsFunctionNamed("doStepPostEvents"),onChoose:n,description:Object(C.jsx)(a.Trans,{id:"Events that will be run at every frame (roughly 60 times per second), for every object, after the events from the events sheet."})}),Object(C.jsx)(T,{icon:Object(C.jsx)(j.a,{style:w.icon}),name:"onDestroy",disabled:x.hasEventsFunctionNamed("onOwnerRemovedFromScene")||x.hasEventsFunctionNamed("onDestroy"),onChoose:n,description:Object(C.jsx)(a.Trans,{id:"Events that will be run once, after the object is removed from the scene and before it is entirely removed from memory."})}),P&&Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(s.a,{children:Object(C.jsx)(a.Trans,{id:"Other lifecycle methods"})}),Object(C.jsx)(T,{icon:Object(C.jsx)(b.a,{style:w.icon}),name:"onHotReloading",disabled:x.hasEventsFunctionNamed("onHotReloading"),onChoose:n,description:Object(C.jsx)(a.Trans,{id:"Events that will be run when the preview is being hot-reloaded."})})]})]}),Object(C.jsx)(m.c,{justifyContent:"center",alignItems:"center",children:P?Object(C.jsx)(i.a,{leftIcon:Object(C.jsx)(y.a,{}),primary:!1,onClick:function(){return I(!1)},label:Object(C.jsx)(a.Trans,{id:"Hide other lifecycle functions (advanced)"})}):Object(C.jsx)(i.a,{leftIcon:Object(C.jsx)(v.a,{}),primary:!1,onClick:function(){return I(!0)},label:Object(C.jsx)(a.Trans,{id:"Show other lifecycle functions (advanced)"})})})]})}}).call(this,n(25))},function(e,t,n){"use strict";var r=n(3),a=(n(17),n(905)),o=n(8);t.a=function(e){return Object(o.jsxs)(a.a,Object(r.a)(Object(r.a)({},e),{},{viewBox:"0 -4.5 24 24",children:[Object(o.jsx)("polygon",{id:"Shape",transform:"translate(0,2)",points:"7.5 4.5 3 0 3 3 0 3 0 6 3 6 3 9",fill:"#2b3990"}),Object(o.jsx)("polygon",{transform:"translate(0,2)",points:"24 4.5 19.5 0 19.5 3 16.5 3 16.5 6 19.5 6 19.5 9",fill:"#2b3990"}),Object(o.jsx)("path",{d:"m12.5 0-4 8h3v5l4-8h-3z",fill:"#27aae1",fillRule:"evenodd"})]}))}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return S}));var r=n(34),a=n(9),o=n(17),i=n(298),s=n(409),c=n(336),u=n(303),l=n(318),d=n(866),b=n(867),p=n(868),j=n(869),h=n(870),f=n(871),g=n(1222),m=n(1223),O=n(403),v=n.n(O),x=n(397),y=n.n(x),C=n(295),k=n(8),w=e.gd,T={icon:{width:40,height:40},disabledItem:{opacity:.6}},E=function(e){var t=e.icon,n=e.disabled,r=e.onChoose,a=e.name,o=e.description;return Object(k.jsx)(c.b,{leftIcon:t,primaryText:a,secondaryText:o,secondaryTextLines:2,onClick:r,style:n?T.disabledItem:void 0,disabled:n})};function S(e){var t=e.eventsFunctionsExtension,n=e.onChoose,O=e.onCancel,x=o.useState(!1),S=Object(r.a)(x,2),P=S[0],I=S[1];return Object(k.jsxs)(u.c,{title:Object(k.jsx)(a.Trans,{id:"Choose a new extension function"}),actions:[Object(k.jsx)(i.a,{label:Object(k.jsx)(a.Trans,{id:"Cancel"}),keyboardFocused:!0,onClick:O},"close")],secondaryActions:[Object(k.jsx)(l.a,{helpPagePath:"/events/functions"},"help")],open:!0,onRequestClose:O,children:[Object(k.jsxs)(c.a,{children:[Object(k.jsx)(E,{icon:Object(k.jsx)(j.a,{style:T.icon}),name:Object(k.jsx)(a.Trans,{id:"Action"}),onChoose:function(){return n({functionType:w.EventsFunction.Action,name:null})},description:Object(k.jsx)(a.Trans,{id:"An action that can be used in other events sheet. You can define the action parameters: objects, texts, numbers, layers, etc..."})}),Object(k.jsx)(E,{icon:Object(k.jsx)(h.a,{style:T.icon}),name:Object(k.jsx)(a.Trans,{id:"Condition"}),onChoose:function(){return n({functionType:w.EventsFunction.Condition,name:null})},description:Object(k.jsx)(a.Trans,{id:"A condition that can be used in other events sheet. You can define the condition parameters: objects, texts, numbers, layers, etc..."})}),Object(k.jsx)(E,{icon:Object(k.jsx)(f.a,{style:T.icon}),name:Object(k.jsx)(a.Trans,{id:"Expression"}),onChoose:function(){return n({functionType:w.EventsFunction.Expression,name:null})},description:Object(k.jsx)(a.Trans,{id:"An expression that can be used in formulas. Can either return a number or a string, and take some parameters."})}),P&&Object(k.jsxs)(o.Fragment,{children:[Object(k.jsx)(s.a,{children:Object(k.jsx)(a.Trans,{id:"Lifecycle functions (advanced)"})}),Object(k.jsx)(E,{icon:Object(k.jsx)(d.a,{style:T.icon}),name:"onFirstSceneLoaded",disabled:t.hasEventsFunctionNamed("onFirstSceneLoaded"),onChoose:function(){return n({functionType:w.EventsFunction.Action,name:"onFirstSceneLoaded"})},description:Object(k.jsx)(a.Trans,{id:"Events that will be run once when the first scene of the game is loaded, before any other events."})}),Object(k.jsx)(E,{icon:Object(k.jsx)(d.a,{style:T.icon}),name:"onSceneLoaded",disabled:t.hasEventsFunctionNamed("onSceneLoaded"),onChoose:function(){return n({functionType:w.EventsFunction.Action,name:"onSceneLoaded"})},description:Object(k.jsx)(a.Trans,{id:"Events that will be run once when a scene of the game is loaded, before the scene events."})}),Object(k.jsx)(E,{icon:Object(k.jsx)(b.a,{style:T.icon}),name:"onScenePreEvents",disabled:t.hasEventsFunctionNamed("onScenePreEvents"),onChoose:function(){return n({functionType:w.EventsFunction.Action,name:"onScenePreEvents"})},description:Object(k.jsx)(a.Trans,{id:"Events that will be run at every frame (roughly 60 times per second), before the events from the events sheet of the scene."})}),Object(k.jsx)(E,{icon:Object(k.jsx)(b.a,{style:T.icon}),name:"onScenePostEvents",disabled:t.hasEventsFunctionNamed("onScenePostEvents"),onChoose:function(){return n({functionType:w.EventsFunction.Action,name:"onScenePostEvents"})},description:Object(k.jsx)(a.Trans,{id:"Events that will be run at every frame (roughly 60 times per second), after the events from the events sheet of the scene."})}),Object(k.jsx)(E,{icon:Object(k.jsx)(m.a,{style:T.icon}),name:"onScenePaused",disabled:t.hasEventsFunctionNamed("onScenePaused"),onChoose:function(){return n({functionType:w.EventsFunction.Action,name:"onScenePaused"})},description:Object(k.jsx)(a.Trans,{id:"Events that will be run once when a scene is paused (another scene is run on top of it)."})}),Object(k.jsx)(E,{icon:Object(k.jsx)(g.a,{style:T.icon}),name:"onSceneResumed",disabled:t.hasEventsFunctionNamed("onSceneResumed"),onChoose:function(){return n({functionType:w.EventsFunction.Action,name:"onSceneResumed"})},description:Object(k.jsx)(a.Trans,{id:"Events that will be run once when a scene is resumed (after it was previously paused)."})}),Object(k.jsx)(E,{icon:Object(k.jsx)(p.a,{style:T.icon}),name:"onSceneUnloading",disabled:t.hasEventsFunctionNamed("onSceneUnloading"),onChoose:function(){return n({functionType:w.EventsFunction.Action,name:"onSceneUnloading"})},description:Object(k.jsx)(a.Trans,{id:"Events that will be run once when a scene is about to be unloaded from memory. The previous scene that was paused will be resumed after this."})})]})]}),Object(k.jsx)(C.c,{justifyContent:"center",alignItems:"center",children:P?Object(k.jsx)(i.a,{leftIcon:Object(k.jsx)(y.a,{}),primary:!1,onClick:function(){return I(!1)},label:Object(k.jsx)(a.Trans,{id:"Hide lifecycle functions (advanced)"})}):Object(k.jsx)(i.a,{leftIcon:Object(k.jsx)(v.a,{}),primary:!1,onClick:function(){return I(!0)},label:Object(k.jsx)(a.Trans,{id:"Show lifecycle functions (advanced)"})})})]})}}).call(this,n(25))},function(e,t,n){"use strict";var r=n(34),a=n(9),o=n(17),i=n(295),s=n(298),c=n(865),u=n.n(c),l=n(357),d=n(8);t.a=o.forwardRef((function(e,t){var n=e.initialEditorName,c=e.editors,b=e.transitions,p=e.onEditorChanged,j=o.useState(n),h=Object(r.a)(j,2),f=h[0],g=h[1];o.useImperativeHandle(t,(function(){return{openEditor:function(e){g(e)}}})),o.useEffect((function(){p(f)}),[f,p]);var m=b[f],O="space-between";return m&&(m.previousEditor&&!m.nextEditor&&(O="flex-start"),!m.previousEditor&&m.nextEditor&&(O="flex-end")),Object(d.jsxs)(i.a,{noMargin:!0,expand:!0,noOverflowParent:!0,children:[m&&Object(d.jsx)(l.a,{maxWidth:!0,noExpand:!0,noFullHeight:!0,children:Object(d.jsx)(i.a,{children:Object(d.jsxs)(i.c,{justifyContent:O,children:[m.previousEditor&&Object(d.jsx)(s.a,{label:Object(d.jsx)(a.Trans,{id:"Back"}),onClick:function(){m.previousEditor&&g(m.previousEditor)},leftIcon:Object(d.jsx)(u.a,{})}),m.nextLabel&&m.nextEditor&&Object(d.jsx)(s.a,{label:m.nextLabel,onClick:function(){m.nextEditor&&g(m.nextEditor)},leftIcon:m.nextIcon})]})})}),c[f]?c[f].renderEditor():null]})}))},function(e,t,n){"use strict";var r=n(9),a=(n(17),n(357)),o=n(295),i=n(296),s=n(305),c=n(298),u=n(8);t.a=function(e){var t=e.eventsFunctionsExtension.getEventsFunctionsCount(),n=e.eventsFunctionsExtension.getEventsBasedBehaviors().getCount();return Object(u.jsx)(r.I18n,{children:function(l){var d=l.i18n;return Object(u.jsx)(a.a,{children:Object(u.jsxs)(o.a,{children:[Object(u.jsx)(i.a,{children:Object(u.jsx)(r.Trans,{id:"Extensions can provide functions (which can be actions, conditions or expressions) or new behaviors."})}),Object(u.jsx)(s.a,{label:d._({id:"Edit functions (not attached to behaviors) ({eventsFunctionsCount})",values:{eventsFunctionsCount:t}}),onClick:e.onEditFreeFunctions,primary:!0}),Object(u.jsx)(o.d,{}),Object(u.jsx)(s.a,{label:d._({id:"Edit behaviors ({eventsBasedBehaviorsCount})",values:{eventsBasedBehaviorsCount:n}}),onClick:e.onEditBehaviors,primary:!0}),Object(u.jsx)(o.d,{}),Object(u.jsx)(c.a,{label:Object(u.jsx)(r.Trans,{id:"Edit extension options"}),onClick:e.onEditExtensionOptions})]})})}})}},,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(6),a=n(5),o=n(2192),i=(n(491),n(329)),s=n(367),c=function(){function e(t){var n=this,a=t.project,o=t.layout,c=t.instances,u=t.viewPosition,l=t.onInstanceClicked,d=t.onInstanceRightClicked,b=t.onInstanceDoubleClicked,p=t.onOverInstance,j=t.onOutInstance,h=t.onMoveInstance,f=t.onMoveInstanceEnd,g=t.onDownInstance;Object(r.a)(this,e),this.project=a,this.instances=c,this.layout=o,this.viewPosition=u,this.onInstanceClicked=l,this.onInstanceRightClicked=d,this.onInstanceDoubleClicked=b,this.onOverInstance=p,this.onOutInstance=j,this.onMoveInstance=h,this.onMoveInstanceEnd=f,this.onDownInstance=g,this.layersRenderers={},this.pixiContainer=new i.Container,this.temporaryRectangle=new s.a,this.instanceMeasurer={getInstanceAABB:function(e,t){var r=e.getLayer(),a=n.layersRenderers[r];return a?a.getInstanceAABB(e,t):(t.left=e.getX(),t.top=e.getY(),t.right=e.getX(),t.bottom=e.getY(),t)},getUnrotatedInstanceAABB:function(e,t){var r=e.getLayer(),a=n.layersRenderers[r];return a?a.getUnrotatedInstanceAABB(e,t):(t.left=e.getX(),t.top=e.getY(),t.right=e.getX(),t.bottom=e.getY(),t)}}}return Object(a.a)(e,[{key:"getPixiContainer",value:function(){return this.pixiContainer}},{key:"getInstanceMeasurer",value:function(){return this.instanceMeasurer}},{key:"render",value:function(){for(var e=0;e<this.layout.getLayersCount();e++){var t=this.layout.getLayerAt(e),n=t.getName(),r=this.layersRenderers[n];r||(this.layersRenderers[n]=r=new o.a({project:this.project,layout:this.layout,instances:this.instances,viewPosition:this.viewPosition,layer:t,onInstanceClicked:this.onInstanceClicked,onInstanceRightClicked:this.onInstanceRightClicked,onInstanceDoubleClicked:this.onInstanceDoubleClicked,onOverInstance:this.onOverInstance,onOutInstance:this.onOutInstance,onMoveInstance:this.onMoveInstance,onMoveInstanceEnd:this.onMoveInstanceEnd,onDownInstance:this.onDownInstance}),this.pixiContainer.addChild(r.getPixiContainer())),r.layer=t,r.wasUsed=!0,r.getPixiContainer().zOrder=e,r.render()}this._updatePixiObjectsZOrder(),this._cleanUnusedLayerRenderers()}},{key:"_updatePixiObjectsZOrder",value:function(){this.pixiContainer.children.sort((function(e,t){return e.zOrder=e.zOrder||0,t.zOrder=t.zOrder||0,e.zOrder-t.zOrder}))}},{key:"resetInstanceRenderersFor",value:function(e){for(var t in this.layersRenderers){if(this.layersRenderers.hasOwnProperty(t))this.layersRenderers[t].resetInstanceRenderersFor(e)}}},{key:"_cleanUnusedLayerRenderers",value:function(){for(var e in this.layersRenderers)if(this.layersRenderers.hasOwnProperty(e)){var t=this.layersRenderers[e];t.wasUsed?t.wasUsed=!1:(this.pixiContainer.removeChild(t.getPixiContainer()),t.delete(),delete this.layersRenderers[e])}}},{key:"delete",value:function(){for(var e in this.layersRenderers)this.layersRenderers.hasOwnProperty(e)&&this.layersRenderers[e].delete();this.pixiContainer.destroy()}}]),e}()},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return h}));var r=n(6),a=n(5),o=n(872),i=n.n(o),s=n(378),c=(n(416),n(388)),u=(n(491),n(329)),l=n(1229),d=n(2193),b=n(367),p=n(2194),j=e.gd,h=function(){function e(t){var n=this,a=t.project,o=t.layout,p=t.layer,h=t.viewPosition,f=t.instances,g=t.onInstanceClicked,m=t.onInstanceRightClicked,O=t.onInstanceDoubleClicked,v=t.onOverInstance,x=t.onOutInstance,y=t.onMoveInstance,C=t.onMoveInstanceEnd,k=t.onDownInstance;Object(r.a)(this,e),this.renderedInstances={},this.wasUsed=!1,this._temporaryRectangle=new b.a,this._temporaryRectanglePath=[[0,0],[0,0],[0,0],[0,0]],this.getUnrotatedInstanceLeft=function(e){return e.getX()-(n.renderedInstances[e.ptr]?n.renderedInstances[e.ptr].getOriginX():0)},this.getUnrotatedInstanceTop=function(e){return e.getY()-(n.renderedInstances[e.ptr]?n.renderedInstances[e.ptr].getOriginY():0)},this.getUnrotatedInstanceWidth=function(e){return e.hasCustomSize()?e.getCustomWidth():n.renderedInstances[e.ptr]?n.renderedInstances[e.ptr].getDefaultWidth():0},this.getUnrotatedInstanceHeight=function(e){return e.hasCustomSize()?e.getCustomHeight():n.renderedInstances[e.ptr]?n.renderedInstances[e.ptr].getDefaultHeight():0},this.getRendererOfInstance=function(e){var t=n.renderedInstances[e.ptr];if(void 0===t){var r=e.getObjectName(),a=Object(c.a)(n.project,n.layout,r);if(!a)return null;(t=n.renderedInstances[e.ptr]=s.a.createNewInstanceRenderer(n.project,n.layout,e,a.getConfiguration(),n.pixiContainer))._pixiObject.interactive=!0,i.a.panable(t._pixiObject),Object(d.a)(t._pixiObject),t._pixiObject.on("click",(function(t){0===t.data.originalEvent.button&&n.onInstanceClicked(e)})),t._pixiObject.on("doubleclick",(function(){n.onInstanceDoubleClicked(e)})),t._pixiObject.on("mouseover",(function(){n.onOverInstance(e)})),t._pixiObject.on("mousedown",(function(t){if(0===t.data.originalEvent.button){var r=t.data.global,a=n.viewPosition.toSceneCoordinates(r.x,r.y);n.onDownInstance(e,a[0],a[1])}})),t._pixiObject.on("rightclick",(function(t){var r=t.data,a=r.global,o=r.originalEvent,i=n.viewPosition.toSceneCoordinates(a.x,a.y);return n.onDownInstance(e,i[0],i[1]),n.onInstanceRightClicked&&n.onInstanceRightClicked({offsetX:o.offsetX,offsetY:o.offsetY,x:o.clientX,y:o.clientY}),!1})),t._pixiObject.on("touchstart",(function(t){if(Object(l.b)(t.data&&t.data.originalEvent))return null;var r=t.data.global,a=n.viewPosition.toSceneCoordinates(r.x,r.y);n.onDownInstance(e,a[0],a[1])})),t._pixiObject.on("mouseout",(function(){n.onOutInstance(e)})),t._pixiObject.on("panmove",(function(t){if(Object(l.b)(t.data&&t.data.originalEvent))return null;n.onMoveInstance(e,t.deltaX,t.deltaY)})),t._pixiObject.on("panend",(function(e){n.onMoveInstanceEnd()}))}return t},this.project=a,this.instances=f,this.layout=o,this.layer=p,this.viewPosition=h,this.onInstanceClicked=g,this.onInstanceRightClicked=m,this.onInstanceDoubleClicked=O,this.onOverInstance=v,this.onOutInstance=x,this.onMoveInstance=y,this.onMoveInstanceEnd=C,this.onDownInstance=k,this.viewTopLeft=[0,0],this.viewBottomRight=[0,0],this.pixiContainer=new u.Container,this.instancesRenderer=new j.InitialInstanceJSFunctor,this.instancesRenderer.invoke=function(e){var t=j.wrapPointer(e,j.InitialInstance),r=n.getRendererOfInstance(t);if(r){var a=r.getPixiObject();a&&(a.zOrder=t.getZOrder());var o=n._isInstanceVisible(t);a&&(a.visible=o,a.interactive=!(t.isLocked()&&t.isSealed())),o&&r.update(),r.wasUsed=!0}}}return Object(a.a)(e,[{key:"getPixiContainer",value:function(){return this.pixiContainer}},{key:"getUnrotatedInstanceAABB",value:function(e,t){var n=this.getUnrotatedInstanceLeft(e),r=this.getUnrotatedInstanceTop(e),a=n+this.getUnrotatedInstanceWidth(e),o=r+this.getUnrotatedInstanceHeight(e);return t.set({left:n,top:r,right:a,bottom:o}),t}},{key:"_getInstanceRotatedRectangle",value:function(e){var t=this.getUnrotatedInstanceLeft(e),n=this.getUnrotatedInstanceTop(e),r=t+this.getUnrotatedInstanceWidth(e),a=n+this.getUnrotatedInstanceHeight(e),o=this._temporaryRectanglePath;o[0][0]=t,o[0][1]=n,o[1][0]=t,o[1][1]=a,o[2][0]=r,o[2][1]=a,o[3][0]=r,o[3][1]=n;var i=void 0,s=void 0;this.renderedInstances[e.ptr]&&(i=t+this.renderedInstances[e.ptr].getCenterX(),s=n+this.renderedInstances[e.ptr].getCenterY()),void 0!==i&&void 0!==s||(i=(o[0][0]+o[2][0])/2,s=(o[0][1]+o[2][1])/2);var c=e.getAngle()*Math.PI/180;return Object(p.a)(o,i,s,c),o}},{key:"getInstanceAABB",value:function(e,t){if(0===e.getAngle()*Math.PI/180)return this.getUnrotatedInstanceAABB(e,t);for(var n=this._getInstanceRotatedRectangle(e),r=Number.MAX_VALUE,a=-Number.MAX_VALUE,o=Number.MAX_VALUE,i=-Number.MAX_VALUE,s=0,c=n.length;s<c;++s)r=Math.min(r,n[s][0]),a=Math.max(a,n[s][0]),o=Math.min(o,n[s][1]),i=Math.max(i,n[s][1]);return t.set({left:r,top:o,right:a,bottom:i}),t}},{key:"_isInstanceVisible",value:function(e){var t=this.getInstanceAABB(e,this._temporaryRectangle);return!(t.left+t.width()<this.viewTopLeft[0]||t.top+t.height()<this.viewTopLeft[1]||t.left>this.viewBottomRight[0]||t.top>this.viewBottomRight[1])}},{key:"_computeViewBounds",value:function(){var e=100;this.viewTopLeft=this.viewPosition.toSceneCoordinates(-100,-100),this.viewBottomRight=this.viewPosition.toSceneCoordinates(this.viewPosition.getWidth()+e,this.viewPosition.getHeight()+e)}},{key:"render",value:function(){this._computeViewBounds(),this.instances.iterateOverInstancesWithZOrdering(this.instancesRenderer,this.layer.getName()),this._updatePixiObjectsZOrder(),this._updateVisibility(),this._destroyUnusedInstanceRenderers()}},{key:"_updatePixiObjectsZOrder",value:function(){this.pixiContainer.children.sort((function(e,t){return e.zOrder=e.zOrder||0,t.zOrder=t.zOrder||0,e.zOrder-t.zOrder}))}},{key:"_updateVisibility",value:function(){this.pixiContainer.visible=this.layer.getVisibility()}},{key:"resetInstanceRenderersFor",value:function(e){for(var t in this.renderedInstances){var n=Number(t);if(this.renderedInstances.hasOwnProperty(n)){var r=this.renderedInstances[n];r.getInstance().getObjectName()===e&&(r.onRemovedFromScene(),delete this.renderedInstances[n])}}}},{key:"_destroyUnusedInstanceRenderers",value:function(){for(var e in this.renderedInstances){var t=Number(e);if(this.renderedInstances.hasOwnProperty(t)){var n=this.renderedInstances[t];n.wasUsed?n.wasUsed=!1:(n.onRemovedFromScene(),delete this.renderedInstances[t])}}}},{key:"delete",value:function(){for(var e in this.renderedInstances){var t=Number(e);if(this.renderedInstances.hasOwnProperty(t))this.renderedInstances[t].onRemovedFromScene(),delete this.renderedInstances[t]}this.pixiContainer.destroy(),this.instancesRenderer.delete()}}]),e}()}).call(this,n(25))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n(329);var r=function(e){var t=0,n=0,r=0,a=function(a){var o=a.data.global,i=o.x,s=o.y,c=Date.now();c-t<500&&Math.abs(i-n)<=10&&Math.abs(s-r)<=10&&setTimeout((function(){e.emit("doubleclick",a)})),t=c,n=i,r=s};e.interactive=!0,e.on("click",a),e.on("touchend",a)}},function(e,t,n){"use strict";function r(e,t,n,r){for(var a=Math.cos(-r),o=Math.sin(-r),i=0,s=e.length;i<s;++i){var c=e[i][0]-t,u=e[i][1]-n;e[i][0]=t+c*a+u*o,e[i][1]=n-c*o+u*a}}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(24),a=n(6),o=n(5),i=n(872),s=n.n(i),c=n(691),u=n(329),l=(n(692),n(1230)),d=n(367),b={TopLeft:"nwse-resize",BottomLeft:"nesw-resize",BottomRight:"nwse-resize",TopRight:"nesw-resize",Top:"ns-resize",Left:"ew-resize",Bottom:"ns-resize",Right:"ew-resize"},p=function(){function e(t){var n=this,o=t.instancesSelection,i=t.instanceMeasurer,s=t.onResize,c=t.onResizeEnd,d=t.onRotate,p=t.onRotateEnd,j=t.toCanvasCoordinates,h=t.screenType;Object(a.a)(this,e),this.pixiContainer=new u.Container,this.rectanglesContainer=new u.Container,this.selectedRectangles=[],this.resizeButtons={},this.rotateButton=new u.Graphics,this.instanceMeasurer=i,this.onResize=s,this.onResizeEnd=c,this.onRotate=d,this.onRotateEnd=p,this.toCanvasCoordinates=j,this.instancesSelection=o,this._screenType=h,this.pixiContainer.addChild(this.rectanglesContainer);var f,g=Object(r.a)(l.d);try{var m=function(){var e=f.value,t=new u.Graphics;n.resizeButtons[e]=t,n._makeButton(t,(function(t){n.onResize(t.deltaX,t.deltaY,e)}),(function(){n.onResizeEnd()}),b[e])};for(g.s();!(f=g.n()).done;)m()}catch(O){g.e(O)}finally{g.f()}this._makeButton(this.rotateButton,(function(e){n.onRotate(e.deltaX,e.deltaY)}),(function(){n.onRotateEnd()}),'url("res/actions/rotate24_black.png"),auto')}return Object(o.a)(e,[{key:"setScreenType",value:function(e){this._screenType=e}},{key:"_makeButton",value:function(e,t,n,r){e.interactive=!0,e.buttonMode=!0,e.cursor=r,s.a.panable(e),e.on("panmove",t),e.on("panend",n),this.pixiContainer.addChild(e)}},{key:"getPixiContainer",value:function(){return this.pixiContainer}},{key:"_renderButton",value:function(e,t,n,r,a,o){t.clear(),e?(t.beginFill(16777215),t.lineStyle(1,6842600,1),t.fill.alpha=.9,0===a?t.drawRect(n[0],n[1],r,r):1===a&&t.drawCircle(n[0]+r/2,n[1]+r/2,r/2),t.endFill(),t.hitArea=new u.Rectangle(n[0]-o,n[1]-o,r+2*o,r+2*o)):t.hitArea=new u.Rectangle(0,0,0,0)}},{key:"render",value:function(){for(var e="touch"===this._screenType?{bigButtonSize:14,smallButtonSize:12,buttonPadding:5,hitAreaPadding:12}:{bigButtonSize:10,smallButtonSize:8,buttonPadding:5,hitAreaPadding:5},t=e.bigButtonSize,n=e.smallButtonSize,a=e.buttonPadding,o=e.hitAreaPadding,i=this.instancesSelection.getSelectedInstances(),s=0,b=0,p=0,j=0,h=!1,f=0;f<i.length;f++){if(this.selectedRectangles.length===f){var g=new u.Graphics;g.hitArea=new u.Rectangle(0,0,0,0),this.selectedRectangles.push(g),this.rectanglesContainer.addChild(g)}var m=i[f],O=this.instanceMeasurer.getInstanceAABB(m,new d.a),v=Object(c.a)(this.toCanvasCoordinates,O);this.selectedRectangles[f].clear();var x=m.isLocked()?12343123:6842600;this.selectedRectangles[f].beginFill(x),this.selectedRectangles[f].lineStyle(1,x,1),this.selectedRectangles[f].fill.alpha=.3,this.selectedRectangles[f].alpha=.8,this.selectedRectangles[f].drawRect(v.left,v.top,v.width(),v.height()),this.selectedRectangles[f].endFill(),m.isLocked()||(h?(O.left<s&&(s=O.left),O.top<b&&(b=O.top),O.left+O.width()>p&&(p=O.left+O.width()),O.top+O.height()>j&&(j=O.top+O.height())):(s=O.left,b=O.top,p=O.left+O.width(),j=O.top+O.height(),h=!0))}for(;this.selectedRectangles.length>i.length;)this.rectanglesContainer.removeChild(this.selectedRectangles.pop());var y,C=0!==i.filter((function(e){return!e.isLocked()})).length,k=Object(r.a)(l.d);try{for(k.s();!(y=k.n()).done;){var w=y.value,T=this.resizeButtons[w],E=l.e[w],S=Object(l.a)(w)&&Object(l.b)(w)?t:n,P=a+S/2,I=this.toCanvasCoordinates(s-P+E[0]*(p-s+2*P),b-P+E[1]*(j-b+2*P));I[0]-=S/2,I[1]-=S/2,this._renderButton(C,T,I,S,0,o)}}catch(D){k.e(D)}finally{k.f()}var A=this.toCanvasCoordinates(s+(p-s)/2,b);A[0]-=n/2,A[1]-=8*a,this._renderButton(C,this.rotateButton,A,n,1,o)}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(6),a=n(5),o=n(691),i=n(329),s=n(367),c=function(){function e(t){var n=t.instanceMeasurer,a=t.toCanvasCoordinates;Object(r.a)(this,e),this.instanceMeasurer=n,this.toCanvasCoordinates=a,this.highlightedInstance=null,this.highlightRectangle=new i.Graphics,this.highlightRectangle.hitArea=new i.Rectangle(0,0,0,0),this.tooltipBackground=new i.Graphics,this.tooltipText=new i.Text("",{fontSize:15,fill:16777215,align:"center"}),this.highlightRectangle.addChild(this.tooltipBackground),this.highlightRectangle.addChild(this.tooltipText)}return Object(a.a)(e,[{key:"setInstance",value:function(e){this.highlightedInstance=e}},{key:"getInstance",value:function(){return this.highlightedInstance}},{key:"getPixiObject",value:function(){return this.highlightRectangle}},{key:"render",value:function(){var e=this.highlightedInstance;if(null!==e){var t=Object(o.a)(this.toCanvasCoordinates,this.instanceMeasurer.getInstanceAABB(e,new s.a));this.highlightRectangle.visible=!0,this.highlightRectangle.clear(),this.highlightRectangle.beginFill(15658751),this.highlightRectangle.fill.alpha=.1,this.highlightRectangle.alpha=.8,this.highlightRectangle.lineStyle(1,0,1),this.highlightRectangle.drawRect(t.left,t.top,t.width(),t.height()),this.highlightRectangle.endFill();var n=e.getObjectName()+"\nX: "+Math.round(100*e.getX())/100+"  Y: "+Math.round(100*e.getY())/100+"\nLayer: "+(e.getLayer()||"Base layer")+"\nZ: "+e.getZOrder()+"\n";this.tooltipText.text=n,this.tooltipText.x=Math.round(t.left-this.tooltipText.width/2+t.width()/2),this.tooltipText.y=Math.round(t.top-this.tooltipText.height);this.tooltipBackground.clear(),this.tooltipBackground.beginFill(0,.8),this.tooltipBackground.drawRoundedRect(this.tooltipText.x-5,this.tooltipText.y-5,this.tooltipText.width+10,this.tooltipText.height-5,4),this.tooltipBackground.endFill()}else this.highlightRectangle.visible=!1}}]),e}()},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c}));var r=n(6),a=n(5),o=n(329),i=n(367),s=e.gd,c=function(){function e(t){var n=this,a=t.instances,c=t.instanceMeasurer,u=t.toSceneCoordinates;Object(r.a)(this,e),this.startSelectionRectangle=function(e,t){n.selectionRectangleStart={x:e,y:t},n.selectionRectangleEnd={x:e,y:t}},this.updateSelectionRectangle=function(e,t){n.selectionRectangleStart||(n.selectionRectangleStart={x:e,y:t}),n.selectionRectangleEnd={x:e,y:t}},this.endSelectionRectangle=function(){if(!n.selectionRectangleStart||!n.selectionRectangleEnd)return[];if(n._instancesInSelectionRectangle.length=0,n.selectionRectangleStart.x>n.selectionRectangleEnd.x){var e=n.selectionRectangleStart.x;n.selectionRectangleStart.x=n.selectionRectangleEnd.x,n.selectionRectangleEnd.x=e}if(n.selectionRectangleStart.y>n.selectionRectangleEnd.y){var t=n.selectionRectangleStart.y;n.selectionRectangleStart.y=n.selectionRectangleEnd.y,n.selectionRectangleEnd.y=t}return n.instances.iterateOverInstances(n.selector),n.selectionRectangleStart=null,n._instancesInSelectionRectangle},this.instances=a,this.instanceMeasurer=c,this.toSceneCoordinates=u,this.pixiRectangle=new o.Graphics,this.pixiRectangle.hitArea=new o.Rectangle(0,0,0,0),this.selectionRectangleStart=null,this.selectionRectangleEnd=null,this._instancesInSelectionRectangle=[],this._temporaryAABB=new i.a,this.selector=new s.InitialInstanceJSFunctor,this.selector.invoke=function(e){var t=s.wrapPointer(e,s.InitialInstance),r=n.instanceMeasurer.getInstanceAABB(t,n._temporaryAABB),a=n.selectionRectangleEnd,o=n.selectionRectangleStart;if(o&&a){var i=u(o.x,o.y),c=u(a.x,a.y);i[0]<=r.left&&r.right<=c[0]&&i[1]<=r.top&&r.bottom<=c[1]&&n._instancesInSelectionRectangle.push(t)}}}return Object(a.a)(e,[{key:"hasStartedSelectionRectangle",value:function(){return this.selectionRectangleStart}},{key:"getPixiObject",value:function(){return this.pixiRectangle}},{key:"render",value:function(){if(this.selectionRectangleStart&&this.selectionRectangleEnd){var e=this.selectionRectangleStart.x,t=this.selectionRectangleStart.y,n=this.selectionRectangleEnd.x,r=this.selectionRectangleEnd.y;this.pixiRectangle.visible=!0,this.pixiRectangle.clear(),this.pixiRectangle.beginFill(6842600),this.pixiRectangle.lineStyle(1,6842600,1),this.pixiRectangle.fill.alpha=.1,this.pixiRectangle.alpha=.8,this.pixiRectangle.drawRect(Math.min(e,n),Math.min(t,r),Math.abs(n-e),Math.abs(r-t)),this.pixiRectangle.endFill()}else this.pixiRectangle.visible=!1}},{key:"delete",value:function(){this.selector.delete()}}]),e}()}).call(this,n(25))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(6),a=n(5),o=n(367),i=function(){function e(t){Object(r.a)(this,e),this._instanceAngles={},this._instancePositions={},this._instanceAABBs={},this.totalDeltaX=0,this.totalDeltaY=0,this._fixedPointIsUpToDate=!1,this._fixedPoint=[0,0],this._instanceMeasurer=t}return Object(a.a)(e,[{key:"_getNewAngle",value:function(e,t){var n=180*Math.atan2(this.totalDeltaY,this.totalDeltaX)/Math.PI+90+t;return e?15*Math.round(n/15):n}},{key:"_getOrCreateInstanceAABB",value:function(e){var t=this._instanceAABBs[e.ptr];return t||(this._instanceAABBs[e.ptr]=this._instanceMeasurer.getInstanceAABB(e,new o.a))}},{key:"_getOrCreateInstanceOriginPosition",value:function(e){var t=this._instancePositions[e.ptr];return t||(this._instancePositions[e.ptr]={x:e.getX(),y:e.getY()})}},{key:"_getOrCreateInstanceAngle",value:function(e){var t=this._instanceAngles[e.ptr];return void 0!==t?t:this._instanceAngles[e.ptr]=e.getAngle()}},{key:"rotateBy",value:function(e,t,n,r){var a=e.filter((function(e){return!e.isLocked()}));if(!this._fixedPointIsUpToDate){this._fixedPointIsUpToDate=!0;var i=new o.a;i.setRectangle(this._getOrCreateInstanceAABB(a[0]));for(var s=1;s<a.length;s++)i.union(this._getOrCreateInstanceAABB(a[s]));this._fixedPoint[0]=i.centerX(),this._fixedPoint[1]=i.centerY(),this.totalDeltaY-=i.height()/2}this.totalDeltaX+=t,this.totalDeltaY+=n;for(var c=0;c<a.length;c++){var u=a[c],l=this._getOrCreateInstanceAABB(u),d=this._getOrCreateInstanceAngle(u),b=this._getOrCreateInstanceOriginPosition(u),p=this._getNewAngle(r,d),j=Math.round((p%360+360)%360);u.setAngle(j);var h=(p-d)*Math.PI/180,f=Math.cos(-h),g=Math.sin(-h),m=l.centerX()-this._fixedPoint[0],O=l.centerY()-this._fixedPoint[1],v=Math.round(this._fixedPoint[0]+(b.x-l.centerX())+f*m+g*O),x=Math.round(this._fixedPoint[1]+(b.y-l.centerY())-g*m+f*O);u.setX(v),u.setY(x)}}},{key:"endRotate",value:function(){this._instanceAngles={},this._instancePositions={},this._instanceAABBs={},this.totalDeltaX=0,this.totalDeltaY=0,this._fixedPointIsUpToDate=!1}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(6),a=n(5),o=n(873),i=n(367),s=function(){function e(t){var n=t.instanceMeasurer,a=t.instancesEditorSettings;Object(r.a)(this,e),this._initialSelectionAABB=null,this._startX=0,this._startY=0,this.instanceMeasurer=n,this.instancesEditorSettings=a,this.instancePositions={},this.totalDeltaX=0,this.totalDeltaY=0,this._temporaryPoint=[0,0]}return Object(a.a)(e,[{key:"setInstancesEditorSettings",value:function(e){this.instancesEditorSettings=e}},{key:"_getMoveDeltaX",value:function(e,t,n){return n&&Math.abs(e)<Math.abs(t)?0:e}},{key:"_getMoveDeltaY",value:function(e,t,n){return n&&Math.abs(t)<Math.abs(e)?0:t}},{key:"_getOrCreateSelectionAABB",value:function(e){if(this._initialSelectionAABB)return this._initialSelectionAABB;if(!e.length)return null;var t=new i.a;this.instanceMeasurer.getInstanceAABB(e[0],t);for(var n=new i.a,r=1;r<e.length;r++)this.instanceMeasurer.getInstanceAABB(e[r],n),t.union(n);return this._initialSelectionAABB=t,t}},{key:"startMove",value:function(e,t){this._startX=e,this._startY=t}},{key:"moveBy",value:function(e,t,n,r,a){this.totalDeltaX+=t,this.totalDeltaY+=n;var i=e.filter((function(e){return!e.isLocked()})),s=this._getOrCreateSelectionAABB(i);if(s){var c=this._startX<s.centerX(),u=this._startY<s.centerY(),l=c?s.left:s.right,d=u?s.top:s.bottom,b=this._temporaryPoint;b[0]=l+this.totalDeltaX,b[1]=d+this.totalDeltaY,this.instancesEditorSettings.snap&&this.instancesEditorSettings.grid&&!a?Object(o.a)(b,this.instancesEditorSettings.gridWidth,this.instancesEditorSettings.gridHeight,this.instancesEditorSettings.gridOffsetX,this.instancesEditorSettings.gridOffsetY,this.instancesEditorSettings.gridType):(b[0]=Math.round(b[0]),b[1]=Math.round(b[1]));for(var p=b[0]-l,j=b[1]-d,h=0;h<i.length;h++){var f=i[h],g=this.instancePositions[f.ptr];g||(g=this.instancePositions[f.ptr]={x:f.getX(),y:f.getY()});var m=Math.round(g.x+this._getMoveDeltaX(p,j,r)),O=Math.round(g.y+this._getMoveDeltaY(p,j,r));f.setX(m),f.setY(O)}}}},{key:"endMove",value:function(){this._initialSelectionAABB=null,this.instancePositions={},this.totalDeltaX=0,this.totalDeltaY=0}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(6),a=n(5),o=n(329),i=(n(491),function(){function e(t){var n=t.viewPosition,a=t.instancesEditorSettings;Object(r.a)(this,e),this.pixiGrid=new o.Graphics,this.viewPosition=n,this.instancesEditorSettings=a,this.pixiGrid.hitArea=new o.Rectangle(0,0,0,0)}return Object(a.a)(e,[{key:"setInstancesEditorSettings",value:function(e){this.instancesEditorSettings=e}},{key:"getPixiObject",value:function(){return this.pixiGrid}},{key:"render",value:function(){var e=this.instancesEditorSettings;if(e.grid){var t=e.gridColor,n=e.gridAlpha;this.pixiGrid.visible=!0,this.pixiGrid.clear(),this.pixiGrid.beginFill(t),this.pixiGrid.lineStyle(1,t,1),this.pixiGrid.alpha=n;var r=this.viewPosition.toSceneCoordinates(0,0),a=this.viewPosition.toSceneCoordinates(this.viewPosition.getWidth(),this.viewPosition.getHeight()),o=(e.gridOffsetX%e.gridWidth+e.gridWidth)%e.gridWidth,i=(e.gridOffsetY%e.gridHeight+e.gridHeight)%e.gridHeight,s=Math.floor((r[0]-o)/e.gridWidth)*e.gridWidth+o,c=Math.floor((r[1]-i)/e.gridHeight)*e.gridHeight+i,u=Math.ceil((a[0]-o)/e.gridWidth)*e.gridWidth+o,l=Math.ceil((a[1]-i)/e.gridHeight)*e.gridHeight+i;if("isometric"===e.gridType){for(var d=Math.round((u-s)/e.gridWidth),b=Math.round((l-c)/e.gridHeight),p=d+b,j=0;j<p;++j){var h=void 0,f=void 0;j<d?(h=s+e.gridWidth/2+j*e.gridWidth,f=c):(h=u,f=c+e.gridHeight/2+(j-d)*e.gridHeight);var g=void 0,m=void 0;j<b?(g=s,m=c+e.gridHeight/2+j*e.gridHeight):(g=s+e.gridWidth/2+(j-b)*e.gridWidth,m=l);var O=this.viewPosition.toCanvasCoordinates(h,f),v=this.viewPosition.toCanvasCoordinates(g,m);this.pixiGrid.moveTo(O[0],O[1]),this.pixiGrid.lineTo(v[0],v[1])}for(var x=0;x<p;++x){var y=void 0,C=void 0;x<b?(y=s,C=c+e.gridHeight/2+(b-1-x)*e.gridHeight):(y=s+e.gridWidth/2+(x-b)*e.gridWidth,C=c);var k=void 0,w=void 0;x<d?(k=s+e.gridWidth/2+x*e.gridWidth,w=l):(k=u,w=c+e.gridHeight/2+(p-1-x)*e.gridHeight);var T=this.viewPosition.toCanvasCoordinates(y,C),E=this.viewPosition.toCanvasCoordinates(k,w);this.pixiGrid.moveTo(T[0],T[1]),this.pixiGrid.lineTo(E[0],E[1])}}else{for(var S=s;S<u;S+=e.gridWidth){var P=this.viewPosition.toCanvasCoordinates(S,c),I=this.viewPosition.toCanvasCoordinates(S,l);this.pixiGrid.moveTo(P[0],P[1]),this.pixiGrid.lineTo(I[0],I[1])}for(var A=c;A<l;A+=e.gridHeight){var D=this.viewPosition.toCanvasCoordinates(s,A),F=this.viewPosition.toCanvasCoordinates(u,A);this.pixiGrid.moveTo(D[0],D[1]),this.pixiGrid.lineTo(F[0],F[1])}}this.pixiGrid.endFill()}else this.pixiGrid.visible=!1}}]),e}())},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(6),a=n(5),o=n(329),i=n(691),s=n(66),c=n(367),u=function(){function e(t){var n=t.project,a=t.layout,i=t.toCanvasCoordinates;Object(r.a)(this,e),this.pixiRectangle=new o.Graphics,this.windowRectangle=new c.a,this.project=n,this.layout=a,this.toCanvasCoordinates=i,this.pixiRectangle.hitArea=new o.Rectangle(0,0,0,0)}return Object(a.a)(e,[{key:"getPixiObject",value:function(){return this.pixiRectangle}},{key:"render",value:function(){this.windowRectangle.set({left:0,top:0,right:this.project.getGameResolutionWidth(),bottom:this.project.getGameResolutionHeight()});var e=Object(i.a)(this.toCanvasCoordinates,this.windowRectangle);this.pixiRectangle.clear(),this.pixiRectangle.beginFill(0),this.pixiRectangle.lineStyle(1,Object(s.m)(128+this.layout.getBackgroundColorRed()%256,128+this.layout.getBackgroundColorBlue()%256,128+this.layout.getBackgroundColorGreen()%256),1),this.pixiRectangle.alpha=1,this.pixiRectangle.fill.alpha=0,this.pixiRectangle.drawRect(e.left,e.top,e.width(),e.height()),this.pixiRectangle.endFill()}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(6),a=n(5),o=n(329),i=n(691),s=(n(491),n(367)),c=function(){function e(t){var n=t.project,a=t.viewPosition,i=t.instancesEditorSettings;Object(r.a)(this,e),this.pixiRectangle=new o.Graphics,this.windowRectangle=new s.a,this.project=n,this.viewPosition=a,this.instancesEditorSettings=i,this.pixiRectangle.hitArea=new o.Rectangle(0,0,0,0)}return Object(a.a)(e,[{key:"setInstancesEditorSettings",value:function(e){this.instancesEditorSettings=e}},{key:"getPixiObject",value:function(){return this.pixiRectangle}},{key:"render",value:function(){if(this.instancesEditorSettings.windowMask){this.windowRectangle.setThroughCenter({centerX:this.viewPosition.getViewX(),centerY:this.viewPosition.getViewY(),width:this.project.getGameResolutionWidth(),height:this.project.getGameResolutionHeight()});var e=Object(i.a)(this.viewPosition.toCanvasCoordinates,this.windowRectangle);this.pixiRectangle.visible=!0,this.pixiRectangle.clear(),this.pixiRectangle.beginFill(0),this.pixiRectangle.lineStyle(1,0,1),this.pixiRectangle.alpha=1,this.pixiRectangle.fill.alpha=0,this.pixiRectangle.drawRect(e.left,e.top,e.width(),e.height()),this.pixiRectangle.endFill()}else this.pixiRectangle.visible=!1}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(6),a=n(5),o=(n(329),n(66)),i=function(){function e(t){var n=t.layout,a=t.pixiRenderer;Object(r.a)(this,e),this.layout=n,this.pixiRenderer=a}return Object(a.a)(e,[{key:"render",value:function(){this.pixiRenderer.backgroundColor=parseInt(parseInt(Object(o.l)(this.layout.getBackgroundColorRed(),this.layout.getBackgroundColorGreen(),this.layout.getBackgroundColorBlue()),16),10)}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6),a=n(5),o=function(){function e(t){Object(r.a)(this,e),this._lastFrameTime=Date.now(),this._interval=1e3/t,this._forceUpdate=!1}return Object(a.a)(e,[{key:"shouldUpdate",value:function(){var e=Date.now(),t=e-this._lastFrameTime;return!!(t>this._interval||this._forceUpdate)&&(this._lastFrameTime=e-t%this._interval,this._forceUpdate=!1,!0)}},{key:"forceNextUpdate",value:function(){this._forceUpdate=!0}}]),e}()},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));var r=n(329),a=function(){var e=r.Ticker&&r.Ticker.shared;e&&e.stop()},o=function(){setTimeout((function(){var e=r.Ticker&&r.Ticker.shared;e&&e.start()}),50)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(34),a=n(6),o=n(5),i=n(329),s=function(){function e(t){var n=t.getLastCursorSceneCoordinates,r=t.width,o=t.height;Object(a.a)(this,e),this._getLastCursorSceneCoordinates=n,this._statusBarContainer=new i.Container,this._statusBarContainer.alpha=.8,this._statusBarContainer.hitArea=new i.Rectangle(0,0,0,0),this._statusBarBackground=new i.Graphics,this._statusBarText=new i.Text("",{fontSize:15,fill:16777215,align:"left"}),this._statusBarContainer.addChild(this._statusBarBackground),this._statusBarContainer.addChild(this._statusBarText),this.resize(r,o)}return Object(o.a)(e,[{key:"resize",value:function(e,t){this._width=e,this._height=t}},{key:"getPixiObject",value:function(){return this._statusBarContainer}},{key:"render",value:function(){var e=Math.round(this._width-15-5-this._statusBarText.width),t=Math.round(this._height-5-15-this._statusBarText.height),n=this._getLastCursorSceneCoordinates(),a=Object(r.a)(n,2),o=a[0],i=a[1];this._statusBarText.text="".concat(o.toFixed(0),";").concat(i.toFixed(0)),this._statusBarText.position.x=e,this._statusBarText.position.y=t;var s=this._width-15-10-this._statusBarText.width,c=this._height-15-10-this._statusBarText.height,u=this._statusBarText.width+10,l=this._statusBarText.height+10;this._statusBarBackground.clear(),this._statusBarBackground.beginFill(0,.8),this._statusBarBackground.drawRoundedRect(s,c,u,l,6),this._statusBarBackground.endFill()}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6),a=n(5),o=function(){function e(t){var n=t.canvas,a=t.shouldMoveView;Object(r.a)(this,e),this.canvas=n,this.shouldMoveView=a}return Object(a.a)(e,[{key:"render",value:function(){if(this.shouldMoveView())return this.canvas.style.cursor="grab",void("grab"!==this.canvas.style.cursor&&(this.canvas.style.cursor="-webkit-grab"));this.canvas.style.cursor="default"}}]),e}()},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return u}));var r=n(6),a=n(5),o=n(873),i=n(338),s=e.gd,c=function(e,t){var n=e;return t.grid&&t.snap?Object(o.a)(n,t.gridWidth,t.gridHeight,t.gridOffsetX,t.gridOffsetY,t.gridType):(n[0]=Math.round(n[0]),n[1]=Math.round(n[1])),n},u=function(){function e(t){var n=this,a=t.instances,o=t.instancesEditorSettings;Object(r.a)(this,e),this._zOrderFinder=new s.HighestZOrderFinder,this.addSerializedInstances=function(e){var t=e.position,r=e.copyReferential,a=e.serializedInstances,o=e.preventSnapToGrid,u=void 0!==o&&o,l=e.addInstancesInTheForeground,d=void 0!==l&&l;n._zOrderFinder.reset(),n._instances.iterateOverInstances(n._zOrderFinder);var b=n._zOrderFinder.getHighestZOrder()+1,p=null,j=a.map((function(e){var a=new s.InitialInstance;Object(i.c)(a,e);var o=[a.getX()-r[0]+t[0],a.getY()-r[1]+t[1]],l=u?o:c(o,n._instancesEditorSettings);a.setX(l[0]),a.setY(l[1]),d&&(null===p||p>a.getZOrder())&&(p=a.getZOrder());var b=n._instances.insertInitialInstance(a).resetPersistentUuid();return a.delete(),b}));return d&&null!==p&&j.forEach((function(e){e.setZOrder(e.getZOrder()-(p||0)+b)})),j},this.addInstances=function(e,t){n._zOrderFinder.reset(),n._instances.iterateOverInstances(n._zOrderFinder);var r=n._zOrderFinder.getHighestZOrder()+1,a=c(e,n._instancesEditorSettings);return t.map((function(e){var t=n._instances.insertNewInitialInstance();return t.setObjectName(e),t.setX(a[0]),t.setY(a[1]),t.setZOrder(r),t}))},this.createOrUpdateTemporaryInstancesFromObjectNames=function(e,t){t.length&&(n._temporaryInstances.length?n.updateTemporaryInstancePositions(e):n._createTemporaryInstancesFromObjectNames(e,t))},this._createTemporaryInstancesFromObjectNames=function(e,t){n.deleteTemporaryInstances(),n._zOrderFinder.reset(),n._instances.iterateOverInstances(n._zOrderFinder);var r=n._zOrderFinder.getHighestZOrder()+1,a=c(e,n._instancesEditorSettings);n._temporaryInstances=t.map((function(e){var t=n._instances.insertNewInitialInstance();return t.setObjectName(e),t.setX(a[0]),t.setY(a[1]),t.setZOrder(r),t}))},this.updateTemporaryInstancePositions=function(e){var t=c(e,n._instancesEditorSettings);return n._temporaryInstances.forEach((function(e){e.setX(t[0]),e.setY(t[1])})),n._temporaryInstances},this._instances=a,this._instancesEditorSettings=o,this._temporaryInstances=[]}return Object(a.a)(e,[{key:"setInstancesEditorSettings",value:function(e){this._instancesEditorSettings=e}},{key:"deleteTemporaryInstances",value:function(){var e=this;this._temporaryInstances.forEach((function(t){e._instances.removeInstance(t)})),this._temporaryInstances=[]}},{key:"commitTemporaryInstances",value:function(){this._temporaryInstances=[]}},{key:"unmount",value:function(){this._zOrderFinder.delete()}}]),e}()}).call(this,n(25))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(5),a=n(6),o=Object(r.a)((function e(t){var n=this,r=t.canvas,o=t.onLongTouch;Object(a.a)(this,e),this._lastTouchX=0,this._lastTouchY=0,this._onTouchStart=function(e){if(1===e.touches.length){var t=e.touches[0];n._lastTouchX=t.clientX,n._lastTouchY=t.clientY,n._clear(),n._longTouchTimeoutID=setTimeout((function(){n._onLongTouch&&n._onLongTouch({clientX:n._lastTouchX,clientY:n._lastTouchY})}),600)}},this._onTouchMove=function(e){if(1===e.touches.length){var t=e.touches[0];(Math.abs(t.clientX-n._lastTouchX)>10||Math.abs(t.clientY-n._lastTouchY)>10)&&n._clear()}else n._clear()},this._clear=function(){clearTimeout(n._longTouchTimeoutID)},this.unmount=function(){n._canvas.removeEventListener("touchstart",n._onTouchStart),n._canvas.removeEventListener("touchmove",n._onTouchMove),n._canvas.removeEventListener("touchend",n._clear)},this._canvas=r,this._onLongTouch=o,r.addEventListener("touchstart",this._onTouchStart),r.addEventListener("touchmove",this._onTouchMove),r.addEventListener("touchend",this._clear)}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var r=n(6),a=n(5),o=n(10),i=n(11),s=n(9),c=n(17),u=n(357),l=n(1231),d=n(316),b=n(450),p=n(430),j=n(388),h=n(310),f=n(295),g=n(469),m=n.n(g),O=n(296),v=n(331),x=n(481),y=n(733),C=n(8),k=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).schema=[{name:e.props.i18n._({id:"Object"}),getValue:function(e){return e.getObjectName()},nonFieldType:"sectionTitle",defaultValue:e.props.i18n._({id:"Different objects"})},{label:e.props.i18n._({id:"Edit object"}),disabled:"onValuesDifferent",nonFieldType:"button",getValue:function(e){return e.getObjectName()},onClick:function(t){return e.props.onEditObjectByName(t.getObjectName())}},{name:e.props.i18n._({id:"Instance"}),nonFieldType:"sectionTitle"},{name:"Position",type:"row",children:[{name:"X",getLabel:function(){return e.props.i18n._({id:"X"})},valueType:"number",getValue:function(e){return e.getX()},setValue:function(e,t){return e.setX(t)}},{name:"Y",getLabel:function(){return e.props.i18n._({id:"Y"})},valueType:"number",getValue:function(e){return e.getY()},setValue:function(e,t){return e.setY(t)}}]},{name:"Angle",getLabel:function(){return e.props.i18n._({id:"Angle"})},valueType:"number",getValue:function(e){return e.getAngle()},setValue:function(e,t){return e.setAngle(t)}},{name:"Lock instance position angle",getLabel:function(){return e.props.i18n._({id:"Lock position/angle in the editor"})},valueType:"boolean",getValue:function(e){return e.isLocked()},setValue:function(e,t){e.setLocked(t),t||e.setSealed(t)}},{name:"Prevent instance selection",getLabel:function(){return e.props.i18n._({id:"Prevent selection in the editor"})},valueType:"boolean",disabled:function(e){return e.some((function(e){return!e.isLocked()}))},getValue:function(e){return e.isSealed()},setValue:function(e,t){return e.setSealed(t)}},{name:"Z Order",getLabel:function(){return e.props.i18n._({id:"Z Order"})},valueType:"number",getValue:function(e){return e.getZOrder()},setValue:function(e,t){return e.setZOrder(t)}},{name:"Layer",getLabel:function(){return e.props.i18n._({id:"Layer"})},valueType:"string",getChoices:function(){return Object(l.a)(e.props.layout)},getValue:function(e){return e.getLayer()},setValue:function(e,t){return e.setLayer(t)}},{name:"Custom size",getLabel:function(){return e.props.i18n._({id:"Custom size"})},valueType:"boolean",getValue:function(e){return e.hasCustomSize()},setValue:function(e,t){return e.setHasCustomSize(t)}},{name:"custom-size-row",type:"row",children:[{name:"Width",getLabel:function(){return e.props.i18n._({id:"Width"})},valueType:"number",getValue:function(e){return e.getCustomWidth()},setValue:function(e,t){return e.setCustomWidth(Math.max(t,0))}},{name:"Height",getLabel:function(){return e.props.i18n._({id:"Height"})},valueType:"number",getValue:function(e){return e.getCustomHeight()},setValue:function(e,t){return e.setCustomHeight(Math.max(t,0))}}]}],e}return Object(a.a)(n,[{key:"_renderEmpty",value:function(){return Object(C.jsx)(d.a,{children:Object(C.jsx)(s.Trans,{id:"Click on an instance in the scene to display its properties"})})}},{key:"_renderInstancesProperties",value:function(){var e=this,t=this.props,n=t.project,r=t.layout,a=t.instances,o=a[0],i=o.getObjectName(),c=Object(j.a)(n,r,i),u=o.getCustomProperties(n,r),l=Object(p.a)(u,(function(e){return e.getCustomProperties(n,r)}),(function(e,t,a){return e.updateCustomProperty(t,a,n,r)}));return Object(C.jsx)(v.a,{autoHideScrollbar:!0,children:Object(C.jsxs)(f.a,{expand:!0,noMargin:!0,id:"instance-properties-editor",children:[Object(C.jsxs)(f.a,{children:[Object(C.jsx)(b.a,{unsavedChanges:this.props.unsavedChanges,schema:this.schema.concat(l),instances:a,onInstancesModified:this.props.onInstancesModified}),Object(C.jsxs)(f.c,{alignItems:"center",justifyContent:"space-between",children:[Object(C.jsx)(O.a,{children:Object(C.jsx)(s.Trans,{id:"Instance Variables"})}),Object(C.jsx)(h.a,{size:"small",onClick:function(){e.props.editInstanceVariables(o)},children:Object(C.jsx)(m.a,{})})]})]}),c?Object(C.jsx)(y.a,{commitChangesOnBlur:!1,inheritedVariablesContainer:c.getVariables(),variablesContainer:o.getVariables(),size:"small",onComputeAllVariableNames:function(){return c?x.a.findAllObjectVariables(n.getCurrentPlatform(),n,r,c):[]},historyHandler:this.props.historyHandler}):null]})},a.map((function(e){return""+e.ptr})).join(";"))}},{key:"render",value:function(){var e=this.props.instances;return Object(C.jsx)(u.a,{children:e&&e.length?this._renderInstancesProperties():this._renderEmpty()})}}]),n}(c.Component)},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return w}));var r=n(6),a=n(5),o=n(10),i=n(11),s=n(9),c=n(17),u=n.n(c),l=n(379),d=n(310),b=n(558),p=n(306),j=n(361),h=n(1055),f=n.n(h),g=n(2213),m=n.n(g),O=n(2212),v=n.n(O),x=n(8),y=e.gd,C={container:{flex:1,display:"flex",flexDirection:"column",alignItems:"stretch"}},k=function(e,t,n){return(e=e.toLowerCase())<(t=t.toLowerCase())?1*n:e>t?-1*n:0},w=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={searchText:"",sortBy:"",sortDirection:l.g.ASC},e.renderedRows=[],e._searchBar=u.a.createRef(),e._keyboardShortcuts=new b.b({isActive:function(){return!1},shortcutCallbacks:{}}),e._onRowClick=function(t){var n=t.index;e.renderedRows[n]&&e.props.onSelectInstances([e.renderedRows[n].instance],e._keyboardShortcuts.shouldMultiSelect())},e._rowGetter=function(t){var n=t.index;return e.renderedRows[n]},e._rowClassName=function(t){var n=t.index;if(n<0)return"tableHeaderRow";var r=e.renderedRows[n];return r&&-1!==e.props.selectedInstances.indexOf(r.instance)?"tableSelectedRow":n%2===0?"tableEvenRow":"tableOddRow"},e._renderLockCell=function(e){var t=e.rowData.instance;return Object(x.jsx)(d.a,{size:"small",onClick:function(){if(t.isSealed())return t.setSealed(!1),void t.setLocked(!1);t.isLocked()?t.setSealed(!0):t.setLocked(!0)},children:t.isLocked()&&t.isSealed()?Object(x.jsx)(v.a,{}):t.isLocked()?Object(x.jsx)(f.a,{}):Object(x.jsx)(m.a,{})})},e._selectFirstInstance=function(){e.renderedRows.length&&e.props.onSelectInstances([e.renderedRows[0].instance],!1)},e._sort=function(t){var n=t.sortBy,r=t.sortDirection;e.setState({sortBy:n,sortDirection:r})},e._orderRenderedRows=function(){e.renderedRows.sort((function(t,n){var r=e.state.sortDirection===l.g.ASC?1:-1;switch(e.state.sortBy){case"name":return k(t.name,n.name,r);case"x":return r*(parseFloat(t.x)-parseFloat(n.x));case"y":return r*(parseFloat(t.y)-parseFloat(n.y));case"angle":return r*(parseFloat(t.angle)-parseFloat(n.angle));case"layer":return k(t.layer,n.layer,r);case"locked":return r*(Number(t.locked)-Number(n.locked));case"zOrder":return r*(parseFloat(t.zOrder)-parseFloat(n.zOrder));default:return 0}}))},e}return Object(a.a)(n,[{key:"UNSAFE_componentWillMount",value:function(){var e=this;this.instanceRowRenderer=new y.InitialInstanceJSFunctor,this.instanceRowRenderer.invoke=function(t){var n=e.state.searchText,r=y.wrapPointer(t,y.InitialInstance),a=r.getObjectName();n&&-1===a.toLowerCase().indexOf(n.toLowerCase())||e.renderedRows.push({instance:r,name:a,locked:r.isLocked(),x:r.getX().toFixed(2),y:r.getY().toFixed(2),angle:r.getAngle().toFixed(2),layer:r.getLayer(),zOrder:r.getZOrder()})}}},{key:"componentWillUnmount",value:function(){this.instanceRowRenderer&&this.instanceRowRenderer.delete()}},{key:"render",value:function(){var e=this,t=this.state,n=t.searchText,r=t.sortBy,a=t.sortDirection,o=this.props.instances;if(!this.instanceRowRenderer)return null;this.renderedRows.length=0,o.iterateOverInstances(this.instanceRowRenderer),this._orderRenderedRows();var i=o.ptr;return Object(x.jsx)(p.a.Consumer,{children:function(t){return Object(x.jsxs)("div",{style:C.container,children:[Object(x.jsx)("div",{style:{flex:1},onKeyDown:e._keyboardShortcuts.onKeyDown,onKeyUp:e._keyboardShortcuts.onKeyUp,children:Object(x.jsx)(l.a,{children:function(n){var o=n.height,c=n.width;return Object(x.jsxs)(l.h,{ref:function(t){return e.table=t},headerHeight:30,height:o,className:"gd-table ".concat(t.tableRootClassName),headerClassName:"tableHeaderColumn",rowCount:e.renderedRows.length,rowGetter:e._rowGetter,rowHeight:32,onRowClick:e._onRowClick,rowClassName:e._rowClassName,sort:e._sort,sortBy:r,sortDirection:a,width:c,children:[Object(x.jsx)(l.d,{label:Object(x.jsx)(s.Trans,{id:"Object name"}),dataKey:"name",width:.35*c,className:"tableColumn"}),Object(x.jsx)(l.d,{label:"",dataKey:"locked",width:.05*c,className:"tableColumn",cellRenderer:e._renderLockCell}),Object(x.jsx)(l.d,{label:Object(x.jsx)(s.Trans,{id:"X"}),dataKey:"x",width:.1*c,className:"tableColumn"}),Object(x.jsx)(l.d,{label:Object(x.jsx)(s.Trans,{id:"Y"}),dataKey:"y",width:.1*c,className:"tableColumn"}),Object(x.jsx)(l.d,{label:Object(x.jsx)(s.Trans,{id:"Angle"}),dataKey:"angle",width:.1*c,className:"tableColumn"}),Object(x.jsx)(l.d,{label:Object(x.jsx)(s.Trans,{id:"Layer"}),dataKey:"layer",width:.2*c,className:"tableColumn"}),Object(x.jsx)(l.d,{label:Object(x.jsx)(s.Trans,{id:"Z Order"}),dataKey:"zOrder",width:.1*c,className:"tableColumn"})]},i)}})}),Object(x.jsx)(j.a,{value:n,onChange:function(t){return e.setState({searchText:t})},onRequestSearch:e._selectFirstInstance,ref:e._searchBar,placeholder:{id:"Search instances"},aspect:"integrated-search-bar",autoFocus:"desktop"})]})}})}}]),n}(c.Component)}).call(this,n(25))},,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n(6),a=n(5),o=n(10),i=n(11),s=n(9),c=n(17),u=n(298),l=n(303),d=n(322),b=n(321),p=n(296),j=n(1231),h=n(689),f=n(8),g=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).state={selectedLayer:""},a}return Object(a.a)(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){!this.props.open&&e.open&&this.setState({selectedLayer:""})}},{key:"render",value:function(){var e=this;if(!this.props.layersContainer||!this.props.open)return null;var t=Object(h.a)(this.props.layersContainer,this.props.layerRemoved),n=[Object(f.jsx)(u.a,{label:Object(f.jsx)(s.Trans,{id:"Cancel"}),keyboardFocused:!0,onClick:function(){return e.props.onClose(!1,null)}},"cancel")];t>0?n=n.concat([Object(f.jsx)(u.a,{label:Object(f.jsx)(s.Trans,{id:"Remove objects"}),onClick:function(){return e.props.onClose(!0,null)}},"remove"),Object(f.jsx)(l.a,{label:Object(f.jsx)(s.Trans,{id:"Move objects"}),primary:!0,onClick:function(){return e.props.onClose(!0,e.state.selectedLayer)}},"move")]):n.push(Object(f.jsx)(l.a,{label:Object(f.jsx)(s.Trans,{id:"Continue"}),primary:!0,onClick:function(){return e.props.onClose(!0,null)}},"continue"));var r=Object(j.a)(this.props.layersContainer).filter((function(t){return t.value!==e.props.layerRemoved})).map((function(e){var t=e.value,n=e.label,r=e.labelIsUserDefined;return Object(f.jsx)(b.a,{value:t,primaryText:n,primaryTextIsUserDefined:r},t)}));return Object(f.jsxs)(l.c,{title:Object(f.jsx)(s.Trans,{id:"Objects on {0}",values:{0:this.props.layerRemoved}}),actions:n,open:this.props.open,onRequestClose:function(){return e.props.onClose(!1,null)},onApply:t>0?function(){return e.props.onClose(!0,e.state.selectedLayer)}:function(){return e.props.onClose(!0,null)},flexColumnBody:!0,maxWidth:"sm",children:[Object(f.jsx)(p.a,{children:0===t?Object(f.jsx)(s.Trans,{id:"The layer {0} does not contain any object instances. Continue?",values:{0:this.props.layerRemoved}}):Object(f.jsx)(s.Trans,{id:"There are {instancesCountInLayout} object instances on this layout. What do you want to do?",values:{instancesCountInLayout:t}})}),t>0&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(p.a,{children:Object(f.jsx)(s.Trans,{id:"Move objects on layer {0} to:",values:{0:this.props.layerRemoved}})}),Object(f.jsx)(d.a,{value:this.state.selectedLayer,onChange:function(t,n,r){e.setState({selectedLayer:r})},children:r})]})]})}}]),n}(c.Component)},function(e,t,n){"use strict";(function(e){var r=n(3),a=n(34),o=n(9),i=n(17),s=n.n(i),c=n(298),u=n(303),l=n(410),d=n(297),b=n(425),p=n(66),j=n(553),h=n(385),f=n(296),g=n(314),m=n(554),O=n(318),v=n(352),x=n(1221),y=n(295),C=n(8),k=e.gd;t.a=function(e){var t=e.initialTab,n=e.layer,i=e.initialInstances,w=e.onClose,T=e.hotReloadPreviewButtonProps,E=Object(g.a)(),S=Object(j.a)({serializableObject:n,onCancel:w}),P=S.onCancelChanges,I=S.notifyOfChange,A=s.a.useState(t),D=Object(a.a)(A,2),F=D[0],M=D[1],_=s.a.useMemo((function(){var e=new k.HighestZOrderFinder;e.restrictSearchToLayer(n.getName()),i.iterateOverInstances(e);var t=e.getInstancesCount(),r=e.getHighestZOrder();return e.delete(),{instancesCount:t,highestZOrder:r}}),[n,i]),L=_.instancesCount,R=_.highestZOrder;return Object(C.jsxs)(u.c,{title:n.getName()?Object(C.jsx)(o.Trans,{id:"{0} properties",values:{0:n.getName()}}):Object(C.jsx)(o.Trans,{id:"Base layer properties"}),open:!0,secondaryActions:[Object(C.jsx)(O.a,{helpPagePath:"/interface/scene-editor/layer-effects"},"help"),Object(C.jsx)(m.b,Object(r.a)({},T),"hot-reload-preview-button")],actions:[Object(C.jsx)(c.a,{label:Object(C.jsx)(o.Trans,{id:"Cancel"}),onClick:P},"Cancel"),Object(C.jsx)(u.a,{label:Object(C.jsx)(o.Trans,{id:"Apply"}),primary:!0,onClick:w},"Apply")],onRequestClose:P,onApply:w,fullHeight:!0,flexColumnBody:!0,fixedContent:Object(C.jsx)(v.a,{value:F,onChange:M,options:[{value:"properties",label:Object(C.jsx)(o.Trans,{id:"Properties"})},{value:"effects",label:Object(C.jsx)(o.Trans,{id:"Effects"})}]}),children:["properties"===F&&Object(C.jsxs)(d.a,{noMargin:!0,children:[n.isLightingLayer()?Object(C.jsx)(h.a,{kind:"info",identifier:"lighting-layer-usage",children:Object(C.jsx)(o.Trans,{id:"The lighting layer renders an ambient light on the scene. All lights should be placed on this layer so that shadows are properly rendered. By default, the layer follows the base layer camera. Uncheck this if you want to manually move the camera using events."})}):null,Object(C.jsx)(f.a,{children:Object(C.jsx)(o.Trans,{id:"There are {instancesCount} instances of objects on this layer.",values:{instancesCount:L}})}),!e.project.getUseDeprecatedZeroAsDefaultZOrder()&&Object(C.jsx)(f.a,{children:Object(C.jsx)(o.Trans,{id:'Objects created using events on this layer will be given a "Z order" of {0}, so that they appear in front of all objects of this layer. You can change this using the action to change an object Z order, after using an action to create it.',values:{0:R+1}})}),Object(C.jsx)(b.a,{label:Object(C.jsx)(o.Trans,{id:"Hide the layer"}),checked:!n.getVisibility(),onCheck:function(e,t){n.setVisibility(!t),E(),I()},tooltipOrHelperText:Object(C.jsx)(o.Trans,{id:'This setting changes the visibility of the entire layer. Objects on the layer will not be treated as "hidden" for event conditions or actions.'})}),n.isLightingLayer()?Object(C.jsxs)(s.a.Fragment,{children:[Object(C.jsx)(f.a,{size:"block-title",children:Object(C.jsx)(o.Trans,{id:"Lighting settings"})}),Object(C.jsx)(b.a,{label:Object(C.jsx)(o.Trans,{id:"Automatically follow the base layer."}),checked:n.isFollowingBaseLayerCamera(),onCheck:function(e,t){n.setFollowBaseLayerCamera(t),E(),I()}}),Object(C.jsx)(l.a,{fullWidth:!0,floatingLabelText:Object(C.jsx)(o.Trans,{id:"Ambient light color"}),disableAlpha:!0,color:Object(p.f)({r:n.getAmbientLightColorRed(),g:n.getAmbientLightColorGreen(),b:n.getAmbientLightColorBlue()}),onChange:function(e){var t=n.getAmbientLightColorRed(),r=n.getAmbientLightColorGreen(),a=n.getAmbientLightColorBlue(),o=Object(p.i)(e);!o||o.r===t&&o.g===r&&o.b===a||(n.setAmbientLightColor(o.r,o.g,o.b),E(),I())}})]}):Object(C.jsxs)(s.a.Fragment,{children:[Object(C.jsx)(y.d,{}),Object(C.jsx)(y.d,{})]})]}),"effects"===F&&Object(C.jsx)(x.a,{target:"layer",project:e.project,resourceManagementProps:e.resourceManagementProps,effectsContainer:n.getEffects(),onEffectsUpdated:function(){E(),I()}})]})}}).call(this,n(25))},function(e,t,n){"use strict";var r=n(2),a=n(0),o=n.n(a),i=n(9),s=n(17),c=n.n(s),u=n(298),l=n(303),d=n(318),b=n(295),p=n(859),j=n.n(p),h=n(297),f=n(305),g=n(296),m=n(396),O=n(26),v=n(8),x=function(){var e=Object(r.a)(o.a.mark((function e(t,n){var r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.getEventsFunctionsExtensionWriter()){e.next=3;break}throw new Error("The object can't be exported because it's not supported by the web-app.");case 3:return e.next=5,r.chooseCustomObjectFile(n.getName());case 5:if(a=e.sent){e.next=8;break}return e.abrupt("return");case 8:return e.next=10,r.writeCustomObject(n,a);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),y=function(){O.b.openExternalURL("https://github.com/4ian/GDevelop/issues/new?assignees=&labels=%F0%9F%93%A6+Asset+Store+submission&template=--asset-store-submission.md&title=")};t.a=function(e){var t=c.a.useContext(m.a);return Object(v.jsx)(l.c,{title:Object(v.jsx)(i.Trans,{id:"Export {0}",values:{0:e.object.getName()}}),secondaryActions:[Object(v.jsx)(d.a,{helpPagePath:"/community/contribute-to-the-assets-store"},"help")],actions:[Object(v.jsx)(u.a,{label:Object(v.jsx)(i.Trans,{id:"Close"}),keyboardFocused:!0,onClick:function(){e.onClose()}},"close")],open:!0,onRequestClose:function(){e.onClose()},maxWidth:"sm",children:Object(v.jsxs)(b.a,{expand:!0,children:[Object(v.jsx)(b.c,{children:Object(v.jsx)(g.a,{children:Object(v.jsx)(i.Trans,{id:"You can export the object to a file to submit it to the asset store."})})}),Object(v.jsxs)(h.c,{children:[Object(v.jsx)(f.a,{icon:Object(v.jsx)(j.a,{}),primary:!0,label:Object(v.jsx)(i.Trans,{id:"Export to a file"}),onClick:function(){x(t,e.object)}}),Object(v.jsx)(u.a,{label:Object(v.jsx)(i.Trans,{id:"Submit objects to the community"}),onClick:y})]})]})})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(3),a=n(34),o=n(9),i=n(17),s=n(298),c=n(311),u=n(340),l=n(297),d=n(303),b=n(410),p=n(693),j=n(66),h=n(8);function f(e){var t=i.useState((function(){return Object(p.a)(e.instancesEditorSettings)})),n=Object(a.a)(t,1)[0],f=function(){e.onChangeInstancesEditorSettings(Object(r.a)(Object(r.a)({},e.instancesEditorSettings),{},{gridWidth:n.gridWidth,gridHeight:n.gridHeight,gridOffsetX:n.gridOffsetX,gridOffsetY:n.gridOffsetY,gridColor:n.gridColor,gridType:n.gridType})),e.onCancel()};return Object(h.jsx)(d.c,{title:Object(h.jsx)(o.Trans,{id:"Edit Grid Options"}),actions:[Object(h.jsx)(s.a,{label:Object(h.jsx)(o.Trans,{id:"Cancel"}),primary:!1,onClick:f},"cancel"),Object(h.jsx)(d.a,{label:Object(h.jsx)(o.Trans,{id:"Apply"}),primary:!0,onClick:e.onApply},"apply")],onRequestClose:f,onApply:e.onApply,open:!0,maxWidth:"sm",exceptionallyStillAllowRenderingInstancesEditors:!0,children:Object(h.jsxs)(l.a,{noMargin:!0,children:[Object(h.jsx)(l.c,{noMargin:!0,expand:!0,children:Object(h.jsx)(b.a,{floatingLabelText:Object(h.jsx)(o.Trans,{id:"Line color"}),fullWidth:!0,color:Object(j.b)(e.instancesEditorSettings.gridColor),alpha:e.instancesEditorSettings.gridAlpha,onChange:function(t,n){e.onChangeInstancesEditorSettings(Object(r.a)(Object(r.a)({},e.instancesEditorSettings),{},{gridColor:Object(j.j)(t),gridAlpha:void 0===n||null===n?1:n}))}})}),Object(h.jsxs)(l.c,{noMargin:!0,expand:!0,children:[Object(h.jsx)(c.b,{floatingLabelText:Object(h.jsx)(o.Trans,{id:"Cell width (in pixels)"}),fullWidth:!0,type:"number",value:e.instancesEditorSettings.gridWidth,onChange:function(t,n){return e.onChangeInstancesEditorSettings(Object(r.a)(Object(r.a)({},e.instancesEditorSettings),{},{gridWidth:Math.max(parseFloat(n),.01)}))}}),Object(h.jsx)(c.b,{floatingLabelText:Object(h.jsx)(o.Trans,{id:"Cell height (in pixels)"}),fullWidth:!0,type:"number",value:e.instancesEditorSettings.gridHeight,onChange:function(t,n){return e.onChangeInstancesEditorSettings(Object(r.a)(Object(r.a)({},e.instancesEditorSettings),{},{gridHeight:Math.max(parseFloat(n),.01)}))}})]}),Object(h.jsxs)(l.c,{noMargin:!0,expand:!0,children:[Object(h.jsx)(c.b,{floatingLabelText:Object(h.jsx)(o.Trans,{id:"X offset (in pixels)"}),fullWidth:!0,type:"number",value:e.instancesEditorSettings.gridOffsetX,onChange:function(t,n){return e.onChangeInstancesEditorSettings(Object(r.a)(Object(r.a)({},e.instancesEditorSettings),{},{gridOffsetX:parseFloat(n)}))}}),Object(h.jsx)(c.b,{floatingLabelText:Object(h.jsx)(o.Trans,{id:"Y offset (in pixels)"}),fullWidth:!0,type:"number",value:e.instancesEditorSettings.gridOffsetY,onChange:function(t,n){return e.onChangeInstancesEditorSettings(Object(r.a)(Object(r.a)({},e.instancesEditorSettings),{},{gridOffsetY:parseFloat(n)}))}})]}),Object(h.jsx)(l.c,{noMargin:!0,expand:!0,children:Object(h.jsx)(u.a,{checked:"isometric"===e.instancesEditorSettings.gridType,label:Object(h.jsx)(o.Trans,{id:"Isometric"}),onCheck:function(t,n){return e.onChangeInstancesEditorSettings(Object(r.a)(Object(r.a)({},e.instancesEditorSettings),{},{gridType:n?"isometric":"rectangular"}))}})})]})})}},function(e,t,n){"use strict";var r=n(3),a=n(18),o=n(17),i=n.n(o),s=(n(491),n(1011)),c=n.n(s),u=n(1228),l=n(363),d=n(1232),b=n(314),p=n(471),j=n(367),h=n(8),f=["wrappedEditorRef"],g=200,m=1e3/60,O={container:{overflow:"hidden"}},v=function(){};t.a=function(e){var t=e.wrappedEditorRef,n=Object(a.a)(e,f),o=i.a.useRef(null),s=i.a.useRef(null),x=i.a.useRef(null),y=i.a.useRef(null),C=i.a.useRef(null),k=i.a.useRef(!1),w=i.a.useRef(null),T=i.a.useRef(!1),E=i.a.useRef(0),S=i.a.useRef(0),P=i.a.useRef(-5e3),I=i.a.useRef(5e3),A=i.a.useRef(-5e3),D=i.a.useRef(5e3),F=i.a.useRef(0),M=i.a.useRef(0),_=Object(b.a)(),L=i.a.useMemo((function(){return new j.a}),[]);if(o.current){var R=o.current.getBoundingClientRect();L.set({left:R.left,top:R.top,right:R.right-50,bottom:R.bottom-50})}var N=i.a.useCallback((function(){w.current&&clearTimeout(w.current),w.current=setTimeout((function(){k.current=!1,_()}),1500)}),[_]),B=Object(p.a)((function(){N()}),500),U=c()((function(){k.current||(k.current=!0,_()),w.current&&(clearTimeout(w.current),w.current=null)}),1e3,{leading:!0,trailing:!1}),H=c()(N,1e3,{leading:!0,trailing:!1}),W=i.a.useCallback((function(e){o.current&&(!L.containsPoint(e.clientX,e.clientY)?(w.current&&clearTimeout(w.current),k.current||U()):!T.current&&k.current&&H())}),[L,H,U]),z=i.a.useCallback((function(e,t){return c()((function(n){if(F.current){var r=n.clientX-e,a=(I.current-P.current)/F.current,i=t+r*a;E.current=i,o.current&&o.current.scrollTo(i,S.current),_()}else console.error("canvasWidth not initialized")}),m,{leading:!1,trailing:!0})}),[_]),V=i.a.useCallback((function(e,t){return c()((function(n){if(M.current){var r=n.clientY-e,a=(D.current-A.current)/M.current,i=t+r*a;S.current=i,o.current&&o.current.scrollTo(E.current,i),_()}else console.error("canvasHeight not initialized")}),m,{leading:!1,trailing:!0})}),[_]),G=i.a.useCallback((function(e){return function t(n){T.current=!1,n.target!==s.current&&n.target!==x.current&&N(),document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",t)}}),[N]),Z=i.a.useCallback((function(e){return function t(n){T.current=!1,n.target!==y.current&&n.target!==C.current&&N(),document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",t)}}),[N]),Y=i.a.useCallback((function(e){T.current=!0;var t=e.clientX,n=z(t,E.current),r=G(n);document.addEventListener("mousemove",n),document.addEventListener("mouseup",r)}),[z,G]),q=i.a.useCallback((function(e){T.current=!0;var t=e.clientY,n=V(t,S.current),r=Z(n);document.addEventListener("mousemove",n),document.addEventListener("mouseup",r)}),[V,Z]);i.a.useEffect((function(){var e=x.current,t=C.current;e&&t&&(e.addEventListener("mousedown",Y),t.addEventListener("mousedown",q))}),[Y,q]);var X=i.a.useCallback((function(e){var t=e.newXValue,n=e.newYValue,r=e.newWidth,a=e.newHeight;I.current=Math.max(Math.abs(t)+100,I.current),D.current=Math.max(Math.abs(n)+100,D.current),P.current=-I.current,A.current=-D.current,E.current=t,S.current=n,F.current=r,M.current=a,k.current||(k.current=!0),B(),_()}),[_,B]),J=i.a.useCallback((function(e){return c()((function(){e&&X({newXValue:e.getViewX(),newYValue:e.getViewY(),newWidth:e.getWidth(),newHeight:e.getHeight()})}),m,{leading:!1,trailing:!0})()}),[X]),K=function(e){w.current&&clearTimeout(w.current)},Q=function(e){T.current||N()},$="calc(100% - ".concat(g,"px - ").concat(8,"px)"),ee="calc(".concat((E.current-P.current)/(I.current-P.current)*100+"%"," - ").concat(g,"px / 2)"),te="max(min(".concat(ee,", ").concat($,"), ").concat("0%",")"),ne="calc(100% - ".concat(g,"px - ").concat(8,"px)"),re="calc(".concat((S.current-A.current)/(D.current-A.current)*100+"%"," - ").concat(g,"px / 2)"),ae="max(min(".concat(re,", ").concat(ne,"), ").concat("0%",")"),oe=Object(l.b)();return Object(h.jsx)(d.a,{children:function(e){var a=e.width,i=e.height;return Object(h.jsxs)("div",{style:O.container,children:[void 0!==a&&void 0!==i&&Object(h.jsx)(u.a,Object(r.a)({onViewPositionChanged:"touch"!==oe?J:v,ref:function(e){t&&t(e),o.current=e},width:a,height:i,screenType:oe,onMouseMove:W,onMouseLeave:function(e){var t=e.relatedTarget;!T.current&&t&&t.className&&"string"===typeof t.className&&!t.className.includes("canvas-scrollbar-thumb")&&N()}},n)),"touch"!==oe&&Object(h.jsx)("div",{style:{visibility:k.current?"visible":"hidden"},className:"canvas-vertical-scrollbar-track",ref:y,children:Object(h.jsx)("div",{style:{top:ae},className:"canvas-scrollbar-thumb canvas-vertical-scrollbar-thumb",ref:C,onMouseEnter:K,onMouseLeave:Q})}),"touch"!==oe&&Object(h.jsx)("div",{style:{visibility:k.current?"visible":"hidden"},className:"canvas-horizontal-scrollbar-track",ref:s,children:Object(h.jsx)("div",{style:{marginLeft:te},className:"canvas-scrollbar-thumb canvas-horizontal-scrollbar-thumb",ref:x,onMouseEnter:K,onMouseLeave:Q})})]})}})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));n(17);var r=n(310),a=n(732),o=n.n(a),i=n(350),s=n(8),c={container:{padding:0,width:32,height:32},icon:{width:16,height:16}};function u(e){return Object(s.jsx)(i.a,{element:Object(s.jsx)(r.a,{style:c.container,children:Object(s.jsx)(o.a,{htmlColor:"inherit",style:c.icon})}),buildMenuTemplate:e.buildMenuTemplate})}},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));var r=n(95),a=function(e,t,n){var r=s[e.getType()];return r?(r.onObjectAdded(e,t,n),r.getInfoBarDetails("onObjectAdded")):null},o=function(e,t,n){var r=e.getObjectName(),a=null;t.hasObjectNamed(r)?a=t.getObject(r):n.hasObjectNamed(r)&&(a=n.getObject(r));var o=a?s[a.getType()]:null;return o?(o.onInstanceAdded(e,t,n),o.getInfoBarDetails("onInstanceAdded")):null},i=function(e){for(var t=0;t<e.getLayersCount();t++){var n=e.getLayerAt(t);if(n.isLightingLayer())return n}return null},s={"Lighting::LightObject":{onObjectAdded:function(e,t,n){if(null===i(t)){var a=Object(r.a)("Lighting",(function(e){return t.hasLayerNamed(e)}));t.insertNewLayer(a,t.getLayersCount());var o=t.getLayer("Lighting");o.setLightingLayer(!0),o.setFollowBaseLayerCamera(!0),o.setAmbientLightColor(128,128,128)}},onInstanceAdded:function(e,t,n){var r=i(t);r&&e.setLayer(r.getName())},getInfoBarDetails:function(e){return"onObjectAdded"===e?{identifier:"automatic-lighting-layer",message:{id:"A lighting layer was created. Lights will be placed on it automatically. You can change the ambient light color in the properties of this layer"},touchScreenMessage:{id:"A lighting layer was created. Lights will be placed on it automatically. You can change the ambient light color in the properties of this layer"}}:"onInstanceAdded"===e?{identifier:"object-moved-in-lighting-layer",message:{id:"The light object was automatically placed on the Lighting layer."},touchScreenMessage:{id:"The light object was automatically placed on the Lighting layer."}}:null}}}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return E}));var r=n(6),a=n(5),o=n(10),i=n(11),s=n(9),c=n(17),u=n(2224),l=n(2502),d=n(2512),b=n(531),p=n(569),j=n(320),h=n(12),f=n.n(h),g=n(26),m=n(39),O=n(354),v=n(8),x=e.gd,y=f()("electron"),C=y?y.shell:null,k=f()("path"),w={container:{display:"flex",flex:1,position:"relative",overflow:"hidden"}},T={direction:"row",first:"properties",second:"resources-list",splitPercentage:66},E=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).editorMosaic=null,e._propertiesEditor=null,e._resourcesList=null,e.resourcesLoader=j.a,e.state={showPropertiesInfoBar:!1,selectedResource:null},e.deleteResource=function(t){var n=e.props,r=n.project,a=n.onDeleteResource;t&&(g.b.showConfirmDialog("Are you sure you want to remove this resource? This can't be undone.")&&a(t,(function(n){n&&t&&(r.getResourcesManager().removeResource(t.getName()),e.setState({selectedResource:null},(function(){e._resourcesList&&e._resourcesList.forceUpdateList(),e.updateToolbar()})))})))},e._removeUnusedResources=function(t){var n=e.props.project,r=e.state.selectedResource?e.state.selectedResource.getName():null,a=x.ProjectResourcesAdder.getAllUseless(n,t).toJSArray();console.info("Removing ".concat(a.length," unused ").concat(t," resource(s):"),a),x.ProjectResourcesAdder.removeAllUseless(n,t),a.includes(r)&&e._onResourceSelected(null),e._resourcesList&&e._resourcesList.forceUpdateList()},e._removeAllResourcesWithInvalidPath=function(){var t=e.props.project,n=e.state.selectedResource?e.state.selectedResource.getName():null,r=t.getResourcesManager(),a=r.getAllResourceNames().toJSArray().filter((function(e){return"error"===Object(O.d)(t,e)}));a.forEach((function(e){r.removeResource(e),console.info("Removed due to invalid path: "+e)})),a.includes(n)&&e._onResourceSelected(null),e._resourcesList&&e._resourcesList.forceUpdateList()},e.openProjectFolder=function(){var t=e.props.project;C&&C.openPath(k.dirname(t.getProjectFile()))},e.openProperties=function(){e.editorMosaic&&(e.editorMosaic.openEditor("properties","start",66,"column")||e.setState({showPropertiesInfoBar:!0}))},e._onResourceSelected=function(t){e.setState({selectedResource:t},(function(){e._propertiesEditor&&e._propertiesEditor.forceUpdate(),e.updateToolbar()}))},e}return Object(a.a)(n,[{key:"refreshResourcesList",value:function(){this._resourcesList&&this._resourcesList.forceUpdate()}},{key:"updateToolbar",value:function(){var e=this;this.props.setToolbar(Object(v.jsx)(d.a,{onOpenProjectFolder:this.openProjectFolder,onOpenProperties:this.openProperties,canDelete:!!this.state.selectedResource,onDeleteSelection:function(){return e.deleteResource(e.state.selectedResource)}}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,r=t.onRenameResource,a=t.resourceManagementProps,o=this.state.selectedResource,i={properties:{type:"secondary",title:{id:"Properties"},renderEditor:function(){return Object(v.jsx)(l.a,{resources:o?[o]:[],project:n,resourcesLoader:e.resourcesLoader,ref:function(t){return e._propertiesEditor=t},onResourcePathUpdated:function(){e._resourcesList&&e._resourcesList.checkMissingPaths()},resourceManagementProps:a},o?o.ptr:void 0)}},"resources-list":{type:"primary",noTitleBar:!0,renderEditor:function(){return Object(v.jsx)(u.a,{project:n,onDeleteResource:e.deleteResource,onRenameResource:r,onSelectResource:e._onResourceSelected,selectedResource:o,ref:function(t){return e._resourcesList=t},onRemoveUnusedResources:e._removeUnusedResources,onRemoveAllResourcesWithInvalidPath:e._removeAllResourcesWithInvalidPath})}}};return Object(v.jsxs)("div",{style:w.container,children:[Object(v.jsx)(m.a.Consumer,{children:function(t){var n=t.getDefaultEditorMosaicNode,r=t.setDefaultEditorMosaicNode;return Object(v.jsx)(b.a,{editors:i,ref:function(t){return e.editorMosaic=t},initialNodes:n("resources-editor")||T,onPersistNodes:function(e){return r("resources-editor",e)}})}}),Object(v.jsx)(p.a,{message:Object(v.jsx)(s.Trans,{id:"Properties panel is already opened. After selecting a resource, inspect and change its properties from this panel."}),show:!!this.state.showPropertiesInfoBar,identifier:"resource-properties-panel-explanation"})]})}}]),n}(c.Component);E.defaultProps={setToolbar:function(){}}}).call(this,n(25))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return F}));var r=n(19),a=n(6),o=n(5),i=n(10),s=n(11),c=n(9),u=n(17),l=n(379),d=n(538),b=n(357),p=n(361),j=n(60),h=n(2225),f=n(307),g=n(12),m=n.n(g),O=n(354),v=n(534),x=n(780),y=n(320),C=n(95),k=n(295),w=n(8),T=Object(x.a)("glob"),E=m()("path"),S=m()("electron"),P=!!S,I=e.gd,A={listContainer:{flex:1}},D=function(e){return e.getName()},F=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(a.a)(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={renamedResource:null,searchText:"",resourcesWithErrors:{}},e._deleteResource=function(t){e.props.onDeleteResource(t)},e._locateResourceFile=function(t){var n=Object(O.c)(e.props.project,t.getName());S.shell.showItemInFolder(E.resolve(n))},e._openResourceFile=function(t){var n=Object(O.c)(e.props.project,t.getName());S.shell.openPath(E.resolve(n))},e._copyResourceFilePath=function(t){var n=Object(O.c)(e.props.project,t.getName());S.clipboard.writeText(E.resolve(n))},e._scanForNewResources=function(t,n){var a=T();if(a){var o,i=e.props.project,s=i.getResourcesManager(),c=E.dirname(i.getProjectFile()),u=[].concat(Object(r.a)(t),Object(r.a)(t.map((function(e){return e.toUpperCase()}))));o=function(t,r){if(t)console.error("Error finding files inside ".concat(c,":"),t);else{var a=new I.VectorString;r.forEach((function(e){return a.push_back(E.relative(c,e))}));var o=i.getResourcesManager().findFilesNotInResources(a);a.delete(),Object(f.mapVector)(o,(function(e){var t=Object(C.a)(e,(function(e){return s.hasResource(e)})),r=n();r.setFile(e),r.setName(t),Object(O.a)(i,r),s.addResource(r),r.delete(),console.info('"'.concat(e,'" added to project as resource named "').concat(t,'".'))})),e.forceUpdate()}},a(c+"/**/*.{"+u.join(",")+"}",o)}},e._editName=function(t){e.setState({renamedResource:t},(function(){e.sortableList&&e.sortableList.forceUpdateGrid()}))},e._getResourceThumbnail=function(t){switch(t.getKind()){case"image":return y.a.getResourceFullUrl(e.props.project,t.getName(),{});case"audio":return"res/actions/music24.png";case"json":case"tilemap":case"tileset":return"res/actions/fichier24.png";case"video":return"JsPlatform/Extensions/videoicon24.png";case"font":return"res/actions/font24.png";case"bitmapFont":return"JsPlatform/Extensions/bitmapfont32.png";default:return"res/unknown32.png"}},e._rename=function(t,n){var r=e.props.project;e.setState({renamedResource:null}),t.getName()!==n&&(r.getResourcesManager().hasResource(n)?Object(j.c)("Another resource with this name already exists",{delayToNextTick:!0}):e.props.onRenameResource(t,n,(function(r){r&&(t.setName(n),e.forceUpdate())})))},e._moveSelectionTo=function(t){var n=e.props,r=n.project,a=n.selectedResource;if(a){var o=r.getResourcesManager();o.moveResource(o.getResourcePosition(a.getName()),o.getResourcePosition(t.getName())),e.forceUpdateList()}},e.forceUpdateList=function(){e.forceUpdate(),e.sortableList&&e.sortableList.forceUpdateGrid()},e._renderResourceMenuTemplate=function(t){return function(n,r){return[{label:t._({id:"Rename"}),click:function(){return e._editName(n)}},{label:t._({id:"Delete"}),click:function(){return e._deleteResource(n)}},{type:"separator"},{label:t._({id:"Open File"}),click:function(){return e._openResourceFile(n)},enabled:P},{label:t._({id:"Locate File"}),click:function(){return e._locateResourceFile(n)},enabled:P},{label:t._({id:"Copy File Path"}),click:function(){return e._copyResourceFilePath(n)},enabled:P},{type:"separator"},{label:t._({id:"Scan in the project folder for..."}),submenu:v.a.map((function(n){var r=n.displayName,a=n.fileExtensions,o=n.createNewResource;return{label:t._(r),click:function(){e._scanForNewResources(a,o)},enabled:P}}))},{type:"separator"},{label:t._({id:"Remove unused..."}),submenu:v.a.map((function(n){var r=n.displayName,a=n.kind;return{label:t._(r),click:function(){e.props.onRemoveUnusedResources(a)}}})).concat([{label:t._({id:"Resources (any kind)"}),click:function(){v.a.forEach((function(t){e.props.onRemoveUnusedResources(t.kind)}))}}])},{label:t._({id:"Remove Resources with Invalid Path"}),click:function(){e.props.onRemoveAllResourcesWithInvalidPath()},enabled:P}]}},e.checkMissingPaths=function(){var t=e.props.project,n=t.getResourcesManager().getAllResourceNames().toJSArray(),r={};n.forEach((function(e){r[e]=Object(O.d)(t,e)})),e.setState({resourcesWithErrors:r}),e.forceUpdateList()},e}return Object(o.a)(n,[{key:"shouldComponentUpdate",value:function(e,t){return this.state.renamedResource!==t.renamedResource||this.state.searchText!==t.searchText||(this.props.project!==e.project||this.props.selectedResource!==e.selectedResource)}},{key:"componentDidMount",value:function(){this.checkMissingPaths()}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,r=t.selectedResource,a=t.onSelectResource,o=this.state.searchText,i=n.getResourcesManager(),s=i.getAllResourceNames().toJSArray().map((function(e){return i.getResource(e)})),u=Object(h.a)(s,o),j=n.ptr;return Object(w.jsxs)(b.a,{children:[Object(w.jsx)(k.c,{children:Object(w.jsx)(k.a,{expand:!0,children:Object(w.jsx)(p.a,{value:o,onRequestSearch:function(){},onChange:function(t){return e.setState({searchText:t})},placeholder:{id:"Search resources"}})})}),Object(w.jsx)("div",{style:A.listContainer,children:Object(w.jsx)(l.a,{children:function(t){var n=t.height,o=t.width;return Object(w.jsx)(c.I18n,{children:function(t){var i=t.i18n;return Object(w.jsx)(d.a,{ref:function(t){return e.sortableList=t},fullList:u,width:o,height:n,getItemName:D,getItemThumbnail:e._getResourceThumbnail,selectedItems:r?[r]:[],onItemSelected:a,renamedItem:e.state.renamedResource,onRename:e._rename,onMoveSelectionToItem:e._moveSelectionTo,buildMenuTemplate:e._renderResourceMenuTemplate(i),erroredItems:e.state.resourcesWithErrors,reactDndType:"GD_RESOURCE"},j)}})}})})]})}}]),n}(u.Component)}).call(this,n(25))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e,t){if(!t)return e;var n=t.toLowerCase();return e.filter((function(e){return-1!==e.getName().toLowerCase().indexOf(n)}))}},,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return O})),n.d(t,"a",(function(){return v}));var r=n(2),a=n(0),o=n.n(a),i=n(40),s=n.n(i),c=n(35),u=n(12),l=n.n(u),d=n(26),b=l()("fs"),p=b?b.promises:null,j=l()("path"),h=l()("@electron/remote"),f=h?h.app:null,g=function(){var e=Object(r.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p){e.next=2;break}throw new Error("Filesystem is not supported.");case 2:return e.prev=2,e.next=5,p.readFile(t,{encoding:"utf8"});case 5:return n=e.sent,r=JSON.parse(n),e.abrupt("return",r);case 10:throw e.prev=10,e.t0=e.catch(2),new Error(t+" is a corrupted/malformed file.");case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),m=function(){var t=Object(r.a)(o.a.mark((function t(n){var r,a,i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!!h&&!d.b.isDev()){t.next=3;break}return t.abrupt("return",null);case 3:return r=f?f.getAppPath():e.cwd(),a=j.join(r,"..","in-app-tutorials/".concat(n,".json")),t.next=7,g(a);case 7:return i=t.sent,t.abrupt("return",i);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),O=function(){var e=Object(r.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m("in-app-tutorial-short-header");case 3:if(!(t=e.sent)){e.next=6;break}return e.abrupt("return",t);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.warn("Could not read the short headers stored locally. Trying to fetch the API.");case 11:return e.next=13,s.a.get("".concat(c.b.baseUrl,"/in-app-tutorial-short-header"));case 13:return n=e.sent,e.abrupt("return",n.data);case 15:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(r.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m(t.id);case 3:if(!(n=e.sent)){e.next=6;break}return e.abrupt("return",n);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.warn("Could not read the in app tutorial stored locally. Trying to fetch the API.");case 11:return e.next=13,s.a.get(t.contentUrl);case 13:return r=e.sent,e.abrupt("return",r.data);case 15:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()}).call(this,n(159))},,,,function(e,t,n){"use strict";var r=n(34),a=n(17),o=n(298),i=n(303),s=n(26),c=n(39),u=n(9),l=n(953),d=n(8);t.a=function(e){var t=e.open,n=e.onClose,b=a.useContext(c.a).values,p=a.useState(!1),j=Object(r.a)(p,2),h=j[0],f=j[1];return t?Object(d.jsx)(u.I18n,{children:function(e){var r=e.i18n.language!==b.language.replace("_","-");return Object(d.jsx)(i.c,{title:Object(d.jsx)(u.Trans,{id:"Language"}),actions:[Object(d.jsx)(o.a,{label:r?Object(d.jsx)(u.Trans,{id:"Loading..."}):Object(d.jsx)(u.Trans,{id:"Close"}),primary:!1,onClick:function(){n(h)},disabled:r},"close")],secondaryActions:[Object(d.jsx)(o.a,{label:Object(d.jsx)(u.Trans,{id:"Report a wrong translation"}),primary:!1,onClick:function(){return s.b.openExternalURL("https://github.com/4ian/GDevelop/issues/969")}},"report-wrong-translation")],cannotBeDismissed:r,onRequestClose:function(){return n(h)},open:t,maxWidth:"sm",children:Object(d.jsx)(l.a,{onLanguageChanged:function(){return f(!0)}})})}}):null}},function(e,t,n){"use strict";var r=n(9),a=(n(17),n(303)),o=n(298),i=n(336),s=n(12),c=n.n(s),u=n(347),l=n(295),d=n(1244),b=n(312),p=n(8),j=c()("electron");t.a=function(e){var t=e.onClose,n=e.storageProviders,s=e.onChooseProvider,c=n.some((function(e){return"Cloud"===e.internalName}));return Object(p.jsx)(r.I18n,{children:function(e){e.i18n;return Object(p.jsxs)(a.c,{title:Object(p.jsx)(r.Trans,{id:"Choose where to load the project from"}),actions:[Object(p.jsx)(o.a,{label:Object(p.jsx)(r.Trans,{id:"Cancel"}),primary:!1,onClick:t},"close")],onRequestClose:t,open:!0,maxWidth:"sm",children:[c&&Object(p.jsx)(b.a,{kind:"info",children:Object(p.jsx)(r.Trans,{id:"You can find your cloud projects in the Build section of the homepage."})}),Object(p.jsx)(i.a,{useGap:!0,children:n.filter((function(e){return!e.hiddenInOpenDialog})).map((function(e){return Object(p.jsx)(d.a,{onChooseProvider:s,storageProvider:e},e.internalName)}))}),!j&&Object(p.jsx)(l.c,{children:Object(p.jsx)(l.a,{noMargin:!0,children:Object(p.jsx)(u.a,{children:Object(p.jsx)(r.Trans,{id:"If you have a popup blocker interrupting the opening, allow the popups and try a second time to open the project."})})})})]})}})}},function(e,t,n){"use strict";var r=n(9),a=(n(17),n(303)),o=n(298),i=n(336),s=n(1244),c=n(8);t.a=function(e){var t=e.onClose,n=e.storageProviders,u=e.onChooseProvider;return Object(c.jsx)(a.c,{title:Object(c.jsx)(r.Trans,{id:"Choose where to save the project to"}),actions:[Object(c.jsx)(o.a,{label:Object(c.jsx)(r.Trans,{id:"Cancel"}),primary:!1,onClick:t},"close")],onRequestClose:t,open:!0,maxWidth:"sm",children:Object(c.jsx)(i.a,{useGap:!0,children:n.filter((function(e){return!e.hiddenInSaveDialog})).map((function(e){return Object(c.jsx)(s.a,{onChooseProvider:u,storageProvider:e},e.internalName)}))})})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(34),a=n(9),o=n(17),i=n(303),s=n(298),c=n(347),u=n(295),l=n(296),d=n(8),b=function(e){var t=e.onClose,n=e.onConfirm;return Object(d.jsxs)(i.c,{title:Object(d.jsx)(a.Trans,{id:"Confirm the opening"}),actions:[Object(d.jsx)(s.a,{label:Object(d.jsx)(a.Trans,{id:"Cancel"}),primary:!1,onClick:t},"close"),Object(d.jsx)(i.a,{label:Object(d.jsx)(a.Trans,{id:"Open the project"}),primary:!0,onClick:n},"open-project")],onRequestClose:t,onApply:n,open:!0,maxWidth:"sm",children:[Object(d.jsx)(u.c,{children:Object(d.jsx)(u.a,{noMargin:!0,children:Object(d.jsx)(l.a,{children:Object(d.jsx)(a.Trans,{id:'You\'re about to open (or re-open) a project. Click on "Open the Project" to continue.'})})})}),Object(d.jsx)(u.c,{children:Object(d.jsx)(u.a,{noMargin:!0,children:Object(d.jsx)(c.a,{children:Object(d.jsx)(a.Trans,{id:"If you have a popup blocker interrupting the opening, allow the popups and try a second time to open the project."})})})})]})},p=function(){var e=o.useRef(!1),t=o.useRef(null),n=o.useState(!1),a=Object(r.a)(n,2),i=a[0],s=a[1];return{ensureInteractionHappened:function(n){return new Promise((function(r){!e.current&&n.doesInitialOpenRequireUserInteraction?(console.info("Displaying confirmation dialog to ensure an interaction is made before continuing."),t.current=r,s(!0)):r(!0)}))},renderOpenConfirmDialog:function(){if(!i)return null;var n=function(n){e.current=!0,s(!1);var r=t.current;r&&(r(n),t.current=null)};return Object(d.jsx)(b,{onClose:function(){return n(!1)},onConfirm:function(){return n(!0)}})}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(60);function a(e,t){return!t.gdVersion&&t.eventsFunctions?(Object(r.a)({message:[e._({id:"Unable to open this file."}),e._({id:"This file is an extension file for GDevelop 5. You should instead import it, using the window to add a new extension to your project."})].join("\n"),rawError:void 0,errorId:"extension-opened-as-project-error",doNotReport:!0}),!1):!(!t.gdVersion&&!t.eventsFunctions)||(Object(r.a)({message:[e._({id:"Unable to open this file."}),e._({id:"This file is not recognized as a GDevelop 5 project. Be sure to open a file that was saved using GDevelop."})].join("\n"),rawError:void 0,errorId:"malformed-project-error",doNotReport:!0}),!1)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(34),a=n(17),o=n.n(a);function i(e){var t=o.a.useState(e),n=Object(r.a)(t,2),a=n[0],i=n[1],s=o.a.useRef(null),c=o.a.useCallback((function(e){return new Promise((function(t){s.current=t,i(e)}))}),[i]);return o.a.useEffect((function(){null!==s.current&&(s.current(a),s.current=null)}),[a]),[a,c]}},function(e,t,n){"use strict";var r=n(17),a=n(434),o=n(521),i=function(e,t,n){return e?t(e).map((function(e){return{text:e.getName(),handler:function(){return n(e.getName())}}})):[]};t.a=function(e){Object(a.a)("QUIT_APP",!0,{handler:e.onCloseApp}),Object(a.a)("OPEN_PROFILE",!!e.project,{handler:e.onOpenProfile}),Object(a.a)("OPEN_GAMES_DASHBOARD",!!e.project,{handler:e.onOpenGamesDashboard}),Object(a.a)("OPEN_PROJECT_MANAGER",!!e.project,{handler:e.onOpenProjectManager}),Object(a.a)("LAUNCH_NEW_PREVIEW",e.previewEnabled,{handler:e.onLaunchPreview}),Object(a.a)("HOT_RELOAD_PREVIEW",e.hasPreviewsRunning,{handler:e.onHotReloadPreview}),Object(a.a)("LAUNCH_DEBUG_PREVIEW",e.previewEnabled&&e.allowNetworkPreview,{handler:e.onLaunchDebugPreview}),Object(a.a)("LAUNCH_NETWORK_PREVIEW",e.previewEnabled&&e.allowNetworkPreview,{handler:e.onLaunchNetworkPreview}),Object(a.a)("OPEN_HOME_PAGE",!0,{handler:e.onOpenHomePage}),Object(a.a)("CREATE_NEW_PROJECT",!0,{handler:e.onCreateBlank}),Object(a.a)("OPEN_PROJECT",!0,{handler:e.onOpenProject}),Object(a.a)("SAVE_PROJECT",!!e.project,{handler:e.onSaveProject}),Object(a.a)("SAVE_PROJECT_AS",!!e.project,{handler:e.onSaveProjectAs}),Object(a.a)("CLOSE_PROJECT",!!e.project,{handler:e.onCloseProject}),Object(a.a)("EXPORT_GAME",!!e.project,{handler:e.onExportGame}),Object(a.a)("OPEN_COMMAND_PALETTE",!0,{handler:e.onOpenCommandPalette}),Object(a.b)("OPEN_LAYOUT",!!e.project,{generateOptions:r.useCallback((function(){return i(e.project,o.d,e.onOpenLayout)}),[e.project,e.onOpenLayout])}),Object(a.b)("OPEN_EXTERNAL_EVENTS",!!e.project,{generateOptions:r.useCallback((function(){return i(e.project,o.b,e.onOpenExternalEvents)}),[e.project,e.onOpenExternalEvents])}),Object(a.b)("OPEN_EXTERNAL_LAYOUT",!!e.project,{generateOptions:r.useCallback((function(){return i(e.project,o.c,e.onOpenExternalLayout)}),[e.project,e.onOpenExternalLayout])}),Object(a.b)("OPEN_EXTENSION",!!e.project,{generateOptions:r.useCallback((function(){return i(e.project,o.a,e.onOpenEventsFunctionsExtension)}),[e.project,e.onOpenEventsFunctionsExtension])})}},function(e,t,n){"use strict";var r=n(3),a=n(5),o=n(6),i=n(17),s=(n(1048),n(644)),c=n(1049),u=n(8),l=Object(a.a)((function e(t){var n=this;Object(o.a)(this,e),this.setActive=function(e){n._isActive=e},this.registerCommand=function(e,t){n._commands[e]=t,n._isActive&&n._centralManager.registerCommand(e,t)},this.deregisterCommand=function(e){delete n._commands[e],n._isActive&&n._centralManager.deregisterCommand(e)},this.registerAllCommandsToCentralManager=function(){Object.keys(n._commands).forEach((function(e){n._centralManager.registerCommand(e,n._commands[e])}))},this.deregisterAllCommandsFromCentralManager=function(){Object.keys(n._commands).forEach((function(e){n._centralManager.deregisterCommand(e)}))},this.getAllNamedCommands=function(){return Object.keys(n._commands).map((function(e){var t=n._commands[e];return Object(r.a)(Object(r.a)({},t),{},{name:e})}))},this.getNamedCommand=function(e){var t=n._commands[e];return t?Object(r.a)({name:e},t):n._centralManager.getNamedCommand(e)},this._commands={},this._isActive=!1,this._centralManager=t}));t.a=function(e){var t=i.useContext(s.b),n=Object(c.a)((function(){return new l(t)}));return i.useEffect((function(){if(e.active)return n.setActive(!0),n.registerAllCommandsToCentralManager(),function(){n.setActive(!1),n.deregisterAllCommandsFromCentralManager()}}),[e.active,n]),Object(u.jsx)(s.b.Provider,{value:n,children:e.children})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(19),a=n(34),o=n(17),i=function(e){var t=o.useState([]),n=Object(a.a)(t,2),i=n[0],s=n[1],c=o.useState([]),u=Object(a.a)(c,2),l=u[0],d=u[1];return o.useEffect((function(){if(e){var t=e.registerCallbacks({onErrorReceived:function(e){},onConnectionClosed:function(e){e.id;var t=e.debuggerIds;s(Object(r.a)(t))},onConnectionOpened:function(e){e.id;var t=e.debuggerIds;s(Object(r.a)(t))},onConnectionErrored:function(e){e.id},onServerStateChanged:function(){},onHandleParsedMessage:function(e){e.id;var t=e.parsedMessage;"hotReloader.logs"===t.command&&d(t.payload)}});return function(){t()}}s([])}),[e]),{previewDebuggerIds:i,hotReloadLogs:l,clearHotReloadLogs:o.useCallback((function(){return d([])}),[d])}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(9),a=(n(17),n(303)),o=n(318),i=n(298),s=n(297),c=n(296),u=n(554),l=n(8);function d(e){var t=e.onClose,n=e.onLaunchNewPreview;return function(e){return e.filter((function(e){return"error"===e.kind||"fatal"===e.kind})).length>0}(e.logs)?Object(l.jsx)(a.c,{title:Object(l.jsx)(r.Trans,{id:"Restarting the preview from scratch is required"}),actions:[Object(l.jsx)(i.a,{label:Object(l.jsx)(r.Trans,{id:"Close"}),primary:!1,onClick:t},"close"),Object(l.jsx)(a.a,{icon:Object(l.jsx)(u.a,{}),label:Object(l.jsx)(r.Trans,{id:"Close and launch a new preview"}),primary:!0,onClick:n},"new-preview")],secondaryActions:[Object(l.jsx)(o.a,{helpPagePath:"/interface/preview"},"help")],onRequestClose:t,open:!0,children:Object(l.jsx)(s.a,{noMargin:!0,children:Object(l.jsx)(c.a,{children:Object(l.jsx)(r.Trans,{id:"Your latest changes could not be applied to the preview(s) being run. You should start a new preview instead to make sure that all your changes are reflected in the game."})})})}):null}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(17),a=n(12),o=n.n(a)()("electron"),i=o?o.ipcRenderer:null,s=Date.now(),c=function(e){Object(r.useEffect)((function(){!function(e){if(null!==i){var t={details:e?"Working on:":"Not working on",state:e?e.getName():"any game",startTimestamp:s,largeImageKey:"gdicon",largeImageText:"GDevelop"};i.send("update-discord-rich-presence",t)}}(e)}),[e])}},function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n(19),a=n(2),o=n(34),i=n(0),s=n.n(i),c=n(9),u=n(17),l=n(39),d=n(303),b=n(352),p=n(298),j=n(295),h=n(297),f=n(296),g=n(447),m=n(309),O=n(8),v=function(e){var t=e.project,n=e.fileMetadata,i=e.getStorageProvider,v=e.options,x=e.i18n,y=e.resourceSources,C=e.onClose,k=e.onChooseResources,w=Object(m.b)(),T=u.useMemo((function(){return i()}),[i]),E=u.useContext(l.a),S=y.filter((function(e){return e.kind===v.resourceKind})).filter((function(e){var t=e.onlyForStorageProvider;return!t||t===T.internalName})),P=S.filter((function(e){return"standalone"===e.displayTab})),I=S.filter((function(e){return"import"===e.displayTab})),A=S.filter((function(e){return"import-advanced"===e.displayTab})),D=S.find((function(e){return e.name===v.initialSourceName})),F=D&&D.selectResourcesHeadless,M=u.useState((function(){return D?"import"===D.displayTab?"import":"standalone"===D.displayTab?"standalone-"+D.name:"import":"import"})),_=Object(o.a)(M,2),L=_[0],R=_[1],N=u.useState(!1),B=Object(o.a)(N,2),U=B[0],H=B[1],W=u.useState(!1),z=Object(o.a)(W,2),V=z[0],G=z[1];return u.useEffect((function(){return function(){return H(!0)}}),[L]),u.useEffect((function(){if(D){var e=D.selectResourcesHeadless;e&&Object(a.a)(s.a.mark((function r(){var a;return s.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e({i18n:x,options:v,project:t,fileMetadata:n,getStorageProvider:i,getLastUsedPath:E.getLastUsedPath,setLastUsedPath:E.setLastUsedPath});case 3:a=r.sent,k(a),r.next=11;break;case 7:r.prev=7,r.t0=r.catch(0),console.error("Unexpected error from a resource source:",r.t0),k([]);case 11:case"end":return r.stop()}}),r,null,[[0,7]])})))()}}),[]),F?null:Object(O.jsxs)(d.c,{title:Object(O.jsx)(c.Trans,{id:"New resource"}),open:!0,fullHeight:!0,flexColumnBody:!0,actions:[Object(O.jsx)(p.a,{label:Object(O.jsx)(c.Trans,{id:"Close"}),primary:!0,onClick:C},"close")],secondaryActions:[A.length>0?Object(O.jsx)(j.a,{children:Object(O.jsx)(g.a,{onToggle:function(e,t){return G(t)},toggled:V,labelPosition:"right",label:Object(O.jsx)(c.Trans,{id:"Show advanced import options"})},"show-advanced-toggle")}):null],onRequestClose:C,fixedContent:Object(O.jsx)(b.a,{value:L,onChange:R,options:[].concat(Object(r.a)(P.map((function(e){var t=e.name,n=e.displayName;return{label:x._(n),value:"standalone-"+t}}))),[{label:Object(O.jsx)(c.Trans,{id:"Choose a file"}),value:"import"}]),variant:"small"===w?"scrollable":void 0}),children:[P.map((function(e){return L!=="standalone-"+e.name?null:e.renderComponent({i18n:x,options:v,project:t,fileMetadata:n,getStorageProvider:i,getLastUsedPath:E.getLastUsedPath,setLastUsedPath:E.setLastUsedPath,onChooseResources:k})})),"import"===L?Object(O.jsx)(j.c,{expand:!0,noMargin:!0,children:Object(O.jsxs)(h.a,{expand:!0,noMargin:!0,children:[I.map((function(e){return Object(O.jsxs)(u.Fragment,{children:[Object(O.jsx)(f.a,{size:"block-title",children:x._(e.displayName)}),e.renderComponent({i18n:x,options:v,project:t,fileMetadata:n,getStorageProvider:i,getLastUsedPath:E.getLastUsedPath,setLastUsedPath:E.setLastUsedPath,onChooseResources:k,automaticallyOpenIfPossible:D===e&&!U})]},e.name)})),V&&A.map((function(e){return Object(O.jsxs)(u.Fragment,{children:[Object(O.jsx)(f.a,{size:"block-title",children:x._(e.displayName)}),e.renderComponent({i18n:x,options:v,project:t,fileMetadata:n,getStorageProvider:i,getLastUsedPath:E.getLastUsedPath,setLastUsedPath:E.setLastUsedPath,onChooseResources:k})]},e.name)}))]})}):null]})}},function(e,t,n){"use strict";var r=n(34),a=n(9),o=n(17),i=n(303),s=n(298),c=n(295),u=n(297),l=n(406),d=n(589),b=n(296),p=n(8),j={imgContainer:{marginBottom:16}};t.a=function(e){var t=e.open,n=e.tutorialId,h=e.onClose,f=e.tutorialCompletionStatus,g=e.isProjectOpened,m=e.startTutorial,O=function(){return m("startOver")},v=o.useContext(l.a).inAppTutorialShortHeaders,x=v?v.find((function(e){return e.id===n})):null,y=x?x.availableLocales:null,C={notStarted:{title:Object(p.jsx)(a.Trans,{id:"Let's make a Fling Game"}),content:Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(b.a,{children:Object(p.jsx)(a.Trans,{id:"You're about to start the first chapter of our in-app tutorial."})}),Object(p.jsx)(b.a,{children:Object(p.jsx)(a.Trans,{id:"GDevelop will save your progress so you can take a break when you need it."})}),Object(p.jsx)(b.a,{children:Object(p.jsx)(a.Trans,{id:"Are you ready to start?"})})]}),availableLocalesLabels:y?y.map((function(e){return[e,Object(d.a)(e)]})):null,primaryAction:{label:Object(p.jsx)(a.Trans,{id:"Yes"}),onClick:function(){return m("start")}},secondaryAction:{label:Object(p.jsx)(a.Trans,{id:"No"}),onClick:h},tertiaryAction:null},started:{title:Object(p.jsx)(a.Trans,{id:"Welcome back!"}),content:Object(p.jsx)(b.a,{children:Object(p.jsx)(a.Trans,{id:"Let's finish your Fling Game, shall we?"})}),primaryAction:{label:Object(p.jsx)(a.Trans,{id:"Let's go"}),onClick:function(){return m("resume")}},secondaryAction:{label:g?Object(p.jsx)(a.Trans,{id:"No, close project"}):Object(p.jsx)(a.Trans,{id:"No"}),onClick:h},tertiaryAction:{label:Object(p.jsx)(a.Trans,{id:"Restart tutorial"}),onClick:O}},complete:{title:Object(p.jsx)(a.Trans,{id:"Restart the Tutorial"}),content:Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(b.a,{children:Object(p.jsx)(a.Trans,{id:"You're about to restart our in-app 3-chapter tutorial."})}),Object(p.jsx)(b.a,{children:Object(p.jsx)(a.Trans,{id:"GDevelop will save your progress, so you can take a break if you need."})})]}),primaryAction:{label:Object(p.jsx)(a.Trans,{id:"Yes"}),onClick:O},secondaryAction:{label:Object(p.jsx)(a.Trans,{id:"No"}),onClick:h},tertiaryAction:null}}[f],k=C.title,w=C.content,T=C.primaryAction,E=C.secondaryAction,S=C.tertiaryAction,P=[Object(p.jsx)(s.a,{label:E.label,onClick:E.onClick},"close"),Object(p.jsx)(i.a,{label:T.label,primary:!0,onClick:T.onClick},"start")],I=S?[Object(p.jsx)(s.a,{label:S.label,onClick:S.onClick},"other")]:void 0;return Object(p.jsx)(i.c,{title:k,actions:P,secondaryActions:I,open:t,onRequestClose:h,onApply:T.onClick,maxWidth:"xs",cannotBeDismissed:!0,children:Object(p.jsxs)(u.a,{noMargin:!0,children:[Object(p.jsx)(c.c,{alignItems:"center",justifyContent:"center",noMargin:!0,children:Object(p.jsx)("div",{style:j.imgContainer,children:Object(p.jsx)("img",{alt:"hero",src:"res/hero.png",width:48,height:48})})}),w,C.availableLocalesLabels?Object(p.jsxs)(c.a,{noMargin:!0,children:[Object(p.jsx)(b.a,{children:Object(p.jsx)(a.Trans,{id:"This tutorial is available in the following languages:"})}),C.availableLocalesLabels.map((function(e){var t=Object(r.a)(e,2),n=t[0],a=t[1];return Object(p.jsx)(b.a,{displayAsListItem:!0,noMargin:!0,children:a},n)}))]}):null]})})}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return k}));var r=n(2),a=n(34),o=n(0),i=n.n(o),s=n(9),c=n(17),u=n(303),l=n(298),d=n(295),b=n(296),p=n(436),j=n(461),h=n(297),f=n(319),g=n(454),m=n(376),O=n(748),v=n(8),x=e.gd,y=function(e){e.leaderboardsToReplace;var t=e.onClose,n=e.onTriggerReplace,r=c.useContext(f.a),a=r.authenticated,o=r.onCreateAccount;return Object(v.jsx)(u.c,{title:Object(v.jsx)(s.Trans,{id:"Set up new leaderboards for this game"}),actions:a?[Object(v.jsx)(l.a,{primary:!0,label:Object(v.jsx)(s.Trans,{id:"Close"}),onClick:t},"register-close"),Object(v.jsx)(u.a,{primary:!0,label:Object(v.jsx)(s.Trans,{id:"Create new leaderboards now"}),onClick:n},"register-game-now")]:[Object(v.jsx)(l.a,{primary:!0,label:Object(v.jsx)(s.Trans,{id:"Close"}),onClick:t},"login-close"),Object(v.jsx)(u.a,{label:Object(v.jsx)(s.Trans,{id:"Login now"}),primary:!0,onClick:function(){return o()}},"login-now")],open:!0,maxWidth:"sm",onRequestClose:t,children:Object(v.jsx)(d.c,{noMargin:!0,children:Object(v.jsxs)(h.a,{noMargin:!0,children:[Object(v.jsx)(b.a,{children:Object(v.jsx)(s.Trans,{id:"This game is using leaderboards. GDevelop will create new leaderboards for this game in your account, so that the game is ready to be played and players can send their scores."})}),Object(v.jsx)(b.a,{children:Object(v.jsx)(s.Trans,{id:"If you skip this step, you can still do it manually later from the leaderboards panel in your Games Dashboard."})})]})})})},C=function(e){var t=e.erroredLeaderboards,n=e.onRetry,r=e.onAbandon,a=e.progress,o=t.length>0;return Object(v.jsx)(u.c,{title:null,actions:[n?Object(v.jsx)(u.a,{label:Object(v.jsx)(s.Trans,{id:"Retry"}),primary:!0,onClick:n},"retry"):null,Object(v.jsx)(l.a,{label:r?Object(v.jsx)(s.Trans,{id:"Abandon"}):Object(v.jsx)(s.Trans,{id:"Please wait..."}),disabled:!r,onClick:r},"close")],cannotBeDismissed:!o,open:!0,maxWidth:"sm",children:Object(v.jsx)(d.c,{noMargin:!0,children:Object(v.jsxs)(h.a,{expand:!0,children:[Object(v.jsx)(b.a,{children:o&&100===a?Object(v.jsx)(s.Trans,{id:"There were errors when preparing new leaderboards for the project."}):Object(v.jsx)(s.Trans,{id:"Preparing the leaderboard for your game..."})}),Object(v.jsx)(d.c,{noMargin:!0,expand:!0,children:Object(v.jsx)(p.a,{variant:"determinate",value:a})}),o&&100===a?Object(v.jsxs)(j.a,{children:[Object(v.jsx)(j.c,{children:Object(v.jsxs)(j.e,{children:[Object(v.jsx)(j.d,{children:"Leaderboard ID"}),Object(v.jsx)(j.d,{children:"Error"})]})}),Object(v.jsx)(j.b,{children:t.map((function(e){var t=e.leaderboardId,n=e.error;return Object(v.jsxs)(j.e,{children:[Object(v.jsx)(j.f,{children:t}),Object(v.jsx)(j.f,{children:n.toString()})]},t)}))})]}):null]})})})},k=function(){var e=c.useState(null),t=Object(a.a)(e,2),n=t[0],o=t[1],s=c.useState(null),u=Object(a.a)(s,2),l=u[0],d=u[1],b=c.useState(!1),p=Object(a.a)(b,2),j=p[0],h=p[1],k=c.useState(null),w=Object(a.a)(k,2),T=w[0],E=w[1],S=c.useContext(f.a),P=c.useState([]),I=Object(a.a)(P,2),A=I[0],D=I[1],F=c.useState(0),M=Object(a.a)(F,2),_=M[0],L=M[1],R=c.useState(null),N=Object(a.a)(R,2),B=N[0],U=N[1],H=c.useState(null),W=Object(a.a)(H,2),z=W[0],V=W[1],G=c.useCallback(Object(r.a)(i.a.mark((function e(){var t,a,o,s,c,u,d,b,p,j;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=S.getAuthorizationHeader,a=S.profile,T&&n&&l){e.next=3;break}throw new Error("No leaderboards found in events sheet.");case 3:if(a){e.next=5;break}throw new Error("User is not connected.");case 5:return o=T.length+2,s=1/o*100,c={},L(0),U(null),V(null),D([]),e.prev=12,e.next=15,Object(m.i)(t,a.id,{gameId:n.getProjectUuid(),authorName:n.getAuthor()||"Unspecified publisher",gameName:n.getName()||"Untitled game",templateSlug:n.getTemplateSlug()});case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(12),console.error("Could not register game: ",e.t0);case 20:return L(s),u=function(){var e=Object(r.a)(i.a.mark((function e(t,r){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(g.e)(t,n.getProjectUuid(),{sourceGameId:l,sourceLeaderboardId:r.replace(/"/g,"")});case 3:return a=e.sent,c[r]='"'.concat(a.id,'"'),L((function(e){return e+s})),e.abrupt("return",null);case 9:return e.prev=9,e.t0=e.catch(0),console.error("Could not duplicate leaderboard ".concat(r),e.t0),L((function(e){return e+s})),e.abrupt("return",{leaderboardId:r,error:e.t0});case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}(),e.next=24,Promise.all(Array.from(T).map(function(){var e=Object(r.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u(S,t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 24:if(d=e.sent,b=d.filter(Boolean),D(b),Object.keys(c).length&&(p=Object(O.a)(c),j=new x.EventsLeaderboardsRenamer(n,p),p.delete(),x.WholeProjectRefactorer.exposeProjectEvents(n,j),j.delete()),L(100),0!==b.length){e.next=33;break}return h(!1),E(null),e.abrupt("return",{someLeaderboardsWereDuplicated:!0});case 33:return e.abrupt("return",new Promise((function(e){U((function(){return function(){E(T.filter((function(e){return b.some((function(t){return t.leaderboardId===e}))}))),e(G())}})),V((function(){return function(){D([]),h(!1),E(null),e({someLeaderboardsWereDuplicated:!0})}}))})));case 34:case"end":return e.stop()}}),e,null,[[12,17]])}))),[S,l,T,n]),Z=c.useCallback((function(e,t){o(e),d(t);var n=new x.EventsLeaderboardsLister(e);x.WholeProjectRefactorer.exposeProjectEvents(e,n);var r=n.getLeaderboardIds();E(r.toNewVectorString().toJSArray()),n.delete()}),[]);return{findLeaderboardsToReplace:Z,renderLeaderboardReplacerDialog:function(){return T&&T.length?l&&n&&j&&S.authenticated?Object(v.jsx)(C,{erroredLeaderboards:A,onRetry:B,onAbandon:z,progress:_}):Object(v.jsx)(y,{leaderboardsToReplace:T,onClose:function(){return E(null)},onTriggerReplace:function(){h(!0),G()}}):null}}}}).call(this,n(25))},,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(3),a=n(17),o=n(874),i=function(e){var t=e.resourceMover,n=Object(o.a)({onDoProcess:a.useCallback((function(e,n){return t.moveAllProjectResources(Object(r.a)(Object(r.a)({},e),{},{onProgress:n}))}),[t])}),i=n.ensureProcessIsDone,s=n.renderProcessDialog;return a.useMemo((function(){return{ensureResourcesAreMoved:i,renderResourceMoverDialog:s}}),[i,s])}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(17),a=n(874),o=function(e){var t=e.resourceFetcher,n=Object(a.a)({onDoProcess:r.useCallback((function(e,n){var r=e(),a=r.project,o=r.fileMetadata,i=r.storageProvider,s=r.storageProviderOperations,c=r.authenticatedUser;return a&&o?t.fetchAllProjectResources({project:a,fileMetadata:o,storageProvider:i,storageProviderOperations:s,authenticatedUser:c,onProgress:n}):Promise.resolve({erroredResources:[]})}),[t])}),o=n.ensureProcessIsDone,i=n.renderProcessDialog;return r.useMemo((function(){return{ensureResourcesAreFetched:o,renderResourceFetcherDialog:i}}),[o,i])}},function(e,t,n){"use strict";var r=n(34),a=n(9),o=n(17),i=n(303),s=n(298),c=n(369),u=n(296),l=n(8);t.a=function(e){var t=e.onSaveProject,n=e.canEndTutorial,d=e.endTutorial,b=e.onClose,p=e.isSavingProject,j=o.useState(!1),h=Object(r.a)(j,2),f=h[0],g=h[1],m=o.useState(Object(l.jsx)(a.Trans,{id:"Leave the tutorial"})),O=Object(r.a)(m,2),v=O[0],x=O[1];o.useEffect((function(){f&&(p?x(Object(l.jsx)(a.Trans,{id:"Saving project"})):n&&x(Object(l.jsx)(a.Trans,{id:"Project saved"})))}),[p,n,f]);var y=function(){d(),b()},C=function(){g(!0),n?y():t()},k=p?Object(l.jsx)(a.Trans,{id:"Saving..."}):n?Object(l.jsx)(a.Trans,{id:"Close Project"}):Object(l.jsx)(a.Trans,{id:"Save Project"});return Object(l.jsxs)(i.c,{open:!0,maxWidth:"sm",title:v,onRequestClose:function(){p||b()},onApply:C,secondaryActions:[Object(l.jsx)(s.a,{onClick:y,label:Object(l.jsx)(a.Trans,{id:"Exit without saving"})},"exit")],actions:[Object(l.jsx)(s.a,{onClick:b,label:Object(l.jsx)(a.Trans,{id:"Cancel"})},"cancel"),Object(l.jsx)(c.a,{isLoading:p,children:Object(l.jsx)(i.a,{primary:!0,label:k,disabled:p,onClick:C})},"save-and-exit")],flexColumnBody:!0,children:[Object(l.jsx)(u.a,{children:Object(l.jsx)(a.Trans,{id:"You are about to quit the tutorial."})}),Object(l.jsx)(u.a,{children:Object(l.jsx)(a.Trans,{id:"You can save your project to come back to it later. What do you want to do?"})})]})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(17),a=n(458),o=n(439),i=function(e){var t=e.openOnboardingDialog,n=e.openProfileDialog,i=r.useContext(a.b),s=i.routeArguments,c=i.removeRouteArguments,u=r.useContext(o.a).openSubscriptionDialog;r.useEffect((function(){switch(s["initial-dialog"]){case"subscription":u({reason:"Landing dialog at opening"}),c(["initial-dialog"]);break;case"onboarding":t(!0),c(["initial-dialog"]);break;case"games-dashboard":n(!0)}}),[s,t,n,c,u])}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var r=n(17);function a(e){var t=r.useRef(e);return r.useEffect((function(){t.current=e}),[e]),r.useCallback((function(){return t.current()}),[])}function o(e){var t=r.useRef(e);return r.useEffect((function(){t.current=e}),[e]),t}},,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return h}));var r=n(1),a=n(3),o=n(6),i=n(5),s=n(10),c=n(11),u=n(17),l=n(9),d=n(165),b=n(1242),p=n(8),j=e.gd,h=function(e){Object(s.a)(u,e);var t=Object(c.a)(u);function u(){var e;Object(o.a)(this,u);for(var i=arguments.length,s=new Array(i),c=0;c<i;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={language:"en",catalogs:{},i18n:null},e._loadCatalog=function(t){return e.state.catalogs[t]?Promise.resolve(e.state.catalogs):n(2300)("./".concat(t.replace("-","_"),"/messages")).then((function(n){return Object(a.a)(Object(a.a)({},e.state.catalogs),{},Object(r.a)({},t,n))}),(function(n){return console.error("Error while loading language="+t,n),e.state.catalogs}))},e}return Object(i.a)(u,[{key:"componentDidMount",value:function(){this._loadLanguage(this.props.language)}},{key:"componentDidUpdate",value:function(e){e.language!==this.props.language&&this._loadLanguage(this.props.language)}},{key:"_loadLanguage",value:function(e){var t=this;this._loadCatalog(e).then((function(n){t.setState({language:e,catalogs:n,i18n:Object(d.setupI18n)({language:e,catalogs:n})},(function(){var n=t.state.i18n;j.getTranslation=Object(b.b)(n),console.info('Loaded "'.concat(e,'" language'))}))}))}},{key:"render",value:function(){var e=this.state,t=e.i18n,n=e.catalogs,r=e.language,a=this.props.children;return t?Object(p.jsx)(l.I18nProvider,{i18n:t,language:r,catalogs:n,children:a}):null}}]),u}(u.Component)}).call(this,n(25))},function(e,t,n){var r={"./af_ZA/messages":[2428,5],"./ar_SA/messages":[2429,6],"./az_AZ/messages":[2430,7],"./bg_BG/messages":[2431,8],"./bn_BD/messages":[2432,9],"./br_FR/messages":[2433,10],"./ca_ES/messages":[2434,11],"./cs_CZ/messages":[2435,12],"./da_DK/messages":[2436,13],"./de_DE/messages":[2437,14],"./el_GR/messages":[2438,15],"./en/messages":[2439,16],"./eo_UY/messages":[2440,17],"./es_ES/messages":[2441,18],"./fa_IR/messages":[2442,19],"./fi_FI/messages":[2443,20],"./fil_PH/messages":[2444,21],"./fr_FR/messages":[2445,22],"./ha_HG/messages":[2446,23],"./he_IL/messages":[2447,24],"./hi_IN/messages":[2448,25],"./hu_HU/messages":[2449,26],"./id_ID/messages":[2450,27],"./ig_NG/messages":[2451,28],"./it_IT/messages":[2452,29],"./ja_JP/messages":[2453,30],"./ka_GE/messages":[2454,31],"./km_KH/messages":[2455,32],"./ko_KR/messages":[2456,33],"./lt_LT/messages":[2457,34],"./lv_LV/messages":[2458,35],"./mr_IN/messages":[2459,36],"./ms_MY/messages":[2460,37],"./my_MM/messages":[2461,38],"./nl_NL/messages":[2462,39],"./no_NO/messages":[2463,40],"./pl_PL/messages":[2464,41],"./pseudo_LOCALE/messages":[2465,42],"./pt_BR/messages":[2466,43],"./pt_PT/messages":[2467,44],"./ro_RO/messages":[2468,45],"./ru_RU/messages":[2469,46],"./si_LK/messages":[2470,47],"./sk_SK/messages":[2471,48],"./sl_SI/messages":[2472,49],"./sq_AL/messages":[2473,50],"./sr_CS/messages":[2474,51],"./sr_SP/messages":[2475,52],"./sv_SE/messages":[2476,53],"./sw_KE/messages":[2477,54],"./th_TH/messages":[2478,55],"./tr_TR/messages":[2479,56],"./uk_UA/messages":[2480,57],"./ur_PK/messages":[2481,58],"./uz_UZ/messages":[2482,59],"./vi_VN/messages":[2483,60],"./yo_NG/messages":[2484,61],"./zh_CN/messages":[2485,62],"./zh_TW/messages":[2486,63]};function a(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return n.e(t[1]).then((function(){return n.t(a,7)}))}a.keys=function(){return Object.keys(r)},a.id=2300,e.exports=a},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return mn}));var r=n(34),a=n(17),o=n.n(a),i=n(9),s=n(295),c=n(3),u=n(2625),l=n(2624),d=n(309),b=n(340),p=n(296),j=n(297),h=n(406),f=n(323),g=n(26),m=n(905),O=n(8),v=o.a.memo((function(e){return Object(O.jsxs)(m.a,Object(c.a)(Object(c.a)({},e),{},{width:"12",height:"8",viewBox:"0 0 12 8",fill:"none",children:[Object(O.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.195 0.154763C5.38567 0.354512 5.37831 0.671009 5.17856 0.861679L1.89079 4L5.17856 7.13832C5.37831 7.32899 5.38567 7.64549 5.195 7.84524C5.00433 8.04499 4.68783 8.05235 4.48809 7.86168L0.821419 4.36168C0.722578 4.26733 0.666656 4.13664 0.666656 4C0.666656 3.86336 0.722578 3.73267 0.821419 3.63832L4.48809 0.138323C4.68783 -0.0523465 5.00433 -0.0449861 5.195 0.154763Z",fill:"currentColor"}),Object(O.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.833323 4C0.833323 3.72386 1.05718 3.5 1.33332 3.5H10.8333C11.1095 3.5 11.3333 3.72386 11.3333 4C11.3333 4.27614 11.1095 4.5 10.8333 4.5H1.33332C1.05718 4.5 0.833323 4.27614 0.833323 4Z",fill:"currentColor"})]}))})),x=n(386),y=n(327),C={mobileScrollContainer:{paddingTop:10,paddingLeft:5,paddingRight:5},desktopScrollContainer:{paddingTop:30,paddingLeft:30,paddingRight:30},mobileFooter:{padding:5},desktopFooter:{paddingLeft:30},rowContainer:{display:"flex",flexDirection:"column",paddingBottom:30},scrollContainer:{flex:1,overflowY:"auto"}},k=function(e){var t=e.children,n=e.expand;return Object(O.jsx)("div",{style:Object(c.a)(Object(c.a)({},C.rowContainer),n?{flex:1}:void 0),children:t})},w=function(e){var t=e.children,n=e.title,r=e.subtitleText,a=e.renderSubtitle,o=e.backAction,u=e.flexBody,l=e.renderFooter,b=Object(d.b)();return Object(O.jsxs)(s.a,{useFullHeight:!0,noMargin:!0,expand:!0,children:[Object(O.jsx)(y.a,{style:Object(c.a)(Object(c.a)({},C.scrollContainer),{},{display:u?"flex":"block"},"small"===b?C.mobileScrollContainer:C.desktopScrollContainer),square:!0,background:"dark",children:Object(O.jsxs)(s.a,{noOverflowParent:!0,expand:!0,children:[n&&Object(O.jsxs)(k,{children:[o&&Object(O.jsx)(s.c,{children:Object(O.jsx)(x.a,{onClick:o,icon:Object(O.jsx)(v,{fontSize:"small"}),label:Object(O.jsx)(i.Trans,{id:"Back"})})}),Object(O.jsx)(s.c,{noMargin:!0,children:Object(O.jsx)(p.a,{size:"bold-title",noMargin:!0,children:n})}),r&&Object(O.jsx)(s.c,{noMargin:!0,children:Object(O.jsx)(p.a,{noMargin:!0,children:r})}),a&&a()]}),t]})}),l&&Object(O.jsx)(y.a,{style:"small"===b?C.mobileFooter:C.desktopFooter,square:!0,background:"dark",children:l()})]})},T=n(2721),E=n(2720),S=n(2623),P=n(330),I={buttonBase:{height:"100%",width:"100%",borderRadius:8,cursor:"default",overflow:"hidden"},contentWrapper:{height:"100%",width:"100%",display:"flex"}},A=320,D=function(e){var t=e.children,n=e.onClick,r=e.size,a=e.disabled,o=function(e){return Object(E.a)((function(t){return Object(S.a)({root:{border:"1px solid ".concat(t.palette.text.primary),borderBottom:"6px solid ".concat(t.palette.text.primary),"&:focus":{backgroundColor:t.palette.action.hover},"&:hover":{backgroundColor:t.palette.action.hover},"&:disabled":e?{opacity:t.palette.action.disabledOpacity,border:"1px solid ".concat(t.palette.text.secondary),borderBottom:"6px solid ".concat(t.palette.text.secondary)}:void 0}})}))()}(e.useDefaultDisabledStyle),i=Object(d.b)(),s="banner"===r||"small"===i?void 0:"small"===r?200:A;return Object(O.jsx)(T.a,{onClick:n,focusRipple:!0,elevation:2,style:Object(c.a)(Object(c.a)({},I.buttonBase),{},{maxWidth:s}),classes:o,tabIndex:0,onKeyPress:function(e){Object(P.g)(e)&&n()},disabled:a,children:Object(O.jsx)("div",{style:I.contentWrapper,children:t})})},F=n(2587),M=n(2639),_=n(2597),L=n(306),R={linearProgress:{flex:1}};var N=function(e){var t=a.useContext(L.a),n=Object(_.a)({root:{height:10,borderRadius:5},colorPrimary:{backgroundColor:t.paper.backgroundColor.medium},bar:{borderRadius:5,backgroundColor:100===e.value?t.linearProgress.color.complete:t.linearProgress.color.incomplete}})();return Object(O.jsx)(M.a,{classes:n,style:R.linearProgress,variant:"determinate",value:e.value})},B=n(404),U=o.a.memo((function(e){return Object(O.jsxs)(m.a,Object(c.a)(Object(c.a)({},e),{},{width:"17",height:"16",viewBox:"0 0 17 16",fill:"none",children:[Object(O.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.16667 7.66663C5.07462 7.66663 5 7.74124 5 7.83329V11.5C5 11.9602 5.37309 12.3333 5.83333 12.3333H11.5C11.9603 12.3333 12.3333 11.9602 12.3333 11.5V7.83329C12.3333 7.74124 12.2587 7.66663 12.1667 7.66663H5.16667ZM4 7.83329C4 7.18894 4.52234 6.66663 5.16667 6.66663H12.1667C12.811 6.66663 13.3333 7.18895 13.3333 7.83329V11.5C13.3333 12.5125 12.5125 13.3333 11.5 13.3333H5.83333C4.82082 13.3333 4 12.5125 4 11.5V7.83329Z",fill:"currentColor"}),Object(O.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.66667 3.66663C7.70522 3.66663 7.16755 3.97865 6.85548 4.29844C6.59324 4.56717 6.45446 4.92749 6.38761 5.38368C6.3293 5.7816 6.33095 6.20398 6.33271 6.65637C6.33302 6.73503 6.33333 6.81459 6.33333 6.89509V6.99996C6.33333 7.2761 6.10948 7.49996 5.83333 7.49996C5.55719 7.49996 5.33333 7.2761 5.33333 6.99996V6.89509C5.33333 6.82347 5.33298 6.74973 5.33261 6.67429C5.33045 6.22589 5.328 5.71754 5.39817 5.23869C5.48174 4.66839 5.67512 4.07618 6.1398 3.60002C6.65683 3.0702 7.46078 2.66663 8.66667 2.66663C9.87255 2.66663 10.6765 3.0702 11.1935 3.60002C11.6582 4.07619 11.8516 4.66838 11.9351 5.23869C12.0053 5.71755 12.0029 6.22593 12.0007 6.67435C12.0004 6.74977 12 6.82349 12 6.89509V6.99996C12 7.2761 11.7761 7.49996 11.5 7.49996C11.2239 7.49996 11 7.2761 11 6.99996V6.89509C11 6.81462 11.0003 6.73508 11.0006 6.65644C11.0024 6.20403 11.004 5.78163 10.9457 5.38369C10.8789 4.9275 10.7401 4.56717 10.4778 4.29844C10.1658 3.97866 9.62811 3.66663 8.66667 3.66663Z",fill:"currentColor"})]}))})),H={cardTextContainer:{flex:1,display:"flex",justifyContent:"center",padding:"10px 10px 20px 10px"},image:{height:130,width:130},lockerImage:{height:80,width:80},imageContainer:{width:"100%",height:130,display:"flex",justifyContent:"center",alignItems:"center"},keyPointsList:{paddingInlineStart:12,textAlign:"left",overflowWrap:"anywhere"}},W=function(e){return e?{opacity:.4}:void 0},z=function(e){var t=e.progress,n=e.locked,r=e.size,o=void 0===r?"large":r,u=e.disabled,l=e.title,d=e.description,b=e.durationInMinutes,h=e.keyPoints,f=e.onClick,g=e.renderImage,m=a.useContext(L.a),v=u||n;return Object(O.jsx)(i.I18n,{children:function(e){var r=e.i18n;return Object(O.jsx)(D,{onClick:f,size:o,disabled:v,children:Object(O.jsxs)(s.a,{noMargin:!0,alignItems:"center",expand:!0,children:[Object(O.jsx)("div",{style:Object(c.a)(Object(c.a)({},H.imageContainer),{},{backgroundColor:n?m.paper.backgroundColor.light:u?"dark"===m.palette.type?"#4F28CD":"#9979F1":"#7046EC"}),children:n?Object(O.jsx)(U,{style:H.lockerImage}):g({style:Object(c.a)(Object(c.a)({},H.image),{},{opacity:u?.6:1})})}),Object(O.jsx)("div",{style:Object(c.a)(Object(c.a)({},H.cardTextContainer),{},{maxWidth:"banner"===o?"40%":void 0}),children:Object(O.jsxs)(j.a,{expand:!0,justifyContent:"flex-start",useFullHeight:!0,children:[t&&t>0?Object(O.jsxs)(j.b,{alignItems:"center",noMargin:!0,children:[Object(O.jsxs)(p.a,{displayInlineAsSpan:!0,noMargin:!0,size:"body2",children:[t,"%"]}),Object(O.jsx)(N,{value:t})]}):b?Object(O.jsx)(s.c,{noMargin:!0,justifyContent:"center",children:Object(O.jsx)(B.a,{size:"small",label:Object(O.jsx)(i.Trans,{id:"{durationInMinutes} minutes",values:{durationInMinutes:b}})})}):Object(O.jsx)(s.d,{}),Object(O.jsx)(p.a,{size:"block-title",noMargin:!0,style:W(v),color:"primary",children:r._(l)}),Object(O.jsx)(p.a,{size:"body",noMargin:!0,style:W(v),color:"secondary",children:r._(d)}),h&&Object(O.jsx)(F.a,{}),h&&Object(O.jsxs)(j.c,{noColumnMargin:!0,noMargin:!0,children:[Object(O.jsx)(s.a,{noMargin:!0,alignItems:"flex-start",justifyContent:"flex-start",expand:!0,children:Object(O.jsx)("ul",{style:H.keyPointsList,children:h.map((function(e,t){return t%2===0?Object(O.jsx)(p.a,{size:"body2",noMargin:!0,style:W(v),color:"secondary",displayAsListItem:!0,children:r._(e)},"key-point-".concat(t)):null}))})}),Object(O.jsx)(s.a,{noMargin:!0,alignItems:"flex-start",justifyContent:"flex-start",expand:!0,children:Object(O.jsx)("ul",{style:H.keyPointsList,children:h.map((function(e,t){return t%2===1?Object(O.jsx)(p.a,{size:"body2",noMargin:!0,style:W(v),color:"secondary",displayAsListItem:!0,children:r._(e)},"key-point-".concat(t)):null}))})})]})]})})]})})}})},V=o.a.memo((function(e){return Object(O.jsx)(m.a,Object(c.a)(Object(c.a)({},e),{},{width:"120",height:"138",viewBox:"0 0 120 138",fill:"none",children:Object(O.jsxs)("g",{children:[Object(O.jsx)("path",{d:"M54.193 62.1191L22.0432 73.4481L54.2016 89.8419L86.36 73.4481L54.193 62.1191Z",fill:"#936319"}),Object(O.jsx)("path",{d:"M86.3307 74.3174L54.2017 89.9795V122.001L86.3601 106.848V74.3703L86.3307 74.3174Z",fill:"#F0BB6B"}),Object(O.jsx)("path",{d:"M23.154 74.3174L23.1519 74.324V106.853L54.2014 122.001V89.9899L23.154 74.3174Z",fill:"#E5AC56"}),Object(O.jsx)("path",{d:"M86.4567 73.208L54.2017 89.5308L60.9187 103.149L93.0135 85.8519L86.4567 73.208Z",fill:"#EAB14D"}),Object(O.jsx)("path",{d:"M21.9465 73.208L15.3896 85.8519L47.4845 103.149L54.2015 89.5308L21.9465 73.208Z",fill:"#F0BB6B"}),Object(O.jsx)("path",{d:"M39.4453 44L52.3786 69.6372L42.9333 74.4021L30 48.7649L39.4453 44Z",fill:"#E877A7"}),Object(O.jsx)("path",{d:"M58.48 53.8975L65.1114 71.8263C65.353 72.4794 66.0667 72.8172 66.7056 72.5809L78.1802 68.3367C78.8191 68.1004 79.1412 67.3795 78.8996 66.7264L77.4365 62.7707C75.834 58.4381 77.8698 53.5796 82.087 51.9558C86.372 50.3059 91.1938 52.5595 92.8171 56.9482L94.3237 61.0214C94.5653 61.6745 95.2789 62.0123 95.9178 61.776L107.393 57.5318C108.031 57.2955 108.353 56.5746 108.112 55.9215L101.48 37.9926L58.48 53.8975Z",fill:"#FFD064"}),Object(O.jsx)("path",{d:"M3.28991 28.9998L21.6084 40.2898L10.3185 58.6083C10.1288 58.3236 9.98968 58.0034 9.91123 57.6642L3.28991 28.9998Z",fill:"#75CEF9"}),Object(O.jsx)("path",{d:"M50.5994 30.8701C52.0805 24.5156 48.13 18.1636 41.7755 16.6824C35.4211 15.2013 29.069 19.1519 27.5878 25.5064L50.5994 30.8701Z",fill:"#EAB14D"}),Object(O.jsx)("circle",{cx:"65",cy:"32",r:"9",fill:"#95D6A4"})]})}))})),G=o.a.memo((function(e){return Object(O.jsxs)(m.a,Object(c.a)(Object(c.a)({},e),{},{width:"89",height:"138",viewBox:"0 0 89 138",fill:"none",children:[Object(O.jsx)("path",{d:"M37.987 47.4639V74.2398H11.5396C11.7151 73.853 11.9604 73.4966 12.2648 73.192L37.987 47.4639Z",fill:"#57B3DF"}),Object(O.jsx)("path",{d:"M11.2158 85.0957V112.252C11.2158 113.242 12.0175 114.043 13.0066 114.043H30.7706C31.7597 114.043 32.5614 113.242 32.5614 112.252V106.261C32.5614 99.6982 37.7809 94.228 44.3419 94.1428C51.0082 94.0563 56.4395 99.4352 56.4395 106.083V112.252C56.4395 113.242 57.2411 114.043 58.2302 114.043H75.9942C76.9833 114.043 77.785 113.242 77.785 112.252V85.0957H11.2158Z",fill:"#FFD064"}),Object(O.jsx)("path",{d:"M37.9885 44.931C37.9885 33.9396 46.8972 25.0293 57.8868 25.0293C68.8764 25.0293 77.7853 33.9396 77.7853 44.931H37.9885Z",fill:"#EAB14D"}),Object(O.jsx)("path",{d:"M67.2933 36.4279C67.2933 39.5019 66.5258 42.3962 65.1736 44.9314H77.7852C77.7852 36.0635 71.9854 28.5515 63.9731 25.9795C66.0641 28.9307 67.2933 32.5356 67.2933 36.4279Z",fill:"#E49824"}),Object(O.jsx)("path",{d:"M73.0818 85.0957V105.721C73.0818 107.719 71.462 109.339 69.4639 109.339H56.4395V112.252C56.4395 113.242 57.2411 114.043 58.2302 114.043H75.9942C76.9833 114.043 77.785 113.242 77.785 112.252V85.0957H73.0818Z",fill:"#FFC250"}),Object(O.jsx)("path",{d:"M13.0066 114.043H30.7706C31.7597 114.043 32.5614 113.241 32.5614 112.252V109.339H11.2158V112.252C11.2158 113.241 12.0177 114.043 13.0066 114.043Z",fill:"#FFC250"}),Object(O.jsx)("path",{d:"M77.785 74.24V85.0954H11.2158V75.7247C11.2158 75.2071 11.3286 74.7002 11.54 74.24H77.785Z",fill:"#95D6A4"}),Object(O.jsx)("path",{d:"M73.0818 74.2412H77.7851V85.0966H73.0818V74.2412Z",fill:"#78C2A4"}),Object(O.jsx)("path",{d:"M48.8423 44.9307V74.2403H37.9886V44.9307H48.8423Z",fill:"#E877A7"}),Object(O.jsx)("path",{d:"M77.7852 44.9307V74.2403H66.9315V44.9307H77.7852Z",fill:"#E877A7"}),Object(O.jsx)("path",{d:"M77.7852 44.9307V74.2403H73.0819V44.9307H77.7852Z",fill:"#DD5790"})]}))})),Z=o.a.memo((function(e){return Object(O.jsx)(m.a,Object(c.a)(Object(c.a)({},e),{},{width:"104",height:"138",viewBox:"0 0 104 138",fill:"none",children:Object(O.jsxs)("g",{children:[Object(O.jsx)("path",{d:"M31.8503 53.6963H2.16699V112.827H31.8503V53.6963Z",fill:"#FFD15C"}),Object(O.jsx)("path",{d:"M31.8503 53.6963H2.16699V56.5224H31.8503V53.6963Z",fill:"#F7B64C"}),Object(O.jsx)("path",{d:"M34.0167 46.7393H0V53.9132H34.0167V46.7393Z",fill:"#FFD15C"}),Object(O.jsx)("path",{d:"M101.833 66.7393H72.1499V112.826H101.833V66.7393Z",fill:"#F78471"}),Object(O.jsx)("path",{d:"M101.833 66.7393H72.1499V69.5654H101.833V66.7393Z",fill:"#F05540"}),Object(O.jsx)("path",{d:"M104 59.7822H69.9834V66.9561H104V59.7822Z",fill:"#F78471"}),Object(O.jsx)("path",{d:"M18.8503 74.7834C19.5003 73.9138 19.717 73.2616 19.717 72.3922C19.717 71.5228 19.5003 71.0879 19.067 70.4357C18.6337 70.001 17.9837 69.5661 17.117 69.5661C15.6003 69.5661 14.3003 70.6529 13.0003 72.6095L8.66699 70.4355C9.75026 68.6964 10.8335 67.6095 12.1335 66.7399C13.4335 65.8703 14.9503 65.4355 17.1168 65.4355C19.0668 65.4355 20.8001 66.0877 22.3168 67.3921C23.8335 68.6964 24.4835 70.4355 24.4835 72.6095C24.4835 73.6963 24.2668 75.0007 23.6168 76.0878C22.9668 77.1747 21.8835 78.479 20.3668 80.2183L16.2503 84.566H25.3503V89.1313H9.10026V85.2182L15.817 78.2618C17.117 76.74 18.2003 75.6531 18.8503 74.7834Z",fill:"white"}),Object(O.jsx)("path",{d:"M80.1672 82.6095V78.2617H94.2505V81.9573L89.4837 87.3922C91.217 87.6096 92.7337 88.479 93.817 89.7834C94.9002 91.0877 95.3337 92.3921 95.3337 94.1311C95.3337 96.5224 94.467 98.4789 92.9505 99.7833C91.2172 101.088 89.2672 101.74 86.6672 101.74C84.0672 101.74 81.4672 100.87 78.8672 99.1311L81.0337 95.0008C83.2005 96.5226 85.1505 97.392 86.8837 97.392C87.967 97.392 88.8337 97.1746 89.4837 96.7398C90.1337 96.3051 90.567 95.4355 90.567 94.5659C90.567 93.6962 90.1337 92.8268 89.4837 92.3919C88.617 91.7397 87.7505 91.5222 86.2337 91.5222C85.5837 91.5222 84.5005 91.7397 83.2005 92.1744V88.479L87.5337 83.2616H80.167V82.6095H80.1672Z",fill:"white"}),Object(O.jsx)("path",{d:"M66.9499 31.9561H37.2666V112.826H66.9499V31.9561Z",fill:"#95D6A4"}),Object(O.jsx)("path",{d:"M66.9499 31.9561H37.2666V34.7822H66.9499V31.9561Z",fill:"#4ABAA5"}),Object(O.jsx)("path",{d:"M68.9 25H34.8833V32.1739H68.9V25Z",fill:"#95D6A4"}),Object(O.jsx)("path",{d:"M47.4502 43.4785H56.7669V66.5221H51.7837V47.8265H47.4502V43.4785Z",fill:"white"})]})}))})),Y=n(319),q=n(39),X=n(884),J=n(348),K=n(12),Q=n.n(K),$=Q()("electron"),ee=function(e){return"small"===e?1:3},te=330*ee("large"),ne={grid:{textAlign:"center",maxWidth:te,overflow:"hidden",width:"100%"},cardTextContainer:{flex:1,display:"flex"},cardImage:{width:"100%",aspectRatio:"2",maxWidth:A},bannerContainer:{width:"100%",maxWidth:te-10,marginLeft:5},bannerImage:{width:"100%",aspectRatio:"16 / 9",maxWidth:A},icon:{marginRight:8}},re=function(e){return!!$||"small"!==e},ae=function(e){e.onCreateProject;var t=e.onTabChange,n=e.selectInAppTutorial,r=e.showGetStartedSection,o=e.setShowGetStartedSection,m=a.useContext(h.a),v=m.inAppTutorialShortHeaders,x=m.inAppTutorialsFetchingError,y=m.fetchInAppTutorials,C=a.useContext(q.a).getTutorialProgress,T=a.useContext(Y.a),E=Object(d.b)(),S=a.useContext(h.a).currentlyRunningInAppTutorial,P=re(E),I=[{key:"tutorial",title:Object(O.jsx)(i.Trans,{id:"Learn Section"}),description:Object(O.jsx)(i.Trans,{id:"Find all the learning content related to GDevelop."}),action:function(){return t("learn")}},{key:"build",title:Object(O.jsx)(i.Trans,{id:"\u201cHow do I\u201d forum"}),description:Object(O.jsx)(i.Trans,{id:"Ask your questions."}),action:function(){return g.b.openExternalURL("https://forum.gdevelop.io/")}},{key:"games",title:Object(O.jsx)(i.Trans,{id:"Wiki documentation"}),description:Object(O.jsx)(i.Trans,{id:"Get inspired and have fun."}),action:function(){return g.b.openExternalURL("https://wiki.gdevelop.io/gdevelop5")}}],A=C({tutorialId:X.a,userId:T.profile?T.profile.id:void 0}),F=[{key:"create",title:{id:"Start your game"},description:{id:"Add your first characters to the scene and throw your first objects."},keyPoints:[{id:"Game scene size"},{id:"Objects and characters"},{id:"Game Scenes"},{id:"Throwing physics"}],durationInMinutes:5,locked:!1,disabled:!!S||!!A&&!!A.progress&&100===A.progress[0],progress:A&&A.progress?A.progress[0]:0,renderImage:function(e){return Object(O.jsx)(V,Object(c.a)({},e))}},{key:"publish",title:{id:"Improve and publish your Game"},description:{id:"Add personality to your game and publish it online."},keyPoints:[{id:"Game background"},{id:"In-game obstacles"},{id:"\u201cYou win\u201d message"},{id:"Sharing online"}],durationInMinutes:10,locked:!A||!A.progress||100!==A.progress[0],disabled:!!S||!!A&&!!A.progress&&100===A.progress[1],progress:A&&A.progress?A.progress[1]:0,renderImage:function(e){return Object(O.jsx)(G,Object(c.a)({},e))}},{key:"leaderboards",title:{id:"Add leaderboards to your online Game"},description:{id:"Add player logins to your game and add a leaderboard."},keyPoints:[{id:"Game personalisation"},{id:"\u201cStart\u201d screen"},{id:"Timers"},{id:"Leaderboards"}],durationInMinutes:15,locked:!A||!A.progress||100!==A.progress[1],disabled:!!S||!!A&&!!A.progress&&100===A.progress[2],progress:A&&A.progress?A.progress[2]:0,renderImage:function(e){return Object(O.jsx)(Z,Object(c.a)({},e))}}],M=function(){return Object(O.jsxs)(j.c,{justifyContent:"space-between",alignItems:"center",noColumnMargin:!0,noMargin:!0,children:[Object(O.jsx)(p.a,{noMargin:!0,children:Object(O.jsx)(i.Trans,{id:"Learn the basics of GDevelop and publish a first game."})}),Object(O.jsx)(b.a,{label:Object(O.jsx)(i.Trans,{id:"Don't show this screen on next startup"}),checked:!r,onCheck:function(e,t){return o(!t)}})]})},_=A&&"object"===typeof A.progress&&A.progress.every&&A.progress.every((function(e){return 100===e}));return Object(O.jsxs)(w,{title:P?Object(O.jsx)(i.Trans,{id:"Create and Publish a Fling Game"}):Object(O.jsx)(i.Trans,{id:"Get Started!"}),renderSubtitle:function(){return Object(O.jsx)(M,{})},children:[P&&Object(O.jsx)(k,{children:Object(O.jsx)(s.c,{children:Object(O.jsx)("div",{style:ne.bannerContainer,children:x?Object(O.jsxs)(J.a,{onRetry:y,children:[Object(O.jsx)(i.Trans,{id:"An error occurred when downloading the tutorials."})," ",Object(O.jsx)(i.Trans,{id:"Please check your internet connection or try again later."})]}):null===v?Object(O.jsx)(f.a,{}):Object(O.jsx)(u.a,{cols:_?1:ee(E),style:ne.grid,cellHeight:"auto",spacing:10,children:_?Object(O.jsx)(l.a,{children:Object(O.jsx)(z,{title:{id:"Congratulations! You've finished this tutorial!"},description:{id:"Find your finished game on the \u201cBuild\u201d section. Or restart the tutorial by clicking on the card."},size:"banner",locked:!1,disabled:!1,renderImage:function(e){return Object(O.jsxs)(s.c,{justifyContent:"space-around",expand:!0,children:[Object(O.jsx)(V,Object(c.a)({},e)),Object(O.jsx)(G,Object(c.a)({},e)),Object(O.jsx)(Z,Object(c.a)({},e))]})},onClick:function(){return n(X.a)}})}):F.map((function(e){return Object(O.jsx)(l.a,{children:Object(O.jsx)(z,Object(c.a)(Object(c.a)({},e),{},{onClick:function(){return n(X.a)}}))},e.key)}))})})})}),Object(O.jsxs)(k,{children:[Object(O.jsx)(p.a,{size:"title",noMargin:!0,children:P?Object(O.jsx)(i.Trans,{id:"Want to explore further?"}):Object(O.jsx)(i.Trans,{id:"Explore GDevelop Content"})}),Object(O.jsx)(p.a,{size:"body",color:"secondary",noMargin:!0,children:Object(O.jsx)(i.Trans,{id:"Articles, wiki and much more."})}),Object(O.jsx)(s.b,{}),Object(O.jsx)(s.c,{noMargin:!0,expand:!0,children:Object(O.jsx)(u.a,{cols:ee(E),style:ne.grid,cellHeight:"auto",spacing:10,children:I.map((function(e,t){return Object(O.jsx)(l.a,{children:Object(O.jsx)(D,{onClick:e.action,size:"large",disabled:e.disabled,useDefaultDisabledStyle:!0,children:Object(O.jsx)("div",{style:Object(c.a)(Object(c.a)({},ne.cardTextContainer),{},{padding:"small"===E?10:20}),children:Object(O.jsxs)(j.a,{expand:!0,justifyContent:"center",useFullHeight:!0,children:[Object(O.jsx)(p.a,{size:"sub-title",noMargin:!0,children:e.title}),Object(O.jsx)(p.a,{size:"body",color:"secondary",noMargin:!0,children:e.description})]})})},t)},t)}))})})]})]})},oe=n(2),ie=n(19),se=n(0),ce=n.n(se),ue=n(2585),le=n(2580),de=n(2589),be=n(2645),pe=n(305),je=n(497),he=n(364),fe=n(424),ge=n(372),me=n(1240),Oe=n(60),ve=function(e,t){var n=Date.now();if(n-t<6e4)return e._({id:"Now"});var r=new Date(n),a=new Date(t);if(r.getFullYear()===a.getFullYear()&&r.getMonth()===a.getMonth()&&r.getDate()===a.getDate())return e._({id:"Today"});var o=new Date(r);if(o.setDate(r.getDate()-1),r.getFullYear()===a.getFullYear()&&r.getMonth()===a.getMonth()&&o.getDate()===a.getDate())return e._({id:"Yesterday"});var i=new Date(r);return i.setDate(r.getDate()-7),i.setHours(0,0,0,0),r.getFullYear()===a.getFullYear()&&r.getMonth()===a.getMonth()&&i.getTime()<=a.getTime()?e._({id:"This week"}):e.date(a)},xe=function(e){var t=Math.floor(e/60),n=e%60,r=n<10?"0".concat(n):n;return"".concat(t,":").concat(r)},ye=n(314),Ce=n(698),ke=n(439),we=o.a.memo((function(e){return Object(O.jsxs)(m.a,Object(c.a)(Object(c.a)({},e),{},{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",children:[Object(O.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.99998 0.333374C5.27612 0.333374 5.49998 0.557232 5.49998 0.833374V9.16671C5.49998 9.44285 5.27612 9.66671 4.99998 9.66671C4.72384 9.66671 4.49998 9.44285 4.49998 9.16671V0.833374C4.49998 0.557232 4.72384 0.333374 4.99998 0.333374Z",fill:"currentColor"}),Object(O.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.333313 5.00004C0.333313 4.7239 0.557171 4.50004 0.833313 4.50004H9.16665C9.44279 4.50004 9.66665 4.7239 9.66665 5.00004C9.66665 5.27618 9.44279 5.50004 9.16665 5.50004H0.833313C0.557171 5.50004 0.333313 5.27618 0.333313 5.00004Z",fill:"currentColor"})]}))})),Te=n(298),Ee=n(2622),Se=n(375),Pe=n(2660),Ie=n(2590),Ae=n(549),De={container:{marginTop:25},buttonStyle:{textAlign:"left",width:"100%"},imageContainer:{position:"relative",width:"100%"},overlay:{position:"absolute",right:8,bottom:8,background:"rgba(0, 0, 0, 0.7)",borderRadius:4,padding:"2px 6px"},overlayText:{color:"white",marginTop:0,marginBottom:0},titleContainer:{minHeight:52},thumbnailImageWithDescription:{objectFit:"contain",verticalAlign:"middle",backgroundColor:"black",width:"calc(100% - 2px)",borderRadius:8,border:"1px solid lightgrey",aspectRatio:"16 / 9"},skeletonTile:{padding:8,height:"auto"},skeletonContainer:{padding:4,aspectRatio:"16 / 9"},skeleton:{borderRadius:8}},Fe=Object(_.a)((function(e){return Object(Ee.a)({tile:{borderRadius:8,padding:4,height:"auto","&:focus":{backgroundColor:e.palette.action.hover},"&:hover":{backgroundColor:e.palette.action.hover}}})})),Me=function(e){var t=e.content;return Object(O.jsx)("div",{style:De.overlay,children:Object(O.jsx)(Ie.a,{variant:"body1",style:De.overlayText,children:t})})},_e=function(e){var t=e.items,n=e.isLoading,r=e.getColumnsFromWidth,a=e.getLimitFromWidth,o=Object(d.b)(),i=Fe(),c=r("large"),b=a?a(o):void 0,j=b?t.slice(0,b):t;return Object(O.jsx)("div",{style:De.container,children:Object(O.jsx)(s.c,{noMargin:!0,children:Object(O.jsx)(u.a,{cols:r(o),style:{flex:1,maxWidth:316*c},cellHeight:"auto",spacing:16,children:n?new Array(r(o)).fill(0).map((function(e,t){return Object(O.jsx)(l.a,{style:De.skeletonTile,children:Object(O.jsx)("div",{style:De.skeletonContainer,children:Object(O.jsx)(Pe.a,{variant:"rect",width:"100%",height:"100%",style:De.skeleton})})},t)})):j.map((function(e,t){return Object(O.jsx)(l.a,{classes:i,children:Object(O.jsx)(T.a,{style:De.buttonStyle,onClick:e.onClick,tabIndex:0,focusRipple:!0,children:Object(O.jsxs)(s.a,{noMargin:!0,children:[Object(O.jsxs)("div",{style:De.imageContainer,children:[Object(O.jsx)(Se.a,{style:De.thumbnailImageWithDescription,src:e.imageUrl,alt:"thumbnail ".concat(t)}),e.overlayText&&Object(O.jsx)(Me,{content:e.overlayText})]}),e.title&&Object(O.jsx)("div",{style:De.titleContainer,children:Object(O.jsx)(p.a,{size:"sub-title",children:e.title})}),e.description&&Object(O.jsx)(p.a,{size:"body",color:"secondary",children:Object(Ae.a)(e.description,120)})]})})},t)}))})})})},Le=function(e){var t=e.title,n=e.description,r=e.isLoading,a=e.items,o=e.onShowAll,c=e.showAllIcon,u=e.getLimitFromWidth,l=e.getColumnsFromWidth;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(j.b,{justifyContent:"space-between",alignItems:"center",noMargin:!0,expand:!0,children:[Object(O.jsx)(s.a,{noMargin:!0,children:Object(O.jsx)(p.a,{size:"section-title",children:t})}),Object(O.jsx)(s.a,{noMargin:!0,children:Object(O.jsx)(Te.a,{onClick:o,label:Object(O.jsx)(i.Trans,{id:"Show all"}),rightIcon:c})})]}),n&&Object(O.jsx)(s.c,{noMargin:!0,children:Object(O.jsx)(p.a,{noMargin:!0,children:n})}),Object(O.jsx)(_e,{items:a,isLoading:r,getLimitFromWidth:u,getColumnsFromWidth:l})]})},Re=n(1271),Ne=n(347),Be=n(312),Ue=n(2605),He=n(310),We=n(405),ze=n(458),Ve=Q()("electron"),Ge=Q()("path"),Ze={listItem:{padding:0,marginTop:2,marginBottom:2,borderRadius:8,overflowWrap:"anywhere"},projectSkeleton:{borderRadius:6},noProjectsContainer:{padding:10}},Ye=function(e){switch(e){case"small":return 2;case"medium":return 4;default:return 6}},qe=function(e){var t=e.path,n=Array.from(t).map((function(e,t){return["/","\\"].includes(e)?t:null})).filter(Boolean);return 0===n.length?t:n.reduce((function(e,r,a){var o=n[a+1];return[].concat(Object(ie.a)(e),[Object(O.jsx)("wbr",{},r),t.substring(r,o||t.length)])}),[])},Xe=Object(_.a)({root:{minWidth:0}}),Je=a.forwardRef((function(e,t){e.project;var n=e.canOpen,o=e.onChooseProject,c=e.onOpenNewProjectSetupDialog,u=e.onShowAllExamples,l=e.onSelectExample,b=e.onOpenRecentFile,h=e.storageProviders,f=a.useContext(ze.b).navigateToRoute,g=a.useContext(q.a),m=g.getRecentProjectFiles,v=g.removeRecentProjectFile,C=a.useContext(Ce.a).allExamples,T=a.useContext(Y.a),E=a.useContext(ke.a).openSubscriptionDialog,S=T.cloudProjects,P=T.limits,I=T.cloudProjectsFetchingErrorLabel,A=T.onCloudProjectsChanged,D=a.useRef(null),F=Object(fe.a)().showDeleteConfirmation,M=a.useState(null),_=Object(r.a)(M,2),L=_[0],R=_[1],N=Object(d.b)(),B=Object(ye.a)(),U=Xe();a.useImperativeHandle(t,(function(){return{forceUpdate:B}}));var H=m().filter((function(e){return e.fileMetadata}));S&&(H=H.concat(S.map((function(e){return e.deletedAt?null:{storageProviderName:"Cloud",fileMetadata:{fileIdentifier:e.id,lastModifiedDate:Date.parse(e.lastModifiedAt),name:e.name,gameId:e.gameId}}})).filter(Boolean)));var W=Object(me.b)(T);H.sort((function(e,t){return e.fileMetadata.lastModifiedDate?t.fileMetadata.lastModifiedDate?t.fileMetadata.lastModifiedDate-e.fileMetadata.lastModifiedDate:-1:1}));var z=function(e,t){D.current&&D.current.open(e.clientX,e.clientY,{file:t})},V=function(){var e=Object(oe.a)(ce.a.mark((function e(t,n){var r,a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.fileMetadata,"Cloud"===n.storageProviderName){e.next=3;break}return e.abrupt("return");case 3:if(a=r.name){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,F({title:{id:"Do you really want to permanently delete your project {projectName}?",values:{projectName:a}},message:{id:"You\u2019re about to permanently delete your project {projectName}. You will no longer be able to access it.",values:{projectName:a}},fieldMessage:{id:"Type your project name to delete it:"},confirmText:a,confirmButtonLabel:{id:"Delete project"}});case 8:if(e.sent){e.next=11;break}return e.abrupt("return");case 11:return e.prev=11,R(r.fileIdentifier),e.next=15,Object(ge.g)(T,r.fileIdentifier);case 15:T.onCloudProjectsChanged(),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(11),Object(Oe.a)({message:t._({id:"An error occurred when deleting cloud project {projectName}. Please try again later.",values:{projectName:a}}),rawError:e.t0,errorId:"cloud-project-delete-error"});case 21:return e.prev=21,R(null),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[11,18,21,24]])})));return function(t,n){return e.apply(this,arguments)}}(),G=v,Z=function(e,t){if(!t)return[];var n=[{label:e._({id:"Open"}),click:function(){return b(t)}}];n="Cloud"===t.storageProviderName?n.concat([{label:e._({id:"Delete"}),click:function(){return V(e,t)}}]):"LocalFile"===t.storageProviderName?n.concat([{label:e._({id:"Show in local folder"}),click:function(){return function(e){Ve.shell.showItemInFolder(Ge.resolve(e.fileMetadata.fileIdentifier))}(t)}},{label:e._({id:"Remove from list"}),click:function(){return G(t)}}]):n.concat([{label:e._({id:"Remove from list"}),click:function(){return G(t)}}]);var r=t.fileMetadata.gameId;return r&&(n=n.concat([{type:"separator"},{label:e._({id:"Manage game"}),click:function(){return f("games-dashboard",{"game-id":r})}}])),n},X="small"!==N,K=("small"===N?52:36)-2*s.e;return Object(O.jsx)(i.I18n,{children:function(e){var t=e.i18n;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(w,{title:Object(O.jsx)(i.Trans,{id:"My projects"}),renderFooter:function(){return P&&W?Object(O.jsx)(s.c,{children:Object(O.jsx)(s.a,{expand:!0,children:Object(O.jsx)(me.a,{limits:P,onUpgrade:function(){return E({reason:"Cloud Project limit reached"})}})})}):null},children:[Object(O.jsx)(k,{children:Object(O.jsx)(Le,{isLoading:!C,items:C?Object(Re.b)(C).map((function(e){return{onClick:function(){return l(e)},imageUrl:e.previewImageUrls[0]}})):[],title:Object(O.jsx)(i.Trans,{id:"Recommended templates"}),onShowAll:u,showAllIcon:Object(O.jsx)(we,{fontSize:"small"}),getColumnsFromWidth:Ye,getLimitFromWidth:Ye})}),Object(O.jsxs)(k,{children:[Object(O.jsxs)(j.c,{justifyContent:"space-between",alignItems:"center",noMargin:!0,expand:!0,children:[Object(O.jsx)(s.a,{noMargin:!0,children:Object(O.jsx)(p.a,{size:"section-title",children:Object(O.jsx)(i.Trans,{id:"Existing projects"})})}),Object(O.jsx)(s.a,{noMargin:!0,children:Object(O.jsxs)(j.b,{noMargin:!0,children:[Object(O.jsx)(pe.a,{primary:!0,fullWidth:!n,label:Object(O.jsx)(i.Trans,{id:"Create a project"}),onClick:function(){return c(null)},icon:Object(O.jsx)(we,{fontSize:"small"}),id:"home-create-project-button"}),n&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(p.a,{children:Object(O.jsx)(i.Trans,{id:"or"})}),Object(O.jsx)(s.d,{}),Object(O.jsx)(x.a,{primary:!0,label:Object(O.jsx)(i.Trans,{id:"Open a project"}),onClick:o})]})]})})]}),I&&Object(O.jsx)(s.c,{children:Object(O.jsx)(J.a,{onRetry:A,children:Object(O.jsx)(Be.a,{kind:"warning",children:I})})}),Object(O.jsx)(s.c,{children:Object(O.jsxs)(s.a,{noMargin:!0,expand:!0,children:[X&&Object(O.jsxs)(j.b,{justifyContent:"space-between",children:[Object(O.jsx)(s.a,{expand:!0,children:Object(O.jsx)(p.a,{color:"secondary",children:Object(O.jsx)(i.Trans,{id:"File name"})})}),Object(O.jsx)(s.a,{expand:!0,children:Object(O.jsx)(p.a,{color:"secondary",children:Object(O.jsx)(i.Trans,{id:"Location"})})}),Object(O.jsx)(s.a,{expand:!0,children:Object(O.jsx)(p.a,{color:"secondary",children:Object(O.jsx)(i.Trans,{id:"Last edited"})})})]}),Object(O.jsx)(ue.a,{children:"loggingIn"===T.loginState?new Array(5).fill(0).map((function(e,t){return Object(O.jsx)(le.a,{style:Ze.listItem,children:Object(O.jsx)(s.c,{expand:!0,children:Object(O.jsx)(s.a,{expand:!0,children:Object(O.jsx)(Pe.a,{variant:"rect",height:K,style:Ze.projectSkeleton})})})},"skeleton-".concat(t))})):H&&H.length>0?H.map((function(e){var n=function(e,t){return e.find((function(e){return e.internalName===t}))}(h,e.storageProviderName);return Object(O.jsx)(le.a,{button:!0,onClick:function(){b(e)},style:Ze.listItem,onContextMenu:function(t){return z(t,e)},children:Object(O.jsxs)(O.Fragment,{children:[n&&n.renderIcon&&!X&&Object(O.jsx)(be.a,{classes:U,style:{marginTop:8,alignSelf:"flex-start"},children:n.renderIcon({size:"small"})}),X?Object(O.jsxs)(j.b,{justifyContent:"flex-start",expand:!0,children:[Object(O.jsx)(s.a,{expand:!0,children:Object(O.jsxs)(s.c,{noMargin:!0,alignItems:"center",children:[n&&n.renderIcon&&Object(O.jsxs)(O.Fragment,{children:[n.renderIcon({size:"small"}),Object(O.jsx)(s.d,{})]}),Object(O.jsx)(p.a,{noMargin:!0,children:e.fileMetadata.name||Object(O.jsx)(qe,{path:e.fileMetadata.fileIdentifier})}),L===e.fileMetadata.fileIdentifier&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(s.d,{}),Object(O.jsx)(he.a,{size:16})]})]})}),Object(O.jsx)(s.a,{expand:!0,children:Object(O.jsx)(p.a,{noMargin:!0,children:n?t._(n.name):""})}),Object(O.jsx)(s.a,{expand:!0,children:e.fileMetadata.lastModifiedDate&&Object(O.jsx)(p.a,{noMargin:!0,children:ve(t,e.fileMetadata.lastModifiedDate)})}),Object(O.jsx)(Ue.a,{children:Object(O.jsx)(He.a,{size:"small",edge:"end","aria-label":"menu",onClick:function(t){t.stopPropagation(),z(t,e)},children:Object(O.jsx)(We.a,{})})})]}):Object(O.jsx)(s.a,{expand:!0,children:Object(O.jsxs)(s.c,{noMargin:!0,alignItems:"center",justifyContent:"space-between",children:[Object(O.jsx)(de.a,{primary:e.fileMetadata.name||Object(O.jsx)(qe,{path:e.fileMetadata.fileIdentifier}),secondary:e.fileMetadata.lastModifiedDate?ve(t,e.fileMetadata.lastModifiedDate):void 0,onContextMenu:function(t){return z(t,e)}}),L===e.fileMetadata.fileIdentifier&&Object(O.jsx)(he.a,{size:24})]})})]})},e.fileMetadata.fileIdentifier)})):Object(O.jsx)(le.a,{style:Ze.listItem,children:Object(O.jsx)(s.a,{expand:!0,children:Object(O.jsxs)(y.a,{variant:"outlined",background:"dark",style:Ze.noProjectsContainer,children:[Object(O.jsx)(Ne.a,{children:Object(O.jsx)(i.Trans,{id:"No projects yet."})}),Object(O.jsx)(Ne.a,{children:Object(O.jsx)(i.Trans,{id:"Create your first project using one of our templates or start from scratch."})})]})})})})]})})]})]}),Object(O.jsx)(je.a,{ref:D,buildMenuTemplate:function(e,t){var n=t.file;return Z(e,n)}})]})}})})),Ke=Je,Qe=n(2247),$e=n.n(Qe),et=n(1241),tt=n.n(et),nt=n(101),rt=n(912),at=n.n(rt),ot=Object(_.a)({tile:{width:"100%"}}),it=function(e,t){switch(e){case"small":return 1;case"medium":return 3;default:return t?4:3}},st=function(e){switch(e){case"small":return 2;case"medium":return 3;default:return 5}},ct={grid:{textAlign:"center",maxWidth:210*it("large",!0)},helpItem:{padding:10,flex:1,display:"flex"}},ut=function(e){var t=e.onStartTutorial,n=e.onCreateProject,r=e.onTabChange,o=e.onOpenHelpFinder,c=e.onSelectCategory,b=e.tutorials,f=ot(),m=a.useContext(h.a).currentlyRunningInAppTutorial,v=Object(d.b)(),x=!Object(nt.f)()&&"small"!==v,y=[x?{title:Object(O.jsx)(i.Trans,{id:"Guided Tour"}),description:Object(O.jsx)(i.Trans,{id:"Learn the fundamentals of the editor with our assisted tutorial."}),action:function(){t()},disabled:!!m}:void 0,{title:Object(O.jsx)(i.Trans,{id:"Documentation"}),description:Object(O.jsx)(i.Trans,{id:"Find the complete documentation on everything"}),action:o},{title:Object(O.jsx)(i.Trans,{id:"Examples"}),description:Object(O.jsx)(i.Trans,{id:"Have look at existing games from the inside"}),action:n},{title:Object(O.jsx)(i.Trans,{id:"Community"}),description:Object(O.jsx)(i.Trans,{id:"Ask your questions to the community"}),action:function(){return r("community")}}].filter(Boolean),C=function(e){return Object(O.jsx)(i.I18n,{children:function(t){var n=t.i18n;return Object(O.jsx)(Le,{title:ht[e].title,description:ht[e].description,items:b.filter((function(t){return t.category===e})).map((function(e){return ft(n,e)})),onShowAll:function(){return c(e)},showAllIcon:Object(O.jsx)(at.a,{fontSize:"small"}),getColumnsFromWidth:st,getLimitFromWidth:st})}})};return Object(O.jsxs)(w,{title:Object(O.jsx)(i.Trans,{id:"Help and guides"}),children:[Object(O.jsx)(k,{children:Object(O.jsx)(s.c,{noMargin:!0,children:Object(O.jsx)(u.a,{cols:it(v,x),style:ct.grid,cellHeight:"auto",spacing:10,children:y.map((function(e,t){return Object(O.jsx)(l.a,{classes:{tile:f.tile},children:Object(O.jsx)(D,{onClick:e.action,size:"large",disabled:e.disabled,useDefaultDisabledStyle:!0,children:Object(O.jsx)("div",{style:ct.helpItem,children:Object(O.jsxs)(j.a,{expand:!0,justifyContent:"center",useFullHeight:!0,children:[Object(O.jsx)(p.a,{noMargin:!0,size:"block-title",children:e.title}),Object(O.jsx)(p.a,{noMargin:!0,size:"body",color:"secondary",children:e.description})]})})},t)},t)}))})})}),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(k,{children:[Object(O.jsx)(s.c,{noMargin:!0,children:Object(O.jsx)(p.a,{size:"title",children:Object(O.jsx)(i.Trans,{id:"Courses"})})}),Object(O.jsx)(s.c,{noMargin:!0,children:Object(O.jsx)(p.a,{noMargin:!0,children:Object(O.jsx)(i.Trans,{id:"Learn everything about GDevelop from the ground up"})})})]}),Object(O.jsx)(k,{children:C("official-beginner")}),Object(O.jsx)(k,{children:C("official-intermediate")}),Object(O.jsx)(k,{children:C("official-advanced")}),Object(O.jsxs)(k,{children:[Object(O.jsxs)(j.b,{justifyContent:"space-between",alignItems:"center",noMargin:!0,expand:!0,children:[Object(O.jsx)(s.a,{noMargin:!0,children:Object(O.jsx)(p.a,{size:"title",children:Object(O.jsx)(i.Trans,{id:"Guides and tutorials"})})}),Object(O.jsxs)(j.b,{noMargin:!0,children:["large"===v&&Object(O.jsx)(Te.a,{onClick:function(){g.b.openExternalURL("https://github.com/GDevelopApp/GDevelop-examples/issues/new/choose")},primary:!0,leftIcon:Object(O.jsx)($e.a,{}),label:Object(O.jsx)(i.Trans,{id:"Submit your project as an example"})}),"large"===v&&Object(O.jsx)(Te.a,{onClick:function(){g.b.openExternalURL("https://airtable.com/shrv295oHlsuS69el")},primary:!0,leftIcon:Object(O.jsx)(tt.a,{}),label:Object(O.jsx)(i.Trans,{id:"Submit a tutorial translated in your language"})})]})]}),Object(O.jsx)(s.c,{noMargin:!0,children:Object(O.jsx)(p.a,{noMargin:!0,children:Object(O.jsx)(i.Trans,{id:"Learn by doing"})})})]}),Object(O.jsx)(k,{children:C("full-game")}),Object(O.jsx)(k,{children:C("game-mechanic")})]})]})},lt=function(e){switch(e){case"small":return 1;case"medium":return 3;default:return 5}},dt=function(e){var t=e.category,n=e.tutorials,r=e.onBack,a=ht[t],o=n.filter((function(e){return e.category===t}));return Object(O.jsx)(i.I18n,{children:function(e){var t=e.i18n;return Object(O.jsx)(w,{title:a.title,subtitleText:a.description,backAction:r,children:Object(O.jsx)(k,{children:Object(O.jsx)(_e,{items:o.map((function(e){return ft(t,e)})),getColumnsFromWidth:lt})})})}})},bt=n(512),pt=n(54),jt=n(589),ht={"full-game":{title:Object(O.jsx)(i.Trans,{id:"Entire games"}),description:Object(O.jsx)(i.Trans,{id:"Make complete games step by step"})},"game-mechanic":{title:Object(O.jsx)(i.Trans,{id:"Specific game mechanics"}),description:Object(O.jsx)(i.Trans,{id:"Find how to implement the most common game mechanics and more"})},"official-beginner":{title:Object(O.jsx)(i.Trans,{id:"Beginner course"}),description:Object(O.jsx)(i.Trans,{id:"Learn the fundamental principles of GDevelop"})},"official-intermediate":{title:Object(O.jsx)(i.Trans,{id:"Intermediate course"}),description:Object(O.jsx)(i.Trans,{id:"Learn all the game-building mechanics of GDevelop"})},"official-advanced":{title:Object(O.jsx)(i.Trans,{id:"Advanced course"}),description:Object(O.jsx)(i.Trans,{id:"The icing on the cake"})}},ft=function(e,t){return{title:Object(jt.b)(e,t.titleByLocale)||t.title,description:Object(jt.b)(e,t.descriptionByLocale)||t.description,onClick:function(){Object(pt.B)(t.id),g.b.openExternalURL(Object(jt.b)(e,t.linkByLocale)||t.link)},imageUrl:Object(jt.b)(e,t.thumbnailUrlByLocale)||t.thumbnailUrl,overlayText:t.duration?xe(t.duration):"\ud83d\udcd8"}},gt={paper:{flex:1,display:"flex"}},mt=function(e){var t=e.onCreateProject,n=e.onTabChange,o=e.onOpenHelpFinder,s=a.useContext(bt.a),c=s.tutorials,u=s.fetchTutorials,l=s.error;a.useEffect((function(){u()}),[u]);var d=a.useState(null),b=Object(r.a)(d,2),p=b[0],j=b[1];return l?Object(O.jsx)(y.a,{square:!0,style:gt.paper,background:"dark",children:Object(O.jsx)(J.a,{onRetry:u,children:Object(O.jsx)(i.Trans,{id:"Can't load the tutorials. Verify your internet connection or retry later."})})}):c?p?Object(O.jsx)(dt,{onBack:function(){return j(null)},category:p,tutorials:c}):Object(O.jsx)(ut,{onCreateProject:t,onOpenHelpFinder:o,onStartTutorial:function(){return n("get-started")},onTabChange:n,onSelectCategory:j,tutorials:c}):Object(O.jsx)(f.a,{})},Ot={border:0},vt=function(){var e=a.useContext(L.a).palette.type,t=a.useState(null),n=Object(r.a)(t,2),o=n[0],s=n[1];return window.addEventListener("message",(function(e){"https://gd.games"===e.origin&&"set-embedded-height"===e.data.id&&s(e.data.height)})),Object(O.jsx)(w,{title:Object(O.jsx)(i.Trans,{id:"Play!"}),flexBody:!0,subtitleText:Object(O.jsx)(i.Trans,{id:"Explore games made by others"}),children:Object(O.jsxs)(k,{expand:!0,children:[Object(O.jsx)("iframe",{src:"https://gd.games/embedded/".concat(e),title:"gdgames",style:Object(c.a)(Object(c.a)({},Ot),{},{height:o}),scrolling:"no"}),!o&&Object(O.jsx)(f.a,{})]})})},xt=o.a.memo((function(e){return Object(O.jsx)(m.a,Object(c.a)(Object(c.a)({},e),{},{children:Object(O.jsx)("path",{fill:"#5865F2",d:"M22,24L16.75,19L17.38,21H4.5A2.5,2.5 0 0,1 2,18.5V3.5A2.5,2.5 0 0,1 4.5,1H19.5A2.5,2.5 0 0,1 22,3.5V24M12,6.8C9.32,6.8 7.44,7.95 7.44,7.95C8.47,7.03 10.27,6.5 10.27,6.5L10.1,6.33C8.41,6.36 6.88,7.53 6.88,7.53C5.16,11.12 5.27,14.22 5.27,14.22C6.67,16.03 8.75,15.9 8.75,15.9L9.46,15C8.21,14.73 7.42,13.62 7.42,13.62C7.42,13.62 9.3,14.9 12,14.9C14.7,14.9 16.58,13.62 16.58,13.62C16.58,13.62 15.79,14.73 14.54,15L15.25,15.9C15.25,15.9 17.33,16.03 18.73,14.22C18.73,14.22 18.84,11.12 17.12,7.53C17.12,7.53 15.59,6.36 13.9,6.33L13.73,6.5C13.73,6.5 15.53,7.03 16.56,7.95C16.56,7.95 14.68,6.8 12,6.8M9.93,10.59C10.58,10.59 11.11,11.16 11.1,11.86C11.1,12.55 10.58,13.13 9.93,13.13C9.29,13.13 8.77,12.55 8.77,11.86C8.77,11.16 9.28,10.59 9.93,10.59M14.1,10.59C14.75,10.59 15.27,11.16 15.27,11.86C15.27,12.55 14.75,13.13 14.1,13.13C13.46,13.13 12.94,12.55 12.94,11.86C12.94,11.16 13.45,10.59 14.1,10.59Z"})}))})),yt=o.a.memo((function(e){return Object(O.jsx)(m.a,Object(c.a)(Object(c.a)({},e),{},{children:Object(O.jsx)("path",{fill:"#FF0000",d:"M10,15L15.19,12L10,9V15M21.56,7.17C21.69,7.64 21.78,8.27 21.84,9.07C21.91,9.87 21.94,10.56 21.94,11.16L22,12C22,14.19 21.84,15.8 21.56,16.83C21.31,17.73 20.73,18.31 19.83,18.56C19.36,18.69 18.5,18.78 17.18,18.84C15.88,18.91 14.69,18.94 13.59,18.94L12,19C7.81,19 5.2,18.84 4.17,18.56C3.27,18.31 2.69,17.73 2.44,16.83C2.31,16.36 2.22,15.73 2.16,14.93C2.09,14.13 2.06,13.44 2.06,12.84L2,12C2,9.81 2.16,8.2 2.44,7.17C2.69,6.27 3.27,5.69 4.17,5.44C4.64,5.31 5.5,5.22 6.82,5.16C8.12,5.09 9.31,5.06 10.41,5.06L12,5C16.19,5 18.8,5.16 19.83,5.44C20.73,5.69 21.31,6.27 21.56,7.17Z"})}))})),Ct=o.a.memo((function(e){return Object(O.jsx)(m.a,Object(c.a)(Object(c.a)({},e),{},{children:Object(O.jsx)("path",{fill:"#6A3BEB",d:"M17,12V3A1,1 0 0,0 16,2H3A1,1 0 0,0 2,3V17L6,13H16A1,1 0 0,0 17,12M21,6H19V15H6V17A1,1 0 0,0 7,18H18L22,22V7A1,1 0 0,0 21,6Z"})}))})),kt=o.a.memo((function(e){return Object(O.jsx)(m.a,Object(c.a)(Object(c.a)({},e),{},{children:Object(O.jsx)("path",{fill:"#FF5700",d:"M14.5 15.41C14.58 15.5 14.58 15.69 14.5 15.8C13.77 16.5 12.41 16.56 12 16.56C11.61 16.56 10.25 16.5 9.54 15.8C9.44 15.69 9.44 15.5 9.54 15.41C9.65 15.31 9.82 15.31 9.92 15.41C10.38 15.87 11.33 16 12 16C12.69 16 13.66 15.87 14.1 15.41C14.21 15.31 14.38 15.31 14.5 15.41M10.75 13.04C10.75 12.47 10.28 12 9.71 12C9.14 12 8.67 12.47 8.67 13.04C8.67 13.61 9.14 14.09 9.71 14.08C10.28 14.08 10.75 13.61 10.75 13.04M14.29 12C13.72 12 13.25 12.5 13.25 13.05S13.72 14.09 14.29 14.09C14.86 14.09 15.33 13.61 15.33 13.05C15.33 12.5 14.86 12 14.29 12M22 12C22 17.5 17.5 22 12 22S2 17.5 2 12C2 6.5 6.5 2 12 2S22 6.5 22 12M18.67 12C18.67 11.19 18 10.54 17.22 10.54C16.82 10.54 16.46 10.7 16.2 10.95C15.2 10.23 13.83 9.77 12.3 9.71L12.97 6.58L15.14 7.05C15.16 7.6 15.62 8.04 16.18 8.04C16.75 8.04 17.22 7.57 17.22 7C17.22 6.43 16.75 5.96 16.18 5.96C15.77 5.96 15.41 6.2 15.25 6.55L12.82 6.03C12.75 6 12.68 6.03 12.63 6.07C12.57 6.11 12.54 6.17 12.53 6.24L11.79 9.72C10.24 9.77 8.84 10.23 7.82 10.96C7.56 10.71 7.2 10.56 6.81 10.56C6 10.56 5.35 11.21 5.35 12C5.35 12.61 5.71 13.11 6.21 13.34C6.19 13.5 6.18 13.62 6.18 13.78C6.18 16 8.79 17.85 12 17.85C15.23 17.85 17.85 16.03 17.85 13.78C17.85 13.64 17.84 13.5 17.81 13.34C18.31 13.11 18.67 12.6 18.67 12Z"})}))})),wt=o.a.memo((function(e){return Object(O.jsx)(m.a,Object(c.a)(Object(c.a)({},e),{},{children:Object(O.jsx)("path",{fill:"#1DA1F2",d:"M22.46,6C21.69,6.35 20.86,6.58 20,6.69C20.88,6.16 21.56,5.32 21.88,4.31C21.05,4.81 20.13,5.16 19.16,5.36C18.37,4.5 17.26,4 16,4C13.65,4 11.73,5.92 11.73,8.29C11.73,8.63 11.77,8.96 11.84,9.27C8.28,9.09 5.11,7.38 3,4.79C2.63,5.42 2.42,6.16 2.42,6.94C2.42,8.43 3.17,9.75 4.33,10.5C3.62,10.5 2.96,10.3 2.38,10C2.38,10 2.38,10 2.38,10.03C2.38,12.11 3.86,13.85 5.82,14.24C5.46,14.34 5.08,14.39 4.69,14.39C4.42,14.39 4.15,14.36 3.89,14.31C4.43,16 6,17.26 7.89,17.29C6.43,18.45 4.58,19.13 2.56,19.13C2.22,19.13 1.88,19.11 1.54,19.07C3.44,20.29 5.7,21 8.12,21C16,21 20.33,14.46 20.33,8.79C20.33,8.6 20.33,8.42 20.32,8.23C21.16,7.63 21.88,6.87 22.46,6Z"})}))})),Tt=o.a.memo((function(e){return Object(O.jsx)(m.a,Object(c.a)(Object(c.a)({},e),{},{children:Object(O.jsx)("path",{fill:"#4267B2",d:"M5,3H19A2,2 0 0,1 21,5V19A2,2 0 0,1 19,21H5A2,2 0 0,1 3,19V5A2,2 0 0,1 5,3M18,5H15.5A3.5,3.5 0 0,0 12,8.5V11H10V14H12V21H15V14H18V11H15V9A1,1 0 0,1 16,8H18V5Z"})}))})),Et=o.a.memo((function(e){return Object(O.jsx)(m.a,Object(c.a)(Object(c.a)({},e),{},{width:"32",height:"32",viewBox:"0 0 32 32",children:Object(O.jsx)("path",{fill:"currentColor",d:"M16.708 0.027c1.745-0.027 3.48-0.011 5.213-0.027 0.105 2.041 0.839 4.12 2.333 5.563 1.491 1.479 3.6 2.156 5.652 2.385v5.369c-1.923-0.063-3.855-0.463-5.6-1.291-0.76-0.344-1.468-0.787-2.161-1.24-0.009 3.896 0.016 7.787-0.025 11.667-0.104 1.864-0.719 3.719-1.803 5.255-1.744 2.557-4.771 4.224-7.88 4.276-1.907 0.109-3.812-0.411-5.437-1.369-2.693-1.588-4.588-4.495-4.864-7.615-0.032-0.667-0.043-1.333-0.016-1.984 0.24-2.537 1.495-4.964 3.443-6.615 2.208-1.923 5.301-2.839 8.197-2.297 0.027 1.975-0.052 3.948-0.052 5.923-1.323-0.428-2.869-0.308-4.025 0.495-0.844 0.547-1.485 1.385-1.819 2.333-0.276 0.676-0.197 1.427-0.181 2.145 0.317 2.188 2.421 4.027 4.667 3.828 1.489-0.016 2.916-0.88 3.692-2.145 0.251-0.443 0.532-0.896 0.547-1.417 0.131-2.385 0.079-4.76 0.095-7.145 0.011-5.375-0.016-10.735 0.025-16.093z"})}))})),St=n(336),Pt=n(885),It=n(345),At=function(e){var t=e.level,n=e.canClose,r=e.addMargins,o=a.useContext(Pt.a),c=o.announcements,u=o.error,l=o.fetchAnnouncements,d=a.useContext(q.a),b=d.values,h=d.showAnnouncement;if(u)return Object(O.jsx)(J.a,{onRetry:l,children:Object(O.jsx)(i.Trans,{id:"Can't load the announcements. Verify your internet connection or try again later."})});if(!c)return Object(O.jsx)(f.a,{});var m=t?c.filter((function(e){return e.level===t})):c,v=n?m.filter((function(e){return!b.hiddenAnnouncements[e.id]})):m;return v.length?Object(O.jsx)(i.I18n,{children:function(e){var t=e.i18n;return Object(O.jsx)(s.c,{noMargin:!r,children:Object(O.jsx)(j.a,{noMargin:!r,expand:!0,children:v.map((function(e){var r=e.buttonLabelByLocale,a=e.buttonUrl;return Object(O.jsxs)(Be.a,{kind:e.type,renderRightButton:r&&a?function(){return Object(O.jsx)(pe.a,{label:Object(jt.b)(t,r),onClick:function(){return g.b.openExternalURL(a)}})}:null,onHide:n?function(){h(e.id,!1)}:null,children:[Object(O.jsx)(p.a,{size:"block-title",children:Object(O.jsx)(i.Trans,{id:"{0}",values:{0:Object(jt.b)(t,e.titleByLocale)}})}),Object(O.jsx)(It.a,{source:Object(jt.b)(t,e.markdownMessageByLocale),allowParagraphs:!1})]},e.id)}))})})}}):null},Dt={list:{width:"100%"}},Ft=[{onClick:function(){return g.b.openExternalURL("https://forum.gdevelop.io")},icon:Object(O.jsx)(Ct,{fontSize:"small"}),label:Object(O.jsx)(i.Trans,{id:"GDevelop Forums"})},{onClick:function(){return g.b.openExternalURL("https://www.youtube.com/c/GDevelopApp")},icon:Object(O.jsx)(yt,{fontSize:"small"}),label:Object(O.jsx)(i.Trans,{id:"YouTube"})},{onClick:function(){return g.b.openExternalURL("https://discord.gg/gdevelop")},icon:Object(O.jsx)(xt,{fontSize:"small"}),label:Object(O.jsx)(i.Trans,{id:"Discord"})},{onClick:function(){return g.b.openExternalURL("https://www.reddit.com/r/gdevelop")},icon:Object(O.jsx)(kt,{fontSize:"small"}),label:Object(O.jsx)(i.Trans,{id:"Reddit"})},{onClick:function(){return g.b.openExternalURL("https://twitter.com/GDevelopApp")},icon:Object(O.jsx)(wt,{fontSize:"small"}),label:Object(O.jsx)(i.Trans,{id:"Twitter"})},{onClick:function(){return g.b.openExternalURL("https://www.facebook.com/GDevelopApp")},icon:Object(O.jsx)(Tt,{fontSize:"small"}),label:Object(O.jsx)(i.Trans,{id:"Facebook"})},{onClick:function(){return g.b.openExternalURL("https://www.tiktok.com/@gdevelop")},icon:Object(O.jsx)(Et,{fontSize:"small",color:"inherit"}),label:Object(O.jsx)(i.Trans,{id:"TikTok"})}],Mt=function(){return Object(O.jsx)(w,{title:Object(O.jsx)(i.Trans,{id:"Community"}),children:Object(O.jsx)(k,{children:Object(O.jsxs)(j.a,{noMargin:!0,expand:!0,children:[Object(O.jsx)(p.a,{size:"title",children:Object(O.jsx)(i.Trans,{id:"News and announcements"})}),Object(O.jsx)(At,{canClose:!1}),Object(O.jsx)(p.a,{size:"title",children:Object(O.jsx)(i.Trans,{id:"Join the conversation"})}),Object(O.jsx)(ue.a,{style:Dt.list,children:Ft.map((function(e,t){return Object(O.jsx)(St.b,{leftIcon:e.icon,primaryText:Object(O.jsx)(p.a,{noMargin:!0,size:"body",children:e.label}),onClick:e.onClick},t)}))})]})})})},_t=n(1269),Lt=n(464),Rt=n(1213),Nt=n(1215),Bt=function(e){var t=e.project,n=e.resourceManagementProps,o=e.canInstallPrivateAsset,c=a.useState(!1),u=Object(r.a)(c,2),l=u[0],d=u[1],b=a.useContext(Lt.a),p=b.searchResults,j=b.navigationState.getCurrentPage(),h=j.openedAssetPack,f=j.openedAssetShortHeader,g=f?[f]:h?p:[],m=a.useMemo((function(){return t&&l?Object(Nt.a)(t):new Set}),[t,l]);return Object(O.jsxs)(w,{title:null,flexBody:!0,children:[Object(O.jsx)(_t.a,{}),Object(O.jsx)(s.c,{justifyContent:"flex-end",children:Object(O.jsx)(pe.a,{primary:!0,onClick:function(){t&&d(!0)},disabled:!t||!g.length,label:t?h?Object(O.jsx)(i.Trans,{id:"Add assets from this pack to the project"}):1===g.length?Object(O.jsx)(i.Trans,{id:"Add this asset to the project"}):Object(O.jsx)(i.Trans,{id:"Add these assets to the project"}):Object(O.jsx)(i.Trans,{id:"Create a project first to add assets from the asset store"})})}),t&&l&&!!g.length&&Object(O.jsx)(Rt.a,{assetPack:h,assetShortHeaders:g,addedAssetIds:m,onClose:function(){return d(!1)},onAssetsAdded:function(){d(!1)},project:t,objectsContainer:null,onObjectsAddedFromAssets:function(){},canInstallPrivateAsset:o,resourceManagementProps:n})]})},Ut=n(2248),Ht=n.n(Ut),Wt=n(2734),zt=n(1052),Vt=n(1054),Gt=Object(_.a)({root:{flexDirection:"column"},anchorOriginTopRightCircle:{top:5,right:5}}),Zt={avatar:{width:20,height:20},buttonContainer:{flexShrink:0}},Yt=function(e){var t=e.onOpenProfile,n=a.useContext(Y.a),r=n.profile,o=n.onLogin,s=n.onCreateAccount,c=n.loginState,u=function(e){if(!e.authenticated)return!1;var t=e.badges;return!!(t&&t.length>0)&&t.some((function(e){return!e.seen}))}(n),l=Gt();return"loggingIn"===c?Object(O.jsx)(he.a,{size:25}):r?Object(O.jsx)(Vt.a,{overlap:"circle",invisible:!u,classes:l,children:Object(O.jsx)(x.a,{label:Object(Ae.a)(r.username||r.email,20),onClick:t,allowBrowserAutoTranslate:!1,icon:Object(O.jsx)(Wt.a,{src:Object(zt.a)(r.email||"",{size:50}),style:Zt.avatar})})}):Object(O.jsx)("div",{style:Zt.buttonContainer,children:Object(O.jsxs)(j.b,{noMargin:!0,alignItems:"center",children:[Object(O.jsx)(Te.a,{label:Object(O.jsx)("span",{children:Object(O.jsx)(i.Trans,{id:"Log in"})}),onClick:o,leftIcon:Object(O.jsx)(Ht.a,{fontSize:"small"})}),Object(O.jsx)(pe.a,{label:Object(O.jsx)("span",{children:Object(O.jsx)(i.Trans,{id:"Create account"})}),onClick:s,primary:!0,icon:Object(O.jsx)(Ht.a,{fontSize:"small"})})]})})},qt=n(915),Xt=n(916),Jt=Q()("electron"),Kt=function(e){var t=e.hasProject,n=e.onOpenProjectManager,r=e.onOpenProfile,a=e.onOpenLanguageDialog,o=e.onSave,c=e.canSave,u=Object(d.b)();return Object(O.jsx)(i.I18n,{children:function(e){var l=e.i18n;return Object(O.jsxs)(j.b,{justifyContent:"space-between",alignItems:"center",noMargin:!0,expand:!0,children:[Object(O.jsx)(s.a,{noMargin:!0,children:Object(O.jsxs)(s.c,{noMargin:!0,children:[Object(O.jsx)(He.a,{size:"small",id:"main-toolbar-project-manager-button",onClick:n,tooltip:{id:"Project Manager"},color:"default",disabled:!t,children:Object(O.jsx)(qt.a,{})}),!!t&&Object(O.jsx)(He.a,{size:"small",id:"main-toolbar-save-button",onClick:o,tooltip:{id:"Save project"},color:"default",disabled:!c,children:Object(O.jsx)(Xt.a,{})})]})}),Object(O.jsx)(s.a,{children:Object(O.jsxs)(j.b,{noMargin:!0,alignItems:"center",children:[!Jt&&"small"!==u&&Object(O.jsx)(Te.a,{label:Object(O.jsx)(i.Trans,{id:"Download desktop app"}),onClick:function(){return g.b.openExternalURL("https://gdevelop.io/download")}}),Object(O.jsx)(Yt,{onOpenProfile:r}),Object(O.jsx)(x.a,{label:l.language.toUpperCase(),onClick:a,icon:Object(O.jsx)(tt.a,{fontSize:"small"})})]})})]})}})},Qt=n(2731),$t=o.a.memo((function(e){return Object(O.jsx)(m.a,Object(c.a)(Object(c.a)({},e),{},{children:Object(O.jsx)("path",{fill:"currentColor",d:"M5.59,7.41L7,6L13,12L7,18L5.59,16.59L10.17,12L5.59,7.41M11.59,7.41L13,6L19,12L13,18L11.59,16.59L16.17,12L11.59,7.41Z"})}))})),en=n(2578),tn={button:{justifyContent:"start",minWidth:0,minHeight:30,padding:"4px 6px",fontWeight:400,transition:"none"},buttonWithoutLabel:{marginTop:10,justifyContent:"center"},iconWrapperWithoutLabel:{justifyContent:"center",display:"flex"},iconWrapperWithLabel:{padding:"3px 8px",justifyContent:"center",display:"flex"}},nn=function(e){var t=e.label,n=e.getIcon,r=e.onClick,a=e.isActive,o=e.hideLabel,i=e.id;return Object(O.jsxs)(en.a,{variant:a?"contained":"text",size:"small",style:Object(c.a)(Object(c.a)({},tn.button),o?tn.buttonWithoutLabel:{}),fullWidth:!0,onClick:r,color:a?"primary":"default",id:i,disableElevation:!0,children:[Object(O.jsx)("div",{style:o?tn.iconWrapperWithoutLabel:tn.iconWrapperWithLabel,children:n(a?"inherit":"secondary")}),!o&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(s.d,{}),Object(O.jsx)("span",{children:t})]})]})},rn=n(1208),an=o.a.memo((function(e){return Object(O.jsx)(m.a,Object(c.a)(Object(c.a)({},e),{},{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:Object(O.jsx)("path",{fill:"currentColor",d:"M9.86003 7.08L2.33336 14.6L1.40002 13.6667L8.92002 6.14L9.86003 7.08ZM12.8467 5.15333L13.24 4.76L12.7134 4.23333L13.14 3.80666L12.1934 2.86L11.7667 3.28666L11.24 2.76L10.8467 3.15333C9.68669 2.20666 8.38002 1.44666 6.98003 0.91333L6.42669 2.10666C7.59336 2.72 8.66669 3.46 9.66669 4.33333L9.33336 4.66666L11.3334 6.66666L11.6667 6.33333C12.54 7.33333 13.28 8.40666 13.8934 9.57333L15.0867 9.02C14.5534 7.62 13.7934 6.31333 12.8467 5.15333Z"})}))})),on=o.a.memo((function(e){return Object(O.jsx)(m.a,Object(c.a)(Object(c.a)({},e),{},{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:Object(O.jsx)("path",{fill:"currentColor",d:"M7.99996 2L0.666626 6L3.33329 7.45333V11.4533L7.99996 14L12.6666 11.4533V7.45333L14 6.72667V11.3333H15.3333V6L7.99996 2ZM12.5466 6L7.99996 8.48L3.45329 6L7.99996 3.52L12.5466 6ZM11.3333 10.6667L7.99996 12.48L4.66663 10.6667V8.18L7.99996 10L11.3333 8.18V10.6667Z"})}))})),sn=o.a.memo((function(e){return Object(O.jsx)(m.a,Object(c.a)(Object(c.a)({},e),{},{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:Object(O.jsx)("path",{fill:"currentColor",d:"M5.31331 10.6667L3.33331 12.6667C3.11331 12.8667 2.81998 13 2.49998 13C2.19056 13 1.89381 12.8771 1.67502 12.6583C1.45623 12.4395 1.33331 12.1428 1.33331 11.8333V11.6667L1.99998 6.74667C2.06719 5.99709 2.41221 5.29972 2.96729 4.79151C3.52237 4.2833 4.24739 4.00099 4.99998 4H11C12.5733 4 13.86 5.20667 14 6.74667L14.6666 11.6667V11.8333C14.6666 12.1428 14.5437 12.4395 14.3249 12.6583C14.1061 12.8771 13.8094 13 13.5 13C13.18 13 12.8866 12.8667 12.6666 12.6667L10.6866 10.6667H5.31331ZM4.66665 5.33333V6.66667H3.33331V7.33333H4.66665V8.66667H5.33331V7.33333H6.66665V6.66667H5.33331V5.33333H4.66665ZM11 5.33333C10.8674 5.33333 10.7402 5.38601 10.6464 5.47978C10.5527 5.57355 10.5 5.70073 10.5 5.83333C10.5 5.96594 10.5527 6.09312 10.6464 6.18689C10.7402 6.28065 10.8674 6.33333 11 6.33333C11.1326 6.33333 11.2598 6.28065 11.3535 6.18689C11.4473 6.09312 11.5 5.96594 11.5 5.83333C11.5 5.70073 11.4473 5.57355 11.3535 5.47978C11.2598 5.38601 11.1326 5.33333 11 5.33333ZM9.83331 6.5C9.7007 6.5 9.57353 6.55268 9.47976 6.64645C9.38599 6.74022 9.33331 6.86739 9.33331 7C9.33331 7.13261 9.38599 7.25978 9.47976 7.35355C9.57353 7.44732 9.7007 7.5 9.83331 7.5C9.96592 7.5 10.0931 7.44732 10.1869 7.35355C10.2806 7.25978 10.3333 7.13261 10.3333 7C10.3333 6.86739 10.2806 6.74022 10.1869 6.64645C10.0931 6.55268 9.96592 6.5 9.83331 6.5ZM12.1666 6.5C12.034 6.5 11.9069 6.55268 11.8131 6.64645C11.7193 6.74022 11.6666 6.86739 11.6666 7C11.6666 7.13261 11.7193 7.25978 11.8131 7.35355C11.9069 7.44732 12.034 7.5 12.1666 7.5C12.2993 7.5 12.4264 7.44732 12.5202 7.35355C12.614 7.25978 12.6666 7.13261 12.6666 7C12.6666 6.86739 12.614 6.74022 12.5202 6.64645C12.4264 6.55268 12.2993 6.5 12.1666 6.5ZM11 7.66667C10.8674 7.66667 10.7402 7.71935 10.6464 7.81311C10.5527 7.90688 10.5 8.03406 10.5 8.16667C10.5 8.29927 10.5527 8.42645 10.6464 8.52022C10.7402 8.61399 10.8674 8.66667 11 8.66667C11.1326 8.66667 11.2598 8.61399 11.3535 8.52022C11.4473 8.42645 11.5 8.29927 11.5 8.16667C11.5 8.03406 11.4473 7.90688 11.3535 7.81311C11.2598 7.71935 11.1326 7.66667 11 7.66667Z"})}))})),cn=o.a.memo((function(e){return Object(O.jsx)(m.a,Object(c.a)(Object(c.a)({},e),{},{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:Object(O.jsx)("path",{fill:"currentColor",d:"M10.9067 9.33337C10.96 8.89337 11 8.45337 11 8.00004C11 7.54671 10.96 7.10671 10.9067 6.66671H13.16C13.2667 7.09337 13.3334 7.54004 13.3334 8.00004C13.3334 8.46004 13.2667 8.90671 13.16 9.33337H10.9067ZM9.72671 13.04C10.1267 12.3 10.4334 11.5 10.6467 10.6667H12.6134C11.9675 11.7789 10.9428 12.6214 9.72671 13.04ZM9.56004 9.33337H6.44004C6.37337 8.89337 6.33337 8.45337 6.33337 8.00004C6.33337 7.54671 6.37337 7.10004 6.44004 6.66671H9.56004C9.62004 7.10004 9.66671 7.54671 9.66671 8.00004C9.66671 8.45337 9.62004 8.89337 9.56004 9.33337ZM8.00004 13.3067C7.44671 12.5067 7.00004 11.62 6.72671 10.6667H9.27337C9.00004 11.62 8.55337 12.5067 8.00004 13.3067ZM5.33337 5.33337H3.38671C4.02594 4.21818 5.0499 3.37436 6.26671 2.96004C5.86671 3.70004 5.56671 4.50004 5.33337 5.33337ZM3.38671 10.6667H5.33337C5.56671 11.5 5.86671 12.3 6.26671 13.04C5.05246 12.6212 4.02994 11.7785 3.38671 10.6667ZM2.84004 9.33337C2.73337 8.90671 2.66671 8.46004 2.66671 8.00004C2.66671 7.54004 2.73337 7.09337 2.84004 6.66671H5.09337C5.04004 7.10671 5.00004 7.54671 5.00004 8.00004C5.00004 8.45337 5.04004 8.89337 5.09337 9.33337H2.84004ZM8.00004 2.68671C8.55337 3.48671 9.00004 4.38004 9.27337 5.33337H6.72671C7.00004 4.38004 7.44671 3.48671 8.00004 2.68671ZM12.6134 5.33337H10.6467C10.4381 4.50768 10.1291 3.71064 9.72671 2.96004C10.9534 3.38004 11.9734 4.22671 12.6134 5.33337ZM8.00004 1.33337C4.31337 1.33337 1.33337 4.33337 1.33337 8.00004C1.33337 9.76815 2.03575 11.4638 3.286 12.7141C3.90505 13.3331 4.63998 13.8242 5.44882 14.1592C6.25766 14.4943 7.12456 14.6667 8.00004 14.6667C9.76815 14.6667 11.4638 13.9643 12.7141 12.7141C13.9643 11.4638 14.6667 9.76815 14.6667 8.00004C14.6667 7.12456 14.4943 6.25766 14.1592 5.44882C13.8242 4.63998 13.3331 3.90505 12.7141 3.286C12.095 2.66694 11.3601 2.17588 10.5513 1.84084C9.74243 1.50581 8.87552 1.33337 8.00004 1.33337Z"})}))})),un=o.a.memo((function(e){return Object(O.jsxs)(m.a,Object(c.a)(Object(c.a)({},e),{},{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:[Object(O.jsx)("path",{d:"M8.00004 10.1666C9.19666 10.1666 10.1667 9.1966 10.1667 7.99998C10.1667 6.80336 9.19666 5.83331 8.00004 5.83331C6.80342 5.83331 5.83337 6.80336 5.83337 7.99998C5.83337 9.1966 6.80342 10.1666 8.00004 10.1666Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),Object(O.jsx)("path",{d:"M8 1.83331V2.83331",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),Object(O.jsx)("path",{d:"M11.5 4.5L10.7106 5.28944",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),Object(O.jsx)("path",{d:"M14.1666 8.00006H13.1666",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),Object(O.jsx)("path",{d:"M11.5 11.5001L10.7106 10.7107",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),Object(O.jsx)("path",{d:"M8 13.1667V14.1667",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),Object(O.jsx)("path",{d:"M5.28943 10.7106L4.5 11.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),Object(O.jsx)("path",{d:"M2.83337 8.00006H1.83337",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),Object(O.jsx)("path",{d:"M5.28943 5.28947L4.5 4.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}))})),ln=n(2249),dn=n.n(ln),bn=o.a.memo((function(e){return Object(O.jsx)(m.a,Object(c.a)(Object(c.a)({},e),{},{width:"16",height:"16",viewBox:"-2 -1 16 16",fill:"none",children:Object(O.jsx)("path",{d:"M6.48609 4C7.19334 4 7.87161 4.28095 8.37171 4.78105C8.87181 5.28115 9.15276 5.95942 9.15276 6.66667C9.15276 7.37391 8.87181 8.05219 8.37171 8.55229C7.87161 9.05238 7.19334 9.33333 6.48609 9.33333C5.77885 9.33333 5.10057 9.05238 4.60048 8.55229C4.10038 8.05219 3.81943 7.37391 3.81943 6.66667C3.81943 5.95942 4.10038 5.28115 4.60048 4.78105C5.10057 4.28095 5.77885 4 6.48609 4ZM6.48609 5.33333C6.13247 5.33333 5.79333 5.47381 5.54328 5.72386C5.29324 5.97391 5.15276 6.31304 5.15276 6.66667C5.15276 7.02029 5.29324 7.35943 5.54328 7.60948C5.79333 7.85952 6.13247 8 6.48609 8C6.83972 8 7.17885 7.85952 7.4289 7.60948C7.67895 7.35943 7.81943 7.02029 7.81943 6.66667C7.81943 6.31304 7.67895 5.97391 7.4289 5.72386C7.17885 5.47381 6.83972 5.33333 6.48609 5.33333ZM5.15276 13.3333C4.98609 13.3333 4.84609 13.2133 4.81943 13.0533L4.57276 11.2867C4.15276 11.12 3.79276 10.8933 3.44609 10.6267L1.78609 11.3C1.63943 11.3533 1.45943 11.3 1.37943 11.1533L0.0460937 8.84667C0.00529077 8.77798 -0.00909376 8.69677 0.00563013 8.61825C0.020354 8.53972 0.0631781 8.46924 0.126094 8.42L1.53276 7.31333L1.48609 6.66667L1.53276 6L0.126094 4.91333C0.0631781 4.86409 0.020354 4.79361 0.00563013 4.71509C-0.00909376 4.63656 0.00529077 4.55536 0.0460937 4.48667L1.37943 2.18C1.45943 2.03333 1.63943 1.97333 1.78609 2.03333L3.44609 2.7C3.79276 2.44 4.15276 2.21333 4.57276 2.04667L4.81943 0.28C4.84609 0.12 4.98609 0 5.15276 0H7.81943C7.98609 0 8.12609 0.12 8.15276 0.28L8.39943 2.04667C8.81943 2.21333 9.17943 2.44 9.52609 2.7L11.1861 2.03333C11.3328 1.97333 11.5128 2.03333 11.5928 2.18L12.9261 4.48667C13.0128 4.63333 12.9728 4.81333 12.8461 4.91333L11.4394 6L11.4861 6.66667L11.4394 7.33333L12.8461 8.42C12.9728 8.52 13.0128 8.7 12.9261 8.84667L11.5928 11.1533C11.5128 11.3 11.3328 11.36 11.1861 11.3L9.52609 10.6333C9.17943 10.8933 8.81943 11.12 8.39943 11.2867L8.15276 13.0533C8.12609 13.2133 7.98609 13.3333 7.81943 13.3333H5.15276ZM5.98609 1.33333L5.73943 3.07333C4.93943 3.24 4.23276 3.66667 3.71943 4.26L2.11276 3.56667L1.61276 4.43333L3.01943 5.46667C2.75276 6.24444 2.75276 7.08889 3.01943 7.86667L1.60609 8.90667L2.10609 9.77333L3.72609 9.08C4.23943 9.66667 4.93943 10.0933 5.73276 10.2533L5.97943 12H6.99276L7.23943 10.26C8.03276 10.0933 8.73276 9.66667 9.24609 9.08L10.8661 9.77333L11.3661 8.90667L9.95276 7.87333C10.2194 7.09333 10.2194 6.24667 9.95276 5.46667L11.3594 4.43333L10.8594 3.56667L9.25276 4.26C8.72891 3.65355 8.01832 3.23845 7.23276 3.08L6.98609 1.33333H5.98609Z",fill:"currentColor"})}))})),pn=n(590),jn={desktopMenu:{paddingTop:40,paddingBottom:10,minWidth:230,display:"flex",flexDirection:"column"},mobileMenu:{paddingTop:10,paddingBottom:10,display:"flex",flexDirection:"column"},drawerContent:{height:"100%",width:250,paddingBottom:10,overflowX:"hidden",display:"flex",flexDirection:"column"},drawerTopButtonsContainer:{flex:1,marginTop:"env(safe-area-inset-top)"},bottomButtonsContainer:{marginBottom:"env(safe-area-inset-bottom)"}},hn=[{label:Object(O.jsx)(i.Trans,{id:"Get Started"}),tab:"get-started",id:"home-get-started-tab",getIcon:function(e){return Object(O.jsx)(un,{fontSize:"small",color:e})}},{label:Object(O.jsx)(i.Trans,{id:"Build"}),tab:"build",id:"home-build-tab",getIcon:function(e){return Object(O.jsx)(an,{fontSize:"small",color:e})}},{label:Object(O.jsx)(i.Trans,{id:"Shop"}),tab:"shop",id:"home-shop-tab",getIcon:function(e){return Object(O.jsx)(dn.a,{fontSize:"small",color:e})}},{label:Object(O.jsx)(i.Trans,{id:"Learn"}),tab:"learn",id:"home-learn-tab",getIcon:function(e){return Object(O.jsx)(on,{fontSize:"small",color:e})}},{label:Object(O.jsx)(i.Trans,{id:"Play"}),tab:"play",id:"home-play-tab",getIcon:function(e){return Object(O.jsx)(sn,{fontSize:"small",color:e})}},{label:Object(O.jsx)(i.Trans,{id:"Community"}),tab:"community",id:"home-community-tab",getIcon:function(e){return Object(O.jsx)(cn,{fontSize:"small",color:e})}}],fn=function(e){var t=e.setActiveTab,n=e.activeTab,o=e.onOpenPreferences,u=e.onOpenAbout,l=Object(d.b)(),b=a.useContext(L.a),p=a.useState(!1),j=Object(r.a)(p,2),h=j[0],f=j[1],g=[{label:Object(O.jsx)(i.Trans,{id:"Preferences"}),id:"settings",onClick:o,getIcon:function(e){return Object(O.jsx)(bn,{fontSize:"small",color:e})}},{label:Object(O.jsx)(i.Trans,{id:"About GDevelop"}),id:"about-gdevelop",onClick:u,getIcon:function(e){return Object(O.jsx)(pn.a,{fontSize:"small",color:e})}}];return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(y.a,{style:Object(c.a)(Object(c.a)({},"large"===l?jn.desktopMenu:jn.mobileMenu),{},{borderRight:"1px solid ".concat(b.home.separator.color)}),square:!0,background:"dark",children:[Object(O.jsxs)(s.a,{expand:!0,children:["large"!==l&&Object(O.jsx)(He.a,{onClick:function(){return f(!0)},size:"small",children:Object(O.jsx)($t,{})}),hn.map((function(e){var r=e.label,a=e.tab,o=e.getIcon,i=e.id;return Object(O.jsx)(nn,{label:r,onClick:function(){return t(a)},getIcon:o,isActive:n===a,hideLabel:"large"!==l,id:i},i)}))]}),Object(O.jsx)("div",{style:jn.bottomButtonsContainer,children:Object(O.jsx)(s.a,{children:g.map((function(e){var t=e.label,n=e.getIcon,r=e.onClick,a=e.id;return Object(O.jsx)(nn,{label:t,onClick:r,getIcon:n,isActive:!1,hideLabel:"large"!==l,id:a},a)}))})})]}),Object(O.jsx)(Qt.a,{open:h,PaperProps:{style:Object(c.a)(Object(c.a)({},jn.drawerContent),{},{backgroundColor:b.home.header.backgroundColor}),className:"safe-area-aware-left-container"},onClose:function(){f(!1)},ModalProps:{keepMounted:!0},children:Object(O.jsx)(s.c,{expand:!0,children:Object(O.jsxs)(s.a,{expand:!0,children:[Object(O.jsx)("div",{style:jn.drawerTopButtonsContainer,children:Object(O.jsxs)(s.a,{noMargin:!0,expand:!0,children:[Object(O.jsx)(s.c,{noMargin:!0,justifyContent:"flex-end",children:Object(O.jsx)(He.a,{onClick:function(){f(!1)},size:"small",children:Object(O.jsx)(rn.a,{})})}),hn.map((function(e,r){var a=e.label,o=e.tab,i=e.getIcon;return Object(O.jsx)(nn,{label:a,onClick:function(){t(o),f(!1)},getIcon:i,isActive:n===o},r)}))]})}),Object(O.jsx)("div",{style:jn.bottomButtonsContainer,children:Object(O.jsx)(s.a,{noMargin:!0,children:g.map((function(e){var t=e.label,n=e.getIcon,r=e.onClick,a=e.id;return Object(O.jsx)(nn,{label:t,onClick:r,getIcon:n,isActive:!1},a)}))})})]})})})]})},gn=a.memo(a.forwardRef((function(e,t){var n=e.project,o=e.canOpen,c=e.onChooseProject,u=e.onOpenRecentFile,l=e.onOpenNewProjectSetupDialog,b=e.onCreateProject,p=e.onOpenProjectManager,j=e.onOpenHelpFinder,h=e.onOpenLanguageDialog,f=e.onOpenProfile,g=e.setToolbar,m=e.selectInAppTutorial,v=e.onOpenPreferences,x=e.onOpenAbout,y=e.isActive,C=e.storageProviders,k=(e.initialTab,e.onSave),w=e.canSave,T=e.resourceManagementProps,E=e.canInstallPrivateAsset,S=a.useContext(Y.a),P=S.authenticated,I=S.onCloudProjectsChanged,A=a.useContext(Pt.a).announcements,D=a.useContext(bt.a).fetchTutorials,F=a.useContext(Ce.a).fetchExamplesAndFilters,M=a.useContext(q.a),_=M.values.showGetStartedSection,L=M.setShowGetStartedSection,R=Object(d.b)(),N=a.useRef(null);a.useEffect((function(){F(),D()}),[F,D]),a.useEffect((function(){y&&P&&I()}),[y,P,I]),a.useEffect((function(){y&&"build"===J&&N.current&&N.current.forceUpdate()}),[y]);var B=a.useCallback((function(){}),[]),U=a.useCallback((function(){g&&g(Object(O.jsx)(Kt,{hasProject:!!n,onOpenLanguageDialog:h,onOpenProfile:f,onOpenProjectManager:p,onSave:k,canSave:w}))}),[g,h,f,p,n,k,w]),H=a.useCallback((function(){}),[]);a.useImperativeHandle(t,(function(){return{getProject:B,updateToolbar:U,forceUpdateEditor:H}}));var W=a.useContext(ze.b),z=W.routeArguments,V=W.removeRouteArguments,G=a.useContext(Lt.a).setInitialPackUserFriendlySlug;a.useEffect((function(){"asset-store"===z["initial-dialog"]&&(K("shop"),G(z["asset-pack"]),V(["initial-dialog","asset-pack"]))}),[z,V,G]);var Z=a.useState(_&&re(R)?"get-started":"build"),X=Object(r.a)(Z,2),J=X[0],K=X[1];return Object(O.jsx)(i.I18n,{children:function(e){e.i18n;return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(s.a,{expand:!0,noMargin:!0,noOverflowParent:!0,children:Object(O.jsxs)(s.c,{expand:!0,noMargin:!0,useFullHeight:!0,children:[Object(O.jsx)(fn,{activeTab:J,setActiveTab:K,onOpenPreferences:v,onOpenAbout:x}),Object(O.jsxs)(s.a,{noMargin:!0,expand:!0,noOverflowParent:!0,children:["community"!==J&&!!A&&Object(O.jsx)(At,{canClose:!0,level:"urgent",addMargins:!0}),"get-started"===J&&Object(O.jsx)(ae,{onTabChange:K,onCreateProject:function(){return b(null)},selectInAppTutorial:m,showGetStartedSection:_,setShowGetStartedSection:L}),"build"===J&&Object(O.jsx)(Ke,{ref:N,project:n,canOpen:o,onChooseProject:c,onOpenNewProjectSetupDialog:l,onShowAllExamples:function(){return b(null)},onSelectExample:function(e){return b(e)},onOpenRecentFile:u,storageProviders:C}),"learn"===J&&Object(O.jsx)(mt,{onCreateProject:function(){return b(null)},onTabChange:K,onOpenHelpFinder:j}),"play"===J&&Object(O.jsx)(vt,{}),"community"===J&&Object(O.jsx)(Mt,{}),"shop"===J&&Object(O.jsx)(Bt,{project:n,resourceManagementProps:T,canInstallPrivateAsset:E})]})]})})})}})})),(function(e,t){return e.isActive||t.isActive})),mn=function(e){return Object(O.jsx)(gn,{ref:e.ref,project:e.project,isActive:e.isActive,projectItemName:e.projectItemName,setToolbar:e.setToolbar,canOpen:e.canOpen,onChooseProject:e.onChooseProject,onOpenRecentFile:e.onOpenRecentFile,onCreateProject:e.onCreateProject,onOpenNewProjectSetupDialog:e.onOpenNewProjectSetupDialog,onOpenProjectManager:e.onOpenProjectManager,onOpenHelpFinder:e.onOpenHelpFinder,onOpenLanguageDialog:e.onOpenLanguageDialog,onOpenProfile:e.onOpenProfile,selectInAppTutorial:e.selectInAppTutorial,onOpenPreferences:e.onOpenPreferences,onOpenAbout:e.onOpenAbout,storageProviders:e.extraEditorProps&&e.extraEditorProps.storageProviders||[],initialTab:e.extraEditorProps&&e.extraEditorProps.initialTab||null,onSave:e.onSave,canSave:e.canSave,resourceManagementProps:e.resourceManagementProps,canInstallPrivateAsset:e.canInstallPrivateAsset})}},function(e,t,n){"use strict";var r=n(2),a=n(34),o=n(0),i=n.n(o),s=n(9),c=n(17),u=n.n(c),l=n(298),d=n(352),b=n(303),p=n(295),j=n(3),h=n(323),f=n(297),g=n(312),m=n(1277),O=n(305),v=n(8),x=function(e){var t=e.onEditProfile,n=e.onChangeEmail,r=e.authenticatedUser,a=r.profile,o=r.firebaseUser,i=c.useCallback((function(){r.onOpenEmailVerificationDialog({sendEmailAutomatically:!0,showSendEmailButton:!1})}),[r]);return o&&a?Object(v.jsxs)(f.a,{noMargin:!0,children:[o&&!o.emailVerified&&Object(v.jsx)(g.a,{kind:"info",renderRightButton:function(){return Object(v.jsx)(O.a,{label:Object(v.jsx)(s.Trans,{id:"Send it again"}),onClick:i,primary:!0})},children:Object(v.jsx)(s.Trans,{id:"You are missing out on asset store discounts and other benefits! Verify your email address. Didn't receive it?"})}),Object(v.jsx)(m.a,{profile:r.profile?Object(j.a)(Object(j.a)({},r.profile),{},{email:o.email}):null,isAuthenticatedUserProfile:!0,onChangeEmail:n,onEditProfile:t})]}):Object(v.jsx)(h.a,{})},y=n(318),C=n(411),k=n(296),w=n(369),T=n(439),E=n(327),S=n(1016),P={diamondIcon:{width:90,height:90,flexShrink:0,objectFit:"contain"},paper:{paddingRight:6}},I=function(e){var t=e.subscription,n=e.isManageSubscriptionLoading,r=e.onManageSubscription,a=c.useContext(T.a).openSubscriptionDialog,o=c.useMemo((function(){return t?Object(C.h)().concat(Object(C.d)()).find((function(e){return e.planId===t.planId})):null}),[t]),i=t&&t.redemptionCodeValidUntil,u=!!i&&i<Date.now();return t?Object(v.jsxs)(p.a,{noMargin:!0,children:[Object(v.jsx)(p.c,{alignItems:"center",children:Object(v.jsx)(k.a,{size:"block-title",children:Object(v.jsx)(s.Trans,{id:"My online services subscription"})})}),o&&o.planId&&!u?Object(v.jsxs)(f.a,{noMargin:!0,children:[Object(v.jsx)(S.a,{plan:o,hidePrice:!!i,actions:[i?void 0:Object(v.jsx)(w.a,{isLoading:n,children:Object(v.jsx)(l.a,{label:Object(v.jsx)(s.Trans,{id:"Manage online"}),primary:!0,onClick:r,disabled:n})},"manage-online"),Object(v.jsx)(O.a,{label:Object(v.jsx)(s.Trans,{id:"Manage subscription"}),primary:!0,onClick:function(){return a({reason:"Consult profile"})},disabled:n},"manage")].filter(Boolean),isHighlighted:!1,background:"medium"}),!!i&&Object(v.jsx)(s.I18n,{children:function(e){var n=e.i18n;return Object(v.jsx)(E.a,{background:"dark",variant:"outlined",children:Object(v.jsxs)(f.b,{alignItems:"center",children:[Object(v.jsx)("img",{src:"res/diamond.svg",style:P.diamondIcon,alt:""}),Object(v.jsx)(p.a,{children:Object(v.jsx)(k.a,{children:Object(v.jsx)(s.Trans,{id:"Thanks to the redemption code you've used, you have this subscription enabled until {0}.",values:{0:n.date(t.redemptionCodeValidUntil)}})})})]})})}})]}):Object(v.jsx)(E.a,{background:"medium",variant:"outlined",style:P.paper,children:Object(v.jsxs)(f.b,{alignItems:"center",children:[Object(v.jsx)("img",{src:"res/diamond.svg",style:P.diamondIcon,alt:""}),Object(v.jsxs)(p.a,{expand:!0,children:[Object(v.jsx)(p.c,{children:u?Object(v.jsx)(k.a,{noMargin:!0,children:Object(v.jsx)(s.Trans,{id:"Oh no! Your subscription from the redemption code has expired. You can renew it by redeeming a new code or getting a new subscription."})}):Object(v.jsxs)(p.a,{noMargin:!0,children:[Object(v.jsx)(k.a,{noMargin:!0,children:Object(v.jsx)(s.Trans,{id:"Unlock more one-click exports, cloud projects, leaderboards and remove the GDevelop splashscreen."})}),Object(v.jsx)(k.a,{noMargin:!0,children:Object(v.jsx)(s.Trans,{id:"With a subscription, you\u2019re also supporting the improvement of GDevelop."})})]})}),Object(v.jsx)(p.c,{justifyContent:"flex-end",children:Object(v.jsx)(O.a,{label:Object(v.jsx)(s.Trans,{id:"Choose a subscription"}),primary:!0,onClick:function(){return a({reason:"Consult profile"})}})})]})]})})]}):Object(v.jsx)(h.a,{})},A=n(523),D=n(453),F=n(566),M=n(570),_=n(347),L=n(316),R=function(e){var t=e.fullName,n=e.previewIconUrl,r=e.shortDescription;return Object(v.jsxs)(p.c,{children:[n&&Object(v.jsx)(D.a,{alt:t,src:n,size:64}),Object(v.jsxs)(p.a,{expand:!0,children:[Object(v.jsx)(k.a,{noMargin:!0,children:t}),Object(v.jsx)(k.a,{noMargin:!0,size:"body2",children:r})]})]})},N=function(e){var t=e.examples;return e.exampleError?Object(v.jsx)(p.a,{children:Object(v.jsx)(p.c,{alignItems:"center",children:Object(v.jsx)(k.a,{children:Object(v.jsx)(s.Trans,{id:"Error retrieving the examples"})})})}):Object(v.jsxs)(A.a,{children:[Object(v.jsx)(A.c,{children:Object(v.jsx)(k.a,{displayInlineAsSpan:!0,children:Object(v.jsx)(s.Trans,{id:"Examples ({0})",values:{0:t.length}})})}),Object(v.jsx)(A.b,{disableGutters:!0,children:0===t.length?Object(v.jsx)(L.a,{children:Object(v.jsx)(s.Trans,{id:"You haven't contributed any examples"})}):Object(v.jsx)(p.a,{children:t.map((function(e){return Object(v.jsx)(R,{shortDescription:e.shortDescription,fullName:e.name,previewIconUrl:e.previewImageUrls?e.previewImageUrls[0]:""},e.name)}))})})]})},B=function(e){var t=e.extensions;return e.extensionError?Object(v.jsx)(p.a,{children:Object(v.jsx)(p.c,{alignItems:"center",children:Object(v.jsx)(k.a,{children:Object(v.jsx)(s.Trans,{id:"Error retrieving the extensions"})})})}):Object(v.jsxs)(A.a,{children:[Object(v.jsx)(A.c,{children:Object(v.jsx)(k.a,{displayInlineAsSpan:!0,children:Object(v.jsx)(s.Trans,{id:"Extensions ({0})",values:{0:t.length}})})}),Object(v.jsx)(A.b,{disableGutters:!0,children:0===t.length?Object(v.jsx)(L.a,{children:Object(v.jsx)(s.Trans,{id:"You haven't contributed any extensions"})}):Object(v.jsx)(p.a,{children:t.map((function(e){return Object(v.jsx)(R,{shortDescription:e.shortDescription,fullName:e.fullName,previewIconUrl:e.previewIconUrl},e.name)}))})})]})},U=function(e){e.examples;return Object(v.jsx)(A.a,{disabled:!0,children:Object(v.jsx)(A.c,{children:Object(v.jsx)(k.a,{displayInlineAsSpan:!0,children:Object(v.jsx)(s.Trans,{id:"Assets (coming soon!)"})})})})},H=function(e){var t=e.userId,n=c.useState(null),o=Object(a.a)(n,2),u=o[0],l=o[1],d=c.useState(null),b=Object(a.a)(d,2),j=b[0],f=b[1],g=c.useState(null),m=Object(a.a)(g,2),O=m[0],x=m[1],y=c.useState(null),C=Object(a.a)(y,2),w=C[0],T=C[1],E=c.useCallback((function(){Object(r.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,Object(F.d)(t);case 5:n=e.sent,l(n),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.error("Error while loading extensions:",e.t0),x(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})))()}),[t]);c.useEffect((function(){E()}),[E]);var S=c.useCallback((function(){Object(r.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,Object(M.b)(t);case 5:n=e.sent,f(n),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.error("Error while loading examples:",e.t0),T(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})))()}),[t]);return c.useEffect((function(){S()}),[S]),Object(v.jsxs)(p.a,{noMargin:!0,children:[Object(v.jsx)(p.c,{alignItems:"center",children:Object(v.jsx)(k.a,{size:"block-title",children:Object(v.jsx)(s.Trans,{id:"Contributions"})})}),j&&u?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(B,{extensions:u,extensionError:O}),Object(v.jsx)(N,{examples:j,exampleError:w}),Object(v.jsx)(U,{examples:j}),Object(v.jsx)(p.a,{children:Object(v.jsx)(_.a,{children:Object(v.jsx)(s.Trans,{id:"Missing some contributions? If you are the author, create a Pull Request on the corresponding GitHub repository after adding your username in the authors of the example or the extension - or directly ask the original author to add your username."})})})]}):Object(v.jsx)(h.a,{})]})},W=n(433),z=n(2627),V=n(1055),G=n.n(V),Z=n(1054),Y=n(331),q={achievementsContainer:{maxHeight:250},lockedAchievement:{opacity:.4},unlockedAchievement:{}},X=function(e){var t=e.badges,n=e.achievements,r=e.displayUnclaimedAchievements,o=e.displayNotifications,i=c.useState([]),u=Object(a.a)(i,2),l=u[0],d=u[1];return c.useEffect((function(){var e=t.reduce((function(e,t){return e[t.achievementId]=t,e}),{}),a=n.reduce((function(t,n){var a=e[n.id],o=!!a;return(o||!o&&r)&&t.push(Object(j.a)(Object(j.a)({},n),{},{seen:o?a.seen:void 0,unlockedAt:o?Object(z.a)(a.unlockedAt):null})),t}),[]);a.sort(W.i),d(a)}),[t,n,r]),Object(v.jsx)(p.a,{noMargin:!0,children:Object(v.jsx)(s.I18n,{children:function(e){var t=e.i18n;return Object(v.jsx)(Y.a,{style:q.achievementsContainer,children:l.map((function(e){return Object(v.jsxs)(p.c,{justifyContent:"space-between",children:[Object(v.jsxs)(p.a,{justifyContent:"center",alignItems:"flex-start",children:[Object(v.jsx)(Z.a,{invisible:!(o&&!1===e.seen),children:Object(v.jsx)(k.a,{noMargin:!0,size:"sub-title",style:e.unlockedAt?q.unlockedAchievement:q.lockedAchievement,children:e.name})}),r&&Object(v.jsx)(k.a,{noMargin:!0,style:e.unlockedAt?q.unlockedAchievement:q.lockedAchievement,size:"body2",children:e.description})]}),Object(v.jsx)(p.a,{children:e.unlockedAt?Object(v.jsx)(k.a,{children:t.date(e.unlockedAt)}):Object(v.jsx)(G.a,{style:q.lockedAchievement})})]},e.id)}))})}})})},J=n(905),K=u.a.memo((function(e){return Object(v.jsx)(J.a,Object(j.a)(Object(j.a)({},e),{},{viewBox:"0 0 528.9 511.62",children:Object(v.jsx)("g",{id:"Calque_2","data-name":"Calque 2",children:Object(v.jsxs)("g",{id:"Calque_4","data-name":"Calque 4",children:[Object(v.jsx)("path",{d:"M144 60.33S80.75-18.31 35.82 21s-17.56 93.4-17.56 93.4 32.3 82.85 35.81 109.53S77 279.4 77 279.4s16.42 21.77 52.94 13.35 66-34.41 66-34.41ZM385 60.33S448.14-18.31 493.08 21s17.55 93.39 17.55 93.39-32.29 82.85-35.81 109.53-22.9 55.47-22.9 55.47-16.42 21.78-52.92 13.36-66-34.41-66-34.41Z",style:{fill:"none",stroke:"currentColor",strokeWidth:"20px",strokeMiterlimit:10}}),Object(v.jsx)("path",{d:"M395.53 429.67H352s-46.34-34.41-44.94-61.09C455.92 297 434.85 63.14 434.85 63.14H88.1S67 297 215.89 368.58c1.41 26.68-44.89 61.09-44.89 61.09h-43.58v24.57h-23.87v56.88h315.86v-56.88h-23.88Z",style:{fill:"inherit",strokeMiterlimit:10}})]})})}))})),Q=n(309),$={summary:{textAlign:"center"},leftContainer:{flex:1,margin:"20px",display:"flex",alignItems:"center",justifyContent:"center"},rightContainer:{flex:2}},ee=function(e){var t=e.badges,n=e.displayUnclaimedAchievements,o=e.displayNotifications,u=Object(c.useState)(null),l=Object(a.a)(u,2),d=l[0],b=l[1],m=Object(c.useState)(!1),O=Object(a.a)(m,2),x=O[0],y=O[1],C=Object(Q.b)(),w=Object(c.useCallback)(Object(r.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,y(!1),e.next=4,Object(W.j)();case 4:t=e.sent,b(t),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error when fetching achievements: ".concat(e.t0)),y(!0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])}))),[]);return Object(c.useEffect)((function(){w()}),[w]),Object(v.jsx)(f.c,{children:x?Object(v.jsx)(p.c,{children:Object(v.jsxs)(g.a,{kind:"error",children:[Object(v.jsx)(s.Trans,{id:"Unable to display your achievements for now."})," ",Object(v.jsx)(s.Trans,{id:"Please check your internet connection or try again later."})]})}):t&&d?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{style:$.leftContainer,children:Object(v.jsxs)("div",{style:Object(j.a)(Object(j.a)({},$.summary),{},{padding:"small"===C?"0 20":"20"}),children:[Object(v.jsx)(K,{color:"secondary",fontSize:"large"}),Object(v.jsxs)(k.a,{size:"block-title",children:[Object(v.jsx)(s.Trans,{id:"{0}/{1} achievements",values:{0:t.length,1:d.length}}),0===t.length&&Object(v.jsxs)(v.Fragment,{children:[" ",Object(v.jsx)(s.Trans,{id:"(yet!)"})]})]})]})}),t.length>0&&Object(v.jsx)("div",{style:$.rightContainer,children:t&&d&&Object(v.jsx)(X,{badges:t,achievements:d,displayUnclaimedAchievements:n,displayNotifications:o})})]}):Object(v.jsx)(h.a,{})})},te=n(319),ne=n(19),re=n(348),ae=n(376),oe=n(1),ie=n(2733),se=n(2638),ce=n(1059),ue=n.n(ce),le=n(310),de=n(447),be=n(350),pe=n(1022),je=n(645),he=n(1056),fe=n(1057),ge=n(1058),me=function(e){var t=e.game,n=e.onClose,r=c.useState(!1),o=Object(a.a)(r,2),i=o[0],u=o[1],d=c.useState(!1),j=Object(a.a)(d,2),h=j[0],f=j[1],m=Object(ae.f)(t);return m?Object(v.jsxs)(b.c,{title:Object(v.jsx)(s.Trans,{id:"Share your game"}),open:!0,id:"game-card-share-dialog",actions:[Object(v.jsx)(l.a,{label:Object(v.jsx)(s.Trans,{id:"Close"}),onClick:n},"close")],onRequestClose:n,children:[Object(v.jsxs)(p.a,{children:[Object(v.jsx)(fe.a,{url:m}),navigator.share?Object(v.jsx)(ge.a,{url:m}):Object(v.jsx)(he.a,{url:m})]}),Object(v.jsx)(je.a,{message:Object(v.jsx)(s.Trans,{id:"Copied to clipboard!"}),visible:i,hide:function(){return u(!1)}}),h&&Object(v.jsx)(g.a,{kind:"error",onHide:function(){return f(!1)},children:Object(v.jsx)(s.Trans,{id:"An error occured while generating the game url with the currently set game slug."})})]}):null},Oe=n(26),ve=n(60),xe=n(564),ye=n(405),Ce={discoverable:{true:{id:"You are about to make this game discoverable on gd.games categories pages.  Do you want to continue?"},false:{id:"You are about to hide this game from gd.games categories pages. Do you want to continue?"}},acceptsBuildComments:{true:{id:"You are about to activate a feedback banner on all builds of this game. By doing this you're allowing feedback from any player who has access to your gd.games build URLs. Do you want to continue?"},false:{id:"You are about to de-activate the feedback banner on all your gd.games build pages. Do you want to continue ?"}},acceptsGameComments:{true:{id:"You are about to activate a feedback banner on your gd.games game page. By doing this you will receive feedback from any gd.games visitor. Do you want to continue?"},false:{id:"You are about to de-activate the feedback banner on your gd.games game page. Do you want to continue ?"}}},ke=function(e){var t=e.game,n=e.isCurrentGame,o=e.onOpenGameManager,u=e.onUpdateGame,d=function(){var e=Object(ae.f)(t);e&&Oe.b.openExternalURL(e)},b=c.useState(!1),j=Object(a.a)(b,2),h=j[0],g=j[1],m=c.useState(null),x=Object(a.a)(m,2),y=x[0],C=x[1],w=c.useState(!1),T=Object(a.a)(w,2),E=T[0],S=T[1],P=c.useContext(te.a),I=P.getAuthorizationHeader,A=P.profile,D=function(){var e=Object(r.a)(i.a.mark((function e(n,r,a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A){e.next=2;break}return e.abrupt("return");case 2:if(Oe.b.showConfirmDialog(n._(Ce[r][a.toString()]))){e.next=5;break}return e.abrupt("return");case 5:return C(r),e.prev=6,e.next=9,Object(ae.l)(I,A.id,t.id,Object(oe.a)({},r,a));case 9:return e.next=11,u();case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(6),console.error("Unable to update property ".concat(r),e.t0),Object(ve.a)({message:n._({id:"Unable to update game."})+" "+n._({id:"Verify your internet connection or try again later."}),rawError:e.t0,errorId:"game-dashboard-update-game-error"});case 17:C(null);case 18:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(t,n,r){return e.apply(this,arguments)}}(),F=function(){var e=Object(r.a)(i.a.mark((function e(n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Oe.b.showConfirmDialog(n._({id:"Are you sure you want to unregister this game?"})+"\n\n"+n._({id:"It will disappear from your games dashboard and you won't get access to analytics, unless you register it again."}))){e.next=3;break}return e.abrupt("return");case 3:if(A){e.next=5;break}return e.abrupt("return");case 5:return r=A.id,S(!0),e.prev=7,e.next=10,Object(ae.a)(I,r,t.id);case 10:return e.next=12,u();case 12:e.next=19;break;case 14:e.prev=14,e.t0=e.catch(7),console.error("Unable to delete the game:",e.t0),e.t0.response&&e.t0.response.data&&"game-deletion/leaderboards-exist"===e.t0.response.data.code?Object(ve.a)({message:n._({id:"You cannot unregister a game that has active leaderboards. To delete them, go in the Leaderboards tab, and delete them one by one."}),rawError:e.t0,errorId:"game-dashboard-unregister-game-active-leaderboards-error"}):Object(ve.a)({message:n._({id:"Unable to delete the game."})+" "+n._({id:"Verify your internet connection or try again later."}),rawError:e.t0,errorId:"game-dashboard-unregister-game-active-leaderboards-error"}),S(!1);case 19:case"end":return e.stop()}}),e,null,[[7,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsx)(s.I18n,{children:function(e){var r=e.i18n;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(xe.a,{background:n?"dark":"medium",cardCornerAction:Object(v.jsx)(be.a,{element:Object(v.jsx)(le.a,{size:"small",disabled:E,children:Object(v.jsx)(ye.a,{})}),buildMenuTemplate:function(e){return[{label:e._({id:"Game details"}),click:function(){return o("details")}},{label:e._({id:"Game builds"}),click:function(){return o("builds")}},{label:e._({id:"Game feedbacks"}),click:function(){return o("feedback")}},{label:e._({id:"Game analytics"}),click:function(){return o("analytics")}},{label:e._({id:"Game leaderboards"}),click:function(){return o("leaderboards")}},{type:"separator"},{label:e._({id:"Unregister game"}),click:function(){F(e)}}]}}),header:Object(v.jsxs)(p.c,{children:[t.publicWebBuildId&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(k.a,{size:"body2",noMargin:!0,displayInlineAsSpan:!0,children:t.discoverable?Object(v.jsx)(s.Trans,{id:"Public on gd.games"}):Object(v.jsx)(s.Trans,{id:"Not visible on gd.games"})}),Object(v.jsx)(p.d,{})]}),Object(v.jsx)(_.a,{children:Object(v.jsx)(s.Trans,{id:"Created on {0}",values:{0:r.date(1e3*t.createdAt)}})})]}),children:Object(v.jsxs)(f.c,{noMargin:!0,children:[Object(v.jsx)(p.a,{noMargin:!0,alignItems:"center",children:Object(v.jsx)(pe.a,{gameName:t.gameName,thumbnailUrl:t.thumbnailUrl,background:n?"medium":"light"})}),Object(v.jsx)(p.d,{}),Object(v.jsxs)(p.a,{expand:!0,justifyContent:"space-between",children:[Object(v.jsxs)(f.c,{noMargin:!0,alignItems:"flex-start",children:[Object(v.jsx)(se.a,{title:t.gameName,subheader:n&&Object(v.jsx)(ie.a,{size:"small",label:Object(v.jsx)(s.Trans,{id:"Currently edited"}),color:"primary"})}),Object(v.jsx)(p.a,{expand:!0,noMargin:!0,children:Object(v.jsxs)(f.c,{justifyContent:"flex-end",noColumnMargin:!0,children:[Object(v.jsx)(l.a,{label:Object(v.jsx)(s.Trans,{id:"Manage game"}),onClick:function(){return o("details")}}),Object(v.jsxs)(f.b,{noMargin:!0,children:[Object(v.jsx)(p.a,{noMargin:!0,expand:!0,children:Object(v.jsx)(O.a,{label:Object(v.jsx)(s.Trans,{id:"Open in browser"}),onClick:d,primary:!0,disabled:!t.publicWebBuildId||E})}),Object(v.jsx)(le.a,{size:"small",disabled:!t.publicWebBuildId||E,onClick:function(){return g(!0)},tooltip:{id:"Share"},children:Object(v.jsx)(ue.a,{})})]})]})})]}),Object(v.jsxs)(p.a,{noMargin:!0,justifyContent:"flex-start",children:[Object(v.jsx)(de.a,{labelPosition:"left",onToggle:function(){D(r,"discoverable",!t.discoverable)},toggled:!!t.discoverable,label:Object(v.jsx)(s.Trans,{id:"Make discoverable on gd.games"}),disabled:"discoverable"===y||E}),Object(v.jsx)(de.a,{labelPosition:"left",onToggle:function(){D(r,"acceptsGameComments",!t.acceptsGameComments)},toggled:!!t.acceptsGameComments,label:Object(v.jsx)(s.Trans,{id:"Show feedback banner on gd.games game page"}),disabled:"acceptsGameComments"===y||E}),Object(v.jsx)(de.a,{labelPosition:"left",onToggle:function(){D(r,"acceptsBuildComments",!t.acceptsBuildComments)},toggled:!!t.acceptsBuildComments,label:Object(v.jsx)(s.Trans,{id:"Ask for feedback on all build pages"}),disabled:"acceptsBuildComments"===y||E})]})]})]})},t.id),h&&Object(v.jsx)(me,{game:t,onClose:function(){return g(!1)}})]})}})},we=n(781),Te=n(322),Ee=n(321),Se=n(1274),Pe=n(1067),Ie=n(311),Ae=n(1856),De=n.n(Ae),Fe=n(1857),Me=n.n(Fe),_e=n(1858),Le=n.n(_e),Re=u.a.memo((function(e){return Object(v.jsx)(J.a,Object(j.a)(Object(j.a)({},e),{},{children:Object(v.jsx)("path",{d:"M5 16L3 5L8.5 10L12 4L15.5 10L21 5L19 16H5M19 19C19 19.6 18.6 20 18 20H6C5.4 20 5 19.6 5 19V18H19V19Z"})}))})),Ne=n(1272),Be=n(2646),Ue=n(2647),He=n(40),We=n.n(He),ze=n(35),Ve=function(){var e=Object(r.a)(i.a.mark((function e(t,n,r,a){var o,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:return o=e.sent,e.next=5,We.a.get("".concat(ze.a.baseUrl,"/game-metrics"),{params:{userId:n,gameId:r,firstDayIsoDate:a},headers:{Authorization:o},validateStatus:function(e){return e>=200&&e<300||404===e}});case 5:if(404!==(s=e.sent).status){e.next=8;break}return e.abrupt("return",null);case 8:return e.abrupt("return",s.data);case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),Ge=n(2648),Ze=n(2649),Ye=n(1853),qe=n(2654),Xe=n(1113),Je=n(1114),Ke=n(2519),Qe=n(2655),$e=n(2520),et=n(306),tt=n(24),nt=n(1707),rt=n(2737),at={overview:{viewersCount:0,playersCount:0,bounceRatePercent:0,meanPlayedDurationInMinutes:0,nearestToMedianDuration:{playersCount:0,playersPercent:0,durationInMinutes:0},greaterDurationPlayerSurface:{playersCount:0,playersPercent:0,durationInMinutes:0}},overTime:[],overPlayedDuration:[]},ot={for1Minute:0,for3Minutes:1,for5Minutes:2,for10Minutes:3,for15Minutes:4},it=[1,3,5,10,15],st=function(e){return{date:Object(Be.a)(e),sessions:{d0Sessions:0,d0SessionsDurationTotal:0},players:{d0Players:0,d0NewPlayers:0,d0PlayersBelow60s:0,d0PlayersBelow180s:0,d0PlayersBelow300s:0,d0PlayersBelow600s:0,d0PlayersBelow900s:0},retention:null}},ct=function(e,t){var n,r=[],a=Object(nt.a)(t,1),o=Object(tt.a)(e);try{for(o.s();!(n=o.n()).done;){for(var i=n.value,s=Object(z.a)(i.date);Object(rt.a)(Object(z.a)(i.date),a)<-1;){var c=Object(Ue.a)(a,1);r.push(st(c)),a=c}r.push(i),a=s}}catch(l){o.e(l)}finally{o.f()}for(;r.length<364;){var u=Object(Ue.a)(a,1);r.push(st(u)),a=u}return r},ut=function(e){for(var t,n,r=[],a=0;a<e.length;a+=7){for(var o=e[a],i=a+1;i<a+7&&i<e.length;i++)t=o,n=e[i],o={date:t.date,startDate:n.date,sessions:t.sessions&&n.sessions&&{d0Sessions:t.sessions.d0Sessions+n.sessions.d0Sessions,d0SessionsDurationTotal:null!=t.sessions.d0SessionsDurationTotal&&null!=n.sessions.d0SessionsDurationTotal?t.sessions.d0SessionsDurationTotal+n.sessions.d0SessionsDurationTotal:void 0},players:t.players&&n.players&&{d0Players:t.players.d0Players+n.players.d0Players,d0NewPlayers:t.players.d0NewPlayers+n.players.d0NewPlayers,d0PlayersBelow60s:null!=t.players.d0PlayersBelow60s&&null!=n.players.d0PlayersBelow60s?t.players.d0PlayersBelow60s+n.players.d0PlayersBelow60s:void 0,d0PlayersBelow180s:null!=t.players.d0PlayersBelow180s&&null!=n.players.d0PlayersBelow180s?t.players.d0PlayersBelow180s+n.players.d0PlayersBelow180s:void 0,d0PlayersBelow300s:null!=t.players.d0PlayersBelow300s&&null!=n.players.d0PlayersBelow300s?t.players.d0PlayersBelow300s+n.players.d0PlayersBelow300s:void 0,d0PlayersBelow600s:null!=t.players.d0PlayersBelow600s&&null!=n.players.d0PlayersBelow600s?t.players.d0PlayersBelow600s+n.players.d0PlayersBelow600s:void 0,d0PlayersBelow900s:null!=t.players.d0PlayersBelow900s&&null!=n.players.d0PlayersBelow900s?t.players.d0PlayersBelow900s+n.players.d0PlayersBelow900s:void 0},retention:null};r.push(o)}return r},lt=function(e,t){return null!=e&&t>0?100*(t-e)/t:0},dt=function(e,t,n){return null!=e&&null!=t&&n>0?100*(e-t)/n:0},bt=function(e,t){return null!=e&&null!=t?e-t:0},pt=function(e){var t=[0,0,0,0,0],n=0,r=0,a=0;e.forEach((function(e){var o=e.sessions&&null!==e.sessions.d0SessionsDurationTotal?e.sessions.d0SessionsDurationTotal:void 0,i=e.players?e.players.d0Players:0,s=e.players&&null!==e.players.d0PlayersBelow60s?e.players.d0PlayersBelow60s:void 0,c=e.players&&null!==e.players.d0PlayersBelow180s?e.players.d0PlayersBelow180s:void 0,u=e.players&&null!==e.players.d0PlayersBelow300s?e.players.d0PlayersBelow300s:void 0,l=e.players&&null!==e.players.d0PlayersBelow600s?e.players.d0PlayersBelow600s:void 0,d=e.players&&null!==e.players.d0PlayersBelow900s?e.players.d0PlayersBelow900s:void 0;t[ot.for1Minute]+=s||0,t[ot.for3Minutes]+=c||0,t[ot.for5Minutes]+=u||0,t[ot.for10Minutes]+=l||0,t[ot.for15Minutes]+=d||0,a+=o||0,n+=i,r+=void 0!==s?i:0})),a/=60;var o=r,i=r-t[ot.for1Minute],s=function(e,t){var n=e.findIndex((function(e,n){return n>0&&e>t/2})),r=e[n],a=e[n+1];return a&&Math.abs(r-t/2)<Math.abs(a-t/2)?n:n+1}(t,i),c=function(e,t){for(var n=0,r=0,a=0;a<e.length;a++){var o=(t-e[a])*it[a];o>=n&&(n=o,r=a)}return r}(t,o),u={month:"short",day:"numeric"},l={day:"numeric"},d=function(e){var t=e.startDate,n=Object(z.a)(e.date),r=n.toLocaleDateString(void 0,u);if(!t)return r;var a=Object(z.a)(t);return a.toLocaleDateString(void 0,n.getMonth()===a.getMonth()?l:u)+"-"+r};return{overview:{viewersCount:n,playersCount:i,bounceRatePercent:o>0?100*t[ot.for1Minute]/o:0,meanPlayedDurationInMinutes:o>0?a/o:0,nearestToMedianDuration:{playersCount:o-t[s],playersPercent:o>0?100*(o-t[s])/o:0,durationInMinutes:it[s]},greaterDurationPlayerSurface:{playersCount:o-t[c],playersPercent:o>0?100*(o-t[c])/o:0,durationInMinutes:it[c]}},overTime:e.map((function(e){var t=e.sessions&&null!==e.sessions.d0SessionsDurationTotal?e.sessions.d0SessionsDurationTotal:void 0,n=e.players?e.players.d0Players:0,r=e.players&&null!==e.players.d0PlayersBelow60s?e.players.d0PlayersBelow60s:void 0,a=e.players&&null!==e.players.d0PlayersBelow180s?e.players.d0PlayersBelow180s:void 0,o=e.players&&null!==e.players.d0PlayersBelow300s?e.players.d0PlayersBelow300s:void 0,i=e.players&&null!==e.players.d0PlayersBelow600s?e.players.d0PlayersBelow600s:void 0,s=e.players&&null!==e.players.d0PlayersBelow900s?e.players.d0PlayersBelow900s:void 0;return{timestamp:Object(z.a)(e.date).getTime(),date:d(e),meanPlayedDurationInMinutes:t?t/60/n:0,bounceRatePercent:dt(r,0,n),viewersCount:n,playersCount:bt(n,r),over60sPlayersCount:bt(n,r),over180sPlayersCount:bt(n,a),over300sPlayersCount:bt(n,o),over600sPlayersCount:bt(n,i),over900sPlayersCount:bt(n,s),below60sPlayersCount:bt(r,0),from60sTo180sPlayersCount:bt(a,r),from180sTo300sPlayersCount:bt(o,a),from300sTo600sPlayersCount:bt(i,o),from600sTo900sPlayersCount:bt(s,i),from900sToInfinityPlayersCount:bt(n,s),over0sPlayersPercent:100,over60sPlayersPercent:lt(r,n),over180sPlayersPercent:lt(a,n),over300sPlayersPercent:lt(o,n),over600sPlayersPercent:lt(i,n),over900sPlayersPercent:lt(s,n),below60sPlayersPercent:dt(r,0,n),from60sTo180sPlayersPercent:dt(a,r,n),from180sTo300sPlayersPercent:dt(o,a,n),from300sTo600sPlayersPercent:dt(i,o,n),from600sTo900sPlayersPercent:dt(s,i,n),from900sToInfinityPlayersPercent:dt(n,s,n)}})).sort((function(e,t){return e.timestamp-t.timestamp})),overPlayedDuration:[{duration:0,playersCount:r}].concat(Object.keys(ot).map((function(e){var n=ot[e];return{duration:it[n],playersCount:r-t[n]}})))}},jt={top:5,bottom:5,right:25,left:0},ht="99%",ft=300,gt=function(e){return e.toFixed(2)},mt=function(e){return e.toFixed(2)},Ot=function(e){var t=e.payload,n=e.label,r=e.customStyle;return t?Object(v.jsx)(E.a,{style:r,background:"light",children:Object(v.jsxs)(f.a,{children:[Object(v.jsx)(k.a,{size:"sub-title",noMargin:!0,children:n}),t.length&&t.map((function(e,t){var n=e.name,r=e.unit,a=e.value;return Object(v.jsx)(k.a,{noMargin:!0,children:"".concat(n,": ").concat(Number.isInteger(a)?a.toString():a.toFixed(2)).concat(r?" ".concat(r):"")},t)}))]})}):null},vt=function(e){var t=e.game,n=c.useContext(te.a),o=n.getAuthorizationHeader,u=n.profile,l=c.useState(null),d=Object(a.a)(l,2),b=d[0],m=d[1],O=c.useMemo((function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date;if(!e)return{yearChartData:at,monthChartData:at};var n=ct(e.sort((function(e,t){return Object(z.a)(t.date).getTime()-Object(z.a)(e.date).getTime()})),t);return{yearChartData:pt(ut(n)),monthChartData:pt(n.slice(0,30).map((function(e){return Object(j.a)(Object(j.a)({},e),{},{startDate:null})})))}}(b)}),[b]),x=O.yearChartData,y=O.monthChartData,C=c.useState("month"),w=Object(a.a)(C,2),T=w[0],E=w[1],S="year"===T?x:y,P=c.useState(null),I=Object(a.a)(P,2),A=I[0],D=I[1],F=c.useState(!1),M=Object(a.a)(F,2),_=M[0],L=M[1],R=Object(Be.a)(Object(Ue.a)(new Date,364),{representation:"date"}),N=c.useCallback(Object(r.a)(i.a.mark((function e(){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u){e.next=2;break}return e.abrupt("return");case 2:return n=u.id,L(!0),D(null),e.prev=5,e.next=8,Ve(o,n,t.id,R);case 8:r=e.sent,m(r),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(5),console.error("Unable to load game rolling metrics:",e.t0),D(e.t0);case 16:L(!1);case 17:case"end":return e.stop()}}),e,null,[[5,12]])}))),[o,u,t,R]);c.useEffect((function(){N()}),[N]);var B=c.useContext(et.a),U={tableRowStatColumn:{width:100},tooltipContent:{color:B.chart.textColor,padding:10},tickLabel:{fontFamily:B.chart.fontFamily},chartLineDot:{fill:B.chart.dataColor1,strokeWidth:0}};return Object(v.jsx)(s.I18n,{children:function(e){var t=e.i18n;return A?Object(v.jsxs)(re.a,{onRetry:function(){N()},children:[Object(v.jsx)(s.Trans,{id:"There was an issue getting the game analytics."})," ",Object(v.jsx)(s.Trans,{id:"Verify your internet connection or try again later."})]}):Object(v.jsxs)(f.a,{expand:!0,children:[_&&Object(v.jsx)(h.a,{}),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(p.c,{noMargin:!0,justifyContent:"flex-end",children:Object(v.jsxs)(Te.a,{value:T,onChange:function(e,t,n){E(n)},disableUnderline:!0,children:[Object(v.jsx)(Ee.a,{value:"month",primaryText:t._({id:"Month"})},"month"),Object(v.jsx)(Ee.a,{value:"year",primaryText:t._({id:"Year"})},"year")]})}),_||b&&0!==b.length?null:Object(v.jsx)(g.a,{kind:"warning",children:Object(v.jsx)(s.Trans,{id:"There were no players or stored metrics for this period. Be sure to publish your game and get players to try it to see the collected anonymous analytics."})}),Object(v.jsxs)(f.c,{expand:!0,noMargin:!0,justifyContent:"center",children:[Object(v.jsxs)(p.a,{noMargin:!0,alignItems:"center",expand:!0,children:[Object(v.jsx)(k.a,{size:"block-title",align:"center",children:Object(v.jsx)(s.Trans,{id:"{0} sessions",values:{0:S.overview.playersCount}})}),Object(v.jsx)(Ge.a,{width:ht,height:ft,children:Object(v.jsxs)(Ze.a,{data:S.overTime,margin:jt,children:[Object(v.jsx)(Ye.a,{name:t._({id:"Viewers"}),type:"monotone",dataKey:"viewersCount",stroke:B.chart.dataColor1,fill:B.chart.dataColor1,fillOpacity:.125,yAxisId:0}),Object(v.jsx)(Ye.a,{name:t._({id:"Players"}),type:"monotone",dataKey:"playersCount",stroke:B.chart.dataColor1,fill:B.chart.dataColor1,fillOpacity:.25,yAxisId:0}),Object(v.jsx)(qe.a,{stroke:B.chart.gridColor,strokeDasharray:"3 3"}),Object(v.jsx)(Xe.a,{dataKey:"date",stroke:B.chart.textColor,style:U.tickLabel}),Object(v.jsx)(Je.a,{dataKey:"viewersCount",stroke:B.chart.textColor,style:U.tickLabel}),Object(v.jsx)(Ke.a,{content:function(e){return Ot(Object(j.a)(Object(j.a)({},e),{},{customStyle:U.tooltipContent}))}})]})})]}),Object(v.jsxs)(p.a,{noMargin:!0,alignItems:"center",expand:!0,children:[Object(v.jsx)(k.a,{size:"block-title",align:"center",children:Object(v.jsx)(s.Trans,{id:"{0}% bounce rate",values:{0:Math.round(S.overview.bounceRatePercent)}})}),Object(v.jsx)(Ge.a,{width:ht,height:ft,children:Object(v.jsxs)(Qe.a,{data:S.overTime,margin:jt,children:[Object(v.jsx)($e.a,{name:t._({id:"Bounce rate"}),unit:"%",formatter:gt,type:"monotone",dataKey:"bounceRatePercent",stroke:B.chart.dataColor1,dot:U.chartLineDot,yAxisId:0}),Object(v.jsx)(qe.a,{stroke:B.chart.gridColor,strokeDasharray:"3 3"}),Object(v.jsx)(Xe.a,{dataKey:"date",stroke:B.chart.textColor,style:U.tickLabel}),Object(v.jsx)(Je.a,{dataKey:"bounceRatePercent",stroke:B.chart.textColor,style:U.tickLabel}),Object(v.jsx)(Ke.a,{content:function(e){return Ot(Object(j.a)(Object(j.a)({},e),{},{customStyle:U.tooltipContent}))}})]})})]})]}),Object(v.jsxs)(f.c,{expand:!0,noMargin:!0,justifyContent:"center",children:[Object(v.jsxs)(p.a,{expand:!0,noMargin:!0,alignItems:"center",children:[Object(v.jsx)(k.a,{size:"block-title",align:"center",children:Object(v.jsx)(s.Trans,{id:"{0} minutes per player",values:{0:Math.round(S.overview.meanPlayedDurationInMinutes)}})}),Object(v.jsx)(Ge.a,{width:ht,height:ft,children:Object(v.jsxs)(Qe.a,{data:S.overTime,margin:jt,children:[Object(v.jsx)($e.a,{name:t._({id:"Mean played time"}),unit:" "+t._({id:"minutes"}),formatter:gt,type:"monotone",dataKey:"meanPlayedDurationInMinutes",stroke:B.chart.dataColor1,dot:U.chartLineDot,yAxisId:0}),Object(v.jsx)(qe.a,{stroke:B.chart.gridColor,strokeDasharray:"3 3"}),Object(v.jsx)(Xe.a,{dataKey:"date",stroke:B.chart.textColor,style:U.tickLabel}),Object(v.jsx)(Je.a,{dataKey:"meanPlayedDurationInMinutes",stroke:B.chart.textColor,style:U.tickLabel}),Object(v.jsx)(Ke.a,{content:function(e){return Ot(Object(j.a)(Object(j.a)({},e),{},{customStyle:U.tooltipContent}))}})]})})]}),Object(v.jsxs)(p.a,{expand:!0,noMargin:!0,alignItems:"center",children:[Object(v.jsx)(k.a,{size:"block-title",align:"center",children:Object(v.jsx)(s.Trans,{id:"{0} players with more than {1} minutes",values:{0:S.overview.greaterDurationPlayerSurface.playersCount,1:S.overview.greaterDurationPlayerSurface.durationInMinutes}})}),Object(v.jsx)(Ge.a,{width:ht,height:ft,children:Object(v.jsxs)(Ze.a,{data:S.overPlayedDuration,margin:jt,children:[Object(v.jsx)(Ye.a,{name:t._({id:"Players"}),type:"monotone",dataKey:"playersCount",stroke:B.chart.dataColor1,fill:B.chart.dataColor1,fillOpacity:.25,yAxisId:0}),Object(v.jsx)(Xe.a,{name:t._({id:"Played time"}),dataKey:"duration",type:"number",domain:[0,it[it.length-1]],ticks:it,stroke:B.chart.textColor,style:U.tickLabel}),Object(v.jsx)(Je.a,{dataKey:"playersCount",stroke:"#f5f5f5",style:U.tickLabel,domain:[0,"dataMax"]}),Object(v.jsx)(qe.a,{stroke:B.chart.gridColor,strokeDasharray:"3 3"}),Object(v.jsx)(Ke.a,{content:function(e){return Ot(Object(j.a)(Object(j.a)({},e),{},{customStyle:U.tooltipContent}))}})]})})]})]}),Object(v.jsx)(f.c,{expand:!0,noMargin:!0,justifyContent:"center",children:Object(v.jsxs)(p.a,{expand:!0,noMargin:!0,alignItems:"center",children:[Object(v.jsx)(k.a,{size:"block-title",align:"center",children:Object(v.jsx)(s.Trans,{id:"{0} % of players with more than {1} minutes",values:{0:Math.round(S.overview.nearestToMedianDuration.playersPercent),1:S.overview.nearestToMedianDuration.durationInMinutes}})}),Object(v.jsx)(Ge.a,{width:ht,height:ft,children:Object(v.jsxs)(Ze.a,{data:S.overTime,margin:jt,children:[Object(v.jsx)(Ye.a,{name:t._({id:"Players"}),type:"monotone",dataKey:"over60sPlayersPercent",formatter:mt,unit:" %",stroke:B.chart.dataColor1,fill:B.chart.dataColor1,fillOpacity:.15,yAxisId:0}),Object(v.jsx)(Ye.a,{name:t._({id:"Played > 3 minutes"}),type:"monotone",dataKey:"over180sPlayersPercent",formatter:mt,unit:" %",stroke:B.chart.dataColor1,fill:B.chart.dataColor1,fillOpacity:.15,yAxisId:0}),Object(v.jsx)(Ye.a,{name:t._({id:"Played > 5 minutes"}),type:"monotone",dataKey:"over300sPlayersPercent",formatter:mt,unit:" %",stroke:B.chart.dataColor1,fill:B.chart.dataColor1,fillOpacity:.15,yAxisId:0}),Object(v.jsx)(Ye.a,{name:t._({id:"Played > 10 minutes"}),type:"monotone",dataKey:"over600sPlayersPercent",formatter:mt,unit:" %",stroke:B.chart.dataColor1,fill:B.chart.dataColor1,fillOpacity:.15,yAxisId:0}),Object(v.jsx)(Ye.a,{name:t._({id:"Played > 15 minutes"}),type:"monotone",dataKey:"over900sPlayersPercent",formatter:mt,unit:" %",stroke:B.chart.dataColor1,fill:B.chart.dataColor1,fillOpacity:.15,yAxisId:0}),Object(v.jsx)(qe.a,{stroke:B.chart.gridColor,strokeDasharray:"3 3"}),Object(v.jsx)(Xe.a,{dataKey:"date",stroke:B.chart.textColor,style:U.tickLabel}),Object(v.jsx)(Je.a,{dataKey:"over60sPlayersPercent",stroke:B.chart.textColor,style:U.tickLabel,unit:" %"}),Object(v.jsx)(Ke.a,{content:function(e){return Ot(Object(j.a)(Object(j.a)({},e),{},{customStyle:U.tooltipContent}))}})]})})]})})]})]})}})},xt=n(1855),yt=n.n(xt),Ct=n(1017),kt=n.n(Ct),wt=n(436),Tt=n(649),Et=function(e){var t=e.value,n=e.label;return Object(v.jsxs)(p.a,{expand:!0,noMargin:!0,children:[Object(v.jsxs)(p.c,{justifyContent:"space-between",children:[Object(v.jsx)(k.a,{size:"body2",children:n}),Object(v.jsx)(k.a,{size:"body2",children:Object(Tt.a)(t,1)})]}),Object(v.jsx)(p.c,{noMargin:!0,expand:!0,children:Object(v.jsx)(wt.a,{variant:"determinate",value:10*t,style:{height:8,borderRadius:8}})})]})},St=n(454),Pt=n(471),It=n(393),At=n(809),Dt={textComment:{whiteSpace:"pre-wrap",overflowWrap:"anywhere"},backgroundText:{padding:0,textAlign:"left"}},Ft=function(e){return e?1===e.version?[{key:"rating-sound",label:Object(v.jsx)(s.Trans,{id:"Sound"}),value:e.sound},{key:"rating-visuals",label:Object(v.jsx)(s.Trans,{id:"Visuals"}),value:e.visuals},{key:"rating-fun",label:Object(v.jsx)(s.Trans,{id:"Fun"}),value:e.fun},{key:"rating-ease-of-use",label:Object(v.jsx)(s.Trans,{id:"Ease of use"}),value:e.easeOfUse}]:void 0:null},Mt=function(e){var t=e.comment,n=e.buildProperties,o=e.authenticatedUser,l=e.onCommentUpdated,d=o.getAuthorizationHeader,b=o.profile,j=Ft(t.ratings),h=c.useContext(et.a),g=c.useState(!1),m=Object(a.a)(g,2),O=m[0],x=m[1],y=function(){var e=Object(r.a)(i.a.mark((function e(n,r){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,Object(St.n)(d,b.id,{gameId:t.gameId,commentId:t.id,processed:n});case 5:a=e.sent,l(a),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.error("Unable to update comment: ",e.t0),Object(ve.a)({message:r._({id:"Unable to change read status of feedback."})+" "+r._({id:"Verify your internet connection or try again later."}),rawError:e.t0,errorId:"feedback-card-set-processed-error"});case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,n){return e.apply(this,arguments)}}(),C=function(e,t){var n=u.a.useState(null),o=Object(a.a)(n,2),s=o[0],c=o[1],l=Object(Pt.a)(function(){var e=Object(r.a)(i.a.mark((function e(n){var r,a,o,s=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(e.prev=0,r=s.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=s[o];return e.next=4,t.apply(void 0,[n].concat(a));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Error while updating optimistic state: ",e.t0);case 9:return e.prev=9,c(null),e.finish(9);case 12:case"end":return e.stop()}}),e,null,[[0,6,9,12]])})));return function(t){return e.apply(this,arguments)}}(),500);return[null!==s?s:e,function(e,t){c(e),l(e,t)}]}(!!t.processedAt,y),w=Object(a.a)(C,2),T=w[0],E=w[1];return Object(v.jsx)(s.I18n,{children:function(e){var r=e.i18n;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(xe.a,{disabled:T,cardCornerAction:Object(v.jsx)(le.a,{size:"small",tooltip:T?{id:"Mark as unread"}:{id:"Mark as read"},onClick:function(){return E(!T,r)},children:T?Object(v.jsx)(kt.a,{htmlColor:h.message.valid}):Object(v.jsx)(yt.a,{})}),header:Object(v.jsx)(_.a,{style:Dt.backgroundText,children:Object(v.jsx)(s.Trans,{id:"{0}",values:{0:r.date(t.createdAt)}})}),children:Object(v.jsxs)(p.a,{noMargin:!0,children:[Object(v.jsx)(p.c,{noMargin:!0,justifyContent:"space-between",alignItems:"start",children:Object(v.jsxs)(p.a,{noMargin:!0,children:[n&&Object(v.jsxs)(k.a,{color:"primary",children:[n.name||Object(St.m)(n.id),n.isDeleted&&Object(v.jsxs)(v.Fragment,{children:[" ",Object(v.jsx)(s.Trans,{id:"(deleted)"})]})]}),t.playerId?Object(v.jsx)(It.a,{onClick:function(){return x(!0)},href:"#",children:Object(v.jsx)(k.a,{noMargin:!0,color:"inherit",children:t.playerName||"Anonymous player"})}):Object(v.jsx)(_.a,{style:Dt.backgroundText,children:t.playerName||"Anonymous player"}),t.contact&&Object(v.jsxs)(f.b,{alignItems:"center",noMargin:!0,children:[Object(v.jsx)(_.a,{style:Dt.backgroundText,children:Object(v.jsx)(s.Trans,{id:"Contact:"})}),Object(v.jsx)(k.a,{allowSelection:!0,children:t.contact})]})]})}),Object(v.jsx)(p.d,{}),j&&Object(v.jsx)(f.c,{noColumnMargin:!0,expand:!0,children:j.map((function(e){return Object(v.jsxs)(p.c,{expand:!0,noMargin:!0,children:[Object(v.jsx)(Et,{label:e.label,value:e.value}),Object(v.jsx)(p.d,{})]},e.key)}))}),Object(v.jsx)(p.b,{}),Object(v.jsx)(k.a,{style:Dt.textComment,allowSelection:!0,children:t.text})]})}),t.playerId&&O&&Object(v.jsx)(At.a,{userId:t.playerId,onClose:function(){return x(!1)}})]})}})},_t=n(377),Lt=function(e){var t=e.feedbacks;if(0===t.length)return null;var n=t.map((function(e){return e.ratings})).filter(Boolean),r=n.reduce((function(e,t){return t?{sound:e.sound+t.sound,visuals:e.visuals+t.visuals,fun:e.fun+t.fun,easeOfUse:e.easeOfUse+t.easeOfUse,version:1}:e}),{sound:0,visuals:0,fun:0,easeOfUse:0,version:1}),a={sound:r.sound/n.length,visuals:r.visuals/n.length,fun:r.fun/n.length,easeOfUse:r.easeOfUse/n.length,version:1},o=Ft(a);return Object(v.jsx)(s.I18n,{children:function(e){e.i18n;return Object(v.jsx)(xe.a,{background:"dark",children:Object(v.jsxs)(p.a,{noMargin:!0,children:[Object(v.jsx)(p.c,{noMargin:!0,justifyContent:"space-between",alignItems:"start",children:Object(v.jsx)(p.a,{noMargin:!0,children:Object(v.jsx)(k.a,{color:"primary",size:"block-title",children:Object(v.jsx)(s.Trans,{id:"Average user feedback"})})})}),Object(v.jsx)(p.d,{}),o&&Object(v.jsx)(f.c,{noColumnMargin:!0,expand:!0,children:o.map((function(e){return Object(v.jsxs)(p.c,{expand:!0,noMargin:!0,children:[Object(v.jsx)(Et,{label:e.label,value:e.value}),Object(v.jsx)(p.d,{})]},e.key)}))})]})})}})},Rt=u.a.memo((function(e){return Object(v.jsxs)(J.a,Object(j.a)(Object(j.a)({},e),{},{width:"16",height:"14",viewBox:"0 0 16 14",fill:"none",children:[Object(v.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 3C0 2.58579 0.335786 2.25 0.75 2.25H3.25C3.66421 2.25 4 2.58579 4 3C4 3.41421 3.66421 3.75 3.25 3.75H0.75C0.335786 3.75 0 3.41421 0 3Z",fill:"currentColor"}),Object(v.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 3C8 2.58579 8.33579 2.25 8.75 2.25H15.25C15.6642 2.25 16 2.58579 16 3C16 3.41421 15.6642 3.75 15.25 3.75H8.75C8.33579 3.75 8 3.41421 8 3Z",fill:"currentColor"}),Object(v.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 1.5C5.17157 1.5 4.5 2.17157 4.5 3C4.5 3.82843 5.17157 4.5 6 4.5C6.82843 4.5 7.5 3.82843 7.5 3C7.5 2.17157 6.82843 1.5 6 1.5ZM3 3C3 1.34315 4.34315 0 6 0C7.65685 0 9 1.34315 9 3C9 4.65685 7.65685 6 6 6C4.34315 6 3 4.65685 3 3Z",fill:"currentColor"}),Object(v.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 11C0 10.5858 0.335786 10.25 0.75 10.25H8.25C8.66421 10.25 9 10.5858 9 11C9 11.4142 8.66421 11.75 8.25 11.75H0.75C0.335786 11.75 0 11.4142 0 11Z",fill:"currentColor"}),Object(v.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13 11C13 10.5858 13.3358 10.25 13.75 10.25H15.25C15.6642 10.25 16 10.5858 16 11C16 11.4142 15.6642 11.75 15.25 11.75H13.75C13.3358 11.75 13 11.4142 13 11Z",fill:"currentColor"}),Object(v.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 9.5C10.1716 9.5 9.5 10.1716 9.5 11C9.5 11.8284 10.1716 12.5 11 12.5C11.8284 12.5 12.5 11.8284 12.5 11C12.5 10.1716 11.8284 9.5 11 9.5ZM8 11C8 9.34315 9.34315 8 11 8C12.6569 8 14 9.34315 14 11C14 12.6569 12.6569 14 11 14C9.34315 14 8 12.6569 8 11Z",fill:"currentColor"})]}))})),Nt=n(497),Bt=n(364),Ut={selectFieldContainer:{minWidth:200,maxWidth:350,width:"100%"}},Ht=function(e,t,n){return n[e]?n[e].push(t):n[e]=[t],n},Wt=function(e,t,n){var r=n.build;n.date;return t.reduce((function(t,n){if(r)return n.buildId?Ht(n.buildId,n,t):Ht("game-only",n,t);var a=e.date(n.createdAt,{month:"long",year:"numeric"});return Ht(a,n,t)}),{})},zt=function(e){var t=e.i18n,n=e.authenticatedUser,o=e.game,u=c.useRef(null),d=n.getAuthorizationHeader,b=n.profile,j=c.useState(!1),g=Object(a.a)(j,2),m=g[0],O=g[1],x=c.useState(!0),y=Object(a.a)(x,2),C=y[0],w=y[1],T=c.useState(null),E=Object(a.a)(T,2),S=E[0],P=E[1],I=c.useState(null),A=Object(a.a)(I,2),D=A[0],F=A[1],M=c.useState(""),R=Object(a.a)(M,2),N=R[0],B=R[1],U=c.useState(!1),H=Object(a.a)(U,2),W=H[0],z=H[1],V=c.useState(!1),G=Object(a.a)(V,2),Z=G[0],Y=G[1],q=function(e,t,n,r,a){if(!t)return null;var o=t;"game-only"===a?o=t.filter((function(e){return!e.buildId})):a&&(o=t.filter((function(e){return e.buildId===a})));var i=n?o.filter((function(e){return!e.processedAt})):o;return Wt(e,i,r?{build:!1,date:!0}:{build:!0,date:!1})}(t,S,m,C,N),X=q?Object.values(q).filter(Boolean).flat():[],J=function(e){var t=Object(St.m)(e);if(!D)return t;var n=D[e].name;return n?"".concat(n.substring(0,15)).concat(n.length>=15?"...":""," (").concat(t,")"):t},K=c.useCallback(Object(r.a)(i.a.mark((function e(){var t,r,s,c,u,l,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(z(!1),t=n.getAuthorizationHeader,r=n.profile){e.next=5;break}return z(!0),e.abrupt("return");case 5:return e.prev=5,e.next=8,Promise.all([Object(St.i)(t,r.id,{gameId:o.id,type:"FEEDBACK"}),Object(_t.h)(t,r.id,o.id)]);case 8:s=e.sent,c=Object(a.a)(s,2),u=c[0],l=c[1],P(u),d=l.reduce((function(e,t){return e[t.id]=t,e}),{}),F(d),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(5),z(!0);case 20:case"end":return e.stop()}}),e,null,[[5,17]])}))),[n,o]),Q=function(e){S&&P((function(t){if(!t)return t;var n=Object(ne.a)(t),r=n.findIndex((function(t){return t.id===e.id}));return-1!==r?(n[r]=e,n):void 0}))},$=function(e){if(e.buildId){if(!D)return{id:e.buildId};var t=D[e.buildId];return t?{id:t.id,name:t.name,isDeleted:!1}:{id:e.buildId,isDeleted:!0}}};c.useEffect((function(){K()}),[K]);var ee=function(){var e=Object(r.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b&&!Z){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,Y(!0),e.next=6,Promise.all(X.filter((function(e){return!e.processedAt})).map((function(e){return Object(St.n)(d,b.id,{gameId:e.gameId,commentId:e.id,processed:!0})})));case 6:K(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.error("Unable to update one of the comments: ",e.t0),Object(ve.a)({message:t._({id:"Unable to mark one of the feedback as read."})+" "+t._({id:"Verify your internet connection or try again later."}),rawError:e.t0,errorId:"all-feedback-card-set-processed-error"});case 13:return e.prev=13,Y(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[2,9,13,16]])})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(p.a,{noMargin:!0,expand:!0,children:Object(v.jsxs)(p.c,{children:[!n.authenticated&&Object(v.jsx)(L.a,{children:Object(v.jsx)(s.Trans,{id:"You need to login first to see your game feedbacks."})}),n.authenticated&&!q&&!W&&Object(v.jsx)(h.a,{}),n.authenticated&&W&&Object(v.jsx)(re.a,{onRetry:K,children:Object(v.jsx)(s.Trans,{id:"An error occured while retrieving feedbacks for this game."})}),n.authenticated&&q&&Object(v.jsxs)(p.a,{expand:!0,noMargin:!0,children:[Object(v.jsxs)(f.c,{justifyContent:"space-between",children:[Object(v.jsx)(p.a,{justifyContent:"center",children:Object(v.jsx)(f.b,{noMargin:!0,alignItems:"center",children:Object(v.jsx)(_.a,{children:Object(v.jsx)(s.Trans,{id:"This is all the feedback received on {0} coming from gd.games.",values:{0:o.gameName}})})})}),D&&Object(v.jsx)(p.a,{children:Object(v.jsx)(p.c,{children:Object(v.jsx)("div",{style:Ut.selectFieldContainer,children:Object(v.jsxs)(Te.a,{fullWidth:!0,floatingLabelText:Object(v.jsx)(s.Trans,{id:"Show"}),value:N,onChange:function(e,t,n){B(n)},children:[Object(v.jsx)(Ee.a,{value:"",primaryText:{id:"All builds"}},"all"),Object(v.jsx)(Ee.a,{value:"game-only",primaryText:{id:"On game page only"}},"game-only"),Object.keys(D).map((function(e){return Object(v.jsx)(Ee.a,{value:e,primaryText:J(e)},e)}))]})})})})]}),Object(v.jsx)(f.a,{expand:!0,noMargin:!0,children:!!S&&S.length&&Object(v.jsx)(Lt,{feedbacks:S})}),0===X.length&&Object(v.jsx)(v.Fragment,{children:m?Object(v.jsxs)(f.b,{alignItems:"center",justifyContent:"center",children:[Object(v.jsx)(k.a,{children:Object(v.jsx)(s.Trans,{id:"You don't have any unread feedback for this game."})}),Object(v.jsx)(l.a,{onClick:function(){return O(!1)},label:Object(v.jsx)(s.Trans,{id:"Show all feedbacks"})})]}):Object(v.jsx)(k.a,{children:Object(v.jsx)(s.Trans,{id:"You don't have any feedback for this game."})})}),0!==X.length&&Object(v.jsx)(f.a,{expand:!0,noMargin:!0,children:Object.keys(q).map((function(e,t){var r=C?e:function(e){if("game-only"===e)return"";var t=Object(St.m)(e);if(!D)return t;var n=D[e];return n?n.name?"".concat(n.name," (").concat(t,")"):t:Object(v.jsxs)(v.Fragment,{children:["".concat(t," "),Object(v.jsx)(s.Trans,{id:"(deleted)"})]})}(e);return Object(v.jsxs)(f.a,{noMargin:!0,children:[Object(v.jsxs)(p.c,{justifyContent:"space-between",alignItems:"center",children:[Object(v.jsx)(p.a,{children:Object(v.jsxs)(k.a,{size:"block-title",children:[r,r?" - ":" ",Object(v.jsx)(s.Trans,{id:"{0} feedback cards",values:{0:q[e].length}})]})}),0===t&&Object(v.jsx)(p.a,{justifyContent:"center",children:Object(v.jsx)(le.a,{disabled:Z,onClick:function(e){return function(e){u.current&&u.current.open(e.clientX,e.clientY)}(e)},children:Z?Object(v.jsx)(Bt.a,{size:20}):Object(v.jsx)(Rt,{fontSize:"small"})})})]}),q[e].map((function(e,t){return Object(v.jsx)(Mt,{comment:e,buildProperties:$(e),authenticatedUser:n,onCommentUpdated:Q},e.id)}))]},e)}))})]})]})}),Object(v.jsx)(Nt.a,{ref:u,buildMenuTemplate:function(e){return[{label:e._({id:"Sort by most recent"}),click:function(){return w(!C)},checked:C,type:"checkbox"},{label:e._({id:"Show unread feedback only"}),click:function(){return O(!m)},checked:m,type:"checkbox"},{type:"separator"},{label:e._({id:"Mark all as solved"}),click:function(){return ee(e)}}]}})]})},Vt=n(425),Gt=function(e){var t=e.game,n=e.onGameUpdated,o=c.useContext(te.a),u=o.getAuthorizationHeader,l=o.profile,d=c.useState(null),b=Object(a.a)(d,2),p=b[0],h=b[1];return l?Object(v.jsx)(s.I18n,{children:function(e){var a=e.i18n;return Object(v.jsxs)(f.a,{noMargin:!0,children:[Object(v.jsx)(g.a,{kind:"info",children:Object(v.jsx)(s.Trans,{id:'In the future, games that generate enough revenue will be able to opt-in into "revenue share", so that as a creator you can start earning from your game sessions.'})}),Object(v.jsx)(Vt.a,{checked:null!==p?p:!!t.displayAdsOnGamePage,onCheck:function(){var e=Object(r.a)(i.a.mark((function e(r,o){var s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(o),s=Object(j.a)(Object(j.a)({},t),{},{displayAdsOnGamePage:o}),e.prev=2,e.next=5,Object(ae.l)(u,l.id,t.id,{displayAdsOnGamePage:o});case 5:n(s),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),Object(ve.a)({message:a._({id:"Unable to update game."})+" "+a._({id:"Verify your internet connection or try again later."}),rawError:e.t0,errorId:"game-monetization-update-game-error"});case 11:return e.prev=11,h(null),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[2,8,11,14]])})));return function(t,n){return e.apply(this,arguments)}}(),label:Object(v.jsx)(s.Trans,{id:"Allow to display advertisments on the game page on gd.games."}),tooltipOrHelperText:Object(v.jsx)(s.Trans,{id:"This is recommended as this allows to maintain free publishing on gd.games and allow to analyze if you could benefit from revenue sharing."})})]})}}):null},Zt=n(458),Yt=[{value:"details",label:Object(v.jsx)(s.Trans,{id:"Details"})},{value:"builds",label:Object(v.jsx)(s.Trans,{id:"Builds"})},{value:"feedback",label:Object(v.jsx)(s.Trans,{id:"Feedback"})},{value:"analytics",label:Object(v.jsx)(s.Trans,{id:"Analytics"})},{value:"leaderboards",label:Object(v.jsx)(s.Trans,{id:"Leaderboards"})},{value:"monetization",label:Object(v.jsx)(s.Trans,{id:"Monetization"})}],qt=function(e){var t=e.game,n=e.project,o=e.onClose,u=e.onGameUpdated,j=e.onGameDeleted,m=c.useContext(Zt.b),x=m.routeArguments,C=m.removeRouteArguments,w=c.useContext(te.a),T=w.getAuthorizationHeader,E=w.profile,S=c.useState("details"),P=Object(a.a)(S,2),I=P[0],A=P[1],D=c.useState(!1),F=Object(a.a)(D,2),M=F[0],_=F[1],L=c.useState(null),R=Object(a.a)(L,2),N=R[0],B=R[1],U=c.useState(!1),H=Object(a.a)(U,2),W=H[0],z=H[1],V=c.useContext(te.a),G=c.useState(null),Z=Object(a.a)(G,2),Y=Z[0],q=Z[1],X=c.useState(null),J=Object(a.a)(X,2),K=J[0],Q=J[1],$=c.useState(!1),ee=Object(a.a)($,2),ne=ee[0],oe=ee[1];c.useEffect((function(){if(x["games-dashboard-tab"]){var e=Yt.find((function(e){return e.value===x["games-dashboard-tab"]}));e&&A(e.value),C(["games-dashboard-tab"])}}),[x,C]);var se=c.useCallback(Object(r.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Q(null),e.prev=1,e.next=4,Object(ae.h)(t.id);case 4:n=e.sent,q(n),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Unable to load the game:",e.t0),Q(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,8]])}))),[t]);c.useEffect((function(){se()}),[se]);var ce=c.useCallback((function(e){q(null),u(e)}),[u]),ue=function(){var e=Object(r.a)(i.a.mark((function e(t,r){var a,o,s,c,u,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&E){e.next=2;break}return e.abrupt("return",!1);case 2:if(a=E.id,(o=t.ownerIds)&&o.length){e.next=7;break}return Object(ve.c)(r._({id:"You must select at least one user to be the owner of the game."}),{delayToNextTick:!0}),e.abrupt("return",!1);case 7:return e.prev=7,z(!0),s=n.getProjectUuid(),e.next=12,Object(ae.l)(T,a,s,{authorName:n.getAuthor()||"Unspecified publisher",gameName:n.getName()||"Untitled game",categories:n.getCategories().toJSArray()||[],description:n.getDescription()||"",playWithKeyboard:n.isPlayableWithKeyboard(),playWithGamepad:n.isPlayableWithGamepad(),playWithMobile:n.isPlayableWithMobile(),orientation:n.getOrientation(),discoverable:t.discoverable});case 12:if(c=e.sent,!t.userSlug||!t.gameSlug||t.userSlug!==E.username){e.next=25;break}return e.prev=14,e.next=17,Object(ae.j)(T,a,s,t.userSlug,t.gameSlug);case 17:e.next=25;break;case 19:return e.prev=19,e.t0=e.catch(14),console.error("Unable to update the game slug:",e.t0.response||e.t0.message),Object(ve.a)({message:r._({id:"Unable to update the game slug. A slug must be 6 to 30 characters long and only contains letters, digits or dashes."})+" "+r._({id:"Verify your internet connection or try again later."}),rawError:e.t0,errorId:"game-slug-update-error"}),z(!1),e.abrupt("return",!1);case 25:return e.prev=25,u=Object(ae.b)(n.getAuthorIds().toJSArray()),l=Object(ae.b)(o),e.next=30,Object(ae.k)(T,a,s,{ownership:l,author:u});case 30:e.next=38;break;case 32:return e.prev=32,e.t1=e.catch(25),console.error("Unable to update the game owners or authors:",e.t1.response||e.t1.message),Object(ve.a)({message:r._({id:"Unable to update the game owners or authors. Have you removed yourself from the owners?"})+" "+r._({id:"Verify your internet connection or try again later."}),rawError:e.t1,errorId:"game-acls-update-error"}),z(!1),e.abrupt("return",!1);case 38:ce(c),e.next=47;break;case 41:return e.prev=41,e.t2=e.catch(7),console.error("Unable to update the game:",e.t2.response||e.t2.message),Object(ve.a)({message:r._({id:"Unable to update the game details."})+" "+r._({id:"Verify your internet connection or try again later."}),rawError:e.t2,errorId:"game-details-update-error"}),z(!1),e.abrupt("return",!1);case 47:return z(!1),e.abrupt("return",!0);case 49:case"end":return e.stop()}}),e,null,[[7,41],[14,19],[25,32]])})));return function(t,n){return e.apply(this,arguments)}}(),le=function(){var e=Object(r.a)(i.a.mark((function e(n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(E){e.next=2;break}return e.abrupt("return");case 2:return r=E.id,B(null),_(!0),e.prev=5,z(!0),e.next=9,Object(ae.a)(T,r,t.id);case 9:j(),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(5),console.error("Unable to delete the game:",e.t0),e.t0.response&&e.t0.response.data&&"game-deletion/leaderboards-exist"===e.t0.response.data.code&&B(n._({id:"You cannot unregister a game that has active leaderboards. To delete them, go in the Leaderboards tab, and delete them one by one."}));case 16:return e.prev=16,z(!1),_(!1),e.finish(16);case 20:case"end":return e.stop()}}),e,null,[[5,12,16,20]])})));return function(t){return e.apply(this,arguments)}}(),de=c.useCallback(Object(r.a)(i.a.mark((function e(){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(E){e.next=2;break}return e.abrupt("return");case 2:return n=E.id,e.prev=3,z(!0),e.next=7,Object(ae.l)(T,n,t.id,{publicWebBuildId:null});case 7:r=e.sent,ce(r),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.error("Unable to update the game",e.t0);case 14:return e.prev=14,z(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[3,11,14,17]])}))),[t,T,E,ce]),be=Y&&Y.authors.map((function(e){return e.username})).filter(Boolean),pe=Y&&Y.owners.map((function(e){return e.username})).filter(Boolean),je=!!n&&n.getProjectUuid()===t.id;return Object(v.jsx)(s.I18n,{children:function(e){var a=e.i18n;return Object(v.jsxs)(b.c,{title:Object(v.jsx)(s.Trans,{id:"{0} Dashboard",values:{0:t.gameName}}),open:!0,flexColumnBody:!0,fullHeight:!0,maxWidth:"lg",actions:[Object(v.jsx)(l.a,{label:Object(v.jsx)(s.Trans,{id:"Close"}),disabled:M,onClick:o},"close")],secondaryActions:[Object(v.jsx)(y.a,{helpPagePath:"leaderboards"===I?"/interface/games-dashboard/leaderboard-administration":"/interface/games-dashboard"},"help")],onRequestClose:o,cannotBeDismissed:M,fixedContent:Object(v.jsx)(d.a,{value:I,onChange:A,options:Yt}),children:[Object(v.jsxs)(p.c,{expand:!0,noMargin:!0,children:["leaderboards"===I?Object(v.jsx)(Ne.b,{gameId:t.id,onLoading:_}):null,"details"===I?K?Object(v.jsxs)(re.a,{onRetry:se,children:[Object(v.jsx)(s.Trans,{id:"There was an issue getting the game details."})," ",Object(v.jsx)(s.Trans,{id:"Verify your internet connection or try again later."})]}):Y?Object(v.jsxs)(f.a,{expand:!0,noMargin:!0,children:[!je&&Object(v.jsx)(g.a,{kind:"info",children:Object(v.jsx)(s.Trans,{id:"In order to update these details you have to open the game's project."})}),Object(v.jsxs)(p.c,{alignItems:"center",noMargin:!0,children:[Object(v.jsx)(p.c,{expand:!0,justifyContent:"flex-start",alignItems:"center",noMargin:!0,children:be&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(k.a,{children:Object(v.jsx)(s.Trans,{id:"Authors:"})}),Object(v.jsx)(p.c,{noMargin:!0,children:be.map((function(e,t){return Object(v.jsxs)(c.Fragment,{children:[Object(v.jsx)(p.d,{}),Object(v.jsx)(ie.a,{size:"small",icon:pe&&pe.includes(e)?Object(v.jsx)(Re,{}):void 0,className:"notranslate",label:e,color:0===t?"primary":"default"})]},e)}))})]})}),Object(v.jsx)(p.c,{expand:!0,justifyContent:"flex-end",noMargin:!0,children:Object(v.jsx)(k.a,{children:Object(v.jsx)(s.Trans,{id:"Created on {0}",values:{0:a.date(1e3*t.createdAt)}})})})]}),(Y.playWithKeyboard||Y.playWithGamepad||Y.playWithMobile||Y.categories)&&Object(v.jsxs)(p.c,{alignItems:"center",noMargin:!0,children:[Object(v.jsx)(p.c,{expand:!0,justifyContent:"flex-start",alignItems:"center",noMargin:!0,children:Y.categories&&!!Y.categories.length&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(k.a,{children:Object(v.jsx)(s.Trans,{id:"Genres:"})}),Object(v.jsx)(p.c,{noMargin:!0,children:Y.categories.map((function(e,t){return Object(v.jsxs)(c.Fragment,{children:[Object(v.jsx)(p.d,{}),Object(v.jsx)(ie.a,{size:"small",label:Object(ae.c)(e,a),color:0===t?"primary":"default"})]},e)}))})]})}),Object(v.jsxs)(p.c,{expand:!0,justifyContent:"flex-end",noMargin:!0,children:[Y.playWithKeyboard&&Object(v.jsx)(De.a,{}),Y.playWithGamepad&&Object(v.jsx)(Me.a,{}),Y.playWithMobile&&Object(v.jsx)(Le.a,{})]})]}),Object(v.jsx)(Ie.b,{value:Y.gameName,readOnly:!0,fullWidth:!0,floatingLabelText:Object(v.jsx)(s.Trans,{id:"Game name"}),floatingLabelFixed:!0}),Object(v.jsx)(Ie.b,{value:Y.description||"",readOnly:!0,fullWidth:!0,floatingLabelText:Object(v.jsx)(s.Trans,{id:"Game description"}),floatingLabelFixed:!0,translatableHintText:{id:"No description set."},multiline:!0,rows:5}),Object(v.jsxs)(Te.a,{disabled:!0,fullWidth:!0,floatingLabelText:Object(v.jsx)(s.Trans,{id:"Device orientation (for mobile)"}),value:Y.orientation,children:[Object(v.jsx)(Ee.a,{value:"default",primaryText:{id:"Platform default"}}),Object(v.jsx)(Ee.a,{value:"landscape",primaryText:{id:"Landscape"}}),Object(v.jsx)(Ee.a,{value:"portrait",primaryText:{id:"Portrait"}})]}),Object(v.jsxs)(p.c,{noMargin:!0,justifyContent:"flex-end",children:[Object(v.jsx)(l.a,{onClick:function(){Oe.b.showConfirmDialog(a._({id:"Are you sure you want to unregister this game?"})+"\n\n"+a._({id:"It will disappear from your games dashboard and you won't get access to analytics, unless you register it again."}))&&le(a)},label:Object(v.jsx)(s.Trans,{id:"Unregister this game"}),disabled:W}),Object(v.jsx)(p.d,{}),Y.publicWebBuildId&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(O.a,{onClick:function(){Oe.b.showConfirmDialog("Are you sure you want to unpublish this game? \n\nThis will make your gd.games unique game URL not accessible anymore. \n\nYou can decide at any time to publish it again.")&&de()},label:Object(v.jsx)(s.Trans,{id:"Unpublish from gd.games"}),disabled:W}),Object(v.jsx)(p.d,{})]}),Object(v.jsx)(O.a,{primary:!0,onClick:function(){return oe(!0)},label:Object(v.jsx)(s.Trans,{id:"Edit game details"}),disabled:!je||W})]}),N?Object(v.jsx)(re.a,{children:N}):null]}):Object(v.jsx)(h.a,{}):null,"builds"===I?Object(v.jsx)(Se.a,{game:t,authenticatedUser:V,onGameUpdated:u}):null,"analytics"===I?Object(v.jsx)(vt,{game:t}):null,"feedback"===I?Object(v.jsx)(zt,{i18n:a,authenticatedUser:V,game:t}):null,"monetization"===I?Object(v.jsx)(f.a,{noMargin:!0,children:Object(v.jsx)(Gt,{game:t,onGameUpdated:ce})}):null]}),Y&&n&&ne&&Object(v.jsx)(Pe.a,{project:n,publicGame:Y,onApply:function(){var e=Object(r.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue(t,a);case 2:e.sent&&oe(!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onClose:function(){return oe(!1)},isLoading:W})]})}})},Xt=n(424),Jt=n(1015),Kt=function(e){var t=e.project,n=c.useContext(Zt.b),o=n.routeArguments,u=n.addRouteArguments,l=n.removeRouteArguments,d=c.useState(null),b=Object(a.a)(d,2),p=b[0],j=b[1],g=c.useState(null),m=Object(a.a)(g,2),O=m[0],x=m[1],y=c.useContext(te.a),C=y.authenticated,k=y.firebaseUser,w=y.getAuthorizationHeader,T=y.profile,E=c.useState(null),S=Object(a.a)(E,2),P=S[0],I=S[1],A=Object(Xt.a)(),D=A.showAlert,F=A.showConfirmation,M=c.useState(!1),_=Object(a.a)(M,2),L=_[0],R=_[1],N=c.useCallback(Object(r.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C&&k){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,j(null),e.next=6,Object(ae.g)(w,k.uid);case 6:t=e.sent,x(t),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),console.error("Error while loading user games.",e.t0),j(e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,10]])}))),[C,k,w]),B=c.useCallback(Object(r.a)(i.a.mark((function e(){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(T&&t){e.next=2;break}return e.abrupt("return");case 2:return n=T.id,e.prev=3,R(!0),e.next=7,Object(ae.i)(w,n,{gameId:t.getProjectUuid(),authorName:t.getAuthor()||"Unspecified publisher",gameName:t.getName()||"Untitled game",templateSlug:t.getTemplateSlug()});case 7:return e.next=9,N();case 9:case 18:e.next=22;break;case 11:if(e.prev=11,e.t0=e.catch(3),console.error("Unable to register the game.",e.t0),!(r=Object(Jt.a)(e.t0))||403!==r.status){e.next=20;break}return e.next=18,D({title:{id:"Game already registered"},message:{id:"The project currently opened is registered online but you don't have access to it. Ask the original owner of the game to share it with you to be able to manage it."}});case 20:return e.next=22,D({title:{id:"Unable to register the game"},message:{id:"An error happened while registering the game. Verify your internet connection or retry later."}});case 22:return e.prev=22,R(!1),e.finish(22);case 25:case"end":return e.stop()}}),e,null,[[3,11,22,25]])}))),[w,T,t,D,N]);if(c.useEffect((function(){var e=function(){var e=Object(r.a)(i.a.mark((function e(){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=o["game-id"],!O||!n){e.next=20;break}if(r=O.find((function(e){return e.id===n})),l(["game-id"]),!r){e.next=8;break}I(r),e.next=20;break;case 8:if(!t||t.getProjectUuid()!==n){e.next=18;break}return e.next=11,F({title:{id:"Game not found"},message:{id:"This project is not registered online. Register it now to get access to leaderboards, player accounts, analytics and more!"},confirmButtonLabel:{id:"Register"}});case 11:if(e.sent){e.next=14;break}return e.abrupt("return");case 14:return e.next=16,B();case 16:e.next=20;break;case 18:return e.next=20,D({title:{id:"Game not found"},message:{id:"The game you're trying to open is not registered online. Open the project file, then register it before continuing."}});case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[O,o,l,B,F,D,t]),c.useEffect((function(){N()}),[N]),!C)return null;if(!O&&p)return Object(v.jsx)(re.a,{onRetry:function(){N()},children:Object(v.jsx)(s.Trans,{id:"Can't load the games. Verify your internet connection or retry later."})});if(!O)return Object(v.jsx)(h.a,{});var U=t?t.getProjectUuid():null,H=O.find((function(e){return!!U&&e.id===U})),W=[H].concat(Object(ne.a)(O.filter((function(e){return e!==H})))).filter(Boolean);return Object(v.jsxs)(f.a,{noMargin:!0,children:[!L&&Object(v.jsx)(we.a,{project:t,hideLoader:!0,onGameRegistered:N}),W.map((function(e){return Object(v.jsx)(ke,{isCurrentGame:!!U&&e.id===U,game:e,onOpenGameManager:function(t){u({"games-dashboard-tab":t}),I(e)},onUpdateGame:N},e.id)})),P&&Object(v.jsx)(qt,{game:P,project:U&&P.id===U?t:null,onClose:function(){I(null)},onGameUpdated:function(e){x(O.map((function(t){return t===P?e:t}))),I(e)},onGameDeleted:function(){I(null),N()}})]})},Qt=n(573),$t=n(810);t.a=function(e){var t=e.currentProject,n=e.open,o=e.onClose,c=u.a.useContext(Zt.b),j=c.routeArguments,f=c.removeRouteArguments,g=u.a.useRef(null),m=u.a.useRef(!1),O=u.a.useState("profile"),k=Object(a.a)(O,2),w=k[0],T=k[1],E=u.a.useContext(te.a),S="done"!==E.loginState,P=u.a.useRef(null);u.a.useEffect((function(){"games-dashboard"===j["initial-dialog"]&&(T("games-dashboard"),f(["initial-dialog"]))}),[j,f]);var A=u.a.useCallback((function(e){if(E.authenticated&&E.profile&&!m.current){if(!e[0].isIntersecting&&g.current)return clearTimeout(g.current),void(g.current=null);if(e[0].isIntersecting){if(g.current)return;g.current=setTimeout((function(){Object(W.k)(E),m.current=!0}),5e3)}}}),[E]);Object($t.a)(P.current,A);var D=u.a.useState(!1),F=Object(a.a)(D,2),M=F[0],_=F[1],L=u.a.useCallback(Object(r.a)(i.a.mark((function e(){var t,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=E.getAuthorizationHeader,n=E.firebaseUser){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,_(!0),e.next=7,Object(C.f)(t,n.uid);case 7:r=e.sent,Oe.b.openExternalURL(r),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),Object(ve.a)({message:"Unable to load the portal to manage your subscription. Please contact us on billing@gdevelop.io",rawError:e.t0,errorId:"subscription-portal-error"});case 14:return e.prev=14,_(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[3,11,14,17]])}))),[E]);u.a.useEffect((function(){n&&E.onRefreshUserProfile()}),[E.onRefreshUserProfile,n]);var R=u.a.useCallback(Object(r.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.onLogout();case 2:o();case 3:case"end":return e.stop()}}),e)}))),[E,o]),N=E.authenticated&&E.profile;return Object(v.jsx)(b.c,{title:N?Object(v.jsx)(s.Trans,{id:"My profile"}):null,actions:[Object(v.jsx)(l.a,{label:Object(v.jsx)(s.Trans,{id:"Close"}),primary:!1,onClick:o},"close")],secondaryActions:[Object(v.jsx)(y.a,{helpPagePath:"games-dashboard"===w?"/interface/games-dashboard":"/interface/profile"},"help"),N&&Object(v.jsx)(l.a,{label:Object(v.jsx)(s.Trans,{id:"Logout"}),onClick:R,disabled:S},"logout")],onRequestClose:o,open:n,fullHeight:!!N,maxWidth:N?"md":"sm",flexColumnBody:!0,fixedContent:N?Object(v.jsx)(d.a,{value:w,onChange:T,options:[{value:"profile",label:Object(v.jsx)(s.Trans,{id:"My Profile"})},{value:"games-dashboard",label:Object(v.jsx)(s.Trans,{id:"Games Dashboard"})}]}):null,children:"loggingIn"===E.loginState?Object(v.jsx)(h.a,{}):E.authenticated&&E.profile?Object(v.jsxs)(v.Fragment,{children:["profile"===w&&Object(v.jsx)(p.c,{children:Object(v.jsxs)(p.a,{expand:!0,noMargin:!0,children:[Object(v.jsx)(x,{authenticatedUser:E,onEditProfile:E.onEdit,onChangeEmail:E.onChangeEmail}),Object(v.jsx)(I,{subscription:E.subscription,onManageSubscription:L,isManageSubscriptionLoading:M}),Object(v.jsx)(H,{userId:E.profile.id}),N&&Object(v.jsx)("div",{ref:P,children:Object(v.jsx)(ee,{badges:E.badges,displayUnclaimedAchievements:!0,displayNotifications:!0})})]})}),"games-dashboard"===w&&Object(v.jsx)(Kt,{project:t})]}):Object(v.jsx)(p.a,{noMargin:!0,expand:!0,justifyContent:"center",children:Object(v.jsx)(Qt.a,{onLogin:E.onLogin,onCreateAccount:E.onCreateAccount,message:Object(v.jsx)(s.Trans,{id:"Create an account to register your games and to get access to metrics collected anonymously, like the number of daily players and retention of the players after a few days."})})})})}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return jt}));var r=n(19),a=n(6),o=n(5),i=n(7),s=n(10),c=n(11),u=n(9),l=n(17),d=n.n(l),b=n(336),p=n(361),j=n(959),h=n(510),f=n(2),g=n(34),m=n(0),O=n.n(m),v=n(298),x=n(340),y=n(322),C=n(321),k=n(303),w=n(324),T=n(621),E=n(385),S=n(318),P=n(297),I=n(296),A=n(450),D=n(430),F=n(2585),M=n(8);var _=function(e){for(var t=e.project,n=t.getCurrentPlatform().getAllPlatformExtensions(),r=[],a=function(e){var a=n.at(e),o=t.getExtensionProperties().getAllExtensionProperties(a.getName(),t);if(0===o.keys().size())return"continue";var i=Object(D.a)(o,(function(e){return t.getExtensionProperties().getAllExtensionProperties(a.getName(),t)}),(function(e,n,r){"boolean"===t.getExtensionProperties().getAllExtensionProperties(a.getName(),t).get(n).getType()?t.getExtensionProperties().setValue(a.getName(),n,"1"===r?"true":"false"):t.getExtensionProperties().setValue(a.getName(),n,r)}));r.push(Object(M.jsxs)(P.a,{noMargin:!0,children:[Object(M.jsx)(I.a,{size:"block-title",children:a.getFullName()}),Object(M.jsx)(A.a,{schema:i,instances:[a.getAllProperties()]})]},a.getName()))},o=0;o<n.size();o++)a(o);return r.length?Object(M.jsx)(F.a,{children:r}):null},L=n(553),R=n(305),N=n(26),B=n(312),U=n(352),H=n(770),W=n(410),z=n(295),V=n(66),G=n(314),Z=n(592),Y=n(1019),q=n(319),X=n(411),J=[{value:"top",primaryText:{id:"Top"}},{value:"top-left",primaryText:{id:"Top left corner"}},{value:"top-right",primaryText:{id:"Top right corner"}},{value:"bottom",primaryText:{id:"Bottom"}},{value:"bottom-left",primaryText:{id:"Bottom left corner"}},{value:"bottom-right",primaryText:{id:"Bottom right corner"}}],K=function(e){var t=e.loadingScreen,n=e.watermark,r=e.onLoadingScreenUpdated,a=e.onChangeSubscription,o=e.project,i=e.resourceManagementProps,s=l.useRef(null),c=l.useContext(q.a),d=Object(G.a)(),b=!Object(X.l)(c.subscription),p=function(){d(),r()};return Object(M.jsx)(u.I18n,{children:function(e){var r=e.i18n;return Object(M.jsxs)(P.a,{expand:!0,noMargin:!0,children:[Object(M.jsx)(I.a,{size:"section-title",children:Object(M.jsx)(u.Trans,{id:"Branding"})}),Object(M.jsxs)(P.a,{noMargin:!0,children:[Object(M.jsxs)(P.c,{noMargin:!0,children:[Object(M.jsx)(z.a,{expand:!0,noMargin:!0,justifyContent:"center",children:Object(M.jsx)(x.a,{label:Object(M.jsx)(u.Trans,{id:"Display GDevelop logo at startup (in exported game)"}),checked:t.isGDevelopLogoShownDuringLoadingScreen(),onCheck:function(e,r){(r||n.isGDevelopWatermarkShown()||!s.current||s.current.checkUserHasSubscription())&&(t.showGDevelopLogoDuringLoadingScreen(r),p())}})}),Object(M.jsx)(z.a,{expand:!0,noMargin:!0,justifyContent:"center",children:Object(M.jsxs)(y.a,{fullWidth:!0,floatingLabelText:Object(M.jsx)(u.Trans,{id:"GDevelop logo style"}),value:t.getGDevelopLogoStyle(),onChange:function(e,n,r){t.getGDevelopLogoStyle()!==r&&(t.setGDevelopLogoStyle(r),p())},disabled:!t.isGDevelopLogoShownDuringLoadingScreen(),children:[Object(M.jsx)(C.a,{value:"light",primaryText:{id:"Light (plain)"}}),Object(M.jsx)(C.a,{value:"light-colored",primaryText:{id:"Light (colored)"}}),Object(M.jsx)(C.a,{value:"dark",primaryText:{id:"Dark (plain)"}}),Object(M.jsx)(C.a,{value:"dark-colored",primaryText:{id:"Dark (colored)"}})]})})]}),Object(M.jsxs)(P.c,{noMargin:!0,children:[Object(M.jsx)(z.a,{expand:!0,noMargin:!0,justifyContent:"center",children:Object(M.jsx)(x.a,{label:Object(M.jsx)(u.Trans,{id:"Display GDevelop watermark after the game is loaded (in exported game)"}),checked:n.isGDevelopWatermarkShown(),onCheck:function(e,r){(r||t.isGDevelopLogoShownDuringLoadingScreen()||!s.current||s.current.checkUserHasSubscription())&&(n.showGDevelopWatermark(r),p())}})}),Object(M.jsx)(z.a,{expand:!0,noMargin:!0,justifyContent:"center",children:Object(M.jsx)(y.a,{fullWidth:!0,floatingLabelText:Object(M.jsx)(u.Trans,{id:"GDevelop watermark placement"}),value:n.getPlacement(),onChange:function(e,r,a){t.getGDevelopLogoStyle()!==a&&(n.setPlacement(a),p())},disabled:!n.isGDevelopWatermarkShown(),children:J.map((function(e){return Object(M.jsx)(C.a,{value:e.value,primaryText:e.primaryText},e.value)}))})})]}),b&&Object(M.jsx)(Y.a,{subscriptionDialogOpeningReason:"Disable GDevelop splash at startup",children:Object(M.jsx)(I.a,{children:Object(M.jsx)(u.Trans,{id:"Get a silver or gold subscription to disable GDevelop branding."})})})]}),Object(M.jsx)(I.a,{size:"section-title",children:Object(M.jsx)(u.Trans,{id:"Loading screen"})}),Object(M.jsx)(I.a,{size:"block-title",children:Object(M.jsx)(u.Trans,{id:"Background"})}),Object(M.jsx)(z.c,{noMargin:!0,children:Object(M.jsx)(Z.a,{floatingLabelText:Object(M.jsx)(u.Trans,{id:"Background image"}),project:o,resourceManagementProps:i,resourceKind:"image",resourceName:t.getBackgroundImageResourceName(),onChange:function(e){t.getBackgroundImageResourceName()!==e&&(t.setBackgroundImageResourceName(e),p())}})}),Object(M.jsxs)(P.c,{noMargin:!0,children:[Object(M.jsx)(W.a,{fullWidth:!0,floatingLabelText:Object(M.jsx)(u.Trans,{id:"Background color"}),disableAlpha:!0,color:Object(V.b)(t.getBackgroundColor()),onChange:function(e){var n=t.getBackgroundColor(),r=Object(V.j)(e);n!==r&&(t.setBackgroundColor(r),p())}}),Object(M.jsx)(w.a,{floatingLabelText:Object(M.jsx)(u.Trans,{id:"Background fade in duration (in seconds)"}),step:.1,fullWidth:!0,type:"number",value:""+t.getBackgroundFadeInDuration(),onChange:function(e){var n=t.getBackgroundFadeInDuration(),r=Math.max(0,parseFloat(e));n!==r&&(t.setBackgroundFadeInDuration(r),p())}})]}),Object(M.jsx)(I.a,{size:"block-title",children:Object(M.jsx)(u.Trans,{id:"Progress bar"})}),Object(M.jsx)(x.a,{label:Object(M.jsx)(u.Trans,{id:"Show progress bar"}),checked:t.getShowProgressBar(),onCheck:function(e,n){t.setShowProgressBar(n),p()}}),Object(M.jsxs)(P.c,{noMargin:!0,children:[Object(M.jsx)(w.a,{floatingLabelText:Object(M.jsx)(u.Trans,{id:"Progress bar minimum width"}),fullWidth:!0,type:"number",value:""+t.getProgressBarMinWidth(),onChange:function(e){var n=t.getProgressBarMinWidth(),r=Math.max(0,parseFloat(e));n!==r&&(t.setProgressBarMinWidth(r),p())},helperMarkdownText:r._({id:"In pixels. 0 to ignore."})}),Object(M.jsx)(w.a,{floatingLabelText:Object(M.jsx)(u.Trans,{id:"Progress bar width"}),fullWidth:!0,type:"number",value:""+t.getProgressBarWidthPercent(),onChange:function(e){var n=t.getProgressBarWidthPercent(),r=Math.min(100,Math.max(1,parseFloat(e)));n!==r&&(t.setProgressBarWidthPercent(r),p())},helperMarkdownText:r._({id:"As a percent of the game width."})}),Object(M.jsx)(w.a,{floatingLabelText:Object(M.jsx)(u.Trans,{id:"Progress bar maximum width"}),fullWidth:!0,type:"number",value:""+t.getProgressBarMaxWidth(),onChange:function(e){var n=t.getProgressBarMaxWidth(),r=Math.max(0,parseFloat(e));n!==r&&(t.setProgressBarMaxWidth(r),p())},helperMarkdownText:r._({id:"In pixels. 0 to ignore."})})]}),Object(M.jsxs)(P.c,{noMargin:!0,children:[Object(M.jsx)(w.a,{floatingLabelText:Object(M.jsx)(u.Trans,{id:"Progress bar height"}),fullWidth:!0,type:"number",value:""+t.getProgressBarHeight(),onChange:function(e){var n=t.getProgressBarHeight(),r=Math.max(1,parseFloat(e));n!==r&&(t.setProgressBarHeight(r),p())},helperMarkdownText:r._({id:"In pixels."})}),Object(M.jsx)(W.a,{fullWidth:!0,floatingLabelText:Object(M.jsx)(u.Trans,{id:"Progress bar color"}),disableAlpha:!0,color:Object(V.b)(t.getProgressBarColor()),onChange:function(e){var n=t.getProgressBarColor(),r=Object(V.j)(e);n!==r&&(t.setProgressBarColor(r),p())}})]}),Object(M.jsxs)(P.c,{noMargin:!0,children:[Object(M.jsx)(w.a,{floatingLabelText:t.isGDevelopLogoShownDuringLoadingScreen()?Object(M.jsx)(u.Trans,{id:"Logo and progress fade in delay (in seconds)"}):Object(M.jsx)(u.Trans,{id:"Progress fade in delay (in seconds)"}),step:.1,fullWidth:!0,type:"number",value:""+t.getLogoAndProgressLogoFadeInDelay(),onChange:function(e){var n=t.getLogoAndProgressLogoFadeInDelay(),r=Math.max(0,parseFloat(e));n!==r&&(t.setLogoAndProgressLogoFadeInDelay(r),p())}}),Object(M.jsx)(w.a,{floatingLabelText:t.isGDevelopLogoShownDuringLoadingScreen()?Object(M.jsx)(u.Trans,{id:"Logo and progress fade in duration (in seconds)"}):Object(M.jsx)(u.Trans,{id:"Progress fade in duration (in seconds)"}),step:.1,fullWidth:!0,type:"number",value:""+t.getLogoAndProgressFadeInDuration(),onChange:function(e){var n=t.getLogoAndProgressFadeInDuration(),r=Math.max(0,parseFloat(e));n!==r&&(t.setLogoAndProgressFadeInDuration(r),p())}})]}),t.isGDevelopLogoShownDuringLoadingScreen()?Object(M.jsx)(B.a,{kind:"info",children:Object(M.jsx)(u.Trans,{id:"Progress bar fade in delay and duration will be applied to GDevelop logo."})}):null,Object(M.jsx)(I.a,{size:"block-title",children:Object(M.jsx)(u.Trans,{id:"Duration"})}),Object(M.jsx)(w.a,{floatingLabelText:Object(M.jsx)(u.Trans,{id:"Minimum duration of the screen (in seconds)"}),step:.1,fullWidth:!0,type:"number",value:""+t.getMinDuration(),onChange:function(e){var n=t.getMinDuration(),r=Math.max(0,parseFloat(e));n!==r&&(t.setMinDuration(r),p())},helperMarkdownText:r._({id:"When previewing the game in the editor, this duration is ignored (the game preview starts as soon as possible)."})}),Object(M.jsx)(H.a,{ref:s,onChangeSubscription:a,mode:"mandatory",id:"Disable GDevelop splash at startup",title:Object(M.jsx)(u.Trans,{id:"Disable GDevelop splash at startup"})})]})}})},Q=n(554),$=n(771);function ee(e,t){var n=function(e){return e},r=t.gameResolutionWidth,a=t.gameResolutionHeight,o=t.adaptGameResolutionAtRuntime,i=t.name,s=t.description,c=t.authorIds,u=t.authorUsernames,l=t.author,d=t.version,b=t.packageName,p=t.orientation,j=t.scaleMode,h=t.pixelsRounding,f=t.sizeOnStartupMode,g=t.minFPS,m=t.maxFPS,O=t.isFolderProject,v=t.useDeprecatedZeroAsDefaultZOrder;e.setGameResolutionSize(r,a),e.setAdaptGameResolutionAtRuntime(o),e.setName(i),e.setDescription(s);var x=e.getAuthorIds();x.clear(),c.forEach((function(e){return x.push_back(e)}));var y=e.getAuthorUsernames();return y.clear(),u.forEach((function(e){return y.push_back(e)})),e.setAuthor(l),e.setVersion(d),e.setPackageName(b),e.setOrientation(p),e.setScaleMode(j),e.setPixelsRounding(h),e.setSizeOnStartupMode(f),e.setMinimumFPS(g),e.setMaximumFPS(m),e.setFolderProject(O),e.setUseDeprecatedZeroAsDefaultZOrder(v),Object(T.a)(n,Object(T.c)(n,e))}var te=function(e){var t=e.project,n=e.hotReloadPreviewButtonProps,r=l.useMemo((function(){return function(e){return{gameResolutionWidth:e.getGameResolutionWidth(),gameResolutionHeight:e.getGameResolutionHeight(),adaptGameResolutionAtRuntime:e.getAdaptGameResolutionAtRuntime(),name:e.getName(),description:e.getDescription(),author:e.getAuthor(),authorIds:e.getAuthorIds().toJSArray(),authorUsernames:e.getAuthorUsernames().toJSArray(),version:e.getVersion(),packageName:e.getPackageName(),orientation:e.getOrientation(),scaleMode:e.getScaleMode(),pixelsRounding:e.getPixelsRounding(),sizeOnStartupMode:e.getSizeOnStartupMode(),minFPS:e.getMinimumFPS(),maxFPS:e.getMaximumFPS(),isFolderProject:e.isFolderProject(),useDeprecatedZeroAsDefaultZOrder:e.getUseDeprecatedZeroAsDefaultZOrder()}}(t)}),[t]),a=l.useState(r.name),o=Object(g.a)(a,2),i=o[0],s=o[1],c=l.useState(r.description),d=Object(g.a)(c,2),b=d[0],p=d[1],j=l.useState(r.authorIds),h=Object(g.a)(j,2),m=h[0],A=h[1],D=l.useState(r.authorUsernames),F=Object(g.a)(D,2),H=F[0],W=F[1],z=l.useState(r.gameResolutionWidth),V=Object(g.a)(z,2),G=V[0],Z=V[1],Y=l.useState(r.gameResolutionHeight),q=Object(g.a)(Y,2),X=q[0],J=q[1],te=l.useState(r.adaptGameResolutionAtRuntime),ne=Object(g.a)(te,2),re=ne[0],ae=ne[1],oe=l.useState(r.author),ie=Object(g.a)(oe,2),se=ie[0],ce=ie[1],ue=l.useState(r.version),le=Object(g.a)(ue,2),de=le[0],be=le[1],pe=l.useState(r.packageName),je=Object(g.a)(pe,2),he=je[0],fe=je[1],ge=l.useState(r.orientation),me=Object(g.a)(ge,2),Oe=me[0],ve=me[1],xe=l.useState(r.scaleMode),ye=Object(g.a)(xe,2),Ce=ye[0],ke=ye[1],we=l.useState(r.pixelsRounding),Te=Object(g.a)(we,2),Ee=Te[0],Se=Te[1],Pe=l.useState(r.sizeOnStartupMode),Ie=Object(g.a)(Pe,2),Ae=Ie[0],De=Ie[1],Fe=l.useState(r.minFPS),Me=Object(g.a)(Fe,2),_e=Me[0],Le=Me[1],Re=l.useState(r.maxFPS),Ne=Object(g.a)(Re,2),Be=Ne[0],Ue=Ne[1],He=l.useState(r.isFolderProject),We=Object(g.a)(He,2),ze=We[0],Ve=We[1],Ge=l.useState(r.useDeprecatedZeroAsDefaultZOrder),Ze=Object(g.a)(Ge,2),Ye=Ze[0],qe=Ze[1],Xe=l.useState(e.initialTab),Je=Object(g.a)(Xe,2),Ke=Je[0],Qe=Je[1],$e=Object(L.a)({serializableObject:t.getLoadingScreen(),onCancel:e.onClose}),et=$e.onCancelChanges,tt=$e.notifyOfChange,nt=Object(L.a)({serializableObject:t.getExtensionProperties(),onCancel:et}),rt=nt.onCancelChanges,at=nt.notifyOfChange,ot=function(){var n=Object(f.a)(O.a.mark((function n(){var a;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=i!==r.name?{newName:i}:{},n.next=3,e.onApply(a);case 3:if(n.sent){n.next=6;break}return n.abrupt("return");case 6:ee(t,{gameResolutionWidth:G,gameResolutionHeight:X,adaptGameResolutionAtRuntime:re,name:i,description:b,author:se,authorIds:m,authorUsernames:H,version:de,packageName:he,orientation:Oe,scaleMode:Ce,pixelsRounding:Ee,sizeOnStartupMode:Ae,minFPS:_e,maxFPS:Be,isFolderProject:ze,useDeprecatedZeroAsDefaultZOrder:Ye})&&e.onPropertiesApplied(a);case 8:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(M.jsx)(u.I18n,{children:function(r){var a=r.i18n;return Object(M.jsx)(l.Fragment,{children:Object(M.jsxs)(k.c,{id:"project-properties-dialog",title:Object(M.jsx)(u.Trans,{id:"Game properties"}),actions:[Object(M.jsx)(v.a,{label:Object(M.jsx)(u.Trans,{id:"Cancel"}),primary:!1,onClick:rt},"cancel"),Object(M.jsx)(k.a,{id:"apply-button",label:Object(M.jsx)(u.Trans,{id:"Apply"}),primary:!0,onClick:ot},"apply")],secondaryActions:[Object(M.jsx)(S.a,{helpPagePath:"/interface/project-manager/properties"},"help"),n?Object(M.jsx)(v.a,{leftIcon:Object(M.jsx)(Q.a,{}),label:Object(M.jsx)(u.Trans,{id:"Run a preview (with loading & branding)"}),onClick:n.launchProjectWithLoadingScreenPreview},"hot-reload-preview-button"):null],onRequestClose:rt,onApply:ot,open:e.open,fullHeight:!0,fixedContent:Object(M.jsx)(U.a,{value:Ke,onChange:Qe,options:[{label:Object(M.jsx)(u.Trans,{id:"Properties"}),value:"properties"},{label:Object(M.jsx)(u.Trans,{id:"Branding and Loading screen"}),value:"loading-screen"}]}),children:["properties"===Ke&&Object(M.jsxs)(P.a,{expand:!0,noMargin:!0,children:[Object(M.jsx)(I.a,{size:"block-title",children:Object(M.jsx)(u.Trans,{id:"Game Info"})}),Object(M.jsx)($.c,{name:i,setName:function(e){e.trim()!==i&&(s(e.trim()),at())},description:b,setDescription:function(e){e!==b&&(p(e.trim()),at())},project:t,authorIds:m,setAuthorIds:function(e){A(e),at()},setAuthorUsernames:function(e){W(e),at()},orientation:Oe,setOrientation:function(e){e!==Oe&&(ve(e),at())}}),Object(M.jsx)(I.a,{size:"block-title",children:Object(M.jsx)(u.Trans,{id:"Packaging"})}),Object(M.jsx)(w.a,{floatingLabelText:Object(M.jsx)(u.Trans,{id:"Package name (for iOS and Android)"}),fullWidth:!0,hintText:"com.example.mygame",type:"text",value:he,onChange:function(e){e!==he&&(fe(e),at())},errorText:Object(T.d)(he)?void 0:Object(M.jsx)(u.Trans,{id:'The package name is containing invalid characters or not following the convention "xxx.yyy.zzz" (numbers allowed after a letter only).'})}),Object(M.jsx)(w.a,{floatingLabelText:Object(M.jsx)(u.Trans,{id:"Version number (X.Y.Z)"}),fullWidth:!0,hintText:"1.0.0",type:"text",value:de,onChange:function(e){e!==de&&(be(e),at())}}),Object(M.jsx)(w.a,{floatingLabelText:Object(M.jsx)(u.Trans,{id:"Publisher name"}),fullWidth:!0,translatableHintText:{id:"Your name"},helperMarkdownText:a._({id:"This will be used when packaging and submitting your application to the stores."}),type:"text",value:se,onChange:function(e){e!==se&&(ce(e),at())}}),Ye?Object(M.jsxs)(l.Fragment,{children:[Object(M.jsx)(I.a,{size:"block-title",children:Object(M.jsx)(u.Trans,{id:"Z Order of objects created from events"})}),Object(M.jsx)(B.a,{kind:"info",children:Object(M.jsx)(u.Trans,{id:"When you create an object using an action, GDevelop now sets the Z order of the object to the maximum value that was found when starting the scene for each layer. This allow to make sure that objects that you create are in front of others. This game was created before this change, so GDevelop maintains the old behavior: newly created objects Z order is set to 0. It's recommended that you switch to the new behavior by clicking the following button."})}),Object(M.jsx)(R.a,{onClick:function(){N.b.showConfirmDialog(a._({id:"Make sure to verify all your events creating objects, and optionally add an action to set the Z order back to 0 if it's important for your game. Do you want to continue (recommened)?"}))&&(qe(!1),at())},label:Object(M.jsx)(u.Trans,{id:"Switch to create objects with the highest Z order of the layer"})})]}):null,Object(M.jsx)(I.a,{size:"block-title",children:Object(M.jsx)(u.Trans,{id:"Resolution and rendering"})}),Object(M.jsxs)(P.c,{noMargin:!0,children:[Object(M.jsx)(w.a,{id:"game-resolution-width",floatingLabelText:Object(M.jsx)(u.Trans,{id:"Game resolution width"}),fullWidth:!0,type:"number",value:""+G,onChange:function(e){var t=Math.max(1,parseInt(e,10));t!==G&&(Z(t),at())}}),Object(M.jsx)(w.a,{id:"game-resolution-height",floatingLabelText:Object(M.jsx)(u.Trans,{id:"Game resolution height"}),fullWidth:!0,type:"number",value:""+X,onChange:function(e){var t=Math.max(1,parseInt(e,10));t!==X&&(J(t),at())}})]}),Object(M.jsxs)(y.a,{id:"game-resolution-resize-mode",fullWidth:!0,floatingLabelText:Object(M.jsx)(u.Trans,{id:"Game resolution resize mode (fullscreen or window)"}),value:Ae,onChange:function(e,t,n){n!==Ae&&(De(n),at())},children:[Object(M.jsx)(C.a,{value:"",primaryText:{id:"No changes to the game size"}}),Object(M.jsx)(C.a,{value:"adaptWidth",primaryText:{id:"Change width to fit the screen or window size"}}),Object(M.jsx)(C.a,{value:"adaptHeight",primaryText:{id:"Change height to fit the screen or window size"}})]}),Object(M.jsx)(x.a,{label:Object(M.jsx)(u.Trans,{id:"Update resolution during the game to fit the screen or window size"}),disabled:""===Ae,checked:re,onCheck:function(e,t){ae(t),at()}}),Object(M.jsxs)(P.c,{noMargin:!0,children:[Object(M.jsx)(w.a,{floatingLabelText:Object(M.jsx)(u.Trans,{id:"Minimum FPS"}),fullWidth:!0,type:"number",value:""+_e,onChange:function(e){var t=Math.max(0,parseInt(e,10));t!==_e&&(Le(t),at())}}),Object(M.jsx)(w.a,{floatingLabelText:Object(M.jsx)(u.Trans,{id:"Maximum FPS (0 for unlimited)"}),fullWidth:!0,type:"number",value:""+Be,onChange:function(e){var t=Math.max(0,parseInt(e,10));t!==Be&&(Ue(t),at())}})]}),Be>0&&Be<60&&Object(M.jsx)(E.a,{identifier:"maximum-fps-too-low",kind:"warning",children:Object(M.jsx)(u.Trans,{id:"Most monitors have a refresh rate of 60 FPS. Setting a maximum number of FPS under 60 will force the game to skip frames, and the real number of FPS will be way below 60, making the game laggy and impacting the gameplay negatively. Consider putting 60 or more for the maximum number or FPS, or disable it by setting 0."})}),_e<20&&Object(M.jsx)(E.a,{identifier:"minimum-fps-too-low",kind:"warning",children:Object(M.jsx)(u.Trans,{id:"Setting the minimum number of FPS below 20 will increase a lot the time that is allowed between the simulation of two frames of the game. If case of a sudden slowdown, or on slow computers, this can create buggy behaviors like objects passing beyond a wall. Consider setting 20 as the minimum FPS."})}),Object(M.jsxs)(y.a,{fullWidth:!0,floatingLabelText:Object(M.jsx)(u.Trans,{id:'Scale mode (also called "Sampling")'}),value:Ce,onChange:function(e,t,n){n!==Ce&&(ke(n),at())},children:[Object(M.jsx)(C.a,{value:"linear",primaryText:{id:"Linear (antialiased rendering, good for most games)"}}),Object(M.jsx)(C.a,{value:"nearest",primaryText:{id:"Nearest (no antialiasing, good for pixel perfect games)"}})]}),Object(M.jsx)(x.a,{label:Object(M.jsx)(u.Trans,{id:"Round pixels when rendering, useful for pixel perfect games."}),checked:Ee,onCheck:function(e,t){Se(t),at()}}),"nearest"===Ce&&Object(M.jsx)(E.a,{identifier:"use-non-smoothed-textures",kind:"info",children:Object(M.jsx)(u.Trans,{id:"To obtain the best pixel-perfect effect possible, go in the resources editor and disable the Smoothing for all images of your game. It will be done automatically for new images added from now."})}),Ee&&Object(M.jsx)(E.a,{identifier:"use-pixel-rounding",kind:"info",children:Object(M.jsx)(u.Trans,{id:"To avoid flickering on objects followed by the camera, use sprites with even dimensions."})}),Object(M.jsx)(I.a,{size:"block-title",children:Object(M.jsx)(u.Trans,{id:"Project files"})}),Object(M.jsxs)(y.a,{fullWidth:!0,floatingLabelText:Object(M.jsx)(u.Trans,{id:"Project file type"}),value:ze?"folder-project":"single-file",onChange:function(e,t,n){var r="folder-project"===n;r!==ze&&(Ve(r),at())},helperMarkdownText:a._({id:"Note that this option will only have an effect when saving your project on your computer's filesystem from the desktop app."}),children:[Object(M.jsx)(C.a,{value:"single-file",primaryText:{id:"Single file (default)"}}),Object(M.jsx)(C.a,{value:"folder-project",primaryText:{id:"Multiple files, saved in folder next to the main file"}})]}),Object(M.jsx)(_,{project:t})]}),"loading-screen"===Ke&&Object(M.jsx)(K,{loadingScreen:t.getLoadingScreen(),watermark:t.getWatermark(),onLoadingScreenUpdated:tt,onChangeSubscription:rt,project:t,resourceManagementProps:e.resourceManagementProps})]})})}})},ne=n(521),re=n(95),ae=n(449),oe=n(338),ie=n(1023),se=n(1687),ce=n.n(se),ue=n(1684),le=n.n(ue),de=n(1685),be=n.n(de),pe=n(3),je=n(905),he=d.a.memo((function(e){return Object(M.jsx)(je.a,Object(pe.a)(Object(pe.a)({},e),{},{children:Object(M.jsx)("path",{d:"M22 11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3z"})}))})),fe=n(1686),ge=n.n(fe),me=n(1043),Oe=n(1046),ve=n(1047),xe=n(434),ye=function(e){return Object(xe.a)("OPEN_PROJECT_PROPERTIES",!!e.project,{handler:e.onOpenProjectProperties}),Object(xe.a)("OPEN_PROJECT_LOADING_SCREEN",!!e.project,{handler:e.onOpenProjectLoadingScreen}),Object(xe.a)("OPEN_PROJECT_VARIABLES",!!e.project,{handler:e.onOpenProjectVariables}),Object(xe.a)("OPEN_PLATFORM_SPECIFIC_ASSETS_DIALOG",!!e.project,{handler:e.onOpenPlatformSpecificAssetsDialog}),Object(xe.a)("OPEN_PROJECT_RESOURCES",!!e.project,{handler:e.onOpenResourcesDialog}),Object(xe.a)("OPEN_SEARCH_EXTENSIONS_DIALOG",!!e.project,{handler:e.onOpenSearchExtensionDialog}),null},Ce=n(481),ke=n(1276),we=n(396),Te=n(778);var Ee=function(e){var t=e.project,n=e.onClose,r=e.extensionShortHeader,a=e.extensionName,o=e.onInstallExtension,i=e.onOpenEventsFunctionsExtension,s=d.a.useState(!1),c=Object(g.a)(s,2),l=c[0],b=c[1],p=d.a.useContext(we.a),j=function(){var e=Object(f.a)(O.a.mark((function e(n){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.prev=1,o(r),e.next=5,Object(Te.b)(n,t,p,r);case 5:return e.prev=5,b(!1),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[1,,5,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(M.jsx)(u.I18n,{children:function(e){var o=e.i18n;return Object(M.jsx)(ke.a,{project:t,isInstalling:l,onClose:n,onInstall:function(){return j(o)},extensionShortHeader:r,onEdit:function(){i(a),n()}})}})},Se=n(507),Pe=n.n(Se),Ie=n(453),Ae=n(311),De=n(330),Fe=n(423),Me=n(772),_e=n(306),Le=n(618),Re=n(1050),Ne={noIndentNestedList:{padding:0},itemTextField:{top:Ae.c},dragAndDropItemContainer:{display:"flex",flexDirection:"column"},draggableIcon:{display:"flex"},extensionPlaceholderIconContainer:Object(pe.a)(Object(pe.a)({},Ie.b),{},{display:"flex",color:"#1D1D26"})},Be=function(e){var t=e.id,n=e.error,r=e.onRefresh,a=(e.autoGenerateNestedIndicator,e.open),o=e.primaryText,i=e.renderNestedItems;return Object(M.jsx)(b.b,{id:t,open:a,primaryText:Object(M.jsx)(I.a,{size:"sub-title",noMargin:!0,children:o}),initiallyOpen:!0,autoGenerateNestedIndicator:!0,renderNestedItems:i,onReload:r,noPadding:!0,nestedListStyle:Ne.noIndentNestedList,leftIcon:n?Object(M.jsx)(Pe.a,{}):void 0,displayReloadButton:!!n,reloadButtonTooltip:Object(M.jsx)(u.Trans,{id:"An error has occurred in functions. Click to reload them."})})},Ue=function(e){var t=e.id,n=e.data,a=e.primaryText,o=e.textEndAdornment,i=e.editingName,s=e.leftIcon,c=e.onEdit,d=e.onDelete,p=e.addLabel,j=e.onAdd,h=e.onRename,f=e.onEditName,g=e.onCopy,m=e.onCut,O=e.onPaste,v=e.onDuplicate,x=e.canPaste,y=e.canMoveUp,C=e.onMoveUp,k=e.canMoveDown,w=e.onMoveDown,T=e.buildExtraMenuTemplate,E=e.isLastItem,S=e.dragAndDropProps,P=S.DragSourceAndDropTarget,I=S.onBeginDrag,A=S.onDrop,D=l.useRef(null),F=l.useRef(!1),_=l.useContext(_e.a);l.useEffect((function(){if(i){F.current=!1;var e=setTimeout((function(){D.current&&D.current.focus()}),100);return function(){return clearTimeout(e)}}}),[i]);var L=i?Object(M.jsx)(Ae.b,{id:"rename-item-field",margin:"none",ref:D,defaultValue:a,onBlur:function(e){return h(F.current?a:e.currentTarget.value)},onKeyPress:function(e){Object(De.g)(e)&&D.current&&D.current.blur()},onKeyUp:function(e){if(Object(De.c)(e)){var t=D.current;t&&(F.current=!0,t.blur())}},onKeyDown:function(e){Object(De.c)(e)&&(e.preventDefault(),e.stopPropagation())},fullWidth:!0,style:Ne.itemTextField}):Object(M.jsxs)("div",{style:{display:"inline-flex",width:"100%",alignItems:"center"},children:[Object(M.jsx)("span",{style:Fe.a,title:a,className:"notranslate",children:a}),o&&Object(M.jsx)("span",{style:{marginLeft:5,display:"flex"},children:o})]});return Object(M.jsx)(u.I18n,{children:function(e){e.i18n;return Object(M.jsx)(P,{beginDrag:function(){return I(),{}},canDrag:function(){return!i},canDrop:function(){return!0},drop:A,children:function(e){var a=e.connectDragSource,o=e.connectDropTarget,u=e.isOver,l=e.canDrop;return o(Object(M.jsxs)("div",{style:Ne.dragAndDropItemContainer,children:[u&&Object(M.jsx)(Le.a,{canDrop:l,zIndex:1}),Object(M.jsx)(b.b,{id:t,data:n,style:E?void 0:{borderBottom:"1px solid ".concat(_.listItem.separatorColor)},noPadding:!0,primaryText:L,leftIcon:a(Object(M.jsx)("div",{style:Ne.draggableIcon,children:s})),displayMenuButton:!0,buildMenuTemplate:function(e){return[{label:e._({id:"Edit"}),click:c}].concat(Object(r.a)(T?T(e):[]),[{type:"separator"},{label:e._({id:"Rename"}),click:f},{label:e._({id:"Delete"}),click:d},{label:e._(p),visible:!!j,click:j},{type:"separator"},{label:e._({id:"Copy"}),click:g},{label:e._({id:"Cut"}),click:m},{label:e._({id:"Paste"}),enabled:x(),click:O},{label:e._({id:"Duplicate"}),click:v},{type:"separator"},{label:e._({id:"Move up"}),enabled:y,click:C},{label:e._({id:"Move down"}),enabled:k,click:w}])},onClick:function(){i||c()}})]}))}})}})},He=function(e){var t=e.eventsFunctionsExtension,n=e.onEdit,r=e.onRename,a=e.onEditName,o=e.isEditingName,i=e.onDelete,s=e.onAdd,c=e.onCopy,u=e.onCut,d=e.onPaste,b=e.onDuplicate,p=e.canPaste,j=e.canMoveUp,h=e.onMoveUp,f=e.canMoveDown,g=e.onMoveDown,m=e.isLastItem,O=e.dragAndDropProps,v=t.getName(),x=t.getIconUrl(),y=l.useContext(Me.a).extensionShortHeadersByName;return Object(M.jsx)(Ue,{leftIcon:x?Object(M.jsx)(Ie.a,{size:24,alt:t.getFullName(),src:x}):Object(M.jsx)("div",{style:Ne.extensionPlaceholderIconContainer,children:Object(M.jsx)(Re.a,{})}),primaryText:v,editingName:o,onEdit:function(){return n(y)},onDelete:i,addLabel:{id:"Add a New Extension"},onAdd:s,onRename:r,onEditName:a,onCopy:c,onCut:u,onPaste:d,onDuplicate:b,canPaste:p,canMoveUp:j,onMoveUp:h,canMoveDown:f,onMoveDown:g,isLastItem:m,dragAndDropProps:O})},We=n(2593),ze=d.a.memo((function(e){return Object(M.jsxs)(je.a,Object(pe.a)(Object(pe.a)({},e),{},{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:[Object(M.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.50002 3.66669C4.03978 3.66669 3.66669 4.03978 3.66669 4.50002V11.5C3.66669 11.9603 4.03978 12.3334 4.50002 12.3334H11.5C11.9603 12.3334 12.3334 11.9603 12.3334 11.5V4.50002C12.3334 4.03978 11.9603 3.66669 11.5 3.66669H4.50002ZM2.66669 4.50002C2.66669 3.4875 3.4875 2.66669 4.50002 2.66669H11.5C12.5126 2.66669 13.3334 3.4875 13.3334 4.50002V11.5C13.3334 12.5126 12.5126 13.3334 11.5 13.3334H4.50002C3.4875 13.3334 2.66669 12.5126 2.66669 11.5V4.50002Z",fill:"currentColor"}),Object(M.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.16669 2.83335C5.44283 2.83335 5.66669 3.05721 5.66669 3.33335V12.6667C5.66669 12.9428 5.44283 13.1667 5.16669 13.1667C4.89054 13.1667 4.66669 12.9428 4.66669 12.6667V3.33335C4.66669 3.05721 4.89054 2.83335 5.16669 2.83335Z",fill:"currentColor"}),Object(M.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.8334 2.83335C11.1095 2.83335 11.3334 3.05721 11.3334 3.33335V12.6667C11.3334 12.9428 11.1095 13.1667 10.8334 13.1667C10.5572 13.1667 10.3334 12.9428 10.3334 12.6667V3.33335C10.3334 3.05721 10.5572 2.83335 10.8334 2.83335Z",fill:"currentColor"}),Object(M.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.83335 5.83335C2.83335 5.55721 3.05721 5.33335 3.33335 5.33335H5.00002C5.27616 5.33335 5.50002 5.55721 5.50002 5.83335C5.50002 6.1095 5.27616 6.33335 5.00002 6.33335H3.33335C3.05721 6.33335 2.83335 6.1095 2.83335 5.83335Z",fill:"currentColor"}),Object(M.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.8334 5.83335C10.8334 5.55721 11.0572 5.33335 11.3334 5.33335H12.6667C12.9428 5.33335 13.1667 5.55721 13.1667 5.83335C13.1667 6.1095 12.9428 6.33335 12.6667 6.33335H11.3334C11.0572 6.33335 10.8334 6.1095 10.8334 5.83335Z",fill:"currentColor"}),Object(M.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.83335 8.00002C2.83335 7.72388 3.05721 7.50002 3.33335 7.50002H12.6667C12.9428 7.50002 13.1667 7.72388 13.1667 8.00002C13.1667 8.27616 12.9428 8.50002 12.6667 8.50002H3.33335C3.05721 8.50002 2.83335 8.27616 2.83335 8.00002Z",fill:"currentColor"}),Object(M.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.83335 10.1667C2.83335 9.89054 3.05721 9.66669 3.33335 9.66669H5.00002C5.27616 9.66669 5.50002 9.89054 5.50002 10.1667C5.50002 10.4428 5.27616 10.6667 5.00002 10.6667H3.33335C3.05721 10.6667 2.83335 10.4428 2.83335 10.1667Z",fill:"currentColor"}),Object(M.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.8334 10.1667C10.8334 9.89054 11.0572 9.66669 11.3334 9.66669H12.6667C12.9428 9.66669 13.1667 9.89054 13.1667 10.1667C13.1667 10.4428 12.9428 10.6667 12.6667 10.6667H11.3334C11.0572 10.6667 10.8334 10.4428 10.8334 10.1667Z",fill:"currentColor"})]}))})),Ve=d.a.memo((function(e){return Object(M.jsxs)(je.a,Object(pe.a)(Object(pe.a)({},e),{},{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:[Object(M.jsxs)("g",{clipPath:"url(#clip0_686_2068)",children:[Object(M.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.99998 1.83337C4.59423 1.83337 1.83331 4.59429 1.83331 8.00004C1.83331 11.4058 4.59423 14.1667 7.99998 14.1667C11.4058 14.1667 14.1666 11.4058 14.1666 8.00004C14.1666 4.59429 11.4058 1.83337 7.99998 1.83337ZM0.833313 8.00004C0.833313 4.042 4.04194 0.833374 7.99998 0.833374C11.9581 0.833374 15.1666 4.04201 15.1666 8.00004C15.1666 11.9581 11.9581 15.1667 7.99998 15.1667C4.04194 15.1667 0.833313 11.9581 0.833313 8.00004Z",fill:"currentColor"}),Object(M.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.92591 5.83337C5.87477 5.83337 5.83331 5.87483 5.83331 5.92597V10.0741C5.83331 10.1253 5.87477 10.1667 5.92591 10.1667H10.0741C10.1252 10.1667 10.1666 10.1253 10.1666 10.0741V5.92597C10.1666 5.87483 10.1252 5.83337 10.0741 5.83337H5.92591ZM4.83331 5.92597C4.83331 5.32254 5.32248 4.83337 5.92591 4.83337H10.0741C10.6775 4.83337 11.1666 5.32254 11.1666 5.92597V10.0741C11.1666 10.6775 10.6775 11.1667 10.0741 11.1667H5.92591C5.32248 11.1667 4.83331 10.6775 4.83331 10.0741V5.92597Z",fill:"currentColor"}),Object(M.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.83331 7.33337C4.83331 7.05723 5.05717 6.83337 5.33331 6.83337H10.6666C10.9428 6.83337 11.1666 7.05723 11.1666 7.33337C11.1666 7.60952 10.9428 7.83337 10.6666 7.83337H5.33331C5.05717 7.83337 4.83331 7.60952 4.83331 7.33337Z",fill:"currentColor"}),Object(M.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.33331 6.83337C7.60946 6.83337 7.83331 7.05723 7.83331 7.33337V10.6667C7.83331 10.9428 7.60946 11.1667 7.33331 11.1667C7.05717 11.1667 6.83331 10.9428 6.83331 10.6667V7.33337C6.83331 7.05723 7.05717 6.83337 7.33331 6.83337Z",fill:"currentColor"})]}),Object(M.jsx)("defs",{children:Object(M.jsx)("clipPath",{id:"clip0_686_2068",children:Object(M.jsx)("rect",{width:"16",height:"16",fill:"white"})})})]}))})),Ge=d.a.memo((function(e){return Object(M.jsxs)(je.a,Object(pe.a)(Object(pe.a)({},e),{},{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:[Object(M.jsxs)("g",{clipPath:"url(#clip0_686_2047)",children:[Object(M.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.99998 1.83337C4.59423 1.83337 1.83331 4.59429 1.83331 8.00004C1.83331 11.4058 4.59423 14.1667 7.99998 14.1667C11.4058 14.1667 14.1666 11.4058 14.1666 8.00004C14.1666 4.59429 11.4058 1.83337 7.99998 1.83337ZM0.833313 8.00004C0.833313 4.042 4.04194 0.833374 7.99998 0.833374C11.9581 0.833374 15.1666 4.04201 15.1666 8.00004C15.1666 11.9581 11.9581 15.1667 7.99998 15.1667C4.04194 15.1667 0.833313 11.9581 0.833313 8.00004Z",fill:"currentColor"}),Object(M.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.59135 6.85555L4.59135 5.89663C4.59137 5.4166 4.98051 5.02743 5.46055 5.02741L9.93634 5.02741L9.94345 5.02717C9.95612 5.02683 9.97264 5.0266 9.99247 5.02676C10.0319 5.02707 10.0856 5.02895 10.1488 5.0349C10.2725 5.04654 10.4475 5.07506 10.6303 5.14738C10.8139 5.22005 11.0234 5.34433 11.187 5.55699C11.3551 5.77555 11.4471 6.052 11.4471 6.37679C11.4471 6.70156 11.355 6.97803 11.1868 7.19655C11.0231 7.40916 10.8135 7.53325 10.6297 7.6057C10.4469 7.6778 10.2718 7.70609 10.1481 7.71757C10.0849 7.72344 10.0313 7.72524 9.99179 7.7255C9.97197 7.72564 9.95545 7.72538 9.94278 7.72503L9.93603 7.72479L5.46059 7.72479C4.98054 7.72479 4.59135 7.3356 4.59135 6.85555ZM9.96992 6.02653C9.9619 6.02692 9.95345 6.02712 9.94543 6.02712L5.59106 6.02712L5.59106 6.72507L9.94543 6.72508C9.95368 6.72508 9.96192 6.72528 9.97016 6.72569M9.97016 6.72569C9.97216 6.72574 9.9776 6.72586 9.98516 6.72581C10.0005 6.72571 10.0251 6.72497 10.0558 6.72213C10.12 6.71618 10.1954 6.70234 10.263 6.67569C10.3297 6.64939 10.3705 6.61807 10.3946 6.58669C10.4142 6.56122 10.4474 6.50511 10.4474 6.37676C10.4474 6.24842 10.4143 6.19213 10.3945 6.16644C10.3702 6.13485 10.3292 6.1034 10.2625 6.07697C10.1948 6.05019 10.1193 6.03626 10.0551 6.03022C10.0245 6.02733 9.9998 6.02656 9.98449 6.02644C9.97693 6.02638 9.97192 6.02648 9.96992 6.02653",fill:"currentColor"}),Object(M.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.44141 11.0472C4.96121 11.0472 4.57192 10.6579 4.57193 10.1777L4.57192 9.21853C4.57194 8.73835 4.9612 8.34907 5.44137 8.34906L9.91252 8.34906C9.92533 8.3484 9.94278 8.34772 9.96279 8.3474C10.0026 8.34678 10.0567 8.34744 10.1205 8.35209C10.2451 8.36118 10.4222 8.38656 10.6074 8.4575C10.7941 8.529 11.0061 8.6536 11.1709 8.86989C11.3395 9.09126 11.4297 9.37096 11.4297 9.69881C11.4297 10.0267 11.3395 10.3064 11.1707 10.5277C11.0058 10.744 10.7937 10.8684 10.6069 10.9397C10.4216 11.0104 10.2445 11.0355 10.1198 11.0444C10.056 11.049 10.0019 11.0496 9.96212 11.0489C9.94211 11.0486 9.92544 11.0479 9.91263 11.0472L5.44141 11.0472ZM9.96867 10.0489L9.96748 10.0488L9.96618 10.0487L9.96497 10.0486C9.96685 10.0487 9.9717 10.0489 9.9791 10.0491C9.99408 10.0493 10.0183 10.0491 10.0484 10.047C10.1117 10.0425 10.1851 10.0303 10.2503 10.0054C10.3141 9.98104 10.3524 9.9516 10.3755 9.92141C10.3946 9.8963 10.4297 9.83697 10.4297 9.69881C10.4297 9.56066 10.3946 9.50114 10.3753 9.4758C10.3522 9.44539 10.3136 9.41581 10.2498 9.39137C10.1845 9.36636 10.111 9.35406 10.0478 9.34944C10.0176 9.34725 9.99341 9.34705 9.97843 9.34728C9.97103 9.3474 9.96618 9.34762 9.9643 9.34771M9.96497 10.0486C9.95262 10.0477 9.93994 10.0472 9.92755 10.0472L5.57192 10.0472L5.57192 9.34905L9.92755 9.34906C9.93972 9.34906 9.95217 9.3486 9.9643 9.34771",fill:"currentColor"})]}),Object(M.jsx)("defs",{children:Object(M.jsx)("clipPath",{id:"clip0_686_2047",children:Object(M.jsx)("rect",{width:"16",height:"16",fill:"white"})})})]}))})),Ze=n(309),Ye=n(12),qe=n.n(Ye),Xe=n(718),Je=n(440),Ke=qe()("electron"),Qe={shortcutReminders:{opacity:.7}},$e=[{label:Object(M.jsx)(u.Trans,{id:"Save"}),shortcutMapKey:"SAVE_PROJECT"},{label:Object(M.jsx)(u.Trans,{id:"Save as..."}),shortcutMapKey:"SAVE_PROJECT_AS"},{label:Object(M.jsx)(u.Trans,{id:"Export"}),shortcutMapKey:"EXPORT_GAME"},{label:Object(M.jsx)(u.Trans,{id:"Close"}),shortcutMapKey:"CLOSE_PROJECT"}],et=function(e){var t=e.shortcutMap;return"small"===Object(Ze.b)()||Ke?null:Object(M.jsxs)(z.a,{noMargin:!0,children:[Object(M.jsx)(B.a,{kind:"info",children:Object(M.jsx)(u.Trans,{id:"Find these actions on the Menu close to the \u201cHome\u201d tab."})}),Object(M.jsx)(z.d,{}),Object(M.jsx)("div",{style:Qe.shortcutReminders,children:$e.map((function(e,n){var r=e.label,a=e.shortcutMapKey;return Object(M.jsxs)(z.c,{noMargin:!0,justifyContent:"space-between",children:[Object(M.jsx)(I.a,{size:"body2",noMargin:!0,children:r}),Object(M.jsx)(I.a,{size:"body2",noMargin:!0,children:Object(Xe.a)(Object(Je.a)(t[a]))})]},n)}))}),Object(M.jsx)(z.d,{})]})},tt=n(327),nt=n(448),rt=n(363),at="Layout",ot="External layout",it="External events",st="Events Functions Extension",ct=Object(nt.a)("project-manager-items-scenes"),ut=Object(nt.a)("project-manager-items-external-layouts"),lt=Object(nt.a)("project-manager-items-external-events"),dt=Object(nt.a)("project-manager-items-external-events"),bt={container:{flex:1,display:"flex",flexDirection:"column",overflowY:"scroll",marginTop:16,padding:"0 16px 16px 16px",position:"relative"},searchBarContainer:{position:"sticky",top:0,zIndex:1},searchBarPaper:{paddingBottom:8}},pt=function(e){return"project-manager-tab-".concat(e)},jt=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o)))._draggedLayoutIndex=null,e._draggedExternalLayoutIndex=null,e._draggedExternalEventsIndex=null,e._draggedExtensionIndex=null,e.state={editedPropertiesLayout:null,editedVariablesLayout:null,renamedItemKind:null,renamedItemName:"",searchText:"",projectPropertiesDialogOpen:!1,projectPropertiesDialogInitialTab:"properties",projectVariablesEditorOpen:!1,extensionsSearchDialogOpen:!1,openedExtensionShortHeader:null,openedExtensionName:null,isInstallingExtension:!1,layoutPropertiesDialogOpen:!1,layoutVariablesDialogOpen:!1},e._openProjectProperties=function(){e.setState({projectPropertiesDialogOpen:!0,projectPropertiesDialogInitialTab:"properties"})},e._openProjectLoadingScreen=function(){e.setState({projectPropertiesDialogOpen:!0,projectPropertiesDialogInitialTab:"loading-screen"})},e._openProjectVariables=function(){e.setState({projectVariablesEditorOpen:!0})},e._openSearchExtensionDialog=function(){e.setState({extensionsSearchDialogOpen:!0})},e._onEditName=function(t,n){e.setState({renamedItemKind:t,renamedItemName:n})},e._copyLayout=function(e){ae.b.set(at,{layout:Object(oe.b)(e),name:e.getName()})},e._cutLayout=function(t){e._copyLayout(t),e.props.onDeleteLayout(t)},e._pasteLayout=function(t){if(ae.b.has(at)){var n=ae.b.get(at),r=ae.a.extractObjectProperty(n,"layout"),a=ae.a.extractStringProperty(n,"name");if(a&&r){var o=e.props.project,i=Object(re.a)(a,(function(e){return o.hasLayoutNamed(e)})),s=o.insertNewLayout(i,t);Object(oe.c)(s,r,"unserializeFrom",o),s.setName(i),s.updateBehaviorsSharedData(o),e._onProjectItemModified()}}},e._duplicateLayout=function(t,n){e._copyLayout(t),e._pasteLayout(n)},e._addLayout=function(t,n){var r=e.props.project,a=Object(re.a)(n._({id:"Untitled scene"}),(function(e){return r.hasLayoutNamed(e)})),o=r.insertNewLayout(a,t+1);o.setName(a),o.updateBehaviorsSharedData(r),e._onProjectItemModified(),e._onEditName("layout",a)},e._onOpenLayoutProperties=function(t){e.setState({editedPropertiesLayout:t})},e._onOpenLayoutVariables=function(t){e.setState({editedVariablesLayout:t})},e._addExternalEvents=function(t,n){var r=e.props.project,a=Object(re.a)(n._({id:"Untitled external events"}),(function(e){return r.hasExternalEventsNamed(e)}));r.insertNewExternalEvents(a,t+1),e._onProjectItemModified(),e._onEditName("external-events",a)},e._addExternalLayout=function(t,n){var r=e.props.project,a=Object(re.a)(n._({id:"Untitled external layout"}),(function(e){return r.hasExternalLayoutNamed(e)}));r.insertNewExternalLayout(a,t+1),e._onProjectItemModified(),e._onEditName("external-layout",a)},e._addEventsFunctionsExtension=function(t,n){var r=e.props.project,a=Object(re.a)(n._({id:"UntitledExtension"}),(function(e){return Object(ve.a)(e,r)}));return r.insertNewEventsFunctionsExtension(a,t+1),e._onProjectItemModified(),a},e._moveUpLayout=function(t){var n=e.props.project;t<=0||(n.swapLayouts(t,t-1),e._onProjectItemModified())},e._moveDownLayout=function(t){var n=e.props.project;t>=n.getLayoutsCount()-1||(n.swapLayouts(t,t+1),e._onProjectItemModified())},e._dropOnLayout=function(t){var n=Object(i.a)(e)._draggedLayoutIndex;null!==n&&(t!==n&&(e.props.project.moveLayout(n,t>n?t-1:t),e._onProjectItemModified()),e._draggedLayoutIndex=null)},e._dropOnExternalLayout=function(t){var n=Object(i.a)(e)._draggedExternalLayoutIndex;null!==n&&(t!==n&&(e.props.project.moveExternalLayout(n,t>n?t-1:t),e._onProjectItemModified()),e._draggedExternalLayoutIndex=null)},e._dropOnExternalEvents=function(t){var n=Object(i.a)(e)._draggedExternalEventsIndex;null!==n&&(t!==n&&(e.props.project.moveExternalEvents(n,t>n?t-1:t),e._onProjectItemModified()),e._draggedExternalEventsIndex=null)},e._dropOnExtension=function(t){var n=Object(i.a)(e)._draggedExtensionIndex;null!==n&&(t!==n&&(e.props.project.moveEventsFunctionsExtension(n,t>n?t-1:t),e._onProjectItemModified()),e._draggedExtensionIndex=null)},e._copyExternalEvents=function(e){ae.b.set(it,{externalEvents:Object(oe.b)(e),name:e.getName()})},e._cutExternalEvents=function(t){e._copyExternalEvents(t),e.props.onDeleteExternalEvents(t)},e._pasteExternalEvents=function(t){if(ae.b.has(it)){var n=ae.b.get(it),r=ae.a.extractObjectProperty(n,"externalEvents"),a=ae.a.extractStringProperty(n,"name");if(a&&r){var o=e.props.project,i=Object(re.a)(a,(function(e){return o.hasExternalEventsNamed(e)})),s=o.insertNewExternalEvents(i,t);Object(oe.c)(s,r,"unserializeFrom",o),s.setName(i),e._onProjectItemModified()}}},e._duplicateExternalEvents=function(t,n){e._copyExternalEvents(t),e._pasteExternalEvents(n)},e._moveUpExternalEvents=function(t){var n=e.props.project;t<=0||(n.swapExternalEvents(t,t-1),e._onProjectItemModified())},e._moveDownExternalEvents=function(t){var n=e.props.project;t>=n.getExternalEventsCount()-1||(n.swapExternalEvents(t,t+1),e._onProjectItemModified())},e._copyExternalLayout=function(e){ae.b.set(ot,{externalLayout:Object(oe.b)(e),name:e.getName()})},e._cutExternalLayout=function(t){e._copyExternalLayout(t),e.props.onDeleteExternalLayout(t)},e._pasteExternalLayout=function(t){if(ae.b.has(ot)){var n=ae.b.get(ot),r=ae.a.extractObjectProperty(n,"externalLayout"),a=ae.a.extractStringProperty(n,"name");if(a&&r){var o=e.props.project,i=Object(re.a)(a,(function(e){return o.hasExternalLayoutNamed(e)})),s=o.insertNewExternalLayout(i,t);Object(oe.c)(s,r),s.setName(i),e._onProjectItemModified()}}},e._duplicateExternalLayout=function(t,n){e._copyExternalLayout(t),e._pasteExternalLayout(n)},e._moveUpExternalLayout=function(t){var n=e.props.project;t<=0||(n.swapExternalLayouts(t,t-1),e._onProjectItemModified())},e._moveDownExternalLayout=function(t){var n=e.props.project;t>=n.getExternalLayoutsCount()-1||(n.swapExternalLayouts(t,t+1),e._onProjectItemModified())},e._copyEventsFunctionsExtension=function(e){ae.b.set(st,{eventsFunctionsExtension:Object(oe.b)(e),name:e.getName()})},e._cutEventsFunctionsExtension=function(t){e._copyEventsFunctionsExtension(t),e.props.onDeleteEventsFunctionsExtension(t)},e._duplicateEventsFunctionsExtension=function(t,n){e._copyEventsFunctionsExtension(t),e._pasteEventsFunctionsExtension(n)},e._pasteEventsFunctionsExtension=function(t){if(ae.b.has(st)){var n=ae.b.get(st),r=ae.a.extractObjectProperty(n,"eventsFunctionsExtension"),a=ae.a.extractStringProperty(n,"name");if(a&&r){var o=e.props.project,i=Object(re.a)(a,(function(e){return Object(ve.a)(e,o)})),s=o.insertNewEventsFunctionsExtension(i,t);Object(oe.c)(s,r,"unserializeFrom",o),s.setName(i),e._onProjectItemModified(),e.props.onReloadEventsFunctionsExtensions()}}},e._moveUpEventsFunctionsExtension=function(t){var n=e.props.project;t<=0||(n.swapEventsFunctionsExtensions(t,t-1),e._onProjectItemModified())},e._moveDownEventsFunctionsExtension=function(t){var n=e.props.project;t>=n.getEventsFunctionsExtensionsCount()-1||(n.swapEventsFunctionsExtensions(t,t+1),e._onProjectItemModified())},e._onEditEventsFunctionExtensionOrSeeDetails=function(t,n,r){if("gdevelop-extension-store"===n.getOriginName()){var a=n.getOriginIdentifier(),o=t[a];if(!o)return console.warn("This extension was downloaded from the store but its reference ".concat(a," couldn't be found in the store. Opening the extension in the editor...")),void e.props.onOpenEventsFunctionsExtension(r);e.setState({openedExtensionShortHeader:o,openedExtensionName:r})}else e.props.onOpenEventsFunctionsExtension(r)},e._onProjectPropertiesApplied=function(t){e.props.unsavedChanges&&e.props.unsavedChanges.triggerUnsavedChanges(),t.newName&&e.props.onChangeProjectName(t.newName),e.setState({projectPropertiesDialogOpen:!1})},e._onSearchChange=function(t){return e.setState({searchText:t})},e._onRequestSearch=function(){},e._onProjectItemModified=function(){e.forceUpdate(),e.props.unsavedChanges&&e.props.unsavedChanges.triggerUnsavedChanges()},e._setProjectFirstLayout=function(t){e.props.project.setFirstLayout(t),e.forceUpdate()},e._onCreateNewExtension=function(t,n){var r=e._addEventsFunctionsExtension(t.getEventsFunctionsExtensionsCount(),n);e.props.onOpenEventsFunctionsExtension(r),e.setState({extensionsSearchDialogOpen:!1})},e}return Object(o.a)(n,[{key:"shouldComponentUpdate",value:function(e,t){return t.projectPropertiesDialogOpen!==this.state.projectPropertiesDialogOpen||t.projectVariablesEditorOpen!==this.state.projectVariablesEditorOpen||t.extensionsSearchDialogOpen!==this.state.extensionsSearchDialogOpen||t.openedExtensionShortHeader!==this.state.openedExtensionShortHeader||!e.freezeUpdate}},{key:"componentDidUpdate",value:function(e){!this.props.freezeUpdate&&e.freezeUpdate&&"normal"===Object(rt.b)()&&this._searchBar&&this._searchBar.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,a=t.eventsFunctionsExtensionsError,o=t.onReloadEventsFunctionsExtensions,i=t.onInstallExtension,s=t.shortcutMap,c=this.state,l=c.renamedItemKind,d=c.renamedItemName,f=c.searchText,g=c.openedExtensionShortHeader,m=c.openedExtensionName,O=n.getFirstLayout(),v=Object(ne.e)(Object(ne.d)(n),f),x=Object(ne.e)(Object(ne.a)(n),f),y=Object(ne.e)(Object(ne.b)(n),f),C=Object(ne.e)(Object(ne.c)(n),f);return Object(M.jsx)(u.I18n,{children:function(t){var c=t.i18n;return Object(M.jsxs)("div",{style:bt.container,id:"project-manager",children:[Object(M.jsx)(ye,{project:e.props.project,onOpenProjectProperties:e._openProjectProperties,onOpenProjectLoadingScreen:e._openProjectLoadingScreen,onOpenProjectVariables:e._openProjectVariables,onOpenResourcesDialog:e.props.onOpenResources,onOpenPlatformSpecificAssetsDialog:e.props.onOpenPlatformSpecificAssets,onOpenSearchExtensionDialog:e._openSearchExtensionDialog}),Object(M.jsx)("div",{style:bt.searchBarContainer,children:Object(M.jsx)(tt.a,{background:"dark",square:!0,style:bt.searchBarPaper,children:Object(M.jsx)(p.a,{ref:function(t){return e._searchBar=t},value:f,onRequestSearch:e._onRequestSearch,onChange:e._onSearchChange,placeholder:{id:"Search in project"}})})}),Object(M.jsx)(et,{shortcutMap:s}),Object(M.jsxs)(b.a,{children:[Object(M.jsx)(Be,{id:pt("game-settings"),primaryText:Object(M.jsx)(u.Trans,{id:"Game settings"}),renderNestedItems:function(){return[Object(M.jsx)(b.b,{id:pt("game-properties"),primaryText:Object(M.jsx)(u.Trans,{id:"Properties"}),leftIcon:Object(M.jsx)(le.a,{}),onClick:e._openProjectProperties,noPadding:!0},"properties"),Object(M.jsx)(b.b,{id:pt("global-variables"),primaryText:Object(M.jsx)(u.Trans,{id:"Global variables"}),leftIcon:Object(M.jsx)(he,{}),onClick:e._openProjectVariables,noPadding:!0},"global-variables"),Object(M.jsx)(b.b,{id:pt("game-icons"),primaryText:Object(M.jsx)(u.Trans,{id:"Icons and thumbnail"}),leftIcon:Object(M.jsx)(be.a,{}),onClick:e.props.onOpenPlatformSpecificAssets,noPadding:!0},"icons"),Object(M.jsx)(b.b,{id:pt("game-resources"),primaryText:Object(M.jsx)(u.Trans,{id:"Resources"}),leftIcon:Object(M.jsx)(ge.a,{}),onClick:e.props.onOpenResources,noPadding:!0},"resources")]}}),Object(M.jsx)(Be,{id:pt("scenes"),primaryText:Object(M.jsx)(u.Trans,{id:"Scenes"}),renderNestedItems:function(){return[].concat(Object(r.a)(v.map((function(t,r){var a=t.getName();return Object(M.jsx)(Ue,{id:"scene-item-".concat(r),isLastItem:r===v.length-1,data:{scene:a,default:a===O?"true":void 0},leftIcon:Object(M.jsx)(ze,{}),primaryText:a,textEndAdornment:a===O?Object(M.jsx)(We.a,{title:c._({id:"This scene will be used as the start scene."}),children:Object(M.jsx)(ce.a,{color:"disabled",fontSize:"small"})}):void 0,editingName:"layout"===l&&d===a,onEdit:function(){return e.props.onOpenLayout(a)},onDelete:function(){return e.props.onDeleteLayout(t)},addLabel:{id:"Add a New Scene"},onAdd:function(){return e._addLayout(r,c)},onRename:function(t){e.props.onRenameLayout(a,t),e._onEditName(null,"")},onEditName:function(){return e._onEditName("layout",a)},onCopy:function(){return e._copyLayout(t)},onCut:function(){return e._cutLayout(t)},onPaste:function(){return e._pasteLayout(r)},onDuplicate:function(){return e._duplicateLayout(t,r)},canPaste:function(){return ae.b.has(at)},canMoveUp:0!==r,onMoveUp:function(){return e._moveUpLayout(r)},canMoveDown:r!==n.getLayoutsCount()-1,onMoveDown:function(){return e._moveDownLayout(r)},dragAndDropProps:{DragSourceAndDropTarget:ct,onBeginDrag:function(){e._draggedLayoutIndex=r},onDrop:function(){e._dropOnLayout(r)}},buildExtraMenuTemplate:function(n){return[{label:n._({id:"Edit Scene Properties"}),enabled:!0,click:function(){return e._onOpenLayoutProperties(t)}},{label:n._({id:"Edit Scene Variables"}),enabled:!0,click:function(){return e._onOpenLayoutVariables(t)}},{label:n._({id:"Set as start scene"}),enabled:a!==O,click:function(){return e._setProjectFirstLayout(a)}}]}},r)}))),Object(r.a)(f?[]:[Object(M.jsx)(j.a,{noMargin:!0,id:"add-new-scene-button",onClick:function(){return e._addLayout(n.getLayoutsCount(),c)},primaryText:Object(M.jsx)(u.Trans,{id:"Add scene"})},"add-scene")]))}}),Object(M.jsx)(Be,{id:pt("extensions"),primaryText:Object(M.jsx)(u.Trans,{id:"Extensions"}),error:a,onRefresh:o,renderNestedItems:function(){return[].concat(Object(r.a)(x.map((function(t,r){var a=t.getName();return Object(M.jsx)(He,{isLastItem:r===x.length-1,eventsFunctionsExtension:t,isEditingName:"events-functions-extension"===l&&d===a,onEdit:function(n){return e._onEditEventsFunctionExtensionOrSeeDetails(n,t,a)},onDelete:function(){return e.props.onDeleteEventsFunctionsExtension(t)},onAdd:function(){e._addEventsFunctionsExtension(r,c)},onRename:function(t){e.props.onRenameEventsFunctionsExtension(a,t),e._onEditName(null,"")},onEditName:function(){return e._onEditName("events-functions-extension",a)},onCopy:function(){return e._copyEventsFunctionsExtension(t)},onCut:function(){return e._cutEventsFunctionsExtension(t)},onPaste:function(){return e._pasteEventsFunctionsExtension(r)},onDuplicate:function(){return e._duplicateEventsFunctionsExtension(t,r)},canPaste:function(){return ae.b.has(st)},canMoveUp:0!==r,onMoveUp:function(){return e._moveUpEventsFunctionsExtension(r)},canMoveDown:r!==n.getEventsFunctionsExtensionsCount()-1,onMoveDown:function(){return e._moveDownEventsFunctionsExtension(r)},dragAndDropProps:{DragSourceAndDropTarget:dt,onBeginDrag:function(){e._draggedExtensionIndex=r},onDrop:function(){e._dropOnExtension(r)}}},r)}))),Object(r.a)(f?[]:[Object(M.jsx)(j.a,{noMargin:!0,id:"project-manager-extension-search-or-create",kind:"search",primaryText:Object(M.jsx)(u.Trans,{id:"Create or search for new extensions"}),onClick:e._openSearchExtensionDialog},"extensions-search")]))}}),Object(M.jsx)(Be,{id:pt("external-events"),primaryText:Object(M.jsx)(u.Trans,{id:"External events"}),renderNestedItems:function(){return[].concat(Object(r.a)(y.map((function(t,r){var a=t.getName();return Object(M.jsx)(Ue,{isLastItem:r===y.length-1,leftIcon:Object(M.jsx)(Ge,{}),primaryText:a,editingName:"external-events"===l&&d===a,onEdit:function(){return e.props.onOpenExternalEvents(a)},onDelete:function(){return e.props.onDeleteExternalEvents(t)},addLabel:{id:"Add New External Events"},onAdd:function(){return e._addExternalEvents(r,c)},onRename:function(t){e.props.onRenameExternalEvents(a,t),e._onEditName(null,"")},onEditName:function(){return e._onEditName("external-events",a)},onCopy:function(){return e._copyExternalEvents(t)},onCut:function(){return e._cutExternalEvents(t)},onPaste:function(){return e._pasteExternalEvents(r)},onDuplicate:function(){return e._duplicateExternalEvents(t,r)},canPaste:function(){return ae.b.has(it)},canMoveUp:0!==r,onMoveUp:function(){return e._moveUpExternalEvents(r)},canMoveDown:r!==n.getExternalEventsCount()-1,onMoveDown:function(){return e._moveDownExternalEvents(r)},dragAndDropProps:{DragSourceAndDropTarget:lt,onBeginDrag:function(){e._draggedExternalEventsIndex=r},onDrop:function(){e._dropOnExternalEvents(r)}}},r)}))),Object(r.a)(f?[]:[Object(M.jsx)(j.a,{noMargin:!0,primaryText:Object(M.jsx)(u.Trans,{id:"Add external events"}),onClick:function(){return e._addExternalEvents(n.getExternalEventsCount(),c)}},"add-external-events")]))}}),Object(M.jsx)(Be,{id:pt("external-layouts"),primaryText:Object(M.jsx)(u.Trans,{id:"External layouts"}),renderNestedItems:function(){return[].concat(Object(r.a)(C.map((function(t,r){var a=t.getName();return Object(M.jsx)(Ue,{isLastItem:r===C.length-1,leftIcon:Object(M.jsx)(Ve,{}),primaryText:a,editingName:"external-layout"===l&&d===a,onEdit:function(){return e.props.onOpenExternalLayout(a)},onDelete:function(){return e.props.onDeleteExternalLayout(t)},addLabel:{id:"Add a New External Layout"},onAdd:function(){return e._addExternalLayout(r,c)},onRename:function(t){e.props.onRenameExternalLayout(a,t),e._onEditName(null,"")},onEditName:function(){return e._onEditName("external-layout",a)},onCopy:function(){return e._copyExternalLayout(t)},onCut:function(){return e._cutExternalLayout(t)},onPaste:function(){return e._pasteExternalLayout(r)},onDuplicate:function(){return e._duplicateExternalLayout(t,r)},canPaste:function(){return ae.b.has(ot)},canMoveUp:0!==r,onMoveUp:function(){return e._moveUpExternalLayout(r)},canMoveDown:r!==n.getExternalLayoutsCount()-1,onMoveDown:function(){return e._moveDownExternalLayout(r)},dragAndDropProps:{DragSourceAndDropTarget:ut,onBeginDrag:function(){e._draggedExternalLayoutIndex=r},onDrop:function(){e._dropOnExternalLayout(r)}}},r)}))),Object(r.a)(f?[]:[Object(M.jsx)(j.a,{noMargin:!0,primaryText:Object(M.jsx)(u.Trans,{id:"Add external layout"}),onClick:function(){return e._addExternalLayout(n.getExternalLayoutsCount(),c)}},"add-external-layout")]))}})]}),e.state.projectVariablesEditorOpen&&Object(M.jsx)(h.a,{title:Object(M.jsx)(u.Trans,{id:"Global Variables"}),open:!0,variablesContainer:n.getVariables(),onCancel:function(){return e.setState({projectVariablesEditorOpen:!1})},onApply:function(){e.props.unsavedChanges&&e.props.unsavedChanges.triggerUnsavedChanges(),e.setState({projectVariablesEditorOpen:!1})},emptyPlaceholderTitle:Object(M.jsx)(u.Trans,{id:"Add your first global variable"}),emptyPlaceholderDescription:Object(M.jsx)(u.Trans,{id:"These variables hold additional information on a project."}),helpPagePath:"/all-features/variables/global-variables",hotReloadPreviewButtonProps:e.props.hotReloadPreviewButtonProps,onComputeAllVariableNames:function(){return Ce.a.findAllGlobalVariables(n.getCurrentPlatform(),n)}}),e.state.projectPropertiesDialogOpen&&Object(M.jsx)(te,{open:!0,initialTab:e.state.projectPropertiesDialogInitialTab,project:n,onClose:function(){return e.setState({projectPropertiesDialogOpen:!1})},onApply:e.props.onSaveProjectProperties,onPropertiesApplied:e._onProjectPropertiesApplied,resourceManagementProps:e.props.resourceManagementProps,hotReloadPreviewButtonProps:e.props.hotReloadPreviewButtonProps}),!!e.state.editedPropertiesLayout&&Object(M.jsx)(me.a,{open:!0,layout:e.state.editedPropertiesLayout,project:e.props.project,onApply:function(){e.props.unsavedChanges&&e.props.unsavedChanges.triggerUnsavedChanges(),e._onOpenLayoutProperties(null)},onClose:function(){return e._onOpenLayoutProperties(null)},onEditVariables:function(){e._onOpenLayoutVariables(e.state.editedPropertiesLayout),e._onOpenLayoutProperties(null)},resourceManagementProps:e.props.resourceManagementProps}),!!e.state.editedVariablesLayout&&Object(M.jsx)(Oe.a,{open:!0,project:n,layout:e.state.editedVariablesLayout,onClose:function(){return e._onOpenLayoutVariables(null)},onApply:function(){e.props.unsavedChanges&&e.props.unsavedChanges.triggerUnsavedChanges(),e._onOpenLayoutVariables(null)},hotReloadPreviewButtonProps:e.props.hotReloadPreviewButtonProps}),e.state.extensionsSearchDialogOpen&&Object(M.jsx)(ie.a,{project:n,onClose:function(){return e.setState({extensionsSearchDialogOpen:!1})},onInstallExtension:i,onCreateNew:function(){e._onCreateNewExtension(n,c)}}),g&&m&&Object(M.jsx)(Ee,{project:n,onClose:function(){return e.setState({openedExtensionShortHeader:null,openedExtensionName:null})},onOpenEventsFunctionsExtension:e.props.onOpenEventsFunctionsExtension,extensionShortHeader:g,extensionName:m,onInstallExtension:i})]})}})}}]),n}(l.Component)},function(e,t,n){"use strict";var r=n(34),a=n(17),o=n.n(a),i=n(24),s=n(3),c=n(19),u=n(9),l=(n(165),n(471)),d=n(519),b=n(303),p=n(345),j=n(375),h=n(26),f=n(393),g=n(297),m=n(589),O=n(298),v=n(295),x=n(8),y={image:{maxWidth:350},imageLink:{cursor:"pointer",maxWidth:350}};var C=function(e){var t=e.dialogContent,n=e.endTutorial,r=e.goToNextStep,a=e.isLastStep,o=function(){a?n():r&&r()},i=a?[Object(x.jsx)(b.a,{onClick:o,label:Object(x.jsx)(u.Trans,{id:"Close"})},"close")]:[Object(x.jsx)(O.a,{label:Object(x.jsx)(u.Trans,{id:"Leave the tutorial"}),onClick:n},"leave"),Object(x.jsx)(b.a,{primary:!0,onClick:o,label:Object(x.jsx)(u.Trans,{id:"Start next chapter"})},"next")];return Object(x.jsx)(u.I18n,{children:function(e){var n=e.i18n;return Object(x.jsx)(b.c,{title:null,onApply:o,open:!0,actions:i,maxWidth:"sm",flexColumnBody:!0,cannotBeDismissed:!0,children:Object(x.jsx)(g.a,{noMargin:!0,children:t.content.map((function(e,t){if(e.messageDescriptor)return Object(x.jsx)(p.a,{translatableSource:e.messageDescriptor},e.messageDescriptor.id||e.messageDescriptor);if(e.messageByLocale)return Object(x.jsx)(p.a,{source:Object(m.b)(n,e.messageByLocale)},Object.values(e.messageByLocale)[0]);if(e.image){var r=e.image,a=r.linkHref,o=r.imageSource;return a?Object(x.jsx)(v.c,{justifyContent:"center",children:Object(x.jsx)(f.a,{href:a,onClick:function(){return h.b.openExternalURL(a)},children:Object(x.jsx)(j.a,{style:y.imageLink,src:o,alt:"End of tutorial dialog image"})})},"image-".concat(t)):Object(x.jsx)(v.c,{justifyContent:"center",children:Object(x.jsx)(j.a,{style:y.image,src:o,alt:"End of tutorial dialog image"})},"image-".concat(t))}return null}))})})}})},k=n(468),w=function(e,t){return getComputedStyle(e).getPropertyValue(t)},T=function e(t,n){return t.parentElement?e(t.parentElement,n.concat([t])):n},E=function(e){return/(auto|scroll)/.test(function(e){return w(e,"overflow")+w(e,"overflow-y")+w(e,"overflow-x")}(e))},S=function(e){return function(e){var t=document.querySelector("#root");return!!t&&t.contains(e)}(e)?getComputedStyle(e).getPropertyPriority("z-index")+10:k.a},P=n(367),I=n(909),A=n(314),D=n(905),F=o.a.memo((function(e){return Object(x.jsxs)(D.a,Object(s.a)(Object(s.a)({},e),{},{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:[Object(x.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 2.66669C8.13664 2.66669 8.26733 2.72261 8.36168 2.82145L11.8617 6.48812C12.0523 6.68787 12.045 7.00436 11.8452 7.19503C11.6455 7.3857 11.329 7.37834 11.1383 7.17859L8 3.89083L4.86168 7.17859C4.67101 7.37834 4.35451 7.3857 4.15476 7.19503C3.95501 7.00436 3.94765 6.68787 4.13832 6.48812L7.63832 2.82145C7.73267 2.72261 7.86336 2.66669 8 2.66669Z",fill:"currentColor"}),Object(x.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 3.33335C8.27614 3.33335 8.5 3.55721 8.5 3.83335V12.8334C8.5 13.1095 8.27614 13.3334 8 13.3334C7.72386 13.3334 7.5 13.1095 7.5 12.8334V3.83335C7.5 3.55721 7.72386 3.33335 8 3.33335Z",fill:"currentColor"})]}))})),M=o.a.memo((function(e){return Object(x.jsxs)(D.a,Object(s.a)(Object(s.a)({},e),{},{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:[Object(x.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.15476 8.80501C4.35451 8.61434 4.67101 8.6217 4.86168 8.82145L8 12.1092L11.1383 8.82145C11.329 8.6217 11.6455 8.61434 11.8452 8.80501C12.045 8.99568 12.0523 9.31218 11.8617 9.51193L8.36168 13.1786C8.26733 13.2774 8.13664 13.3334 8 13.3334C7.86336 13.3334 7.73267 13.2774 7.63832 13.1786L4.13832 9.51193C3.94765 9.31218 3.95501 8.99568 4.15476 8.80501Z",fill:"currentColor"}),Object(x.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 2.66669C8.27614 2.66669 8.5 2.89054 8.5 3.16669V12.1667C8.5 12.4428 8.27614 12.6667 8 12.6667C7.72386 12.6667 7.5 12.4428 7.5 12.1667V3.16669C7.5 2.89054 7.72386 2.66669 8 2.66669Z",fill:"currentColor"})]}))})),_=n(810),L="#FF8629",R={rectangleHighlight:{position:"fixed",outline:"1px solid ".concat(L),boxShadow:"0 0 8px 6px ".concat(L),boxSizing:"border-box",pointerEvents:"none"},scrollIndicator:{position:"fixed",zIndex:k.a,animation:"0.8s ease-in-out 0s infinite alternate none running vertical-translate"},scrollDirectionArrow:{color:"#1D1D26",display:"flex",backgroundColor:L,boxShadow:"0 0 12px 2px ".concat(L),padding:2,borderRadius:3}};var N=function(e){var t=e.element,n=Object(A.a)();Object(I.a)(n);var o=a.useState(!0),c=Object(r.a)(o,2),u=c[0],l=c[1],d=function(e){if(!(e instanceof HTMLElement))return null;var t=e.parentElement;if(!t)return null;var n,r=T(t,[]),a=Object(i.a)(r);try{for(a.s();!(n=a.n()).done;){var o=n.value;if(E(o))return o}}catch(s){a.e(s)}finally{a.f()}return document.scrollingElement||document.documentElement}(t),b=d?P.a.fromDOMRect(d.getBoundingClientRect()):void 0,p=P.a.fromDOMRect(t.getBoundingClientRect()),j=a.useState((function(){return b?p.bottom<=b.centerY()?"top":(p.top,b.centerY(),"bottom"):"bottom"})),h=Object(r.a)(j,2),f=h[0],g=h[1],m=a.useCallback((function(e){var t=e[0].isIntersecting;l(t),!t&&b&&(p.bottom<=b.centerY()?g("top"):p.top>=b.centerY()&&g("bottom")),n()}),[n,b,p]);Object(_.a)(t,m),a.useEffect((function(){if(d)return d.addEventListener("scroll",n),function(){d.removeEventListener("scroll",n)}}),[d,n]);var O=getComputedStyle(t),v="top"===f?F:M;return Object(x.jsxs)(x.Fragment,{children:[u&&Object(x.jsx)("div",{id:"in-app-tutorial-element-highlighter",style:Object(s.a)(Object(s.a)(Object(s.a)({},R.rectangleHighlight),p.toCSSPosition()),{},{borderRadius:O.getPropertyValue("border-radius"),zIndex:S(t)})}),!u&&b&&Object(x.jsx)("div",{id:"in-app-tutorial-scroll-indicator",style:Object(s.a)(Object(s.a)({},R.scrollIndicator),{},{top:"top"===f?b.top+15:b.bottom-50,left:b.right-100}),children:Object(x.jsx)("div",{style:R.scrollDirectionArrow,children:Object(x.jsx)(v,{fontSize:"large"})})})]})},B=n(2597),U=n(2584),H=n(2594),W=n(2586),z=n(2590),V=n(2721),G=o.a.memo((function(e){return Object(x.jsx)(D.a,Object(s.a)(Object(s.a)({},e),{},{width:"16",height:"16",viewBox:"0 0 16 16",children:Object(x.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.49309 6.80023C5.69544 6.61233 6.01181 6.62405 6.19971 6.8264L7.99998 8.76515L9.80025 6.8264C9.98815 6.62405 10.3045 6.61233 10.5069 6.80023C10.7092 6.98813 10.7209 7.3045 10.533 7.50685L8.36638 9.84019C8.27177 9.94207 8.13902 9.99996 7.99998 9.99996C7.86095 9.99996 7.72819 9.94207 7.63358 9.84019L5.46692 7.50685C5.27902 7.3045 5.29073 6.98813 5.49309 6.80023Z",fill:"currentColor"})}))})),Z=n(305),Y=n(306),q=n(611),X=o.a.memo((function(e){return Object(x.jsx)(D.a,Object(s.a)(Object(s.a)({},e),{},{width:"16",height:"16",viewBox:"0 0 16 16",children:Object(x.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.99998 6.66663C8.13902 6.66663 8.27177 6.72452 8.36638 6.8264L10.533 9.15973C10.7209 9.36209 10.7092 9.67845 10.5069 9.86636C10.3045 10.0543 9.98815 10.0425 9.80025 9.84018L7.99998 7.90143L6.19971 9.84018C6.01181 10.0425 5.69544 10.0543 5.49309 9.86636C5.29073 9.67845 5.27902 9.36209 5.46692 9.15973L7.63358 6.8264C7.72819 6.72452 7.86095 6.66663 7.99998 6.66663Z",fill:"currentColor"})}))})),J=n(423),K="#EBEBED",Q="#D9D9DE",$="#C5C5C9",ee="#A6A6AB",te="#7F7F85",ne="#1D1D26",re={paper:{padding:"10px 12px",minWidth:180},title:{color:ne},description:{color:"#494952"},divider:{backgroundColor:Q,height:1},descriptionImage:{margin:"auto"},iconButtonContainer:{cursor:"pointer",borderRadius:5,display:"flex",alignItems:"center"},iconButtonContainerWithPadding:{paddingRight:5},headerText:{fontSize:12},headerContentPreview:{color:ne}},ae=Object(B.a)({popper:{'&[x-placement*="bottom"] #arrow-popper':{top:0,left:0,marginTop:"-0.71em",marginLeft:4,marginRight:4,"&::before":{transformOrigin:"0 100%"}},'&[x-placement*="top"] #arrow-popper':{bottom:0,left:0,marginBottom:"-0.71em",marginLeft:4,marginRight:4,"&::before":{transformOrigin:"100% 0"}},'&[x-placement*="right"] #arrow-popper':{left:0,marginLeft:"-0.71em",height:"1em",width:"0.71em",marginTop:4,marginBottom:4,"&::before":{transformOrigin:"100% 100%"}},'&[x-placement*="left"] #arrow-popper':{right:0,marginRight:"-0.71em",height:"1em",width:"0.71em",marginTop:4,marginBottom:4,"&::before":{transformOrigin:"0 0"}}},arrow:{overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box","&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}}),oe=function(e){var t=e.tooltip,n=e.buttonLabel,r=e.goToNextStep;return Object(x.jsxs)(x.Fragment,{children:[t.title&&Object(x.jsx)(z.a,{style:re.title,variant:"subtitle",translate:"no",children:Object(x.jsx)(p.a,{source:t.title,allowParagraphs:!0})}),t.title&&t.description&&Object(x.jsx)("span",{style:re.divider}),t.description&&Object(x.jsx)(z.a,{style:re.description,translate:"no",children:Object(x.jsx)(p.a,{source:t.description,allowParagraphs:!0})}),t.image&&Object(x.jsx)("img",{src:t.image.dataUrl,alt:"Tutorial helper",style:Object(s.a)(Object(s.a)({},re.descriptionImage),{},{width:t.image.width||"100%"})}),n&&Object(x.jsxs)(x.Fragment,{children:[t.image?Object(x.jsx)(v.d,{}):null,Object(x.jsx)(Z.a,{primary:!0,label:n,onClick:r})]})]})},ie=function(e){var t=e.paletteType,n=e.progress,r=e.showFoldButton,a=e.showQuitButton,o=e.onClickFoldButton,i=e.tooltipContent,c=e.endTutorial,l="light"===t?ee:$,d="light"===t?{color:te,backgroundColor:Q}:{color:ee,backgroundColor:K};return Object(x.jsxs)(g.b,{alignItems:"center",noMargin:!0,justifyContent:i?void 0:"space-between",children:[Object(x.jsxs)(z.a,{style:Object(s.a)(Object(s.a)({},re.headerText),{},{color:l}),translate:"no",children:[n,"%"]}),Object(x.jsxs)(g.b,{noMargin:!0,alignItems:"center",overflow:"hidden",children:[i||!a?null:Object(x.jsx)(V.a,{disableRipple:!0,onClick:c,children:Object(x.jsxs)("div",{style:Object(s.a)(Object(s.a)(Object(s.a)({},re.iconButtonContainer),re.iconButtonContainerWithPadding),d),children:[Object(x.jsx)(q.a,{}),Object(x.jsx)(z.a,{style:re.headerText,translate:"no",children:Object(x.jsx)(u.Trans,{id:"Quit tutorial"})})]})}),i&&Object(x.jsx)(z.a,{variant:"body2",style:Object(s.a)(Object(s.a)({},re.headerContentPreview),J.a),translate:"no",children:i}),r?Object(x.jsx)(V.a,{disableRipple:!0,onClick:o,children:Object(x.jsx)("span",{style:Object(s.a)(Object(s.a)({},re.iconButtonContainer),d),children:i?Object(x.jsx)(X,{}):Object(x.jsx)(G,{})})}):null]})]})},se=function(e){var t=e.anchorElement,n=e.tooltip,o=e.showQuitButton,i=e.buttonLabel,c=e.progress,u=e.endTutorial,l=e.goToNextStep,d=a.useContext(Y.a).palette.type,b=a.useState(!1),p=Object(r.a)(b,2),j=p[0],h=p[1],f=a.useState(!1),g=Object(r.a)(f,2),m=g[0],O=g[1],y=a.useCallback((function(e){h(e[0].isIntersecting)}),[]),C=((n.title||"")+(n.description||"")).replace(/\(.+\)/g,"");a.useEffect((function(){O(!1)}),[C]),Object(_.a)(t,y);var k=a.useRef(null),w=ae(),T=n.placement||"bottom",E="light"===d?"#EBEBED":"#FAFAFA";return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(H.a,{id:"in-app-tutorial-tooltip-displayer",open:j,className:w.popper,anchorEl:t,transition:!0,placement:T,popperOptions:{modifiers:{arrow:{enabled:!0,element:"#arrow-popper"},offset:{enabled:!0,offset:"0,10"}}},style:{zIndex:S(t),maxWidth:300},children:function(e){var t=e.TransitionProps;return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(W.a,Object(s.a)(Object(s.a)({},t),{},{timeout:{enter:350,exit:0},children:Object(x.jsxs)(U.a,{style:Object(s.a)(Object(s.a)({},re.paper),{},{backgroundColor:E}),elevation:4,children:[Object(x.jsxs)(v.a,{noMargin:!0,children:[Object(x.jsx)(ie,{paletteType:d,showFoldButton:!!n.standalone,showQuitButton:o,progress:c,tooltipContent:m?n.title||n.description:void 0,onClickFoldButton:function(){return O(!m)},endTutorial:u}),!m&&Object(x.jsx)(oe,{tooltip:n,buttonLabel:i,goToNextStep:l})]}),Object(x.jsx)("span",{id:"arrow-popper",className:w.arrow,ref:k,style:{color:E}})]})}))})}})})},ce={avatarContainer:{position:"absolute",left:20,bottom:20,zIndex:5,display:"flex",visibility:"hidden",boxShadow:"0px 2px 4px -1px rgb(0 0 0 / 20%), 0px 4px 5px 0px rgb(0 0 0 / 14%), 0px 1px 10px 0px rgb(0 0 0 / 12%)",borderRadius:30},link:{cursor:"pointer"},avatarImage:{cursor:"pointer"}};var ue=function(e){var t=e.step,n=t.elementToHighlightId,a=t.tooltip,i=t.nextStepTrigger,c=t.isOnClosableDialog,l=t.dialog,b=e.expectedEditor,p=e.goToFallbackStep,j=e.endTutorial,h=e.progress,f=e.goToNextStep,g=o.a.useState(null),m=Object(r.a)(g,2),O=m[0],v=m[1],y=o.a.useState(!1),w=Object(r.a)(y,2),E=w[0],S=w[1],P=o.a.useState(null),I=Object(r.a)(P,2),A=I[0],D=I[1],F=o.a.useCallback((function(e){e&&D(e)}),[]),M=o.a.useCallback((function(){n&&v(function(e){var t=document.querySelector(e);if(t instanceof HTMLTextAreaElement){var n=t.closest("div");n instanceof HTMLElement&&Object(k.f)(n)&&(t=n)}else if(t instanceof HTMLInputElement&&"searchBar"in t.dataset){var r=t.closest("div[data-search-bar-container]");r instanceof HTMLElement&&(t=r)}return t}(n))}),[n]);Object(d.a)(M,500);var _=o.a.useCallback((function(){if(O){S(!1);var e=function(e){for(var t=T(e,[]),n=t.length-1;n>=0;n--){var r=t[n];if(Object(k.e)(r))return r}return null}(O);e&&function(e){for(var t=e.nextElementSibling;t;){if(Object(k.e)(t,{isVisible:!0}))return!0;t=t.nextElementSibling}return!1}(e)&&S(!0)}}),[O]);Object(d.a)(_,1e3),o.a.useEffect((function(){v(null),S(!1)}),[n]),o.a.useEffect((function(){if(n&&!O&&!b){var e=setTimeout(p,1e3);return function(){return clearTimeout(e)}}}),[n,O,p,b]);var L=function(){if(!O&&!b||E)return null;if(b){var e=document.querySelector(ve({editor:b.editor,sceneName:b.scene}));return e?Object(x.jsx)(N,{element:e}):null}return O?Object(x.jsx)(N,{element:O}):null},R=function(e){if(a&&!b){var t=a.standalone?A:O||null;return t?Object(x.jsx)(se,{endTutorial:j,showQuitButton:!c,anchorElement:t,tooltip:a,progress:h,goToNextStep:f,buttonLabel:i&&i.clickOnTooltipButton?i.clickOnTooltipButton:void 0}):null}var n=function(e,t){if(!t)return null;var n="Scene"===t.editor?e._({id:"the scene editor"}):"Home"===t.editor?e._({id:"the home page"}):e._({id:"the events sheet"}),r=t.scene?' for scene "'.concat(t.scene,'"'):"";return{title:e._({id:"You're leaving the game tutorial"}),placement:"top",description:e._({id:"Go back to {translatedExpectedEditor}{sceneMention} to keep creating your game.",values:{translatedExpectedEditor:n,sceneMention:r}}),standalone:!0}}(e,b);return n&&A?Object(x.jsx)(se,{endTutorial:j,showQuitButton:!c,anchorElement:A,tooltip:n,progress:h,goToNextStep:f}):null};return Object(x.jsx)(u.I18n,{children:function(e){var t=e.i18n,n=b||a&&a.standalone;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{style:Object(s.a)(Object(s.a)({},ce.avatarContainer),{},{visibility:n?"visible":"hidden"}),ref:F,children:Object(x.jsx)("img",{alt:"GDevelop mascot red hero",src:"res/hero60.png",width:60,height:60,style:ce.avatarImage})}),L(),R(t),l?Object(x.jsx)(C,{dialogContent:l,goToNextStep:f,endTutorial:j}):null]})}})},le=n(54),de=n(689),be="instancesCount:",pe="objectInObjectsList:",je="sceneInProjectManager:",he="objectInObjectOrResourceSelector:",fe="editorTab:",ge=function(e){return e.map((function(t,n){return 0===n?0:e[n-1]+1}))},me=function(e){var t=e.text,n=e.data,r=e.i18n,a=e.project;if(t)return function(e,t,n){var r=e.matchAll(/\$\(([\w:]+)\)/g),a=e;return Object(c.a)(r).forEach((function(e){var r,o=e[0],i=e[1];if(i.startsWith(be)){var s=i.split(":")[1],c=t[s];if(c&&n&&n.getLayoutsCount()>0){var u=n.getLayoutAt(0);r=Object(de.b)(u,c).toString()}}!r&&Object.keys(t).includes(i)&&(r=t[i]),r&&(a=a.replace(o,r))})),a}(t.messageByLocale?Object(m.b)(r,t.messageByLocale):r._(t.messageDescriptor,n),n,a)},Oe=function(e,t){return e?Object(s.a)(Object(s.a)({},e),{},{scene:e.scene?t[e.scene]:void 0}):null},ve=function(e){var t=e.editor,n=e.sceneName;if("Home"===t)return'button[id="tab-start-page-button"]';var r=n?'[data-scene="'.concat(n,'"]'):"";return'button[id^="tab"][data-type="'.concat("Scene"===t?"layout":"layout-events",'"]').concat(r)},xe=function(e,t){if(e.startsWith(fe)){var n=e.split(":"),r=n[1],a=n[2];if(!a)throw new Error('There might be missing a ":" in the element id '.concat(e));return ve({editor:a,sceneName:t[r]})}if(e.startsWith(pe)){var o=e.split(":")[1];return'#scene-editor[data-active] #objects-list div[data-object-name="'.concat(t[o],'"]')}if(e.startsWith(je)){var i=e.split(":")[1];return'div[role="presentation"]:not([aria-hidden=true]) #project-manager [id^="scene-item"][data-scene="'.concat(t[i],'"]')}if(e.startsWith(he)){var s=e.split(":")[1];return'#instruction-or-object-selector div[data-object-name="'.concat(t[s],'"]')}return e},ye=function(e,t){return!!e&&(!(!e.presenceOfElement||!document.querySelector(xe(e.presenceOfElement,t)))||(!(!e.absenceOfElement||document.querySelector(xe(e.absenceOfElement,t)))||!(!e.editorIsActive||!document.querySelector(function(e,t){var n=e.split(":"),a=Object(r.a)(n,2),o=a[0],i=a[1];if(!i)throw new Error('There might be missing a ":" in the trigger '.concat(e));if("Home"===i)return'button[id="tab-start-page-button"][data-active="true"]';var s=o?'[data-scene="'.concat(t[o],'"]'):"";return'button[id^="tab"][data-active="true"][data-type="'.concat("Scene"===i?"layout":"layout-events",'"]').concat(s)}(e.editorIsActive,t)))))},Ce=function(e){return Object(k.g)(e)?Object(k.d)(e):"TEXTAREA"===e.tagName?e.textContent:e.value},ke=a.forwardRef((function(e,t){var n=e.tutorial,o=e.endTutorial,c=e.project,b=e.currentEditor,p=e.currentSceneName,j=e.startStepIndex,h=e.startProjectData,f=Object(A.a)(),g=a.useState(!1),m=Object(r.a)(g,2),O=m[0],v=m[1],y=a.useState(j),k=Object(r.a)(y,2),w=k[0],T=k[1],E=a.useState(null),S=Object(r.a)(E,2),P=S[0],I=S[1],D=a.useState(h),F=Object(r.a)(D,2),M=F[0],_=F[1],L=a.useState(!1),R=Object(r.a)(L,2),N=R[0],B=R[1],U=a.useRef(0),H=a.useState(null),W=Object(r.a)(H,2),z=W[0],V=W[1],G=a.useState(null),Z=Object(r.a)(G,2),Y=Z[0],q=Z[1],X=a.useRef(null),J=a.useState(null),K=Object(r.a)(J,2),Q=K[0],$=K[1],ee=a.useRef(null),te=a.useState(!1),ne=Object(r.a)(te,2),re=ne[0],ae=ne[1],oe=n.flow,ie=n.endDialog,se=n.editorSwitches,ce=n.id,de=oe.length,pe=oe[w],je=a.useCallback((function(e){T(e),Object(le.s)({tutorialId:ce,step:e,isCompleted:e>=de-1})}),[ce,de]);a.useEffect((function(){je(j);for(var e=j;e>=0;e--)if(!n.flow[e].isOnClosableDialog){U.current=e;break}for(var t={editor:"Home"},r=j;r>=0;r--)if(n.flow[r].id&&n.editorSwitches.hasOwnProperty(n.flow[r].id)){t=n.editorSwitches[n.flow[r].id];break}V(t)}),[n,je,j]);var he=a.useCallback((function(e){if(e>=de)B(!0);else{for(var t=e;t<de-1&&oe[t]&&(oe[t].deprecated||oe[t].skippable&&ye(oe[t].nextStepTrigger,M));)t+=1;je(t)}}),[oe,je,de,M]);a.useEffect((function(){for(var e=[],t=0;t<n.flow.length;t++)n.flow[t].isCheckpoint&&e.push(t);e.push(n.flow.length-1),I(e)}),[n.flow]);var fe=a.useCallback((function(){if(!P)return[0];var e=ge(P);return P.map((function(t,n){if(w>=t)return 100;var r=e[n];return w<r?0:Math.floor((w-r)/(t-r)*100)}))}),[w,P]),ve=function(){return{step:w,progress:fe(),projectData:M}},ke=a.useCallback((function(){for(var e=w;oe[e].skippable;)e+=1;for(var t=null,n=e;n>=w;n--){if(ye(oe[n].nextStepTrigger,M)){t=n+1;break}}if(null===t){var a=oe[w].shortcuts;if(!a)return;var o,u=Object(i.a)(a);try{var l=function(){var e=o.value;if(ye(e.trigger,M))return(t=oe.findIndex((function(t){return t.id===e.stepId})))<0?(console.warn("Step with id ".concat(e.stepId," could not be found. Shortcut not taken.")),{v:void 0}):"break"};for(u.s();!(o=u.n()).done;){var d=l();if("break"===d)break;if("object"===typeof d)return d.v}}catch(p){u.e(p)}finally{u.f()}if(null==t)return}var b=function(e){var t=e.flow,n=e.startIndex,a=e.endIndex,o=e.data,i=e.project;if(!i)return o;for(var c=Object(s.a)({},o),u=function(e){var n=t[e].mapProjectData;n&&Object.entries(n).forEach((function(t){var n=Object(r.a)(t,2),a=n[0],s=n[1];if("projectLastSceneName"===s){if(!i)return;if(0===i.getLayoutsCount())throw new Error("No layout was found in project after step ".concat(e," of flow"));c[a]=i.getLayoutAt(i.getLayoutsCount()-1).getName()}else if(s.startsWith("sceneLastObjectName")){if(!i||0===i.getLayoutsCount())return;var u=s.split(":")[1],l=u?o[u]:void 0,d=l&&i.hasLayoutNamed(l)?i.getLayout(l):i.getLayoutAt(0);if(0===d.getObjectsCount())throw new Error("No object was found in layout after step ".concat(e," of flow"));c[a]=d.getObjectAt(d.getObjectsCount()-1).getName()}}))},l=n;l<=a;l++)u(l);return c}({flow:oe,startIndex:w,endIndex:t-1,data:M,project:c});_(b),he(t)}),[w,c,he,M,oe]),we=Object(l.a)(ke,200),Te=a.useCallback((function(){he(w+1)}),[w,he]),Ee=function(e,t){var n=null;Object.entries(M).forEach((function(t){var a=Object(r.a)(t,2),o=a[0];a[1]!==e||(n=o)})),n&&(M[n]=t)};a.useImperativeHandle(t,(function(){return{onPreviewLaunch:Se,getProgress:ve,changeData:Ee}}));var Se=a.useCallback((function(){if(pe){var e=pe.nextStepTrigger;e&&e.previewLaunched&&Te()}}),[Te,pe]);a.useEffect((function(){var e=document.querySelector("body");if(e){var t=new MutationObserver(we);return t.observe(e,{childList:!0,attributes:!1,subtree:!0,characterData:!0}),ee.current=t,function(){ee.current&&(ee.current.disconnect(),ee.current=null)}}}),[we]),a.useEffect((function(){if(pe){var e=pe.id,t=pe.isOnClosableDialog;e&&se.hasOwnProperty(e)&&V(se[e]),t||(U.current=w),q(null),$(null),ae(!1),w>=de&&B(!0)}}),[pe,w,de,se]),a.useEffect((function(){if(pe){var e=pe.nextStepTrigger,t=pe.elementToHighlightId;if(e&&e.valueHasChanged){if(!t)return;var n=document.querySelector(t);n&&(X.current=Ce(n)),q(t)}else if(e&&e.instanceAddedOnScene){var a=e.instanceAddedOnScene.split(":"),o=Object(r.a)(a,2),i=o[0],s=o[1],c=M[i];if(!c)return;var u=s?M[s]:void 0;$({objectName:c,sceneName:u})}}}),[pe,M]),a.useEffect((function(){if(pe){var e=pe.tooltip;e&&[e.description,e.title].some((function(e){return!!(t=e)&&(t.messageByLocale?Object.values(t.messageByLocale).some((function(e){return e.includes("$(".concat(be))})):"string"===typeof t.messageDescriptor&&t.messageDescriptor.includes("$(".concat(be))||"object"===typeof t.messageDescriptor&&Object.values(t.messageDescriptor).some((function(e){return"string"===typeof e&&e.includes("$(".concat(be))})));var t}))&&ae(!0)}}),[pe]);var Pe=a.useCallback((function(){if(Y){var e=document.querySelector(Y);e&&Ce(e)!==X.current&&Te()}}),[Te,Y]),Ie=a.useCallback((function(){if(Q&&c&&0!==c.getLayoutsCount()){var e=Q.objectName,t=Q.sceneName;(t&&c.hasLayoutNamed(t)?c.getLayout(t):c.getLayoutAt(0)).getInitialInstances().hasInstancesOfObject(e)&&Te()}}),[c,Te,Q]);Object(d.a)(f,re?500:null),Object(d.a)(Pe,Y?1e3:null),Object(d.a)(Ie,Q?500:null),Object(d.a)(ke,pe&&pe.isTriggerFlickering?500:null);var Ae=function(e){if(!pe)return null;var t,n,r=pe.tooltip;if(r){var a=me({text:r.title,data:M,i18n:e,project:c}),i=me({text:r.description,data:M,i18n:e,project:c});t=Object(s.a)(Object(s.a)({},r),{},{title:a,description:i})}var u=pe.nextStepTrigger;if(u&&u.clickOnTooltipButton){var l=me({text:u.clickOnTooltipButton,data:M,i18n:e,project:c});n=l?{clickOnTooltipButton:l}:void 0}var d=Object(s.a)(Object(s.a)({},pe),{},{tooltip:t,nextStepTrigger:n});pe.elementToHighlightId&&(d.elementToHighlightId=xe(pe.elementToHighlightId,M));var b=0;if(P){var p=ge(P);b=P.map((function(e,t){return w<=e&&w>=p[t]})).indexOf(!0)}return Object(x.jsx)(ue,{step:d,expectedEditor:O?Oe(z,M):null,goToFallbackStep:function(){je(U.current)},endTutorial:function(){return o(!0)},progress:fe()[b],goToNextStep:Te})},De=Object(l.a)((function(){v(!!z&&(z.editor!==b||!!z.scene&&M[z.scene]!==p))}),O?0:1e3);return a.useEffect((function(){De()}),[De,b,p]),Object(x.jsx)(u.I18n,{children:function(e){var t=e.i18n;return Object(x.jsxs)(x.Fragment,{children:[Ae(t),N&&Object(x.jsx)(C,{isLastStep:!0,dialogContent:ie,endTutorial:function(){B(!1),o(!1)}})]})}})})),we=n(811);t.a=function(e){var t=e.editorTabs,n=a.useState(null),o=Object(r.a)(n,2),i=o[0],s=o[1],c=a.useState(null),u=Object(r.a)(c,2),l=u[0],d=u[1];return a.useEffect((function(){var e=Object(we.j)(t);if(e){var n=e.key.startsWith("start page")?"Home":e.key.startsWith("layout event")?"EventsSheet":e.key.startsWith("external events")?"ExternalEvents":e.key.startsWith("external layout")?"ExternalLayout":e.key.startsWith("events functions extension")?"Extension":e.key.startsWith("resources")?"Resources":"Scene";s(n),e.key.startsWith("layout")&&e.projectItemName&&d(e.projectItemName)}else s(null)}),[t]),{InAppTutorialOrchestrator:ke,orchestratorProps:{currentEditor:i,currentSceneName:l}}}},function(e,t,n){"use strict";var r=n(19),a=n(17),o=n.n(a),i=n(500),s=n(826),c=n(310),u=n(350),l=n(434),d=function(e){return Object(l.a)("OPEN_OBJECTS_PANEL",!0,{handler:e.openObjectsList}),Object(l.a)("OPEN_OBJECT_GROUPS_PANEL",!0,{handler:e.openObjectGroupsList}),Object(l.a)("OPEN_PROPERTIES_PANEL",!0,{handler:e.openPropertiesPanel}),Object(l.a)("TOGGLE_INSTANCES_PANEL",!0,{handler:e.toggleInstancesList}),Object(l.a)("TOGGLE_LAYERS_PANEL",!0,{handler:e.toggleLayersList}),Object(l.a)("SCENE_EDITOR_UNDO",e.canUndo,{handler:e.undo}),Object(l.a)("SCENE_EDITOR_REDO",e.canRedo,{handler:e.redo}),Object(l.a)("DELETE_INSTANCES",e.canDeleteSelection,{handler:e.deleteSelection}),Object(l.a)("TOGGLE_WINDOW_MASK",!0,{handler:e.toggleWindowMask}),Object(l.a)("TOGGLE_GRID",!0,{handler:e.toggleGrid}),Object(l.a)("OPEN_SETUP_GRID",!0,{handler:e.setupGrid}),Object(l.a)("RENAME_SCENE_OBJECT",e.canRenameObject,{handler:e.onRenameObject}),null},b=(n(692),n(3)),p=n(905),j=n(8),h=o.a.memo((function(e){return Object(j.jsxs)(p.a,Object(b.a)(Object(b.a)({},e),{},{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[Object(j.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.6932 4.06562C11.8883 3.97813 12.1116 3.97813 12.3067 4.06562L19.5567 7.31562C19.8264 7.4365 19.9999 7.70448 19.9999 8C19.9999 8.29552 19.8264 8.5635 19.5567 8.68438L12.3067 11.9344C12.1116 12.0219 11.8883 12.0219 11.6932 11.9344L4.44315 8.68438C4.17348 8.5635 3.99994 8.29552 3.99994 8C3.99994 7.70448 4.17348 7.4365 4.44315 7.31562L11.6932 4.06562ZM6.58343 8L11.9999 10.4281L17.4165 8L11.9999 5.57191L6.58343 8Z",fill:"currentColor"}),Object(j.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.06556 15.6932C4.235 15.3152 4.67876 15.1462 5.05673 15.3156L11.9999 18.4281L18.9432 15.3156C19.3211 15.1462 19.7649 15.3152 19.9343 15.6932C20.1038 16.0712 19.9347 16.5149 19.5567 16.6844L12.3067 19.9344C12.1116 20.0219 11.8883 20.0219 11.6932 19.9344L4.44315 16.6844C4.06518 16.5149 3.89612 16.0712 4.06556 15.6932Z",fill:"currentColor"}),Object(j.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.2499 7.25C19.6642 7.25 19.9999 7.58579 19.9999 8V16C19.9999 16.4142 19.6642 16.75 19.2499 16.75C18.8357 16.75 18.4999 16.4142 18.4999 16V8C18.4999 7.58579 18.8357 7.25 19.2499 7.25Z",fill:"currentColor"}),Object(j.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.74994 7.25C5.16416 7.25 5.49994 7.58579 5.49994 8V16C5.49994 16.4142 5.16416 16.75 4.74994 16.75C4.33573 16.75 3.99994 16.4142 3.99994 16V8C3.99994 7.58579 4.33573 7.25 4.74994 7.25Z",fill:"currentColor"}),Object(j.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.9999 10.75C12.4142 10.75 12.7499 11.0858 12.7499 11.5V19C12.7499 19.4142 12.4142 19.75 11.9999 19.75C11.5857 19.75 11.2499 19.4142 11.2499 19V11.5C11.2499 11.0858 11.5857 10.75 11.9999 10.75Z",fill:"currentColor"})]}))})),f=o.a.memo((function(e){return Object(j.jsxs)(p.a,Object(b.a)(Object(b.a)({},e),{},{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[Object(j.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.818 1.86582C12.0132 1.77833 12.2364 1.77833 12.4316 1.86582L17.5566 4.16323C17.8263 4.28412 17.9998 4.55209 17.9998 4.84762C17.9998 5.14314 17.8263 5.41111 17.5566 5.532L12.4316 7.82941C12.2364 7.9169 12.0132 7.9169 11.818 7.82941L6.69303 5.532C6.42336 5.41111 6.24982 5.14314 6.24982 4.84762C6.24982 4.55209 6.42336 4.28412 6.69303 4.16323L11.818 1.86582ZM8.83331 4.84762L12.1248 6.32312L15.4163 4.84762L12.1248 3.37211L8.83331 4.84762Z",fill:"currentColor"}),Object(j.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.31544 10.196C6.48487 9.81802 6.92864 9.64897 7.30661 9.81841L12.1248 11.9783L16.943 9.81841C17.321 9.64897 17.7648 9.81802 17.9342 10.196C18.1036 10.574 17.9346 11.0177 17.5566 11.1872L12.4316 13.4846C12.2364 13.5721 12.0132 13.5721 11.818 13.4846L6.69303 11.1872C6.31505 11.0177 6.146 10.574 6.31544 10.196Z",fill:"currentColor"}),Object(j.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.2498 4.09762C17.664 4.09762 17.9998 4.4334 17.9998 4.84762L17.9998 10.5028C17.9998 10.917 17.664 11.2528 17.2498 11.2528C16.8356 11.2528 16.4998 10.917 16.4998 10.5028V4.84762C16.4998 4.4334 16.8356 4.09762 17.2498 4.09762Z",fill:"currentColor"}),Object(j.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.99982 4.09762C7.41403 4.09762 7.74982 4.4334 7.74982 4.84762V10.5028C7.74982 10.917 7.41403 11.2528 6.99982 11.2528C6.58561 11.2528 6.24982 10.917 6.24982 10.5028V4.84762C6.24982 4.4334 6.58561 4.09762 6.99982 4.09762Z",fill:"currentColor"}),Object(j.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.1248 6.57175C12.539 6.57175 12.8748 6.90754 12.8748 7.32175V12.6235C12.8748 13.0377 12.539 13.3735 12.1248 13.3735C11.7106 13.3735 11.3748 13.0377 11.3748 12.6235V7.32175C11.3748 6.90754 11.7106 6.57175 12.1248 6.57175Z",fill:"currentColor"}),Object(j.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.818 9.86582C17.0132 9.77833 17.2364 9.77833 17.4316 9.86582L22.5566 12.1632C22.8263 12.2841 22.9998 12.5521 22.9998 12.8476C22.9998 13.1431 22.8263 13.4111 22.5566 13.532L17.4316 15.8294C17.2364 15.9169 17.0132 15.9169 16.818 15.8294L11.693 13.532C11.4234 13.4111 11.2498 13.1431 11.2498 12.8476C11.2498 12.5521 11.4234 12.2841 11.693 12.1632L16.818 9.86582ZM13.8333 12.8476L17.1248 14.3231L20.4163 12.8476L17.1248 11.3721L13.8333 12.8476Z",fill:"currentColor"}),Object(j.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.3154 18.196C11.4849 17.818 11.9286 17.649 12.3066 17.8184L17.1248 19.9783L21.943 17.8184C22.321 17.649 22.7648 17.818 22.9342 18.196C23.1036 18.574 22.9346 19.0177 22.5566 19.1872L17.4316 21.4846C17.2364 21.5721 17.0132 21.5721 16.818 21.4846L11.693 19.1872C11.3151 19.0177 11.146 18.574 11.3154 18.196Z",fill:"currentColor"}),Object(j.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22.2498 12.0976C22.664 12.0976 22.9998 12.4334 22.9998 12.8476L22.9998 18.5028C22.9998 18.917 22.664 19.2528 22.2498 19.2528C21.8356 19.2528 21.4998 18.917 21.4998 18.5028V12.8476C21.4998 12.4334 21.8356 12.0976 22.2498 12.0976Z",fill:"currentColor"}),Object(j.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.9998 12.0976C12.414 12.0976 12.7498 12.4334 12.7498 12.8476V18.5028C12.7498 18.917 12.414 19.2528 11.9998 19.2528C11.5856 19.2528 11.2498 18.917 11.2498 18.5028V12.8476C11.2498 12.4334 11.5856 12.0976 11.9998 12.0976Z",fill:"currentColor"}),Object(j.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.1248 14.5718C17.539 14.5718 17.8748 14.9075 17.8748 15.3218V20.6235C17.8748 21.0377 17.539 21.3735 17.1248 21.3735C16.7106 21.3735 16.3748 21.0377 16.3748 20.6235V15.3218C16.3748 14.9075 16.7106 14.5718 17.1248 14.5718Z",fill:"currentColor"}),Object(j.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.81803 9.86582C7.0132 9.77833 7.23644 9.77833 7.43161 9.86582L12.5566 12.1632C12.8263 12.2841 12.9998 12.5521 12.9998 12.8476C12.9998 13.1431 12.8263 13.4111 12.5566 13.532L7.43161 15.8294C7.23644 15.9169 7.0132 15.9169 6.81803 15.8294L1.69303 13.532C1.42336 13.4111 1.24982 13.1431 1.24982 12.8476C1.24982 12.5521 1.42336 12.2841 1.69303 12.1632L6.81803 9.86582ZM3.83331 12.8476L7.12482 14.3231L10.4163 12.8476L7.12482 11.3721L3.83331 12.8476Z",fill:"currentColor"}),Object(j.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.31544 18.196C1.48487 17.818 1.92864 17.649 2.30661 17.8184L7.12482 19.9783L11.943 17.8184C12.321 17.649 12.7648 17.818 12.9342 18.196C13.1036 18.574 12.9346 19.0177 12.5566 19.1872L7.43161 21.4846C7.23644 21.5721 7.0132 21.5721 6.81803 21.4846L1.69303 19.1872C1.31505 19.0177 1.146 18.574 1.31544 18.196Z",fill:"currentColor"}),Object(j.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.2498 12.0976C12.664 12.0976 12.9998 12.4334 12.9998 12.8476V18.5028C12.9998 18.917 12.664 19.2528 12.2498 19.2528C11.8356 19.2528 11.4998 18.917 11.4998 18.5028V12.8476C11.4998 12.4334 11.8356 12.0976 12.2498 12.0976Z",fill:"currentColor"}),Object(j.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.99982 12.0976C2.41403 12.0976 2.74982 12.4334 2.74982 12.8476V18.5028C2.74982 18.917 2.41403 19.2528 1.99982 19.2528C1.58561 19.2528 1.24982 18.917 1.24982 18.5028V12.8476C1.24982 12.4334 1.58561 12.0976 1.99982 12.0976Z",fill:"currentColor"}),Object(j.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.12482 14.5718C7.53903 14.5718 7.87482 14.9075 7.87482 15.3218V20.6235C7.87482 21.0377 7.53903 21.3735 7.12482 21.3735C6.71061 21.3735 6.37482 21.0377 6.37482 20.6235V15.3218C6.37482 14.9075 6.71061 14.5718 7.12482 14.5718Z",fill:"currentColor"})]}))})),g=n(1233),m=o.a.memo((function(e){return Object(j.jsxs)(p.a,Object(b.a)(Object(b.a)({},e),{},{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[Object(j.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.96967 8.46967C5.26256 8.17678 5.73744 8.17678 6.03033 8.46967L8.53033 10.9697C8.82322 11.2626 8.82322 11.7374 8.53033 12.0303L6.03033 14.5303C5.73744 14.8232 5.26256 14.8232 4.96967 14.5303L2.46967 12.0303C2.17678 11.7374 2.17678 11.2626 2.46967 10.9697L4.96967 8.46967ZM4.06066 11.5L5.5 12.9393L6.93934 11.5L5.5 10.0607L4.06066 11.5Z",fill:"currentColor"}),Object(j.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.75 7C21.75 7.41421 21.4142 7.75 21 7.75H12C11.5858 7.75 11.25 7.41421 11.25 7C11.25 6.58579 11.5858 6.25 12 6.25H21C21.4142 6.25 21.75 6.58579 21.75 7Z",fill:"currentColor"}),Object(j.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.75 17C21.75 17.4142 21.4142 17.75 21 17.75H12C11.5858 17.75 11.25 17.4142 11.25 17C11.25 16.5858 11.5858 16.25 12 16.25H21C21.4142 16.25 21.75 16.5858 21.75 17Z",fill:"currentColor"}),Object(j.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.75 12C21.75 12.4142 21.4142 12.75 21 12.75H12C11.5858 12.75 11.25 12.4142 11.25 12C11.25 11.5858 11.5858 11.25 12 11.25H21C21.4142 11.25 21.75 11.5858 21.75 12Z",fill:"currentColor"})]}))})),O=o.a.memo((function(e){return Object(j.jsxs)(p.a,Object(b.a)(Object(b.a)({},e),{},{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[Object(j.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.6646 3.32918C11.8758 3.22361 12.1243 3.22361 12.3355 3.32918L20.3355 7.32918C20.5895 7.45622 20.75 7.71592 20.75 8C20.75 8.28408 20.5895 8.54378 20.3355 8.67082L12.3355 12.6708C12.1243 12.7764 11.8758 12.7764 11.6646 12.6708L3.66463 8.67082C3.41054 8.54378 3.25004 8.28408 3.25004 8C3.25004 7.71592 3.41054 7.45622 3.66463 7.32918L11.6646 3.32918ZM5.67709 8L12 11.1615L18.323 8L12 4.83853L5.67709 8Z",fill:"currentColor"}),Object(j.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.32922 15.6646C3.51446 15.2941 3.96497 15.1439 4.33545 15.3292L12 19.1615L19.6646 15.3292C20.0351 15.1439 20.4856 15.2941 20.6709 15.6646C20.8561 16.0351 20.7059 16.4856 20.3355 16.6708L12.3355 20.6708C12.1243 20.7764 11.8758 20.7764 11.6646 20.6708L3.66463 16.6708C3.29415 16.4856 3.14398 16.0351 3.32922 15.6646Z",fill:"currentColor"}),Object(j.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.32922 11.6646C3.51446 11.2941 3.96497 11.1439 4.33545 11.3292L12 15.1615L19.6646 11.3292C20.0351 11.1439 20.4856 11.2941 20.6709 11.6646C20.8561 12.0351 20.7059 12.4856 20.3355 12.6708L12.3355 16.6708C12.1243 16.7764 11.8758 16.7764 11.6646 16.6708L3.66463 12.6708C3.29415 12.4856 3.14398 12.0351 3.32922 11.6646Z",fill:"currentColor"})]}))})),v=n(1151),x=n(1152),y=n(827),C=o.a.memo((function(e){return Object(j.jsxs)(p.a,Object(b.a)(Object(b.a)({},e),{},{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[Object(j.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 3.25C8.41421 3.25 8.75 3.58579 8.75 4V20C8.75 20.4142 8.41421 20.75 8 20.75C7.58579 20.75 7.25 20.4142 7.25 20V4C7.25 3.58579 7.58579 3.25 8 3.25Z",fill:"currentColor"}),Object(j.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 3.25C16.4142 3.25 16.75 3.58579 16.75 4V20C16.75 20.4142 16.4142 20.75 16 20.75C15.5858 20.75 15.25 20.4142 15.25 20V4C15.25 3.58579 15.5858 3.25 16 3.25Z",fill:"currentColor"}),Object(j.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.75 8C20.75 8.41421 20.4142 8.75 20 8.75L4 8.75C3.58579 8.75 3.25 8.41421 3.25 8C3.25 7.58579 3.58579 7.25 4 7.25L20 7.25C20.4142 7.25 20.75 7.58579 20.75 8Z",fill:"currentColor"}),Object(j.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.75 16C20.75 16.4142 20.4142 16.75 20 16.75L4 16.75C3.58579 16.75 3.25 16.4142 3.25 16C3.25 15.5858 3.58579 15.25 4 15.25L20 15.25C20.4142 15.25 20.75 15.5858 20.75 16Z",fill:"currentColor"})]}))})),k=o.a.memo((function(e){return Object(j.jsxs)(p.a,Object(b.a)(Object(b.a)({},e),{},{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[Object(j.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 5.5C7.96243 5.5 5.5 7.96243 5.5 11C5.5 14.0376 7.96243 16.5 11 16.5C14.0376 16.5 16.5 14.0376 16.5 11C16.5 7.96243 14.0376 5.5 11 5.5ZM4 11C4 7.13401 7.13401 4 11 4C14.866 4 18 7.13401 18 11C18 14.866 14.866 18 11 18C7.13401 18 4 14.866 4 11Z",fill:"currentColor"}),Object(j.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.9697 14.9697C15.2626 14.6768 15.7374 14.6768 16.0303 14.9697L19.7803 18.7197C20.0732 19.0126 20.0732 19.4874 19.7803 19.7803C19.4874 20.0732 19.0126 20.0732 18.7197 19.7803L14.9697 16.0303C14.6768 15.7374 14.6768 15.2626 14.9697 14.9697Z",fill:"currentColor"}),Object(j.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 8C11.4142 8 11.75 8.33579 11.75 8.75V13.25C11.75 13.6642 11.4142 14 11 14C10.5858 14 10.25 13.6642 10.25 13.25V8.75C10.25 8.33579 10.5858 8 11 8Z",fill:"currentColor"}),Object(j.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 11C8 10.5858 8.33579 10.25 8.75 10.25H13.25C13.6642 10.25 14 10.5858 14 11C14 11.4142 13.6642 11.75 13.25 11.75H8.75C8.33579 11.75 8 11.4142 8 11Z",fill:"currentColor"})]}))})),w=n(673);t.a=function(e){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(d,{openObjectsList:e.openObjectsList,openObjectGroupsList:e.openObjectGroupsList,openPropertiesPanel:e.openProperties,toggleInstancesList:e.toggleInstancesList,toggleLayersList:e.toggleLayersList,undo:e.undo,canUndo:e.canUndo,redo:e.redo,canRedo:e.canRedo,deleteSelection:e.deleteSelection,toggleWindowMask:e.toggleWindowMask,toggleGrid:e.toggleGrid,setupGrid:e.openSetupGrid,canDeleteSelection:0!==e.instancesSelection.getSelectedInstances().length,canRenameObject:e.canRenameObject,onRenameObject:e.onRenameObject}),Object(j.jsxs)(i.b,{lastChild:!0,children:[Object(j.jsx)(c.a,{size:"small",color:"default",id:"toolbar-open-objects-panel-button",onClick:e.openObjectsList,tooltip:{id:"Open Objects Panel"},children:Object(j.jsx)(h,{})}),Object(j.jsx)(c.a,{size:"small",color:"default",id:"toolbar-open-object-groups-panel-button",onClick:e.openObjectGroupsList,tooltip:{id:"Open Object Groups Panel"},children:Object(j.jsx)(f,{})}),Object(j.jsx)(c.a,{size:"small",color:"default",id:"toolbar-open-properties-panel-button",onClick:e.openProperties,tooltip:{id:"Open Properties Panel"},children:Object(j.jsx)(g.a,{})}),Object(j.jsx)(c.a,{size:"small",color:"default",id:"toolbar-open-instances-list-panel-button",onClick:e.toggleInstancesList,tooltip:{id:"Open Instances List Panel"},children:Object(j.jsx)(m,{})}),Object(j.jsx)(c.a,{size:"small",color:"default",id:"toolbar-open-layers-panel-button",onClick:e.toggleLayersList,tooltip:{id:"Open Layers Panel"},children:Object(j.jsx)(O,{})}),Object(j.jsx)(u.a,{element:Object(j.jsx)(c.a,{size:"small",color:"default",tooltip:{id:"Toggle/edit grid"},children:Object(j.jsx)(C,{})}),buildMenuTemplate:function(t){return[{type:"checkbox",label:t._({id:"Show Mask"}),checked:e.isWindowMaskShown(),click:function(){return e.toggleWindowMask()}},{type:"checkbox",label:t._({id:"Show grid"}),checked:e.isGridShown(),click:function(){return e.toggleGrid()}},{type:"separator"},{label:t._({id:"Setup grid"}),click:function(){return e.openSetupGrid()}}]}}),Object(j.jsx)(s.a,{}),Object(j.jsx)(c.a,{size:"small",color:"default",onClick:e.undo,disabled:!e.canUndo,tooltip:{id:"Undo the last changes"},children:Object(j.jsx)(v.a,{})}),Object(j.jsx)(c.a,{size:"small",color:"default",onClick:e.redo,disabled:!e.canRedo,tooltip:{id:"Redo the last changes"},children:Object(j.jsx)(x.a,{})}),Object(j.jsx)(u.a,{element:Object(j.jsx)(c.a,{size:"small",color:"default",tooltip:{id:"Change editor zoom"},children:Object(j.jsx)(k,{})}),buildMenuTemplate:function(t){return[].concat(Object(r.a)(e.getContextMenuZoomItems(t)),[{type:"separator"},{label:"5%",click:function(){return e.setZoomFactor(.05)}},{label:"10%",click:function(){return e.setZoomFactor(.1)}},{label:"25%",click:function(){return e.setZoomFactor(.25)}},{label:"50%",click:function(){return e.setZoomFactor(.5)}},{label:"100%",click:function(){return e.setZoomFactor(1)}},{label:"150%",click:function(){return e.setZoomFactor(1.5)}},{label:"200%",click:function(){return e.setZoomFactor(2)}},{label:"400%",click:function(){return e.setZoomFactor(4)}}])}}),Object(j.jsx)(c.a,{size:"small",color:"default",onClick:e.deleteSelection,disabled:!e.instancesSelection.getSelectedInstances().length,tooltip:{id:"Delete the selected instances from the scene"},children:Object(j.jsx)(y.a,{})}),e.onOpenSettings&&Object(j.jsx)(s.a,{}),e.onOpenSettings&&Object(j.jsx)(c.a,{size:"small",color:"default",onClick:e.onOpenSettings,tooltip:{id:"Open settings"},children:e.settingsIcon||Object(j.jsx)(w.a,{})})]})]})}},function(e,t,n){"use strict";var r=n(17),a=n.n(r),o=n(500),i=n(826),s=n(310),c=n(350),u=n(434),l=function(e){var t=e.onAddEvent;return Object(u.a)("ADD_STANDARD_EVENT",!0,{handler:e.onAddStandardEvent}),Object(u.a)("ADD_SUBEVENT",e.canAddSubEvent,{handler:e.onAddSubEvent}),Object(u.a)("ADD_COMMENT_EVENT",!0,{handler:e.onAddCommentEvent}),Object(u.a)("TOGGLE_EVENT_DISABLED",e.canToggleEventDisabled,{handler:e.onToggleDisabledEvent}),Object(u.a)("TOGGLE_CONDITION_INVERTED",e.canToggleInstructionInverted,{handler:e.onToggleInvertedCondition}),Object(u.b)("CHOOSE_AND_ADD_EVENT",!0,{generateOptions:r.useCallback((function(){return e.allEventsMetadata.map((function(e){return{text:e.fullName,handler:function(){t(e.type)}}}))}),[e.allEventsMetadata,t])}),Object(u.a)("DELETE_SELECTION",e.canRemove,{handler:e.onRemove}),Object(u.a)("EVENTS_EDITOR_UNDO",e.canUndo,{handler:e.undo}),Object(u.a)("EVENTS_EDITOR_REDO",e.canRedo,{handler:e.redo}),Object(u.a)("SEARCH_EVENTS",!0,{handler:e.onToggleSearchPanel}),Object(u.a)("OPEN_EXTENSION_SETTINGS",!!e.onOpenSettings,{handler:e.onOpenSettings||function(){}}),null},d=n(3),b=n(905),p=n(8),j=a.a.memo((function(e){return Object(p.jsxs)(b.a,Object(d.a)(Object(d.a)({},e),{},{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[Object(p.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.86269 16.5425V16.5425L2.86268 13.9464C2.86272 12.9799 3.64619 12.1964 4.61266 12.1964H8.99999C9.4142 12.1964 9.74999 12.5322 9.74999 12.9464C9.74999 13.3606 9.4142 13.6964 8.99999 13.6964H4.61271V13.6964C4.47466 13.6964 4.3627 13.8083 4.36268 13.9464V13.9464L4.36269 16.5426C4.36269 16.6806 4.47462 16.7926 4.61266 16.7926L8 16.7926C8.41422 16.7926 8.75 17.1283 8.75 17.5426C8.75 17.9568 8.41422 18.2926 8 18.2926L4.61271 18.2926V18.2926C3.64623 18.2926 2.86268 17.509 2.86269 16.5425Z",fill:"currentColor"}),Object(p.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.6127 9.34224C3.6462 9.34228 2.86265 8.55873 2.86268 7.59222L2.86267 4.99606C2.86271 4.02959 3.64618 3.24608 4.61265 3.24605L16.7304 3.24605C16.7355 3.24576 16.741 3.24545 16.747 3.24515C16.7751 3.24371 16.8131 3.24223 16.8596 3.24151C16.9524 3.24005 17.0808 3.24156 17.2332 3.25267C17.5335 3.27457 17.9502 3.33538 18.3792 3.49966C18.8104 3.66478 19.2795 3.94472 19.64 4.41799C20.0062 4.89887 20.2171 5.52306 20.2171 6.29597C20.2171 7.06887 20.0062 7.69299 19.6398 8.17368C19.2791 8.64675 18.8097 8.92619 18.3784 9.09077C17.9493 9.25452 17.5325 9.31477 17.2322 9.33627C17.0797 9.34718 16.9514 9.34851 16.8586 9.34693C16.8121 9.34614 16.7741 9.34462 16.746 9.34314C16.7402 9.34284 16.7349 9.34254 16.7299 9.34225L4.6127 9.34224ZM16.8163 7.84477C16.7958 7.84309 16.7753 7.84225 16.7548 7.84225L4.61268 7.84224C4.47464 7.84225 4.36268 7.73032 4.36269 7.59228L4.36267 4.99608C4.36268 4.85801 4.47461 4.74607 4.61268 4.74605V4.74605L16.7548 4.74605C16.7751 4.74605 16.7953 4.74523 16.8155 4.74359L16.8128 4.74381L16.8235 4.74319C16.8352 4.7426 16.8555 4.74176 16.8831 4.74132C16.9386 4.74045 17.0222 4.74127 17.1241 4.7487C17.3323 4.76388 17.5937 4.80508 17.8428 4.90046C18.0896 4.99501 18.2986 5.13239 18.4467 5.32685C18.589 5.51369 18.7171 5.80762 18.7171 6.29597C18.7171 6.78434 18.589 7.07788 18.4469 7.26423C18.299 7.4582 18.0903 7.59518 17.8436 7.68934C17.5946 7.78435 17.3333 7.82519 17.1251 7.8401C17.0232 7.84739 16.9396 7.84809 16.8841 7.84715C16.8565 7.84668 16.8362 7.84581 16.8245 7.8452L16.8138 7.84457V7.84457M16.8138 7.84457L16.8163 7.84477Z",fill:"currentColor"}),Object(p.jsx)("path",{d:"M13 16.75C13 16.3358 13.3358 16 13.75 16H15V14.75C15 14.3358 15.3358 14 15.75 14C16.1642 14 16.5 14.3358 16.5 14.75V16H17.75C18.1642 16 18.5 16.3358 18.5 16.75C18.5 17.1642 18.1642 17.5 17.75 17.5H16.5V18.75C16.5 19.1642 16.1642 19.5 15.75 19.5C15.3358 19.5 15 19.1642 15 18.75V17.5H13.75C13.3358 17.5 13 17.1642 13 16.75Z",fill:"currentColor"}),Object(p.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 16.75C10 13.5744 12.5744 11 15.75 11C18.9257 11 21.5 13.5744 21.5 16.75C21.5 19.9257 18.9257 22.5 15.75 22.5C12.5744 22.5 10 19.9257 10 16.75ZM15.75 12.5C13.4028 12.5 11.5 14.4028 11.5 16.75C11.5 19.0972 13.4028 21 15.75 21C18.0972 21 20 19.0972 20 16.75C20 14.4028 18.0972 12.5 15.75 12.5Z",fill:"currentColor"})]}))})),h=a.a.memo((function(e){return Object(p.jsxs)(b.a,Object(d.a)(Object(d.a)({},e),{},{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[Object(p.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.86268 16.5425V16.5425L6.86267 13.9464C6.86271 12.9799 7.64618 12.1964 8.61265 12.1964H9.99998C10.4142 12.1964 10.75 12.5321 10.75 12.9464C10.75 13.3606 10.4142 13.6964 9.99998 13.6964H8.6127V13.6964C8.47465 13.6964 8.36269 13.8083 8.36267 13.9464V13.9464L8.36268 16.5426C8.36268 16.6806 8.47461 16.7926 8.61265 16.7926H8.99999C9.41421 16.7926 9.74999 17.1283 9.74999 17.5426C9.74999 17.9568 9.4142 18.2926 8.99999 18.2926H8.6127V18.2926C7.64622 18.2926 6.86267 17.509 6.86268 16.5425Z",fill:"currentColor"}),Object(p.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.6127 9.34224C4.6462 9.34228 3.86265 8.55873 3.86268 7.59222L3.86267 4.99606C3.86271 4.02959 4.64618 3.24608 5.61265 3.24605L17.7304 3.24605C17.7355 3.24576 17.741 3.24545 17.747 3.24515C17.7751 3.24371 17.8131 3.24223 17.8596 3.24151C17.9524 3.24005 18.0808 3.24156 18.2332 3.25267C18.5335 3.27457 18.9502 3.33538 19.3792 3.49966C19.8104 3.66478 20.2795 3.94472 20.64 4.41799C21.0062 4.89887 21.2171 5.52306 21.2171 6.29597C21.2171 7.06887 21.0062 7.69299 20.6398 8.17368C20.2791 8.64675 19.8097 8.92619 19.3784 9.09077C18.9493 9.25452 18.5325 9.31477 18.2322 9.33627C18.0797 9.34718 17.9514 9.34851 17.8586 9.34693C17.8121 9.34614 17.7741 9.34462 17.746 9.34314C17.7402 9.34284 17.7349 9.34254 17.7299 9.34225L5.6127 9.34224ZM17.8163 7.84477C17.7958 7.84309 17.7753 7.84225 17.7548 7.84225L5.61268 7.84224C5.47464 7.84225 5.36268 7.73032 5.36269 7.59228L5.36267 4.99608C5.36268 4.85801 5.47461 4.74607 5.61268 4.74605V4.74605L17.7548 4.74605C17.7751 4.74605 17.7953 4.74523 17.8155 4.74359L17.8128 4.74381L17.8235 4.74319C17.8352 4.7426 17.8555 4.74176 17.8831 4.74132C17.9386 4.74045 18.0222 4.74127 18.1241 4.7487C18.3323 4.76388 18.5937 4.80508 18.8428 4.90046C19.0896 4.99501 19.2986 5.13239 19.4467 5.32685C19.589 5.51369 19.7171 5.80762 19.7171 6.29597C19.7171 6.78434 19.589 7.07788 19.4469 7.26423C19.299 7.4582 19.0903 7.59518 18.8436 7.68934C18.5946 7.78435 18.3333 7.82519 18.1251 7.8401C18.0232 7.84739 17.9396 7.84809 17.8841 7.84715C17.8565 7.84668 17.8362 7.84581 17.8245 7.8452L17.8138 7.84457V7.84457M17.8138 7.84457L17.8163 7.84477Z",fill:"currentColor"}),Object(p.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.75 12.5C14.4028 12.5 12.5 14.4028 12.5 16.75C12.5 19.0972 14.4028 21 16.75 21C19.0972 21 21 19.0972 21 16.75C21 14.4028 19.0972 12.5 16.75 12.5ZM11 16.75C11 13.5744 13.5744 11 16.75 11C19.9257 11 22.5 13.5744 22.5 16.75C22.5 19.9257 19.9257 22.5 16.75 22.5C13.5744 22.5 11 19.9257 11 16.75Z",fill:"currentColor"}),Object(p.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 16.75C14 16.3358 14.3358 16 14.75 16H18.75C19.1642 16 19.5 16.3358 19.5 16.75C19.5 17.1642 19.1642 17.5 18.75 17.5H14.75C14.3358 17.5 14 17.1642 14 16.75Z",fill:"currentColor"}),Object(p.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.75 14C17.1642 14 17.5 14.3358 17.5 14.75V18.75C17.5 19.1642 17.1642 19.5 16.75 19.5C16.3358 19.5 16 19.1642 16 18.75V14.75C16 14.3358 16.3358 14 16.75 14Z",fill:"currentColor"})]}))})),f=a.a.memo((function(e){return Object(p.jsxs)(b.a,Object(d.a)(Object(d.a)({},e),{},{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[Object(p.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.75 5.5C6.05964 5.5 5.5 6.05964 5.5 6.75V14.25C5.5 14.9404 6.05964 15.5 6.75 15.5H9.375C9.59127 15.5 9.79702 15.5934 9.93943 15.7561L12 18.1111L14.0606 15.7561C14.203 15.5934 14.4087 15.5 14.625 15.5H17.25C17.9404 15.5 18.5 14.9404 18.5 14.25V6.75C18.5 6.05964 17.9404 5.5 17.25 5.5H6.75ZM4 6.75C4 5.23122 5.23122 4 6.75 4H17.25C18.7688 4 20 5.23122 20 6.75V14.25C20 15.7688 18.7688 17 17.25 17H14.9653L12.5644 19.7439C12.422 19.9066 12.2163 20 12 20C11.7837 20 11.578 19.9066 11.4356 19.7439L9.03467 17H6.75C5.23122 17 4 15.7688 4 14.25V6.75Z",fill:"currentColor"}),Object(p.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 11C8 10.4478 8.44769 10 9 10C9.55231 10 10 10.4478 10 11C10 11.5522 9.55231 12 9 12C8.44769 12 8 11.5522 8 11Z",fill:"currentColor"}),Object(p.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 11C11 10.4478 11.4478 10 12 10C12.5522 10 13 10.4478 13 11C13 11.5522 12.5522 12 12 12C11.4478 12 11 11.5522 11 11Z",fill:"currentColor"}),Object(p.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 11C14 10.4478 14.4478 10 15 10C15.5522 10 16 10.4478 16 11C16 11.5522 15.5522 12 15 12C14.4478 12 14 11.5522 14 11Z",fill:"currentColor"})]}))})),g=a.a.memo((function(e){return Object(p.jsxs)(b.a,Object(d.a)(Object(d.a)({},e),{},{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[Object(p.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 5.5C8.41015 5.5 5.5 8.41015 5.5 12C5.5 15.5899 8.41015 18.5 12 18.5C15.5899 18.5 18.5 15.5899 18.5 12C18.5 8.41015 15.5899 5.5 12 5.5ZM4 12C4 7.58173 7.58173 4 12 4C16.4183 4 20 7.58173 20 12C20 16.4183 16.4183 20 12 20C7.58173 20 4 16.4183 4 12Z",fill:"currentColor"}),Object(p.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 8.00003C12.4142 8.00003 12.75 8.33582 12.75 8.75003V15.25C12.75 15.6642 12.4142 16 12 16C11.5858 16 11.25 15.6642 11.25 15.25V8.75003C11.25 8.33582 11.5858 8.00003 12 8.00003Z",fill:"currentColor"}),Object(p.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 12C8 11.5858 8.33579 11.25 8.75 11.25H15.25C15.6642 11.25 16 11.5858 16 12C16 12.4142 15.6642 12.75 15.25 12.75H8.75C8.33579 12.75 8 12.4142 8 12Z",fill:"currentColor"})]}))})),m=n(827),O=n(1151),v=n(1152),x=a.a.memo((function(e){return Object(p.jsxs)(b.a,Object(d.a)(Object(d.a)({},e),{},{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[Object(p.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 5.5C7.96243 5.5 5.5 7.96243 5.5 11C5.5 14.0376 7.96243 16.5 11 16.5C14.0376 16.5 16.5 14.0376 16.5 11C16.5 7.96243 14.0376 5.5 11 5.5ZM4 11C4 7.13401 7.13401 4 11 4C14.866 4 18 7.13401 18 11C18 14.866 14.866 18 11 18C7.13401 18 4 14.866 4 11Z",fill:"currentColor"}),Object(p.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.9697 14.9697C15.2626 14.6768 15.7374 14.6768 16.0303 14.9697L19.7803 18.7197C20.0732 19.0126 20.0732 19.4874 19.7803 19.7803C19.4874 20.0732 19.0126 20.0732 18.7197 19.7803L14.9697 16.0303C14.6768 15.7374 14.6768 15.2626 14.9697 14.9697Z",fill:"currentColor"})]}))})),y=n(673);t.a=function(e){var t=e.onAddStandardEvent,n=e.onAddSubEvent,r=e.canAddSubEvent,a=e.onAddCommentEvent,u=e.allEventsMetadata,d=e.onAddEvent,b=e.onToggleInvertedCondition,C=e.onToggleDisabledEvent,k=e.canToggleEventDisabled,w=e.canToggleInstructionInverted,T=e.onRemove,E=e.canRemove,S=e.undo,P=e.canUndo,I=e.redo,A=e.canRedo,D=e.onToggleSearchPanel,F=e.onOpenSettings,M=e.settingsIcon;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(l,{onAddCommentEvent:a,onAddSubEvent:n,canAddSubEvent:r,onAddStandardEvent:t,onAddEvent:d,allEventsMetadata:u,onToggleInvertedCondition:b,onToggleDisabledEvent:C,canToggleEventDisabled:k,canToggleInstructionInverted:w,onRemove:T,canRemove:E,undo:S,canUndo:P,redo:I,canRedo:A,onToggleSearchPanel:D,onOpenSettings:F}),Object(p.jsxs)(o.b,{lastChild:!0,children:[Object(p.jsx)(s.a,{size:"small",color:"default",onClick:t,id:"toolbar-add-event-button",tooltip:{id:"Add a new empty event"},children:Object(p.jsx)(j,{})}),Object(p.jsx)(s.a,{size:"small",color:"default",onClick:n,disabled:!r,id:"toolbar-add-sub-event-button",tooltip:{id:"Add a sub-event to the selected event"},children:Object(p.jsx)(h,{})}),Object(p.jsx)(s.a,{size:"small",color:"default",onClick:a,id:"toolbar-add-comment-button",tooltip:{id:"Add a comment"},children:Object(p.jsx)(f,{})}),Object(p.jsx)(c.a,{element:Object(p.jsx)(s.a,{size:"small",color:"default",tooltip:{id:"Choose and add an event"},children:Object(p.jsx)(g,{})}),buildMenuTemplate:function(){return u.map((function(e){return{label:e.fullName,click:function(){d(e.type)}}}))}}),Object(p.jsx)(i.a,{}),Object(p.jsx)(s.a,{size:"small",color:"default",onClick:T,disabled:!E,tooltip:{id:"Delete the selected event(s)"},children:Object(p.jsx)(m.a,{})}),Object(p.jsx)(s.a,{size:"small",color:"default",onClick:S,disabled:!P,tooltip:{id:"Undo the last changes"},children:Object(p.jsx)(O.a,{})}),Object(p.jsx)(s.a,{size:"small",color:"default",onClick:I,disabled:!A,tooltip:{id:"Redo the last changes"},children:Object(p.jsx)(v.a,{})}),Object(p.jsx)(i.a,{}),Object(p.jsx)(s.a,{size:"small",color:"default",onClick:function(){return D()},tooltip:{id:"Search in events"},acceleratorString:"CmdOrCtrl+F",children:Object(p.jsx)(x,{})}),F&&Object(p.jsx)(i.a,{}),F&&Object(p.jsx)(s.a,{size:"small",color:"default",onClick:F,tooltip:{id:"Open settings"},children:M||Object(p.jsx)(y.a,{})})]})]})}},function(e,t,n){"use strict";var r=n(1),a=n(3),o=n(34),i=n(9),s=n(17),c=n(95),u=n(307),l=n(306),d=n(8),b={display:"flex"},p={display:"flex",alignItems:"center",paddingLeft:4,paddingRight:4},j=function(e){var t=s.useContext(l.a);return Object(d.jsx)("div",{id:e.id,style:Object(a.a)(Object(a.a)({},b),{},{alignItems:e.alignItems,backgroundColor:t.list.itemsBackgroundColor}),children:e.children})},h=function(e){return Object(d.jsx)("div",{style:Object(a.a)(Object(a.a)({},p),{},{flex:e.expand?1:void 0},e.style),children:e.children})},f=n(425),g=n(403),m=n.n(g),O=n(397),v=n.n(O),x=n(2214),y=n.n(x),C=n(310),k=n(395),w=n.n(k),T=n(324),E=n(556),S=n(350),P=n(2215),I=n.n(P),A=n(514),D=n.n(A),F=n(2626),M=function(e){return Object(d.jsx)(F.a,Object(a.a)({},e))},_=n(448),L=n(405),R=Object(_.a)("layers-list"),N={outline:"1px solid white"},B=function(e){var t=e.id,n=e.layer,r=e.nameError,o=e.onBlur,c=e.onRemove,u=e.isVisible,b=e.effectsCount,p=e.onEditEffects,g=e.onChangeVisibility,O=e.onBeginDrag,x=e.onDrop,k=e.width,P=e.onEdit,A=s.useContext(l.a),F=n.getName(),_=n.isLightingLayer(),B=!F;return Object(d.jsx)(i.I18n,{children:function(e){var l=e.i18n;return Object(d.jsx)(R,{beginDrag:function(){return O(),{}},canDrag:function(){return!0},canDrop:function(){return!0},drop:x,children:function(e){var n=e.connectDragSource,O=e.connectDropTarget,x=e.isOver;e.canDrop;return O(Object(d.jsxs)("div",{children:[x&&Object(d.jsx)("div",{style:Object(a.a)(Object(a.a)({},N),{},{outlineColor:A.dropIndicator.canDrop})}),Object(d.jsxs)(j,{id:t,children:[Object(d.jsx)(h,{children:n(Object(d.jsx)("span",{children:Object(d.jsx)(E.b,{})}))}),Object(d.jsx)(h,{expand:!0,children:Object(d.jsx)(T.a,{margin:"none",value:B?l._({id:"Base layer"}):F,id:"layer-name",errorText:r,disabled:B,onChange:o,commitOnBlur:!0,fullWidth:!0})}),Object(d.jsx)(h,{children:k<350?Object(d.jsx)(S.a,{element:Object(d.jsx)(C.a,{size:"small",children:Object(d.jsx)(L.a,{})}),buildMenuTemplate:function(e){return[{label:_?e._({id:"Edit lighting properties"}):e._({id:"Edit properties"}),click:P},{label:e._({id:"Edit effects ({effectsCount})",values:{effectsCount:b}}),click:p},{type:"checkbox",label:e._({id:"Visible"}),checked:u,click:function(){return g(!u)}},{type:"separator"},{label:e._({id:"Delete"}),enabled:!B,click:c}]}}):Object(d.jsxs)(s.Fragment,{children:[Object(d.jsx)(f.a,{id:"layer-visibility",checked:u,checkedIcon:Object(d.jsx)(m.a,{}),uncheckedIcon:Object(d.jsx)(v.a,{}),onCheck:function(e,t){return g(t)},tooltipOrHelperText:u?Object(d.jsx)(i.Trans,{id:"Hide layer"}):Object(d.jsx)(i.Trans,{id:"Show layer"})}),Object(d.jsx)(C.a,{size:"small",onClick:p,tooltip:{id:"Edit effects ({effectsCount})",values:{effectsCount:b}},children:Object(d.jsx)(M,{badgeContent:b,color:"primary",children:Object(d.jsx)(y.a,{})})}),Object(d.jsx)(C.a,{size:"small",onClick:P,tooltip:_?{id:"Edit lighting properties"}:{id:"Edit properties"},children:_?Object(d.jsx)(I.a,{}):Object(d.jsx)(D.a,{})}),Object(d.jsx)(C.a,{size:"small",onClick:c,disabled:B,tooltip:{id:"Delete the layer"},children:Object(d.jsx)(w.a,{})})]})})]})]}))}},n.ptr)}})},U=n(311),H=n(517),W=function(e){var t=e.layout,n=e.onBackgroundColorChanged;return Object(d.jsx)(i.I18n,{children:function(e){var r=e.i18n;return Object(d.jsxs)(j,{children:[Object(d.jsx)(h,{children:Object(d.jsx)(E.b,{disabled:!0})}),Object(d.jsx)(h,{expand:!0,children:Object(d.jsx)(U.b,{fullWidth:!0,value:r._({id:"Background color"}),margin:"none",disabled:!0})}),Object(d.jsx)(h,{children:Object(d.jsx)(H.a,{disableAlpha:!0,color:{r:t.getBackgroundColorRed(),g:t.getBackgroundColorGreen(),b:t.getBackgroundColorBlue(),a:255},onChangeComplete:function(e){t.setBackgroundColor(e.rgb.r,e.rgb.g,e.rgb.b),n()}})})]})}})},z=n(295),V=n(328),G=n.n(V),Z=n(331),Y=n(1232),q=n(357),X=n(452),J=n(314),K=n(669),Q=Object(K.a)("layers-list"),$=function(e){var t=Object(J.a)(),n=s.useContext(l.a),c=s.useState({}),b=Object(o.a)(c,2),p=b[0],j=b[1],h=s.useRef(null),f=e.layersContainer,g=e.onEditEffects,m=e.onEdit,O=e.width,v=e.onRenameLayer,x=e.onRemoveLayer,y=e.unsavedChanges,C=function(){y&&y.triggerUnsavedChanges(),t()},k=function(e){var t=h.current;null!==t&&(e!==t&&(f.moveLayer(t,e<t?e+1:e),C()),h.current=null)},w=f.getLayersCount(),T=Object(u.mapReverseFor)(0,w,(function(e){var t=f.getLayerAt(e),n=t.getName();return Object(d.jsx)(B,{id:"layer-".concat(e),layer:t,nameError:p[n],effectsCount:t.getEffects().getEffectsCount(),onEditEffects:function(){return g(t)},onEdit:function(){return m(t)},onBeginDrag:function(){h.current=e},onDrop:function(){return k(e)},onBlur:function(e){(j((function(e){return Object(a.a)(Object(a.a)({},e),{},Object(r.a)({},n,null))})),n!==e)&&(f.hasLayerNamed(e)?j((function(t){return Object(a.a)(Object(a.a)({},t),{},Object(r.a)({},n,Object(d.jsx)(i.Trans,{id:"The name {newName} is already taken",values:{newName:e}})))})):v(n,e,(function(t){t&&f.getLayer(n).setName(e)})))},onRemove:function(){x(n,(function(e){e&&(f.removeLayer(n),C())}))},isVisible:t.getVisibility(),onChangeVisibility:function(e){t.setVisibility(e),C()},width:O},"layer-".concat(t.ptr))}));return Object(d.jsxs)(z.a,{noMargin:!0,expand:!0,children:[T,Object(d.jsx)(Q,{canDrop:function(){return!0},drop:function(){k(-1)},children:function(e){var t=e.connectDropTarget,r=e.isOver;e.canDrop;return t(Object(d.jsxs)("div",{children:[r&&Object(d.jsx)("div",{style:Object(a.a)(Object(a.a)({},N),{},{outlineColor:n.dropIndicator.canDrop})}),Object(d.jsx)(W,{layout:f,onBackgroundColorChanged:C})]}))}})]})},ee=s.forwardRef((function(e,t){var n=Object(J.a)();s.useImperativeHandle(t,(function(){return{forceUpdate:n}}));var r=function(){var t=e.layersContainer,n=Object(c.a)("Lighting",(function(e){return t.hasLayerNamed(e)}));t.insertNewLayer(n,t.getLayersCount());var r=t.getLayer(n);r.setLightingLayer(!0),r.setFollowBaseLayerCamera(!0),r.setAmbientLightColor(200,200,200),a(),e.onCreateLayer()},a=function(){e.unsavedChanges&&e.unsavedChanges.triggerUnsavedChanges(),n()},o=e.layersContainer.ptr,l=function(e){var t=e.getLayersCount();return Object(u.mapReverseFor)(0,t,(function(t){return e.getLayerAt(t).isLightingLayer()})).filter(Boolean).length>0}(e.layersContainer);return Object(d.jsx)(q.a,{children:Object(d.jsxs)(Z.a,{autoHideScrollbar:!0,children:[Object(d.jsx)(Y.a,{children:function(t){var n=t.width;return Object(d.jsx)($,{layersContainer:e.layersContainer,onEditEffects:e.onEditLayerEffects,onEdit:e.onEditLayer,onRemoveLayer:e.onRemoveLayer,onRenameLayer:e.onRenameLayer,unsavedChanges:e.unsavedChanges,width:n},o)}}),Object(d.jsx)(z.a,{children:Object(d.jsx)(z.c,{justifyContent:"flex-end",expand:!0,children:Object(d.jsx)(X.a,{label:Object(d.jsx)(i.Trans,{id:"Add a layer"}),id:"add-layer-button",primary:!0,onClick:function(){var t=e.layersContainer,n=Object(c.a)("Layer",(function(e){return t.hasLayerNamed(e)}));t.insertNewLayer(n,t.getLayersCount()),a(),e.onCreateLayer()},icon:Object(d.jsx)(G.a,{}),buildMenuTemplate:function(e){return[{label:e._({id:"Add lighting layer"}),enabled:!l,click:r}]}})})})]})})}));t.a=ee},function(e,t,n){"use strict";var r=n(6),a=n(5),o=n(10),i=n(11),s=n(9),c=n(17),u=n(450),l=n(430),d=n(316),b=n(295),p=n(8),j=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e=this.props,t=e.behavior,n=e.object,r=e.onBehaviorUpdated,a=Object(l.a)(t.getProperties(),(function(e){return e.getProperties()}),(function(e,t,n){e.updateProperty(t,n)}),n);return Object(p.jsx)(b.a,{expand:!0,children:a.length?Object(p.jsx)(u.a,{schema:a,instances:[t],onInstancesModified:r}):Object(p.jsx)(d.a,{children:Object(p.jsx)(s.Trans,{id:"There is nothing to configure for this behavior. You can still use events to interact with the object and this behavior."})})})}}]),n}(c.Component),h=n(34),f=n(340),g=n(322),m=n(321),O=n(324),v=n(533),x=n(387),y=n(320),C=n(1014),k=n(314),w=function(e){var t=c.useRef(null),n=c.useState({draggedVertex:null,draggedIndex:-1}),r=Object(h.a)(n,2),a=r[0],o=r[1],i=Object(k.a)(),s=function(t,n){var r=e.width*e.zoomFactor,a=e.height*e.zoomFactor;return{frameX:Math.min(r,Math.max(t,0)),frameY:Math.min(a,Math.max(n,0))}},u={position:"absolute",top:e.frameOffsetTop||0,left:e.frameOffsetLeft||0,width:e.width*e.zoomFactor,height:e.height*e.zoomFactor,overflow:"visible"};return Object(p.jsx)("div",{style:{position:"relative",width:"100%",height:"100%"},onPointerMove:function(n){var r=e.polygonOrigin,o=e.width,c=e.height,u=e.zoomFactor,l=a.draggedVertex;if(l){var d=t.current.createSVGPoint();d.x=n.clientX,d.y=n.clientY;var b=t.current.getScreenCTM().inverse(),p=d.matrixTransform(b),j=s(p.x,p.y),h=j.frameX,f=j.frameY;l.x=h/u-e.offsetX-("Center"===r?o/2:0),l.y=f/u-e.offsetY-("Center"===r?c/2:0),i()}},onPointerUp:function(){var t=a.draggedVertex,n=a.draggedIndex;!!t&&e.onMoveVertex(n,Math.round(t?t.x:0),Math.round(t?t.y:0)),o({draggedVertex:null,draggedIndex:-1})},children:Object(p.jsxs)("svg",{style:u,ref:t,children:["Box"===e.shape&&function(){var t=e.dimensionA,n=e.dimensionB,r=e.width,a=e.height,o=e.offsetX,i=e.offsetY,s=e.zoomFactor,c=t>0?t:r>0?r:1,u=n>0?n:a>0?a:1;return Object(p.jsx)("rect",{fill:"rgba(255,0,0,0.75)",strokeWidth:1,x:(o+r/2-c/2)*s,y:(i+a/2-u/2)*s,width:c*s,height:u*s},"boxShape")}(),"Circle"===e.shape&&function(){var t=e.dimensionA,n=e.width,r=e.height,a=e.offsetX,o=e.offsetY,i=e.zoomFactor;return Object(p.jsx)("circle",{fill:"rgba(255,0,0,0.75)",strokeWidth:1,cx:(a+n/2)*i,cy:(o+r/2)*i,r:(t>0?t:n+r>0?(n+r)/4:1)*i},"circleShape")}(),"Edge"===e.shape&&function(){var t=e.dimensionA,n=e.dimensionB,r=e.width,a=e.height,o=e.offsetX,i=e.offsetY,s=e.zoomFactor,c=(t>0?t:r>0?r:1)/2,u=Math.cos(n*Math.PI/180),l=Math.sin(n*Math.PI/180);return Object(p.jsx)("line",{stroke:"rgba(255,0,0,0.75)",strokeWidth:2,x1:(o+r/2-c*u)*s,y1:(i+a/2-c*l)*s,x2:(o+r/2+c*u)*s,y2:(i+a/2+c*l)*s},"edgeShape")}(),"Polygon"===e.shape&&function(){var t=e.vertices,n=e.polygonOrigin,r=e.width,i=e.height,s=e.offsetX,u=e.offsetY,l=e.zoomFactor;return Object(p.jsxs)(c.Fragment,{children:[Object(p.jsx)("polygon",{fill:"rgba(255,0,0,0.75)",strokeWidth:1,fillRule:"evenodd",points:t.map((function(e){return"".concat((e.x+s+("Center"===n?r/2:0))*l,",").concat((e.y+u+("Center"===n?i/2:0))*l)})).join(" ")},"polygonShape"),t.map((function(e,t){return Object(p.jsx)("circle",{onPointerDown:function(){return function(e,t){a.draggedVertex||o({draggedVertex:e,draggedIndex:t})}(e,t)},fill:"rgba(150,0,0,0.75)",strokeWidth:1,style:{cursor:"move"},cx:(e.x+s+("Center"===n?r/2:0))*l,cy:(e.y+u+("Center"===n?i/2:0))*l,r:5},"vertex-".concat(t))}))]})}()]})})},T=n(461),E=n(507),S=n.n(E),P=n(310),I=n(2180),A=n.n(I),D=n(395),F=n.n(D),M=n(306),_=function(e){var t=e.vertices,n=e.onChangeVertexX,r=e.onChangeVertexY,a=e.onAdd,o=e.onRemove,i=c.useContext(M.a),s=function(e){for(var t=[],n=null,r=null,a=0;a<e.length;a++)n=e[a],r=a+1>=e.length?e[0]:e[a+1],t.push({x:r.x-n.x,y:r.y-n.y});if(t.length<3)return!1;for(var o=t[0].x*t[1].y-t[0].y*t[1].x>0,i=1;i<t.length-1;++i){if(t[i].x*t[i+1].y-t[i].y*t[i+1].x>0!==o)return!1}if(t[t.length-1].x*t[0].y-t[t.length-1].y*t[0].x>0!==o)return!1;for(var s=0;s<e.length-1;++s)for(var c=s+1;c<e.length;++c)if(e[s].x===e[c].x&&e[s].y===e[c].y)return!1;for(var u=!0,l=!0,d=0;d<e.length-1;++d)e[d].x!==e[d+1].x&&(u=!1),e[d].y!==e[d+1].y&&(l=!1);return!u&&!l};return Object(p.jsxs)(T.a,{children:[Object(p.jsx)(T.c,{children:Object(p.jsxs)(T.e,{children:[Object(p.jsx)(T.d,{}),Object(p.jsx)(T.d,{children:"X"}),Object(p.jsx)(T.d,{children:"Y"}),Object(p.jsx)(T.f,{})]})}),Object(p.jsxs)(T.b,{children:[t.map((function(e,a){return Object(p.jsxs)(T.e,{style:{backgroundColor:i.list.itemsBackgroundColor},children:[Object(p.jsx)(T.f,{children:!s(t)&&Object(p.jsx)(S.a,{})}),Object(p.jsx)(T.f,{children:Object(p.jsx)(O.a,{margin:"none",fullWidth:!0,value:e.x.toString(10),onChange:function(e){return n(parseFloat(e)||0,a)},type:"number"})}),Object(p.jsx)(T.f,{children:Object(p.jsx)(O.a,{margin:"none",fullWidth:!0,value:e.y.toString(10),onChange:function(e){return r(parseFloat(e)||0,a)},type:"number"})}),Object(p.jsx)(T.f,{children:Object(p.jsx)(P.a,{size:"small",onClick:function(){return o(a)},children:Object(p.jsx)(F.a,{})})})]},"vertexRow".concat(a))})),Object(p.jsxs)(T.e,{children:[Object(p.jsx)(T.f,{}),Object(p.jsx)(T.f,{}),Object(p.jsx)(T.f,{}),Object(p.jsx)(T.f,{children:Object(p.jsx)(P.a,{onClick:a,children:Object(p.jsx)(A.a,{})})})]})]})]})},L=n(296),R=n(385),N=n(297),B=n(2578),U=n(2591),H=n(2596),W=n(2593),z=function(e){var t=e.properties,n=e.propertyName,r=e.step,a=e.onUpdate,o=e.id,i=t.get(n);return Object(p.jsx)(O.a,{id:o,fullWidth:!0,value:i.getValue(),floatingLabelText:i.getLabel(),step:r,onChange:a,type:"number",endAdornment:Object(p.jsx)(V,{property:i})},n)},V=function(e){var t=e.property.getMeasurementUnit();return Object(p.jsx)(W.a,{title:Object(p.jsx)(C.a,{label:t.getLabel(),description:t.getDescription(),elementsWithWords:t.getElementsWithWords()}),children:Object(p.jsx)(H.a,{position:"end",children:Object(l.b)(t)})})},G=function(e){return Object(p.jsx)("div",{style:{overflowX:"auto",flex:1},children:Object(p.jsx)(U.a,{disableElevation:!0,fullWidth:!0,children:e.bits.map((function(t,n){return Object(p.jsx)(B.a,{variant:t?"contained":"outlined",color:t?"primary":"default",onClick:function(){return e.onChange(n,!t)},children:n+1},n)}))})})},Z=function(e,t){return!!(e&1<<t)},Y=function(e,t,n){return n?e|=1<<t:e&=~(1<<t),e},q={getEditor:function(e){return this.components[e]?this.components[e].component:j},components:{"Physics2::Physics2Behavior":{component:function(e){var t=c.useRef(y.a).current,n=c.useState(""),r=Object(h.a)(n,2),a=r[0],o=r[1],i=e.behavior,u=e.onBehaviorUpdated,l=Object(k.a)(),j=c.useCallback((function(e,t){i.updateProperty(e,t),l(),u()}),[i,l,u]),C=i.getProperties(),T=Array(16).fill(null),E=C.get("shape").getValue(),S=parseInt(C.get("layers").getValue(),10),P=parseInt(C.get("masks").getValue(),10);return Object(p.jsxs)(b.a,{expand:!0,noOverflowParent:!0,children:[Object(p.jsx)(b.c,{children:Object(p.jsx)(g.a,{id:"physics2-parameter-body-type",fullWidth:!0,floatingLabelText:C.get("bodyType").getLabel(),value:C.get("bodyType").getValue(),onChange:function(e,t,n){return j("bodyType",n)},children:[Object(p.jsx)(m.a,{value:"Dynamic",primaryText:{id:"Dynamic"}},"dynamic"),Object(p.jsx)(m.a,{value:"Static",primaryText:{id:"Static"}},"static"),Object(p.jsx)(m.a,{value:"Kinematic",primaryText:{id:"Kinematic"}},"kinematic")]},"bodyType")}),Object(p.jsxs)(N.c,{children:[Object(p.jsx)(f.a,{label:C.get("bullet").getLabel(),checked:"true"===C.get("bullet").getValue(),onCheck:function(e,t){return j("bullet",t?"1":"0")}}),Object(p.jsx)(f.a,{label:C.get("fixedRotation").getLabel(),checked:"true"===C.get("fixedRotation").getValue(),onCheck:function(e,t){return j("fixedRotation",t?"1":"0")}}),Object(p.jsx)(f.a,{label:C.get("canSleep").getLabel(),checked:"true"===C.get("canSleep").getValue(),onCheck:function(e,t){return j("canSleep",t?"1":"0")}})]}),Object(p.jsx)(b.c,{children:Object(p.jsx)(R.a,{identifier:"physics2-shape-collisions",kind:"info",children:Object(p.jsx)(s.Trans,{id:'The shape used in the Physics behavior is independent from the collision mask of the object. Be sure to use the "Collision" condition provided by the Physics behavior in the events. The usual "Collision" condition won\'t take into account the shape that you\'ve set up here.'})})}),Object(p.jsx)(b.c,{children:Object(p.jsxs)(g.a,{id:"physics2-parameter-shape",fullWidth:!0,floatingLabelText:C.get("shape").getLabel(),value:C.get("shape").getValue(),onChange:function(e,t,n){return j("shape",n)},children:[Object(p.jsx)(m.a,{value:"Box",primaryText:{id:"Box"}},"box"),Object(p.jsx)(m.a,{value:"Circle",primaryText:{id:"Circle"}},"circle"),Object(p.jsx)(m.a,{value:"Edge",primaryText:{id:"Edge"}},"edge"),Object(p.jsx)(m.a,{value:"Polygon",primaryText:{id:"Polygon"}},"polygon")]})}),Object(p.jsxs)(N.c,{children:["Polygon"!==E&&Object(p.jsx)(O.a,{fullWidth:!0,value:C.get("shapeDimensionA").getValue(),floatingLabelText:"Circle"===E?"Radius":"Edge"===E?"Length":"Width",min:0,onChange:function(e){return j("shapeDimensionA",e)},type:"number",endAdornment:Object(p.jsx)(V,{property:C.get("shapeDimensionA")})},"shapeDimensionA"),"Polygon"!==E&&"Circle"!==E&&Object(p.jsx)(O.a,{fullWidth:!0,value:C.get("shapeDimensionB").getValue(),floatingLabelText:"Edge"===E?"Angle":"Height",min:"Edge"===E?void 0:0,onChange:function(e){return j("shapeDimensionB",e)},type:"number",endAdornment:Object(p.jsx)(V,{property:C.get("shapeDimensionB")})},"shapeDimensionB"),"Polygon"===E&&Object(p.jsx)(g.a,{fullWidth:!0,floatingLabelText:C.get("polygonOrigin").getLabel(),value:C.get("polygonOrigin").getValue(),onChange:function(e,t,n){return j("polygonOrigin",n)},children:[Object(p.jsx)(m.a,{value:"Center",primaryText:{id:"Center"}},"center"),Object(p.jsx)(m.a,{value:"Origin",primaryText:{id:"Origin"}},"origin"),Object(p.jsx)(m.a,{value:"TopLeft",primaryText:{id:"Top-Left"}},"topLeft")]}),Object(p.jsx)(z,{properties:C,propertyName:"shapeOffsetX",step:1,onUpdate:function(e){return j("shapeOffsetX",e)}}),Object(p.jsx)(z,{properties:C,propertyName:"shapeOffsetY",step:1,onUpdate:function(e){return j("shapeOffsetY",e)}})]}),Object(p.jsx)(b.c,{children:Object(p.jsx)(x.a,{floatingLabelText:Object(p.jsx)(s.Trans,{id:"A temporary image to help you visualize the shape/polygon"}),project:e.project,resourceManagementProps:e.resourceManagementProps,resourcesLoader:t,resourceKind:"image",initialResourceName:"",fullWidth:!0,onChange:function(e){o(e),u(),l()}})}),!a&&Object(p.jsx)(b.c,{children:Object(p.jsx)(d.a,{children:Object(p.jsx)(s.Trans,{id:"To preview the shape that the Physics engine will use for this object, choose first a temporary image to use for the preview."})})}),a&&Object(p.jsx)(b.c,{children:Object(p.jsx)("div",{style:{width:"100%"},children:Object(p.jsx)(v.a,{resourceName:a,imageResourceSource:t.getResourceFullUrl(e.project,a,{}),isImageResourceSmooth:Object(v.b)(e.project,a),fixedHeight:200,renderOverlay:function(e){var t=i.getProperties();return Object(p.jsx)(w,{shape:t.get("shape").getValue(),dimensionA:parseFloat(t.get("shapeDimensionA").getValue()),dimensionB:parseFloat(t.get("shapeDimensionB").getValue()),offsetX:parseFloat(t.get("shapeOffsetX").getValue()),offsetY:parseFloat(t.get("shapeOffsetY").getValue()),polygonOrigin:t.get("polygonOrigin").getValue(),vertices:JSON.parse(t.get("vertices").getValue()),width:e.imageWidth,height:e.imageHeight,frameOffsetTop:e.offsetTop,frameOffsetLeft:e.offsetLeft,zoomFactor:e.imageZoomFactor,onMoveVertex:function(e,n,r){var a=JSON.parse(t.get("vertices").getValue());a[e].x=n,a[e].y=r,i.updateProperty("vertices",JSON.stringify(a)),l(),u()}})}})})}),"Polygon"===E&&Object(p.jsx)(b.c,{children:Object(p.jsx)(_,{vertices:JSON.parse(C.get("vertices").getValue()),onChangeVertexX:function(e,t){var n=JSON.parse(C.get("vertices").getValue());n[t].x=e,j("vertices",JSON.stringify(n))},onChangeVertexY:function(e,t){var n=JSON.parse(C.get("vertices").getValue());n[t].y=e,j("vertices",JSON.stringify(n))},onAdd:function(){var e=JSON.parse(C.get("vertices").getValue());e.length>=8||(e.push({x:0,y:0}),j("vertices",JSON.stringify(e)))},onRemove:function(e){var t=JSON.parse(C.get("vertices").getValue());t.splice(e,1),j("vertices",JSON.stringify(t))}})}),Object(p.jsxs)(N.c,{children:[Object(p.jsx)(z,{id:"physics2-parameter-density",properties:C,propertyName:"density",step:.1,onUpdate:function(e){return j("density",parseFloat(e)>0?e:"0")}}),Object(p.jsx)(z,{properties:C,propertyName:"gravityScale",step:.1,onUpdate:function(e){return j("gravityScale",e)}})]}),Object(p.jsxs)(N.c,{children:[Object(p.jsx)(z,{properties:C,propertyName:"friction",step:.1,onUpdate:function(e){return j("friction",parseFloat(e)>0?e:"0")}}),Object(p.jsx)(z,{properties:C,propertyName:"restitution",step:.1,onUpdate:function(e){return j("restitution",parseFloat(e)>0?e:"0")}})]}),Object(p.jsxs)(N.c,{children:[Object(p.jsx)(z,{properties:C,propertyName:"linearDamping",step:.05,onUpdate:function(e){return j("linearDamping",e)}}),Object(p.jsx)(z,{id:"physics2-parameter-angular-damping",properties:C,propertyName:"angularDamping",step:.05,onUpdate:function(e){return j("angularDamping",e)}})]}),Object(p.jsxs)(b.c,{children:[Object(p.jsx)(L.a,{style:{marginRight:10},children:C.get("layers").getLabel()}),Object(p.jsx)(G,{bits:T.map((function(e,t){return Z(S,t)})),onChange:function(e,t){var n=Y(S,e,t);j("layers",n.toString(10))}})]}),Object(p.jsxs)(b.c,{children:[Object(p.jsx)(L.a,{style:{marginRight:10},children:C.get("masks").getLabel()}),Object(p.jsx)(G,{bits:T.map((function(e,t){return Z(P,t)})),onChange:function(e,t){var n=Y(P,e,t);j("masks",n.toString(10))}})]})]})}}}};t.a=q},,function(e,t,n){"use strict";var r=n(34),a=n(17),o=n.n(a),i=n(500),s=n(19),c=n(9),u=n(297),l=n(305),d=n(911),b=n(3),p=n(905),j=n(8),h=o.a.memo((function(e){return Object(j.jsxs)(p.a,Object(b.a)(Object(b.a)({},e),{},{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:[Object(j.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.87161 2.83221C8.05634 3.03746 8.0397 3.35361 7.83444 3.53834L6.58072 4.66669L7.83444 5.79504C8.0397 5.97977 8.05634 6.29592 7.87161 6.50117C7.68688 6.70643 7.37073 6.72307 7.16548 6.53834L5.49881 5.03834C5.39345 4.94352 5.33329 4.80843 5.33329 4.66669C5.33329 4.52495 5.39345 4.38987 5.49881 4.29504L7.16548 2.79504C7.37073 2.61031 7.68688 2.62695 7.87161 2.83221Z",fill:"currentColor"}),Object(j.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.99996 4.66669C5.99996 4.39055 6.22382 4.16669 6.49996 4.16669H8.83329C11.3186 4.16669 13.3333 6.18141 13.3333 8.66669V8.83336C13.3333 9.1095 13.1094 9.33336 12.8333 9.33336C12.5572 9.33336 12.3333 9.1095 12.3333 8.83336V8.66669C12.3333 6.73369 10.7663 5.16669 8.83329 5.16669H6.49996C6.22382 5.16669 5.99996 4.94283 5.99996 4.66669Z",fill:"currentColor"}),Object(j.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.12831 9.49888C8.31304 9.29362 8.62919 9.27698 8.83444 9.46171L10.5011 10.9617C10.6065 11.0565 10.6666 11.1916 10.6666 11.3334C10.6666 11.4751 10.6065 11.6102 10.5011 11.705L8.83444 13.205C8.62919 13.3897 8.31304 13.3731 8.12831 13.1678C7.94358 12.9626 7.96022 12.6464 8.16548 12.4617L9.4192 11.3334L8.16548 10.205C7.96022 10.0203 7.94358 9.70413 8.12831 9.49888Z",fill:"currentColor"}),Object(j.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.16663 6.66669C3.44277 6.66669 3.66663 6.89055 3.66663 7.16669V7.33336C3.66663 9.26635 5.23363 10.8334 7.16663 10.8334H9.49996C9.7761 10.8334 9.99996 11.0572 9.99996 11.3334C9.99996 11.6095 9.7761 11.8334 9.49996 11.8334H7.16663C4.68134 11.8334 2.66663 9.81863 2.66663 7.33336V7.16669C2.66663 6.89055 2.89048 6.66669 3.16663 6.66669Z",fill:"currentColor"})]}))})),f=o.a.memo((function(e){return Object(j.jsxs)(p.a,Object(b.a)(Object(b.a)({},e),{},{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:[Object(j.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.99996 3.66669C5.60673 3.66669 3.66663 5.60679 3.66663 8.00002C3.66663 10.3933 5.60673 12.3334 7.99996 12.3334C10.3932 12.3334 12.3333 10.3933 12.3333 8.00002C12.3333 5.60679 10.3932 3.66669 7.99996 3.66669ZM2.66663 8.00002C2.66663 5.0545 5.05444 2.66669 7.99996 2.66669C10.9455 2.66669 13.3333 5.0545 13.3333 8.00002C13.3333 10.9455 10.9455 13.3334 7.99996 13.3334C5.05444 13.3334 2.66663 10.9455 2.66663 8.00002Z",fill:"currentColor"}),Object(j.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.04854 4.69103C6.65219 5.44491 6.33329 6.57193 6.33329 8.00002C6.33329 9.42811 6.65219 10.5551 7.04854 11.309C7.2474 11.6873 7.459 11.9589 7.64726 12.1291C7.8457 12.3085 7.96937 12.3334 7.99996 12.3334C8.03055 12.3334 8.15422 12.3085 8.35266 12.1291C8.54092 11.9589 8.75252 11.6873 8.95138 11.309C9.34773 10.5551 9.66663 9.42811 9.66663 8.00002C9.66663 6.57193 9.34773 5.44491 8.95138 4.69103C8.75252 4.31278 8.54092 4.04112 8.35266 3.87091C8.15422 3.6915 8.03055 3.66669 7.99996 3.66669C7.96937 3.66669 7.8457 3.6915 7.64726 3.87091C7.459 4.04112 7.2474 4.31278 7.04854 4.69103ZM6.97662 3.12913C7.26209 2.87104 7.61635 2.66669 7.99996 2.66669C8.38357 2.66669 8.73783 2.87104 9.0233 3.12913C9.31895 3.39642 9.59725 3.7706 9.83651 4.22568C10.3164 5.13846 10.6666 6.42811 10.6666 8.00002C10.6666 9.57193 10.3164 10.8616 9.83651 11.7744C9.59725 12.2294 9.31895 12.6036 9.0233 12.8709C8.73783 13.129 8.38357 13.3334 7.99996 13.3334C7.61635 13.3334 7.26209 13.129 6.97662 12.8709C6.68096 12.6036 6.40267 12.2294 6.16341 11.7744C5.68353 10.8616 5.33329 9.57193 5.33329 8.00002C5.33329 6.42811 5.68353 5.13846 6.16341 4.22568C6.40267 3.7706 6.68096 3.39642 6.97662 3.12913Z",fill:"currentColor"}),Object(j.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.83329 8.00002C2.83329 7.72388 3.05715 7.50002 3.33329 7.50002H12.6666C12.9428 7.50002 13.1666 7.72388 13.1666 8.00002C13.1666 8.27616 12.9428 8.50002 12.6666 8.50002H3.33329C3.05715 8.50002 2.83329 8.27616 2.83329 8.00002Z",fill:"currentColor"})]}))})),g=n(717),m=n(309);function O(e){var t=e.onPreviewWithoutHotReload,n=e.onNetworkPreview,r=e.onOpenDebugger,o=e.onHotReloadPreview,i=e.canDoNetworkPreview,b=e.isPreviewEnabled,p=e.hasPreviewsRunning,O=e.previewState,v=e.setPreviewOverride,x=e.exportProject,y=Object(m.b)(),C=a.useCallback((function(e){return[{label:e._({id:"Start Network Preview (Preview over WiFi/LAN)"}),click:n,enabled:i},{label:e._({id:"Start Preview and Debugger"}),click:r},{label:e._({id:"Launch another preview in a new window"}),click:t,enabled:b&&p},{type:"separator"}].concat(Object(s.a)(O.overridenPreviewLayoutName?[{type:"checkbox",label:O.overridenPreviewExternalLayoutName?e._({id:"Start all previews from external layout {0}",values:{0:O.overridenPreviewExternalLayoutName}}):e._({id:"Start all previews from scene {0}",values:{0:O.overridenPreviewLayoutName}}),checked:O.isPreviewOverriden,click:function(){return v({isPreviewOverriden:!O.isPreviewOverriden,overridenPreviewLayoutName:O.overridenPreviewLayoutName,overridenPreviewExternalLayoutName:O.overridenPreviewExternalLayoutName})}},{type:"separator"}]:[]),[{label:O.previewExternalLayoutName?e._({id:"Use this external layout inside this scene to start all previews"}):e._({id:"Use this scene to start all previews"}),click:function(){return v({isPreviewOverriden:!0,overridenPreviewLayoutName:O.previewLayoutName,overridenPreviewExternalLayoutName:O.previewExternalLayoutName})},enabled:O.previewLayoutName!==O.overridenPreviewLayoutName||O.previewExternalLayoutName!==O.overridenPreviewExternalLayoutName}])}),[t,b,p,v,O,n,r,i]);return Object(j.jsxs)(u.b,{noMargin:!0,children:[Object(j.jsx)(g.a,{primary:!0,onClick:o,disabled:!b,icon:p?Object(j.jsx)(h,{}):Object(j.jsx)(d.a,{}),label:"small"!==y?p?Object(j.jsx)(c.Trans,{id:"Update"}):Object(j.jsx)(c.Trans,{id:"Preview"}):null,id:"toolbar-preview-button",buildMenuTemplate:C}),Object(j.jsx)(l.a,{primary:!0,onClick:x,icon:Object(j.jsx)(f,{}),label:"small"!==y?Object(j.jsx)(c.Trans,{id:"Publish"}):null,id:"toolbar-publish-button"})]})}var v=n(915),x=n(916),y=n(310),C=n(295);t.a=a.forwardRef((function(e,t){var n=a.useState(null),o=Object(r.a)(n,2),s=o[0],c=o[1];return a.useImperativeHandle(t,(function(){return{setEditorToolbar:c}})),Object(j.jsxs)(i.a,{children:[e.showProjectButtons?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)(i.b,{firstChild:!0,children:[Object(j.jsx)(y.a,{size:"small",id:"main-toolbar-project-manager-button",onClick:e.toggleProjectManager,tooltip:{id:"Project Manager"},color:"default",children:Object(j.jsx)(v.a,{})}),Object(j.jsx)(y.a,{size:"small",id:"toolbar-save-button",onClick:e.onSave,tooltip:{id:"Save project"},color:"default",disabled:!e.canSave,children:Object(j.jsx)(x.a,{})})]}),Object(j.jsxs)(i.b,{children:[Object(j.jsx)(C.d,{}),Object(j.jsx)(O,{onPreviewWithoutHotReload:e.onPreviewWithoutHotReload,onOpenDebugger:e.onOpenDebugger,onNetworkPreview:e.onNetworkPreview,onHotReloadPreview:e.onHotReloadPreview,setPreviewOverride:e.setPreviewOverride,canDoNetworkPreview:e.canDoNetworkPreview,isPreviewEnabled:e.isPreviewEnabled,previewState:e.previewState,hasPreviewsRunning:e.hasPreviewsRunning,exportProject:e.exportProject}),Object(j.jsx)(C.d,{})]})]}):null,s||Object(j.jsx)(i.b,{})]})}))},function(e,t,n){"use strict";var r=n(19),a=n(34),o=n(9),i=n(17),s=n.n(i),c=n(322),u=n(298),l=n(550),d=n(321),b=n(447),p=n(303),j=n(295),h=n(91),f=n(1268),g=n(26),m=n(12),O=n.n(m),v=n(39),x=n(296),y=n(297),C=n(352),k=n(305),w=n(2585),T=n(440),E=n(327),S=n(8),P={shortcutBox:{padding:15,textAlign:"center"}},I=function(e){var t=i.useState(""),n=Object(a.a)(t,2),r=n[0],s=n[1],c=i.useState(!1),l=Object(a.a)(c,2),d=l[0],b=l[1],j=function(){d&&(r&&e.onSet(r),e.onClose())};return i.useEffect((function(){var e=function(e){e.preventDefault();var t=Object(T.c)(e);"keyup"!==e.type&&(b(t.isValid),s(t.shortcutString))};return document.addEventListener("keyup",e),document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e),document.removeEventListener("keyup",e)}}),[]),Object(S.jsxs)(p.c,{title:Object(S.jsx)(o.Trans,{id:"Set shortcut"}),open:!0,maxWidth:"xs",actions:[Object(S.jsx)(u.a,{label:Object(S.jsx)(o.Trans,{id:"Cancel"}),onClick:e.onClose},"Cancel"),Object(S.jsx)(u.a,{label:Object(S.jsx)(o.Trans,{id:"Set shortcut"}),primary:!0,onClick:j,disabled:!d},"Set")],secondaryActions:[Object(S.jsx)(u.a,{label:Object(S.jsx)(o.Trans,{id:"Remove shortcut"}),onClick:function(){e.onSet(""),e.onClose()}},"Remove")],onRequestClose:e.onClose,onApply:j,children:[Object(S.jsx)(x.a,{children:e.commandText}),Object(S.jsx)(E.a,{variant:"outlined",style:P.shortcutBox,background:"light",children:Object(S.jsx)(x.a,{children:r?Object(T.b)(r):Object(S.jsx)(o.Trans,{id:"Press a shortcut combination..."})})})]})},A=n(385),D=n(108),F=n(2580),M=n(2589),_=n(2605),L=n(404),R=n(310),N=n(1418),B=n.n(N),U=n(507),H=n.n(U),W=n(551),z={shortcutChip:{borderRadius:3}},V=function(e){return Object(S.jsxs)(F.a,{children:[Object(S.jsx)(M.a,{primary:e.i18n._(W.b[e.commandName].displayText)}),Object(S.jsxs)(_.a,{children:[e.isClashing&&Object(S.jsx)(R.a,{tooltip:{id:"This shortcut clashes with another action."},children:Object(S.jsx)(H.a,{})}),Object(S.jsx)(L.a,{style:z.shortcutChip,label:e.shortcutString||Object(S.jsx)(o.Trans,{id:"No shortcut"}),onClick:e.onEditShortcut,color:e.shortcutString?"secondary":"default"}),!e.isDefault&&Object(S.jsx)(R.a,{onClick:e.onResetShortcut,tooltip:{id:"Reset to default"},children:Object(S.jsx)(B.a,{})})]})]})},G=function(e,t){return null==t?e:t},Z=function(e){var t=i.useState(null),n=Object(a.a)(t,2),r=n[0],s=n[1],c=function(e){var t={},n={};return Object.keys(W.b).filter((function(e){return!W.b[e].noShortcut})).forEach((function(r){var a=W.b[r].area;t[a]||(t[a]=[]),t[a].push(r);var o=e[r],i=D.a[r]||"",s=G(i,o);""!==s&&(n[s]=(n[s]||[]).concat(r))})),[t,n]}(e.userShortcutMap),u=Object(a.a)(c,2),l=u[0],d=u[1],b=Object(T.b)(e.userShortcutMap.OPEN_COMMAND_PALETTE||D.a.OPEN_COMMAND_PALETTE);return Object(S.jsxs)(y.a,{noMargin:!0,children:[Object(S.jsx)(A.a,{kind:"info",identifier:"command-palette-shortcut",children:Object(S.jsx)(o.Trans,{id:"You can open the command palette by pressing {commandPaletteShortcut}.",values:{commandPaletteShortcut:b}})}),Object(S.jsx)(k.a,{label:Object(S.jsx)(o.Trans,{id:"Reset all shortcuts to default"}),onClick:function(){g.b.showConfirmDialog(e.i18n._({id:"Are you sure you want to reset all shortcuts to their default values?"}),"question")&&e.onReset()},fullWidth:!0}),Object(S.jsx)(w.a,{children:Object.keys(l).map((function(t){return Object(S.jsxs)(i.Fragment,{children:[Object(S.jsx)(x.a,{size:"block-title",children:e.i18n._(W.a[t])}),l[t].map((function(t){var n=e.userShortcutMap[t],r=D.a[t]||"",a=G(r,n),o=Object(T.b)(a),i=d[a],c=i&&i.length>1;return Object(S.jsx)(V,{i18n:e.i18n,shortcutString:o,commandName:t,isDefault:a===r,isClashing:c,onEditShortcut:function(){return s(t)},onResetShortcut:function(){return function(t){e.onEdit(t,D.a[t])}(t)}},t)}))]},t)}))}),r&&Object(S.jsx)(I,{commandText:e.i18n._(W.b[r].displayText),onClose:function(){return s(null)},onSet:function(t){e.onEdit(r,t)}})]})},Y=n(953),q=n(393),X=n(309),J=O()("electron");t.a=function(e){var t=e.i18n,n=e.onClose,i=Object(X.b)(),m=s.a.useState("preferences"),O=Object(a.a)(m,2),w=O[0],T=O[1],E=s.a.useState(!1),P=Object(a.a)(E,2),I=P[0],A=P[1],D=s.a.useContext(v.a),F=D.values,M=D.setThemeName,_=D.setCodeEditorThemeName,L=D.setAutoDownloadUpdates,R=D.showAllAlertMessages,N=D.showAllTutorialHints,B=D.showAllAnnouncements,U=D.setAutoDisplayChangelog,H=D.setEventsSheetShowObjectThumbnails,W=D.setAutosaveOnPreview,z=D.setUseUndefinedVariablesInAutocompletion,V=D.setUseGDJSDevelopmentWatcher,G=D.setEventsSheetUseAssignmentOperators,K=D.getDefaultEditorMosaicNode,Q=D.setDefaultEditorMosaicNode,$=D.setAutoOpenMostRecentProject,ee=D.resetShortcutsToDefault,te=D.setShortcutForCommand,ne=D.setIsMenuBarHiddenInPreview,re=D.setBackdropClickBehavior,ae=D.setIsAlwaysOnTopInPreview,oe=D.setEventsSheetCancelInlineParameter,ie=D.setShowCommunityExtensions,se=D.setShowEventBasedObjectsEditor,ce=D.setNewProjectsDefaultFolder;return Object(S.jsxs)(p.c,{title:Object(S.jsx)(o.Trans,{id:"Preferences"}),actions:[Object(S.jsx)(u.a,{label:Object(S.jsx)(o.Trans,{id:"Close"}),primary:!1,onClick:function(){return n(I)}},"close")],onRequestClose:function(){return n(I)},open:!0,maxWidth:"sm",fixedContent:Object(S.jsx)(C.a,{value:w,onChange:T,options:[{value:"preferences",label:Object(S.jsx)(o.Trans,{id:"Preferences"})},{value:"shortcuts",label:Object(S.jsx)(o.Trans,{id:"Keyboard Shortcuts"})}].concat(Object(r.a)(J?[{value:"folders",label:Object(S.jsx)(o.Trans,{id:"Folders"})}]:[])),variant:"small"===i?"scrollable":void 0}),children:["preferences"===w&&Object(S.jsxs)(y.a,{noMargin:!0,children:[Object(S.jsx)(x.a,{size:"block-title",children:Object(S.jsx)(o.Trans,{id:"Language"})}),Object(S.jsx)(Y.a,{onLanguageChanged:function(){A(!0)}}),Object(S.jsx)(x.a,{size:"block-title",children:Object(S.jsx)(o.Trans,{id:"Appearance"})}),Object(S.jsxs)(y.c,{noMargin:!0,children:[Object(S.jsx)(c.a,{floatingLabelText:Object(S.jsx)(o.Trans,{id:"UI Theme"}),value:F.themeName,onChange:function(e,t,n){return M(n)},fullWidth:!0,children:Object.keys(h.a).map((function(e){return Object(S.jsx)(d.a,{value:e,primaryText:e},e)}))}),Object(S.jsx)(c.a,{floatingLabelText:Object(S.jsx)(o.Trans,{id:"Code editor Theme"}),value:F.codeEditorThemeName,onChange:function(e,t,n){return _(n)},fullWidth:!0,children:Object(f.a)().map((function(e){return Object(S.jsx)(d.a,{value:e.themeName,primaryText:e.name},e.themeName)}))})]}),Object(S.jsx)(j.c,{noMargin:!0,children:Object(S.jsx)(x.a,{children:Object(S.jsx)(o.Trans,{id:"You can contribute and <0>create your own themes</0>.",components:[Object(S.jsx)(q.a,{href:"https://github.com/4ian/GDevelop/blob/master/newIDE/README-themes.md",onClick:function(){return g.b.openExternalURL("https://github.com/4ian/GDevelop/blob/master/newIDE/README-themes.md")}})]})})}),Object(S.jsx)(x.a,{size:"block-title",children:Object(S.jsx)(o.Trans,{id:"Layouts"})}),Object(S.jsxs)(j.a,{noMargin:!0,children:[Object(S.jsx)(k.a,{label:Object(S.jsx)(o.Trans,{id:"Reset Scene Editor layout"}),onClick:function(){return Q("scene-editor",null)},disabled:!K("scene-editor")}),Object(S.jsx)(j.d,{}),Object(S.jsx)(k.a,{label:Object(S.jsx)(o.Trans,{id:"Reset Scene Editor (small window) layout"}),onClick:function(){return Q("scene-editor-small",null)},disabled:!K("scene-editor-small")}),Object(S.jsx)(j.d,{}),Object(S.jsx)(k.a,{label:Object(S.jsx)(o.Trans,{id:"Reset Debugger layout"}),onClick:function(){return Q("debugger",null)},disabled:!K("debugger")}),Object(S.jsx)(j.d,{}),Object(S.jsx)(k.a,{label:Object(S.jsx)(o.Trans,{id:"Reset Resource Editor layout"}),onClick:function(){return Q("resources-editor",null)},disabled:!K("resources-editor")}),Object(S.jsx)(j.d,{}),Object(S.jsx)(k.a,{label:Object(S.jsx)(o.Trans,{id:"Reset Extension Editor layout"}),onClick:function(){return Q("events-functions-extension-editor",null)},disabled:!K("events-functions-extension-editor")})]}),Object(S.jsx)(x.a,{size:"block-title",children:Object(S.jsx)(o.Trans,{id:"Dialogs"})}),Object(S.jsxs)(c.a,{floatingLabelText:Object(S.jsx)(o.Trans,{id:"Dialog backdrop click behavior"}),value:F.backdropClickBehavior,onChange:function(e,t,n){return re(n)},fullWidth:!0,children:[Object(S.jsx)(d.a,{value:"cancel",primaryText:{id:"Cancel changes"}}),Object(S.jsx)(d.a,{value:"apply",primaryText:{id:"Apply changes"}}),Object(S.jsx)(d.a,{value:"nothing",primaryText:{id:"Do nothing"}})]}),Object(S.jsx)(x.a,{size:"block-title",children:Object(S.jsx)(o.Trans,{id:"Updates"})}),Object(S.jsx)(b.a,{onToggle:function(e,t){return L(t)},toggled:F.autoDownloadUpdates,labelPosition:"right",label:Object(S.jsx)(o.Trans,{id:"Auto download and install updates (recommended)"})}),Object(S.jsx)(b.a,{onToggle:function(e,t){return U(t)},toggled:F.autoDisplayChangelog,labelPosition:"right",label:Object(S.jsx)(o.Trans,{id:"Display What's New when a new version is launched (recommended)"})}),Object(S.jsx)(x.a,{size:"block-title",children:Object(S.jsx)(o.Trans,{id:"Events Sheet"})}),Object(S.jsx)(b.a,{onToggle:function(e,t){return H(t)},toggled:F.eventsSheetShowObjectThumbnails,labelPosition:"right",label:Object(S.jsx)(o.Trans,{id:"Display object thumbnails in Events Sheets"})}),Object(S.jsx)(b.a,{onToggle:function(e,t){return G(t)},toggled:F.eventsSheetUseAssignmentOperators,labelPosition:"right",label:Object(S.jsx)(o.Trans,{id:"Display assignment operators in Events Sheets"})}),Object(S.jsx)(b.a,{onToggle:function(e,t){return z(t)},toggled:F.useUndefinedVariablesInAutocompletion,labelPosition:"right",label:Object(S.jsx)(o.Trans,{id:"Suggest names of variables used in events but not declared in the list of variables"})}),Object(S.jsxs)(c.a,{floatingLabelText:Object(S.jsx)(o.Trans,{id:"Escape key behavior when editing an parameter inline"}),value:F.eventsSheetCancelInlineParameter,onChange:function(e,t,n){oe(n)},fullWidth:!0,children:[Object(S.jsx)(d.a,{value:"cancel",primaryText:{id:"Cancel changes"}}),Object(S.jsx)(d.a,{value:"apply",primaryText:{id:"Apply changes"}})]}),Object(S.jsx)(x.a,{size:"block-title",children:Object(S.jsx)(o.Trans,{id:"Embedded help and tutorials"})}),Object(S.jsxs)(j.a,{noMargin:!0,children:[Object(S.jsx)(j.c,{children:Object(S.jsx)(k.a,{label:Object(S.jsx)(o.Trans,{id:"Reset hidden embedded explanations"}),onClick:function(){return R()},disabled:!Object.keys(F.hiddenAlertMessages).length})}),Object(S.jsx)(j.c,{children:Object(S.jsx)(k.a,{label:Object(S.jsx)(o.Trans,{id:"Reset hidden embedded tutorials"}),onClick:function(){return N()},disabled:!Object.keys(F.hiddenTutorialHints).length})}),Object(S.jsx)(j.c,{children:Object(S.jsx)(k.a,{label:Object(S.jsx)(o.Trans,{id:"Reset hidden announcements"}),onClick:function(){return B()},disabled:!Object.keys(F.hiddenAnnouncements).length})})]}),Object(S.jsx)(x.a,{size:"block-title",children:Object(S.jsx)(o.Trans,{id:"Advanced"})}),Object(S.jsx)(b.a,{onToggle:function(e,t){return W(t)},toggled:F.autosaveOnPreview,labelPosition:"right",label:Object(S.jsx)(o.Trans,{id:"Auto-save project on Preview"})}),Object(S.jsx)(b.a,{onToggle:function(e,t){return $(t)},toggled:F.autoOpenMostRecentProject,labelPosition:"right",label:Object(S.jsx)(o.Trans,{id:"Automatically re-open the project edited during last session"})}),Object(S.jsx)(b.a,{onToggle:function(e,t){return ie(t)},toggled:F.showCommunityExtensions,labelPosition:"right",label:Object(S.jsx)(o.Trans,{id:"Show community (non reviewed) extensions in the list of extensions"})}),Object(S.jsx)(b.a,{onToggle:function(e,t){return se(t)},toggled:F.showEventBasedObjectsEditor,labelPosition:"right",label:Object(S.jsx)(o.Trans,{id:"Show custom objects in the extension editor (experimental)"})}),J&&Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)(y.a,{expand:!0,noMargin:!0,children:[Object(S.jsx)(b.a,{onToggle:function(e,t){return ne(t)},toggled:F.isMenuBarHiddenInPreview,labelPosition:"right",label:Object(S.jsx)(o.Trans,{id:"Hide the menu bar in the preview window"})}),Object(S.jsx)(b.a,{onToggle:function(e,t){return ae(t)},toggled:F.isAlwaysOnTopInPreview,labelPosition:"right",label:Object(S.jsx)(o.Trans,{id:"Always display the preview window on top of the editor"})})]})}),g.b.isDev()&&Object(S.jsx)(b.a,{onToggle:function(e,t){return V(t)},toggled:F.useGDJSDevelopmentWatcher,labelPosition:"right",label:Object(S.jsx)(o.Trans,{id:"Watch changes in game engine (GDJS) sources and auto import them (dev only)"})})]}),"shortcuts"===w&&Object(S.jsx)(j.c,{expand:!0,children:Object(S.jsx)(j.a,{expand:!0,noMargin:!0,children:Object(S.jsx)(Z,{i18n:t,userShortcutMap:F.userShortcutMap,onEdit:te,onReset:ee})})}),J&&"folders"===w&&Object(S.jsx)(y.a,{noMargin:!0,children:Object(S.jsx)(l.a,{fullWidth:!0,value:F.newProjectsDefaultFolder,onChange:ce,type:"default-workspace"})})]})}},function(e,t,n){"use strict";var r=n(34),a=n(17),o=n.n(a),i=n(9),s=n(2600),c=n(2597),u=n(644),l=n(3),d=n(394),b=n(440),p=n(2580),j=n(2588),h=n(2589),f=n(2605),g=n(404),m=n(2715),O=n(560),v=n.n(O),x=n(2723),y=function(e,t){var n=t.inputValue.toLowerCase();if(""===n)return e;var r=[],a=[];return e.forEach((function(e){var o=t.getOptionLabel(e).toLowerCase();return o.includes(n)?r.push(e):function(e,t){return!t||function(e,t){var n=t.toLowerCase();e=e.toLowerCase();for(var r=0,a=0;a<t.length;a++)n[a]===e[r]&&(r+=1);return r===e.length}(e,t)}(n,o)?a.push(e):void 0})),[].concat(r,a)},C=n(551),k=n(8),w=Object(c.a)({listItemContainer:{width:"100%"}}),T={chip:{borderRadius:3}},E=function(e){var t=a.useState(!0),n=Object(r.a)(t,2),o=n[0],i=n[1],s=Object(b.e)(),c=w(),u=function(e){if(e.text)return null;if(e.name){var t=s[e.name];if(!t)return null;var n=Object(b.b)(t);return Object(k.jsx)(f.a,{children:Object(k.jsx)(g.a,{label:n,style:T.chip})})}},O=function(t){if(t.text)return t.text;if(t.name){var n=C.b[t.name],r=n.area,a=n.displayText,o=C.a[r];return e.i18n._(o)+" \u3009"+e.i18n._(a)}},E=function(e){return e.text&&e.iconSrc?Object(k.jsx)(d.a,{iconSize:20,src:e.iconSrc}):Object(k.jsx)(v.a,{})};return Object(k.jsx)(x.a,{open:o,onClose:function(t,n){"select-option"!==n&&e.onClose()},onOpen:function(){return i(!0)},options:e.items,getOptionLabel:O,onChange:function(t,n){e.onSelect(n)},openOnFocus:!0,autoHighlight:!0,filterOptions:y,renderInput:function(t){return Object(k.jsx)(m.a,Object(l.a)(Object(l.a)({},t),{},{placeholder:e.i18n._(e.placeholder),variant:"outlined",autoFocus:!0}))},renderOption:function(e){return Object(k.jsxs)(p.a,{dense:!0,component:"div",ContainerComponent:"div",classes:{container:c.listItemContainer},children:[Object(k.jsx)(j.a,{children:E(e)}),Object(k.jsx)(h.a,{primary:O(e)}),u(e)]})}})},S=Object(c.a)({scrollPaper:{alignItems:"flex-start"}}),P=Object(c.a)({rounded:{borderRadius:4}}),I=o.a.forwardRef((function(e,t){var n=S(),a=P(),c=o.a.useContext(u.b),l=o.a.useState("closed"),d=Object(r.a)(l,2),b=d[0],p=d[1],j=o.a.useState(null),h=Object(r.a)(j,2),f=h[0],g=h[1],m=o.a.useCallback((function(e){e.handler?(e.handler(),"OPEN_COMMAND_PALETTE"!==e.name&&p("closed")):(g(e),p("option"))}),[g,p]),O=function(e){e.handler(),p("closed")},v=o.a.useCallback((function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];p(e?"command":"closed")}),[]),x=o.a.useCallback((function(e){var t=c.getNamedCommand(e);t&&m(t)}),[m,c]);return o.a.useImperativeHandle(t,(function(){return{open:v,launchCommand:x}})),Object(k.jsx)(i.I18n,{children:function(e){var t=e.i18n;return Object(k.jsxs)(s.a,{onClose:function(){return p("closed")},"aria-label":"command-palette",open:"closed"!==b,fullWidth:!0,hideBackdrop:!0,maxWidth:"sm",classes:n,transitionDuration:0,PaperProps:{classes:a},children:["command"===b&&Object(k.jsx)(E,{i18n:t,items:c.getAllNamedCommands().filter((function(e){return!C.b[e.name].ghost})),placeholder:{id:"Start typing a command..."},onClose:function(){return p("closed")},onSelect:m}),"option"===b&&f&&Object(k.jsx)(E,{i18n:t,items:f.generateOptions(),placeholder:C.b[f.name],onClose:function(){return p("closed")},onSelect:O})]})}})}));t.a=I},function(e,t,n){"use strict";n.d(t,"a",(function(){return ne}));var r=n(34),a=n(9),o=n(17),i=n.n(o),s=n(303),c=n(298),u=n(859),l=n.n(u),d=n(318),b=n(396),p=n(2),j=n(0),h=n.n(j),f=n(311),g=n(297),m=n(324),O=n(305),v=n(883),x=n(314),y=n(470),C=n(40),k=n.n(C),w=n(958),T=n(60),E=n(1020),S=n(374),P=n(8),I=function(){var e=Object(p.a)(h.a.mark((function e(t){var n,r,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.a.get(t,{responseType:"arraybuffer"});case 3:if(n=e.sent,!((r=btoa(new Uint8Array(n.data).reduce((function(e,t){return e+String.fromCharCode(t)}),""))).length>102400)){e.next=7;break}throw new Error("Icon is too big (size after base64 conversion: ".concat(r.length,")"));case 7:if("image/svg+xml"===(a=n.headers?n.headers["content-type"].toLowerCase():"")){e.next=10;break}throw new Error('Wrong content type. Got: "'.concat(a,'", expected "image/svg+xml"'));case 10:return e.abrupt("return","data:".concat(a,";base64,").concat(r));case 13:throw e.prev=13,e.t0=e.catch(0),console.error("Unable to import the icon.",e.t0),e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),A=function(e){var t=e.i18n,n=e.helpPath,r=e.onChangeHelpPath,o=Object(y.b)(n),i=Object(y.c)(n),s=n?(i?t._({id:"This is a relative path that will open in the GDevelop wiki."}):t._({id:"This is link to a webpage."}))+" [".concat(t._({id:"Click here to test the link."}),"](").concat(Object(y.a)(n),")"):t._({id:"This can either be a URL to a web page, or a path starting with a slash that will be opened in the GDevelop wiki. Leave empty if there is no help page, although it's recommended you eventually write one if you distribute the extension."});return Object(P.jsx)(f.b,{floatingLabelText:Object(P.jsx)(a.Trans,{id:"Help page URL"}),value:n,onChange:function(e,t){r(t)},errorText:!n||o||i?null:Object(P.jsx)(a.Trans,{id:'This is not a URL starting with "http://" or "https://".'}),helperMarkdownText:s,fullWidth:!0})},D=function(e){var t=e.eventsFunctionsExtension,n=e.onLoadChange,o=e.isLoading,u=Object(x.a)(),l=i.a.useState(!1),d=Object(r.a)(l,2),b=d[0],p=d[1],j=Object(w.a)();return Object(P.jsx)(a.I18n,{children:function(e){var r=e.i18n;return Object(P.jsxs)(g.a,{noMargin:!0,children:[Object(P.jsx)(f.b,{floatingLabelText:Object(P.jsx)(a.Trans,{id:"Name"}),value:t.getName(),disabled:!0,fullWidth:!0}),Object(P.jsx)(g.d,{renderButton:function(e){return Object(P.jsx)(O.a,{onClick:function(){p(!0)},primary:!0,label:Object(P.jsx)(a.Trans,{id:"Choose"}),disabled:o,style:e})},renderTextField:function(){return Object(P.jsx)(m.a,{floatingLabelText:Object(P.jsx)(a.Trans,{id:"Icon URL"}),value:t.getPreviewIconUrl(),onChange:function(e){t.setPreviewIconUrl(e)},disabled:!0,fullWidth:!0})}}),Object(P.jsx)(f.b,{floatingLabelText:Object(P.jsx)(a.Trans,{id:"Name displayed in editor"}),value:t.getFullName(),onChange:function(e,n){t.setFullName(n),u()},fullWidth:!0}),Object(P.jsx)(f.b,{floatingLabelText:Object(P.jsx)(a.Trans,{id:"Short description"}),value:t.getShortDescription(),onChange:function(e,n){t.setShortDescription(n),u()},multiline:!0,fullWidth:!0,rows:2,rowsMax:2}),Object(P.jsx)(f.b,{floatingLabelText:Object(P.jsx)(a.Trans,{id:"Description (markdown supported)"}),value:t.getDescription(),onChange:function(e,n){t.setDescription(n),u()},multiline:!0,fullWidth:!0,rows:5,rowsMax:15,helperMarkdownText:r._({id:"Explain and give some examples of what can be achieved with this extension."})}),Object(P.jsx)(f.b,{floatingLabelText:Object(P.jsx)(a.Trans,{id:"Version"}),value:t.getVersion(),onChange:function(e,n){t.setVersion(n),u()},fullWidth:!0}),Object(P.jsx)(S.c,{floatingLabelText:Object(P.jsx)(a.Trans,{id:"Category (shown in the editor)"}),fullWidth:!0,value:t.getCategory(),onChange:function(e){t.setCategory(e),u()},dataSource:[{text:"",value:"General",translatableValue:"General"},{text:"Ads",value:"Ads",translatableValue:"Ads"},{text:"Visual effect",value:"Visual effect",translatableValue:"Visual effect"},{text:"Audio",value:"Audio",translatableValue:"Audio"},{text:"Advanced",value:"Advanced",translatableValue:"Advanced"},{text:"Camera",value:"Camera",translatableValue:"Camera"},{text:"Input",value:"Input",translatableValue:"Input"},{text:"Game mechanic",value:"Game mechanic",translatableValue:"Game mechanic"},{text:"Movement",value:"Movement",translatableValue:"Movement"},{text:"Network",value:"Network",translatableValue:"Network"},{text:"Third-party",value:"Third-party",translatableValue:"Third-party"},{text:"User interface",value:"User interface",translatableValue:"User interface"}]}),Object(P.jsx)(m.a,{floatingLabelText:Object(P.jsx)(a.Trans,{id:"Tags (comma separated)"}),value:t.getTags().toJSArray().join(", "),onChange:function(e){var n=t.getTags();n.clear(),e.split(",").map((function(e){return e.trim()})).filter(Boolean).forEach((function(e){n.push_back(e)})),u()},fullWidth:!0}),Object(P.jsx)(A,{i18n:r,helpPath:t.getHelpPath(),onChangeHelpPath:function(e){t.setHelpPath(e),u()}}),Object(P.jsx)(E.a,{userIds:t.getAuthorIds().toJSArray(),onChange:function(e){var n=t.getAuthorIds();n.clear(),e.forEach((function(e){return n.push_back(e.userId)}))},floatingLabelText:Object(P.jsx)(a.Trans,{id:"Authors"}),helperText:Object(P.jsx)(a.Trans,{id:"Select the usernames of the contributors to this extension. They will be displayed in the order selected. Do not see your name? Go to the Profile section and create an account!"})}),b&&Object(P.jsx)(s.c,{title:Object(P.jsx)(a.Trans,{id:"Choose an icon for the extension"}),actions:[Object(P.jsx)(c.a,{label:Object(P.jsx)(a.Trans,{id:"Cancel"}),primary:!1,onClick:function(){p(!1)}},"cancel")],flexColumnBody:!0,fullHeight:!0,open:!0,onRequestClose:function(){p(!1)},children:Object(P.jsx)(v.a,{onChoose:function(e){p(!1),n(!0),I(e.url).then((function(n){j.current&&(t.setPreviewIconUrl(e.url),t.setIconUrl(n))}),(function(e){j.current&&Object(T.a)({message:r._({id:"Unable to download the icon. Verify your internet connection or try again later."}),rawError:e,errorId:"icon-download-error"})})).then((function(){j.current&&n(!1)}))},resourceKind:"svg"})})]})}})},F=n(352),M=n(2656),_=n(461),L=n(310),R=n(328),N=n.n(R),B=n(395),U=n.n(B),H=n(322),W=n(321),z=n(295),V=n(307),G=n(95),Z=n(347),Y=n(327),q={paper:{minWidth:"100%"}},X=function(e,t){for(var n=0;n<t.size();n++)if(t.at(n).getName()===e)return!0;return!1},J=function(e){var t=e.eventsFunctionsExtension,n=t.getAllDependencies(),r=Object(x.a)();return Object(P.jsxs)(z.a,{noMargin:!0,children:[Object(P.jsx)(z.c,{expand:!0,children:Object(P.jsxs)(M.a,{component:function(e){var t=e.children;return Object(P.jsx)(Y.a,{style:q.paper,background:"medium",children:t})},children:[Object(P.jsxs)(_.a,{children:[Object(P.jsx)(_.c,{children:Object(P.jsxs)(_.e,{children:[Object(P.jsx)(_.d,{children:Object(P.jsx)(a.Trans,{id:"Name"})}),Object(P.jsx)(_.d,{children:Object(P.jsx)(a.Trans,{id:"Export name"})}),Object(P.jsx)(_.d,{children:Object(P.jsx)(a.Trans,{id:"Version"})}),Object(P.jsx)(_.d,{children:Object(P.jsx)(a.Trans,{id:"Dependency type"})}),Object(P.jsx)(_.d,{children:Object(P.jsx)(a.Trans,{id:"Action"})})]})}),Object(P.jsx)(_.b,{children:Object(V.mapVector)(t.getAllDependencies(),(function(e,a){return Object(P.jsxs)(_.e,{children:[Object(P.jsx)(_.f,{children:Object(P.jsx)(m.a,{commitOnBlur:!0,value:e.getName(),onChange:function(t){t!==e.getName()&&(X(t,n)?Object(T.c)("This name is already in use! Please use a unique name.",{delayToNextTick:!0}):(e.setName(t),r()))},margin:"none"})}),Object(P.jsx)(_.f,{children:Object(P.jsx)(m.a,{commitOnBlur:!0,value:e.getExportName(),onChange:function(t){t!==e.getExportName()&&(e.setExportName(t),r())},margin:"none"})}),Object(P.jsx)(_.f,{children:Object(P.jsx)(m.a,{commitOnBlur:!0,value:e.getVersion(),onChange:function(t){t!==e.getVersion()&&(e.setVersion(t),r())},margin:"none"})}),Object(P.jsx)(_.f,{children:Object(P.jsxs)(H.a,{value:e.getDependencyType(),onChange:function(t,n,a){a!==e.getDependencyType()&&(e.setDependencyType(a),r())},margin:"none",children:[Object(P.jsx)(W.a,{value:"npm",primaryText:{id:"NPM"}}),Object(P.jsx)(W.a,{value:"cordova",primaryText:{id:"Cordova"}})]})}),Object(P.jsx)(_.f,{children:Object(P.jsx)(L.a,{tooltip:{id:"Delete"},onClick:function(){t.removeDependencyAt(a),r()},size:"small",children:Object(P.jsx)(U.a,{})})})]},e.getName())}))})]}),Object(P.jsx)(z.a,{expand:!0,children:Object(P.jsx)(z.c,{justifyContent:"flex-end",children:Object(P.jsx)(O.a,{primary:!0,icon:Object(P.jsx)(N.a,{}),label:Object(P.jsx)(a.Trans,{id:"Add"}),onClick:function(){t.addDependency().setName(Object(G.a)("New Dependency",(function(e){return X(e,n)}))).setExportName("my-dependency").setVersion("1.0.0").setDependencyType("cordova"),r()}})})})]})}),Object(P.jsx)(z.c,{children:Object(P.jsx)(Z.a,{children:Object(P.jsx)(a.Trans,{id:"Dependencies allow to add additional libraries in the exported games. NPM dependencies will be included for Electron builds (Windows, macOS, Linux) and Cordova dependencies will be included for Cordova builds (Android, iOS). Note that this is intended for usage in JavaScript events only. If you are only using standard events, you should not worry about this."})})})]})},K=n(296),Q=n(26),$=function(){var e=Object(p.a)(h.a.mark((function e(t,n){var r,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.getEventsFunctionsExtensionWriter()){e.next=3;break}throw new Error("The extension can't be exported because it's not supported by the web-app.");case 3:return e.next=5,r.chooseEventsFunctionExtensionFile(n.getName());case 5:if(a=e.sent){e.next=8;break}return e.abrupt("return");case 8:return e.next=10,r.writeEventsFunctionsExtension(n,a);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ee=function(){Q.b.openExternalURL("https://github.com/GDevelopApp/GDevelop-extensions/issues/new?assignees=&labels=%E2%9C%A8+New+extension&template=new-extension.yml&title=New+extension%3A+%3Ctitle%3E")},te=function(e){var t=i.a.useContext(b.a);return Object(P.jsx)(s.c,{title:Object(P.jsx)(a.Trans,{id:"Export extension"}),secondaryActions:[Object(P.jsx)(d.a,{helpPagePath:"/community/contribute-to-the-assets-store"},"help"),Object(P.jsx)(c.a,{label:Object(P.jsx)(a.Trans,{id:"Submit to the community"}),onClick:ee})],actions:[Object(P.jsx)(c.a,{label:Object(P.jsx)(a.Trans,{id:"Close"}),keyboardFocused:!0,onClick:function(){e.onClose()}},"close"),Object(P.jsx)(s.a,{icon:Object(P.jsx)(l.a,{}),primary:!0,label:Object(P.jsx)(a.Trans,{id:"Export to a file"}),onClick:function(){$(t,e.eventsFunctionsExtension)}},"export")],open:!0,onRequestClose:e.onClose,maxWidth:"sm",children:Object(P.jsx)(z.a,{expand:!0,noMargin:!0,children:Object(P.jsx)(z.c,{children:Object(P.jsx)(K.a,{children:Object(P.jsx)(a.Trans,{id:"You can export the extension to a file to easily import it in another project. If your extension is providing useful and reusable functions or behaviors, consider sharing it with the GDevelop community!"})})})})})};function ne(e){var t=e.eventsFunctionsExtension,n=e.onClose,i=e.open,u=o.useState("options"),p=Object(r.a)(u,2),j=p[0],h=p[1],f=o.useState(!1),g=Object(r.a)(f,2),m=g[0],O=g[1],v=o.useState(!1),x=Object(r.a)(v,2),y=x[0],C=x[1],k=o.useContext(b.a).getEventsFunctionsExtensionWriter();return Object(P.jsxs)(s.c,{title:Object(P.jsx)(a.Trans,{id:"{0} options",values:{0:t.getName()}}),secondaryActions:[Object(P.jsx)(d.a,{helpPagePath:"/extensions/create"},"help"),k?Object(P.jsx)(c.a,{leftIcon:Object(P.jsx)(l.a,{}),label:Object(P.jsx)(a.Trans,{id:"Export extension"}),onClick:function(){C(!0)},disabled:m},"export"):null],actions:[Object(P.jsx)(c.a,{label:Object(P.jsx)(a.Trans,{id:"Close"}),primary:!0,keyboardFocused:!0,onClick:n,disabled:m},"close")],open:i,fixedContent:Object(P.jsx)(F.a,{value:j,onChange:h,options:[{value:"options",label:Object(P.jsx)(a.Trans,{id:"Options"})},{value:"dependencies",label:Object(P.jsx)(a.Trans,{id:"Dependencies"})}]}),cannotBeDismissed:m,onRequestClose:m?function(){}:n,children:["options"===j&&Object(P.jsx)(z.c,{children:Object(P.jsx)(D,{eventsFunctionsExtension:t,onLoadChange:O,isLoading:m})}),"dependencies"===j&&Object(P.jsx)(z.c,{children:Object(P.jsx)(J,{eventsFunctionsExtension:t})}),y&&Object(P.jsx)(te,{eventsFunctionsExtension:t,onClose:function(){return C(!1)}})]})}},function(e,t,n){"use strict";var r=n(434),a=n(17),o=n(415),i=n(378),s=function(e,t,n,r){return Object(o.c)(e,t).containerObjectsList.map((function(t){return{text:t.object.getName(),handler:function(){return n(t.object,r)},iconSrc:i.a.getThumbnail.bind(i.a)(e,t.object.getConfiguration())}}))},c=function(e){var t=e.project,n=e.layout,o=e.onEditObject,i=e.onEditObjectVariables;Object(r.b)("EDIT_OBJECT",!0,{generateOptions:a.useCallback((function(){return s(t,n,o)}),[t,n,o])}),Object(r.b)("EDIT_OBJECT_BEHAVIORS",!0,{generateOptions:a.useCallback((function(){return s(t,n,o,"behaviors")}),[t,n,o])}),Object(r.b)("EDIT_OBJECT_EFFECTS",!0,{generateOptions:a.useCallback((function(){return s(t,n,o,"effects")}),[t,n,o])}),Object(r.b)("EDIT_OBJECT_VARIABLES",!0,{generateOptions:a.useCallback((function(){return s(t,n,i)}),[t,n,i])})},u=n(19),l=function(e){var t=e.project,n=e.layout,i=e.onEditObjectGroup;Object(r.b)("EDIT_OBJECT_GROUP",!0,{generateOptions:a.useCallback((function(){return[].concat(Object(u.a)(Object(o.a)(n.getObjectGroups())),Object(u.a)(Object(o.a)(t.getObjectGroups()))).map((function(e){return{text:e.getName(),handler:function(){return i(e)}}}))}),[i,t,n])})},d=n(307),b=function(e){var t=e.layout,n=e.onEditLayerEffects,o=e.onEditLayer;Object(r.b)("EDIT_LAYER_EFFECTS",!0,{generateOptions:a.useCallback((function(){var e=t.getLayersCount();return Object(d.mapReverseFor)(0,e,(function(e){var r=t.getLayerAt(e);return{text:r.getName()||"Base layer",handler:function(){return n(r)}}}))}),[t,n])}),Object(r.b)("EDIT_LAYER",!0,{generateOptions:a.useCallback((function(){var e=t.getLayersCount();return Object(d.mapReverseFor)(0,e,(function(e){var n=t.getLayerAt(e);return{text:n.getName()||"Base layer",handler:function(){return o(n)}}}))}),[t,o])})};t.a=function(e){var t=e.project,n=e.layout,a=e.onEditObject,o=e.onEditObjectVariables,i=e.onOpenSceneProperties,s=e.onOpenSceneVariables,u=e.onEditObjectGroup,d=e.onEditLayerEffects,p=e.onEditLayer;return Object(r.a)("OPEN_SCENE_PROPERTIES",!0,{handler:i}),Object(r.a)("OPEN_SCENE_VARIABLES",!0,{handler:s}),c({project:t,layout:n,onEditObject:a,onEditObjectVariables:o}),l({project:t,layout:n,onEditObjectGroup:u}),b({layout:n,onEditLayerEffects:d,onEditLayer:p}),null}},function(e,t,n){"use strict";n.d(t,"a",(function(){return D}));var r=n(2),a=n(6),o=n(5),i=n(10),s=n(11),c=n(0),u=n.n(c),l=n(9),d=n(17),b=n(357),p=n(316),j=n(450),h=n(3),f=(n(320),n(533)),g=n(565),m=n(8),O={previewContainer:{position:"relative",display:"flex",width:"100%",alignItems:"center",justifyContent:"center",height:200},iconContainer:{display:"flex",flex:1,height:"100%",alignItems:"center",justifyContent:"center",position:"relative"},icon:{width:60,height:60}},v=function(e){var t=e.renderIcon;return Object(m.jsxs)("div",{style:O.previewContainer,children:[Object(m.jsx)(g.a,{}),Object(m.jsx)("div",{style:O.iconContainer,children:t({style:O.icon})})]})},x=n(2226),y=n.n(x),C=n(1205),k=n.n(C),w=n(1206),T=n.n(w),E=n(1207),S=n.n(E),P=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state=e._loadFrom(e.props),e}return Object(o.a)(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.resourceName===this.props.resourceName&&e.project===this.props.project||this.setState(this._loadFrom(e))}},{key:"_loadFrom",value:function(e){var t=e.project,n=e.resourceName,r=t.getResourcesManager();return{resourceKind:r.hasResource(n)?r.getResource(n).getKind():null}}},{key:"render",value:function(){switch(this.state.resourceKind){case"image":return Object(m.jsx)(f.a,{resourceName:this.props.resourceName,imageResourceSource:this.props.resourcesLoader.getResourceFullUrl(this.props.project,this.props.resourceName,{}),isImageResourceSmooth:Object(f.b)(this.props.project,this.props.resourceName),onSize:this.props.onSize});case"audio":return Object(m.jsx)(v,{renderIcon:function(e){return Object(m.jsx)(y.a,Object(h.a)({},e))}});case"json":case"tilemap":case"tileset":return Object(m.jsx)(v,{renderIcon:function(e){return Object(m.jsx)(k.a,Object(h.a)({},e))}});case"video":return Object(m.jsx)(v,{renderIcon:function(e){return Object(m.jsx)(T.a,Object(h.a)({},e))}});case"font":case"bitmapFont":return Object(m.jsx)(v,{renderIcon:function(e){return Object(m.jsx)(S.a,Object(h.a)({},e))}});default:return null}}}]),n}(d.PureComponent),I=n(430),A={propertiesContainer:{padding:8,overflowY:"scroll",overflowX:"hidden",flex:1}},D=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(a.a)(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).schema=[{name:"Resource name",valueType:"string",disabled:!0,getValue:function(e){return e.getName()},setValue:function(e,t){return e.setName(t)}},{name:"File",valueType:"string",getValue:function(e){return e.getFile()},setValue:function(e,t){return e.setFile(t)},onEditButtonClick:function(){var t=e.props.resourceManagementProps,n=t.getStorageProvider(),r=t.resourceSources.filter((function(t){return t.kind===e.props.resources[0].getKind()})).filter((function(e){var t=e.onlyForStorageProvider;return!t||t===n.internalName}))[0];r&&e._chooseResourcePath(r)},onEditButtonBuildMenuTemplate:function(t){var n=e.props.resourceManagementProps,r=n.getStorageProvider();return n.resourceSources.filter((function(t){return t.kind===e.props.resources[0].getKind()})).filter((function(e){var t=e.onlyForStorageProvider;return!t||t===r.internalName})).map((function(n){return{label:t._(n.displayName),click:function(){return e._chooseResourcePath(n)}}}))}}],e._chooseResourcePath=function(){var t=Object(r.a)(u.a.mark((function t(n){var r,a,o,i,s,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.props,a=r.resources,o=r.onResourcePathUpdated,i=r.resourceManagementProps,s=a[0],t.next=4,i.onChooseResource({initialSourceName:n.name,multiSelection:!1,resourceKind:s.getKind()});case 4:if((c=t.sent).length){t.next=7;break}return t.abrupt("return");case 7:return s.setFile(c[0].getFile()),c.forEach((function(e){return e.delete()})),o(),e.forceUpdate(),t.next=13,i.onFetchNewlyAddedResources();case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(o.a)(n,[{key:"_renderEmpty",value:function(){return Object(m.jsx)(p.a,{children:Object(m.jsx)(l.Trans,{id:"Resources are automatically added to your project whenever you add an image, a font or a video to an object or when you choose an audio file in events. Choose a resource to display its properties."})})}},{key:"_renderResourcesProperties",value:function(){var e=this.props.resources,t=e[0].getProperties(),n=Object(I.a)(t,(function(e){return e.getProperties()}),(function(e,t,n){return e.updateProperty(t,n)}));return Object(m.jsx)("div",{style:A.propertiesContainer,children:Object(m.jsx)(j.a,{schema:this.schema.concat(n),instances:e})},e.map((function(e){return""+e.ptr})).join(";"))}},{key:"_renderPreview",value:function(){var e=this.props,t=e.resources,n=e.project,r=e.resourcesLoader;if(t&&t.length)return Object(m.jsx)(P,{resourceName:t[0].getName(),resourcesLoader:r,project:n})}},{key:"render",value:function(){var e=this.props.resources;return Object(m.jsxs)(b.a,{maxWidth:!0,children:[this._renderPreview(),e&&e.length?this._renderResourcesProperties():this._renderEmpty()]})}}]),n}(d.Component)},,function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var r=n(17),a=n(448),o=n(363),i=n(3),s=n(306),c=n(8),u={borderRight:"1px solid",borderLeft:"1px solid",width:8,marginLeft:"-1px",height:"100%",boxSizing:"border-box"};function l(){var e=r.useContext(s.a);return Object(c.jsx)("div",{style:Object(i.a)(Object(i.a)({},u),{},{backgroundColor:e.dropIndicator.canDrop,borderColor:e.dropIndicator.border})})}var d=n(811),b=n(1115),p=Object(a.a)("draggable-closable-tab");function j(e){var t=e.hideLabels,n=e.editorTabs,r=e.onClickTab,a=e.onCloseTab,o=e.onCloseOtherTabs,i=e.onCloseAll,s=e.onTabActivated,u=e.onDropTab,l=null;return Object(c.jsx)(b.b,{hideLabels:t,children:Object(d.m)(n).map((function(e,t){var b=Object(d.k)(n)===t;return Object(c.jsx)(h,{index:t,label:e.label,icon:e.icon,id:"tab-".concat(e.key.replace(/\s/g,"-")),data:e.tabOptions?e.tabOptions.data:void 0,active:b,onClick:function(){return r(t)},onClose:function(){return a(e)},onCloseOthers:function(){return o(e)},onCloseAll:i,onActivated:function(){return s(e)},closable:e.closable,onBeginDrag:function(){return l=t,e},onDrop:function(e){"number"===typeof l&&(u(l,t),l=null)}},e.key)}))})}function h(e){var t=e.index,n=e.id,r=e.data,a=e.active,i=e.onClose,s=e.onCloseOthers,u=e.onCloseAll,d=e.label,j=e.icon,h=e.closable,f=e.onClick,g=e.onActivated,m=e.onBeginDrag,O=e.onDrop;return Object(c.jsx)(o.a,{children:function(e){return Object(c.jsx)(p,{beginDrag:m,canDrag:function(){return"touch"!==e&&0!==t},canDrop:function(){return!0},drop:function(){return O(t)},children:function(e){var t=e.connectDragSource,o=e.connectDropTarget,p=e.isOver,m=(e.canDrop,o(Object(c.jsxs)("div",{style:{display:"flex",flexShrink:0},children:[Object(c.jsx)(b.a,{id:n,data:r,active:a,onClose:i,onCloseOthers:s,onCloseAll:u,label:d,icon:j,closable:h,onClick:f,onActivated:g},n),p&&Object(c.jsx)(l,{})]})));return m?t(m):null}})}})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return I}));var r=n(6),a=n(5),o=n(10),i=n(11),s=n(9),c=n(17),u=n(303),l=n(298),d=n(26),b=n(3),p=n(311),j=n(336),h=n(295),f=n(2227),g=n.n(f),m=n(102),O=n.n(m),v=n(296),x=n(8),y={maxHeight:300,overflowY:"scroll"},C=function(e){return e.replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&#x27;/g,"'")},k="gdevelop",w="BH4D9OD16A",T="69c73fc1a710bb79543d4b91f6b81c08",E={hitsPerPage:5},S=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).client=g()(w,T,E),e.state={results:null,error:null},e._handleSearchTextChange=function(t){e.props.onChange(t)},e._launchSearchRequest=O()((function(){e.props.value&&e.client.search([{indexName:k,query:e.props.value,params:E}]).then((function(t){var n=t.results[0].hits;console.log(n),e.setState({results:n,error:null})}),(function(t){e.setState({error:t})}))}),200),e._renderResult=function(e){var t=e.hierarchy.lvl0||e.hierarchy.lvl1||e.hierarchy.lvl2||e.hierarchy.lvl3||e.hierarchy.lvl4||e.hierarchy.lvl5||e.hierarchy.lvl6||"",n=[e.hierarchy.lvl0,e.hierarchy.lvl1,e.hierarchy.lvl2,e.hierarchy.lvl3,e.hierarchy.lvl4,e.hierarchy.lvl5,e.hierarchy.lvl6].filter((function(e){return!!e})).filter((function(e){return e!==t})).join(" - ");return Object(x.jsx)(j.b,{primaryText:C(t),secondaryText:C(e.content||n),secondaryTextLines:2,onClick:function(){d.b.openExternalURL(e.url)}},e.objectID)},e}return Object(a.a)(n,[{key:"componentDidUpdate",value:function(e){e.value!==this.props.value&&this.props.value&&this._launchSearchRequest()}},{key:"render",value:function(){var e=this;return Object(x.jsxs)("div",{children:[Object(x.jsx)(p.b,{id:"help-finder-search-bar",fullWidth:!0,translatableHintText:{id:"Search on the documentation."},value:this.props.value,onChange:function(t,n){return e.props.onChange(n)}}),Object(x.jsx)("div",{id:"help-finder-dropdown-menu-container",className:"algolia-autocomplete",style:Object(b.a)(Object(b.a)({},y),{},{visibility:this.props.value?void 0:"hidden"})}),this.state.error?Object(x.jsx)(v.a,{children:Object(x.jsx)(s.Trans,{id:"Unable to search in the documentation. Are you sure you are online and have a proper internet connection?"})}):this.state.results?Object(x.jsx)(j.a,{children:this.state.results.map((function(t){return e._renderResult(t)}))}):Object(x.jsxs)(c.Fragment,{children:[Object(x.jsx)(v.a,{children:Object(x.jsx)(s.Trans,{id:"Examples:"})}),Object(x.jsx)(h.a,{expand:!0,children:Object(x.jsxs)(v.a,{children:["Coins in platformer",Object(x.jsx)("br",{}),"Export on Android",Object(x.jsx)("br",{}),"Add a score",Object(x.jsx)("br",{}),"Move enemies",Object(x.jsx)("br",{}),"...",Object(x.jsx)("br",{})]})})]}),Object(x.jsxs)(v.a,{align:"right",children:[Object(x.jsx)(s.Trans,{id:"This search is powered by"})," ",Object(x.jsx)(l.a,{onClick:function(){return d.b.openExternalURL("http://algolia.com/")},label:"Algolia"})]})]})}}]),n}(c.Component),P=n(54),I=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={searchText:""},e._handleSearchTextChange=function(t){e.setState({searchText:t}),e._sendHelpSearch()},e._sendHelpSearch=O()((function(){e.state.searchText&&Object(P.r)(e.state.searchText.trim())}),2900),e}return Object(a.a)(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.open&&!this.props.open&&Object(P.q)()}},{key:"render",value:function(){var e=this.props,t=e.open,n=e.onClose;return Object(x.jsx)(u.c,{title:Object(x.jsx)(s.Trans,{id:"Help!"}),actions:[Object(x.jsx)(l.a,{label:Object(x.jsx)(s.Trans,{id:"Close"}),primary:!1,onClick:n},"close")],secondaryActions:[Object(x.jsx)(l.a,{primary:!1,onClick:function(){d.b.openExternalURL("https://forum.gdevelop-app.com")},label:Object(x.jsx)(s.Trans,{id:"Community forum"})},"forum"),Object(x.jsx)(l.a,{primary:!1,onClick:function(){d.b.openExternalURL("https://wiki.gdevelop.io/gdevelop5/start")},label:Object(x.jsx)(s.Trans,{id:"Browse the documentation"})},"wiki")],onRequestClose:n,open:t,children:Object(x.jsx)(S,{value:this.state.searchText,onChange:this._handleSearchTextChange})})}}]),n}(c.PureComponent)},function(e,t,n){"use strict";var r=n(34),a=n(17),o=n(9),i=n(303),s=n(298),c=n(1273),u=n(296),l=n(314),d=n(26),b=n(297),p=n(8),j=function(e){var t=e.open,n=e.onClose,r=Object(l.a)();if(!t)return null;var a=[Object(p.jsx)(s.a,{label:Object(p.jsx)(o.Trans,{id:"Close"}),primary:!0,onClick:n},"close")];return Object(p.jsxs)(i.c,{title:Object(p.jsx)(o.Trans,{id:"What's new in GDevelop?"}),actions:a,open:t,onRequestClose:n,flexColumnBody:!0,children:[Object(p.jsxs)(b.c,{noMargin:!0,justifyContent:"space-between",children:[Object(p.jsx)(u.a,{children:Object(p.jsx)(o.Trans,{id:"GDevelop was upgraded to a new version! Check out the changes."})}),Object(p.jsx)(s.a,{label:Object(p.jsx)(o.Trans,{id:"See all the release notes"}),onClick:function(){return d.b.openExternalURL("https://github.com/4ian/GDevelop/releases")}})]}),Object(p.jsx)(c.a,{onUpdated:r})]})},h=n(39),f=function(e){var t=e.defaultOpen,n=a.useState(t),o=Object(r.a)(n,2),i=o[0],s=o[1];return Object(p.jsx)(j,{open:i,onClose:function(){return s(!1)}})};t.a=function(e){return Object(p.jsx)(h.a.Consumer,{children:function(e){var t=e.values,n=e.verifyIfIsNewVersion;return Object(p.jsx)(f,{defaultOpen:n()&&t.autoDisplayChangelog})}})}},function(e,t,n){"use strict";var r=n(2),a=n(34),o=n(0),i=n.n(o),s=n(9),c=n(17),u=n(730),l=n.n(u),d=n(303),b=n(298),p=n(311),j=n(2264),h=n.n(j),f=n(2272),g=n.n(f),m=["abandoned","abashed","aberrant","abhorrent","abiding","abject","ablaze","able","abounding","abrasive","abrupt","absent","absorbed","absorbing","abstracted","absurd","abundant","acceptable","accessible","accidental","accurate","acidic","acoustic","acrid","actionable","active","actual","adamant","adaptable","adept","adhesive","adjoining","adorable","adroit","adventurous","affable","affectionate","afraid","aggressive","agile","agonizing","agreeable","airy","alert","alive","alleged","alluring","aloof","amazing","ambiguous","ambitious","amiable","ample","amused","amusing","ancient","angry","animated","annoyed","annoying","anxious","apathetic","apt","aquatic","ardent","aromatic","arrogant","ashamed","aspiring","assorted","astonishing","astute","attractive","august","auspicious","automatic","available","average","avid","aware","awesome","awful","axiomatic","bad","balmy","barbarous","bashful","bawdy","beautiful","befitting","belligerent","beneficial","benevolent","bent","berserk","best","better","bewildered","big","billowing","billowy","bitter","bizarre","blessed","bloody","blue","blushing","boiling","bold","boorish","bored","boring","boss","bouncy","boundless","brainy","brash","brave","brawny","breakable","breezy","brief","bright","brisk","broad","broken","bumpy","burly","bustling","busy","cagey","calculating","callous","calm","can","canny","capable","capricious","cared","careful","careless","caring","casual","cautious","ceaseless","celestial","certain","changeable","charming","cheap","cheerful","chemical","chic","chief","childlike","chilly","chivalrous","choice","chosen","chubby","chummy","chunky","civic","civil","clammy","classy","clean","clear","clever","cloistered","close","closed","cloudy","clumsy","cluttered","cogent","coherent","cold","colorful","colossal","combative","comfortable","common","complete","complex","composed","concerned","condemned","confused","conscious","cooing","cool","cooperative","coordinated","cosmic","courageous","cowardly","cozy","crabby","craven","crazy","creepy","crooked","crowded","cruel","cuddly","cultured","cumbersome","curious","curly","curved","curvy","cut","cute","cynical","daffy","daily","dainty","damaged","damaging","damp","dandy","dangerous","dapper","daring","dark","dashing","dazzling","dead","deadpan","deafening","dear","debonair","decent","decisive","decorous","deep","deeply","defeated","defective","defiant","deft","delicate","delicious","delightful","delirious","deluxe","demonic","dependent","deranged","descriptive","deserted","detailed","determined","devilish","devout","didactic","different","difficult","diligent","direct","direful","dirty","disagreeable","disastrous","discreet","disgusted","disgusting","disillusioned","dispensable","distinct","disturbed","divergent","divine","dizzy","domineering","doted","doting","doubtful","drab","draconian","dramatic","dreamy","dreary","driven","dry","dull","dusty","dynamic","dysfunctional","eager","early","earsplitting","earthy","easy","eatable","economic","educated","efficacious","efficient","eight","elastic","elated","electric","elegant","elfin","elite","embarrassed","eminent","empty","enchanted","enchanting","encouraging","end","endurable","energetic","energized","enigmatic","enormous","entertaining","enthusiastic","envious","equable","equal","erect","erratic","ethereal","evanescent","evasive","even","evil","exact","excellent","excited","exciting","exclusive","exotic","expensive","expert","exuberant","exultant","fabulous","faded","faint","fair","faithful","fallacious","false","famed","familiar","famous","fanatical","fancy","fantastic","far","fascinated","fast","faulty","fearful","fearless","feigned","fertile","festive","few","fierce","fiery","filthy","fine","finicky","first","fit","fixed","flagrant","flaky","flashy","flat","flawless","fleet","flimsy","flippant","flowery","flowing","fluent","fluffy","fluttering","flying","foamy","fond","foolish","for","foregoing","forgetful","forlorn","fortunate","fragile","frail","frank","frantic","free","freezing","frequent","fresh","fretful","friendly","frightened","frightening","full","fumbling","fun","functional","funny","furry","furtive","fuscia","future","futuristic","fuzzy","gabby","gainful","gamy","gaping","garrulous","gas","gaudy","general","genial","gentle","giant","giddy","gifted","gigantic","giving","glad","glamorous","gleaming","glib","glistening","glorious","glossy","gnarly","godly","gold","golden","good","goodly","goofy","gorgeous","graceful","grand","grandiose","grateful","gratis","gray","greasy","great","greedy","green","grey","grieving","groovy","grotesque","grouchy","grubby","gruesome","grumpy","guarded","guided","guiltless","gullible","gusty","gutsy","guttural","habitual","half","hallowed","haloed","halting","handsome","handsomely","handy","hanging","hapless","happy","hard","hardy","harmonious","harsh","heady","healthy","heartbreaking","hearty","heavenly","heavy","hellish","helpful","helpless","heroic","hesitant","hideous","high","highfalutin","hilarious","hip","hissing","historical","holistic","hollow","holy","homely","honest","honorable","horrible","hospitable","hot","huge","hulking","human","humane","humble","humdrum","humorous","hungry","hunky","hurried","hurt","hushed","husky","hypnotic","hysterical","icky","icy","ideal","ignorant","ill","illegal","illustrious","imaginary","immense","imminent","immune","impartial","imperfect","impolite","important","imported","impossible","incandescent","incompetent","inconclusive","incredible","indigo","industrious","inexpensive","infamous","innate","innocent","inquisitive","insidious","instinctive","intelligent","interesting","internal","invincible","irate","irritating","itchy","jaded","jagged","jazzed","jazzy","jealous","jittery","jolly","jovial","joyful","joyous","jubilant","judicious","juicy","jumbled","jumpy","just","kaput","keen","khaki","kind","kindhearted","kindly","kingly","knotty","knowing","knowledgeable","known","labored","lackadaisical","lacking","lame","lamentable","languid","large","last","late","laughable","lavish","lawful","lazy","lean","legal","legit","lethal","level","lewd","light","like","likeable","likely","limber","limitless","limping","literate","little","lively","living","lonely","long","longing","loose","lopsided","loud","lousy","loutish","loved","lovely","loving","low","lowly","loyal","lucid","lucky","ludicrous","lumpy","lush","luxuriant","lying","lyrical","macabre","macho","maddening","madly","magenta","magical","magnificent","main","majestic","major","makeshift","malicious","mammoth","maniacal","many","marked","married","marvelous","massive","material","materialistic","max","maxed","mean","measly","meaty","medical","meek","mellow","melodic","melted","merciful","mere","merry","messy","mighty","military","milky","mindless","miniature","minor","mint","mirthful","miscreant","misty","mixed","moaning","modern","modest","moldy","momentous","money","moonlit","moral","motionless","mountainous","moving","mucho","muddled","mundane","murky","mushy","mute","mutual","mysterious","naive","nappy","narrow","nasty","native","natural","naughty","nauseating","near","neat","nebulous","necessary","needed","needless","needy","neighborly","nervous","new","next","nice","nifty","nimble","nippy","noble","noiseless","noisy","nonchalant","nondescript","nonstop","normal","nostalgic","nosy","noted","novel","noxious","null","numberless","numero","numerous","nutritious","nutty","oafish","obedient","obeisant","obnoxious","obscene","obsequious","observant","obsolete","obtainable","oceanic","odd","offbeat","okay","omniscient","onerous","open","opposite","optimal","orange","ordinary","organic","ossified","outgoing","outrageous","outstanding","oval","overconfident","overjoyed","overrated","overt","overwrought","pacific","painful","painstaking","pale","paltry","panicky","panoramic","parallel","parched","parsimonious","past","pastoral","pathetic","peaceful","peachy","penitent","peppy","perfect","periodic","permissible","perpetual","petite","phobic","physical","picayune","pink","piquant","pithy","placid","plain","plant","plastic","plausible","pleasant","plucky","plum","poetic","pointless","poised","polite","political","posh","possessive","possible","potent","powerful","precious","premium","present","pretty","previous","pricey","prickly","prime","primo","private","prized","pro","probable","productive","profuse","prompt","proper","protective","proud","psychedelic","psychotic","public","puffy","pumped","punchy","puny","pure","purple","purring","pushy","puzzled","puzzling","quack","quaint","quarrelsome","questionable","quick","quickest","quiet","quirky","quixotic","quizzical","rabid","rad","radioactive","ragged","rainy","rambunctious","rampant","rapid","rare","raspy","ratty","reach","ready","real","rebel","receptive","recondite","red","redundant","reflective","regal","regular","relieved","remarkable","reminiscent","repulsive","resilient","resolute","resonant","responsible","rhetorical","rich","right","righteous","rightful","rigid","ripe","ritzy","roasted","robust","romantic","roomy","rooted","rosy","rotten","rough","round","royal","ruddy","rude","rugged","rural","rustic","ruthless","sable","sad","safe","salty","same","sassy","satisfying","saucy","savory","savvy","scandalous","scarce","scared","scary","scattered","scenic","scientific","scintillating","scrawny","screeching","second","secret","secretive","sedate","seemly","selective","selfish","sensitive","separate","serene","serious","shaggy","shaky","shallow","sharp","shiny","shivering","shocking","short","showy","shrewd","shrill","shut","shy","sick","silent","silky","silly","simple","simplistic","sincere","skillful","skinny","sleek","sleepy","slick","slim","slimy","slippery","sloppy","slow","small","smart","smelly","smiley","smiling","smoggy","smooth","snappy","snazzy","sneaky","snobbish","snotty","snowy","snugly","social","soft","soggy","sole","solid","solitary","somber","sophisticated","sordid","sore","sound","sour","spacial","sparkling","special","spectacular","spicy","spiffy","spiky","spiritual","spiteful","splendid","spooky","spotless","spotted","spotty","spry","spurious","squalid","square","squealing","squeamish","stable","staking","stale","standing","star","stark","statuesque","steadfast","steady","steep","stereotyped","sticky","stiff","stimulating","stingy","stoic","stormy","straight","strange","striped","strong","stunning","stupendous","sturdy","suave","subdued","subsequent","substantial","subtle","successful","succinct","sudden","sulky","sunny","sunset","super","superb","superficial","supreme","sure","swank","swanky","sweet","swell","sweltering","swift","symptomatic","synonymous","taboo","tacit","tacky","talented","tall","tame","tan","tangible","tangy","tart","tasteful","tasteless","tasty","tawdry","teal","tearful","tedious","teeny","telling","temporary","tender","tense","tenuous","terrible","terrific","tested","testy","thankful","therapeutic","thin","thinkable","third","thoughtful","thoughtless","threatening","thriving","thundering","tidy","timely","tiny","tired","tiresome","toothsome","top","tops","torpid","tough","touted","towering","tranquil","trashy","tremendous","tricky","trim","trite","tropical","troubled","truculent","true","trusty","truthful","try","typical","ubiquitous","ultra","unable","unaccountable","unadvised","unarmed","unbecoming","unbiased","uncovered","understood","undisturbed","unequal","unequaled","uneven","unhealthy","uninterested","unique","united","unkempt","unknown","unnatural","unruly","unsightly","unsuitable","untidy","unused","unusual","unwavering","unwieldy","unwritten","upbeat","uplifting","uppity","upset","uptight","urbane","usable","used","useful","utmost","utopian","utter","uttermost","vacuous","vagabond","vague","valid","valuable","various","vast","vengeful","venomous","verdant","versed","vestal","viable","victorious","vigorous","violent","violet","vital","vivacious","vivid","vocal","vogue","voiceless","volatile","voracious","wacky","waggish","waiting","wakeful","wandering","wanted","wanting","warlike","warm","wary","wasteful","watery","weak","wealthy","weary","wet","whimsical","whispering","whole","wholesale","wicked","wide","wiggly","wild","willing","windy","winged","wired","wiry","wise","wistful","witty","woebegone","wonderful","wooden","woozy","workable","worried","worthy","wrathful","wretched","wrong","wry","yielding","young","youthful","yummy","zany","zealous","zesty","zippy","zonked"],O=["account","achiever","acoustics","act","action","activity","actor","addition","adjustment","advertisement","advice","aftermath","afternoon","afterthought","agreement","air","airplane","airport","alarm","amount","amusement","anger","angle","animal","ants","apparatus","apparel","appliance","approval","arch","argument","arithmetic","arm","army","art","attack","attraction","authority","back","badge","bag","bait","balance","ball","base","baseball","basin","basket","basketball","bat","bath","battle","bead","bear","bed","bedroom","beds","bee","beef","beginner","behavior","belief","believe","bell","bells","berry","bike","bikes","bird","birds","birth","birthday","bit","bite","blade","blood","blow","board","boat","bomb","bone","book","books","boot","border","bottle","boundary","box","brake","branch","brass","breath","brick","bridge","bubble","bucket","building","bulb","burst","bushes","business","butter","button","cabbage","cable","cactus","cake","cakes","calculator","calendar","camera","camp","can","cannon","canvas","cap","caption","car","card","care","carpenter","carriage","cars","cart","cast","cat","cats","cattle","cause","cave","celery","cellar","cemetery","cent","chalk","chance","change","channel","cheese","cherries","cherry","chess","chicken","chickens","chin","church","circle","clam","class","cloth","clover","club","coach","coal","coast","coat","cobweb","coil","collar","color","committee","company","comparison","competition","condition","connection","control","cook","copper","corn","cough","country","cover","cow","cows","crack","cracker","crate","crayon","cream","creator","creature","credit","crib","crime","crook","crow","crowd","crown","cub","cup","current","curtain","curve","cushion","day","death","debt","decision","deer","degree","design","desire","desk","destruction","detail","development","digestion","dime","dinner","dinosaurs","direction","dirt","discovery","discussion","distance","distribution","division","dock","doctor","dog","dogs","doll","dolls","donkey","door","downtown","drain","drawer","dress","drink","driving","drop","duck","ducks","dust","ear","earth","earthquake","edge","education","effect","egg","eggnog","eggs","elbow","end","engine","error","event","example","exchange","existence","expansion","experience","expert","eye","eyes","face","fact","fairies","fall","fang","farm","fear","feeling","field","finger","fire","fish","flag","flame","flavor","flesh","flight","flock","floor","flower","flowers","fly","fog","fold","food","foot","force","fork","form","fowl","frame","friction","friend","friends","frog","frogs","front","fruit","fuel","furniture","gate","geese","ghost","giants","giraffe","glass","glove","gold","government","governor","grade","grain","grape","grass","grip","ground","group","growth","guide","guitar","gun","hair","haircut","hall","hammer","hand","hands","harbor","harmony","hat","head","health","heat","hill","history","hobbies","hole","holiday","home","honey","hook","hope","horn","horse","horses","hose","hospital","hot","hour","house","houses","humor","hydrant","ice","icicle","idea","impulse","income","increase","industry","ink","insect","instrument","insurance","interest","invention","iron","island","jail","jam","jar","jeans","jelly","jellyfish","jewel","join","judge","juice","jump","kettle","key","kick","kiss","kittens","kitty","knee","knife","knot","knowledge","laborer","lace","ladybug","lake","lamp","land","language","laugh","leather","leg","legs","letter","letters","lettuce","level","library","limit","line","linen","lip","liquid","loaf","lock","locket","look","loss","love","low","lumber","lunch","lunchroom","machine","magic","maid","mailbox","marble","mark","market","mask","mass","match","meal","measure","meat","meeting","memory","metal","mice","middle","milk","mind","mine","minister","mint","minute","mist","mitten","money","month","moon","morning","mother","motion","mountain","mouth","move","muscle","name","nation","neck","need","needle","nerve","nest","night","noise","north","nose","note","notebook","number","nut","oatmeal","observation","ocean","offer","office","oil","orange","oranges","order","oven","page","pail","pan","pancake","paper","parcel","part","partner","party","passenger","payment","peace","pear","pen","pencil","person","pest","pet","pets","pickle","picture","pie","pies","pig","pigs","pin","pipe","pizzas","place","plane","planes","plant","plantation","plants","plastic","plate","play","playground","pleasure","plot","plough","pocket","point","poison","pollution","popcorn","porter","position","pot","potato","powder","power","price","produce","profit","property","prose","protest","pull","pump","punishment","purpose","push","quarter","quartz","question","quicksand","quiet","quill","quilt","quince","quiver","rabbit","rabbits","rail","railway","rain","rainstorm","rake","range","rat","rate","ray","reaction","reading","reason","receipt","recess","record","regret","relation","religion","representative","request","respect","rest","reward","rhythm","rice","riddle","rifle","ring","rings","river","road","robin","rock","rod","roll","roof","room","root","rose","route","rub","rule","run","sack","sail","salt","sand","scale","scarecrow","scarf","scene","scent","school","science","scissors","screw","sea","seashore","seat","secretary","seed","selection","self","sense","servant","shade","shake","shame","shape","sheep","sheet","shelf","ship","shirt","shock","shoe","shoes","shop","show","side","sidewalk","sign","silk","silver","sink","size","skate","skin","skirt","sky","sleep","sleet","slip","slope","smash","smell","smile","smoke","snail","snails","snake","snakes","sneeze","snow","soap","society","sock","soda","sofa","song","songs","sort","sound","soup","space","spade","spark","spiders","sponge","spoon","spot","spring","spy","square","squirrel","stage","stamp","star","start","statement","station","steam","steel","stem","step","stew","stick","sticks","stitch","stocking","stomach","stone","stop","store","story","stove","stranger","straw","stream","street","stretch","string","structure","substance","sugar","suggestion","suit","summer","sun","support","surprise","sweater","swim","swing","system","table","tail","talk","tank","taste","tax","teaching","team","teeth","temper","tendency","tent","territory","test","texture","theory","thing","things","thought","thread","thrill","throat","throne","thumb","thunder","ticket","tiger","time","tin","title","toad","toe","toes","tomatoes","tongue","tooth","toothbrush","toothpaste","top","touch","town","toy","toys","trade","trail","train","trains","tramp","transport","tray","treatment","tree","trees","trick","trip","trouble","trousers","truck","trucks","tub","turkey","turn","twig","twist","umbrella","underwear","unit","use","vacation","value","van","vase","vegetable","veil","vein","verse","vessel","vest","view","visitor","voice","volcano","volleyball","voyage","walk","wall","war","wash","waste","watch","water","wave","waves","wax","way","wealth","weather","week","weight","wheel","whip","whistle","wilderness","wind","window","wine","wing","winter","wire","wish","wood","wool","word","work","worm","wound","wren","wrench","wrist","writer","writing","yak","yam","yard","yarn","year","yoke","zebra","zephyr","zinc","zipper","zoo"],v=function(){return"".concat(h()(g()(m))," ").concat(h()(g()(O)))},x=n(310),y=n(297),C=n(690),k=n(140),w=n(322),T=n(321),E=n(573),S=n(327),P=n(295),I=n(369),A=n(1240),D=n(439),F=n(12),M=n.n(F),_=n(39),L=n(340),R=n(345),N=n(406),B=n(647),U=n(8),H=M()("electron"),W=M()("@electron/remote"),z=W?W.app:null,V=function(e){return e?"".concat(v()," (").concat(e,")"):v()},G={mobilePortrait:{label:{id:"Mobile portrait - 720x1280"},width:720,height:1280,orientation:"portrait"},mobileLandscape:{label:{id:"Mobile landscape & Desktop - 1280x720"},width:1280,height:720,orientation:"landscape"},desktopHD:{label:{id:"Desktop Full HD - 1920x1080"},width:1920,height:1080,orientation:"default"}};t.a=function(e){var t=e.isOpening,n=e.onClose,o=e.onCreate,u=e.sourceExampleName,j=e.storageProviders,h=e.authenticatedUser,f=e.isFromExample,g=Object(B.a)(),m=c.useContext(_.a),O=m.values,v=m.setNewProjectsDefaultStorageProviderName,F=c.useContext(N.a).currentlyRunningInAppTutorial,M=c.useContext(D.a).openSubscriptionDialog,W=c.useState(null),Z=Object(a.a)(W,2),Y=Z[0],q=Z[1],X=c.useState((function(){return V(u)})),J=Object(a.a)(X,2),K=J[0],Q=J[1],$=c.useState("mobileLandscape"),ee=Object(a.a)($,2),te=ee[0],ne=ee[1],re=c.useState(!1),ae=Object(a.a)(re,2),oe=ae[0],ie=ae[1],se=c.useState(!(F||!g)),ce=Object(a.a)(se,2),ue=ce[0],le=ce[1],de=z?Object(k.b)(z,O.newProjectsDefaultFolder||""):"",be=c.useState(null),pe=Object(a.a)(be,2),je=pe[0],he=pe[1],fe=c.useState((function(){var e=j.find((function(e){return"LocalFile"===e.internalName})),t=j.find((function(e){return"Cloud"===e.internalName}));if(F)return e||C.b;if("Empty"===O.newProjectsDefaultStorageProviderName)return C.b;var n=j.find((function(e){return e.internalName===O.newProjectsDefaultStorageProviderName}));return n||(h.authenticated&&t?t:e||C.b)})),ge=Object(a.a)(fe,2),me=ge[0],Oe=ge[1],ve=me.needUserAuthentication&&!h.authenticated,xe=h.limits,ye="Cloud"===me.internalName&&Object(A.b)(h),Ce=c.useCallback(Object(r.a)(i.a.mark((function e(){var n,r,a,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=2;break}return e.abrupt("return");case 2:if(!ve){e.next=4;break}return e.abrupt("return");case 4:if(q(null),K){e.next=8;break}return q(Object(U.jsx)(s.Trans,{id:"Please enter a name for your project."})),e.abrupt("return");case 8:return r=(n=G[te]).height,a=n.width,c=n.orientation,e.next=11,o({projectName:K,storageProvider:me,saveAsLocation:je,height:r,width:a,orientation:c,optimizeForPixelArt:oe,allowPlayersToLogIn:ue});case 11:case"end":return e.stop()}}),e)}))),[t,o,ve,K,me,je,te,oe,ue]),ke=c.useCallback((function(e,t){Y&&q(null),Q(t)}),[Q,Y]);return Object(U.jsx)(d.c,{open:!0,title:Object(U.jsx)(s.Trans,{id:"New Project"}),id:"project-pre-creation-dialog",maxWidth:"sm",actions:[Object(U.jsx)(b.a,{disabled:t,label:Object(U.jsx)(s.Trans,{id:"Cancel"}),onClick:n},"cancel"),Object(U.jsx)(I.a,{isLoading:t,children:Object(U.jsx)(d.a,{primary:!0,disabled:t||ve||ye,label:Object(U.jsx)(s.Trans,{id:"Create project"}),onClick:Ce,id:"create-project-button"})},"create")],cannotBeDismissed:t,onRequestClose:n,onApply:Ce,children:Object(U.jsxs)(y.a,{noMargin:!0,children:[Object(U.jsx)(p.b,{type:"text",errorText:Y,disabled:t,value:K,onChange:ke,floatingLabelText:Object(U.jsx)(s.Trans,{id:"Project name"}),endAdornment:Object(U.jsx)(x.a,{size:"small",onClick:function(){return Q(V(u))},tooltip:{id:"Generate random name"},children:Object(U.jsx)(l.a,{})}),autoFocus:"desktop"}),Object(U.jsxs)(w.a,{fullWidth:!0,disabled:t,floatingLabelText:Object(U.jsx)(s.Trans,{id:"Where to store this project"}),value:me.internalName,onChange:function(e,t,n){v(n);var r=j.find((function(e){return e.internalName===n}))||C.b;Oe(r),he(null)},children:[j.filter((function(e){return!!e.onRenderNewProjectSaveAsLocationChooser})).map((function(e){return Object(U.jsx)(T.a,{value:e.internalName,primaryText:e.name,disabled:e.disabled},e.internalName)})),!H&&Object(U.jsx)(T.a,{value:C.b.internalName,primaryText:{id:"Don't save this project now"}})]}),ve&&Object(U.jsx)(S.a,{background:"dark",variant:"outlined",children:Object(U.jsx)(P.c,{justifyContent:"center",children:Object(U.jsx)(E.a,{onLogin:h.onLogin,onCreateAccount:h.onCreateAccount,message:Object(U.jsx)(s.Trans,{id:"Create an account to store your project online."})})})}),!ve&&me.onRenderNewProjectSaveAsLocationChooser&&me.onRenderNewProjectSaveAsLocationChooser({projectName:K,saveAsLocation:je,setSaveAsLocation:he,newProjectsDefaultFolder:de}),!f&&Object(U.jsxs)(y.a,{noMargin:!0,children:[Object(U.jsx)(w.a,{fullWidth:!0,disabled:t,floatingLabelText:Object(U.jsx)(s.Trans,{id:"Resolution preset"}),value:te,onChange:function(e,t,n){ne(n)},children:Object.entries(G).map((function(e){var t=Object(a.a)(e,2),n=t[0],r=t[1];return Object(U.jsx)(T.a,{value:n,primaryText:r.label},n)}))}),Object(U.jsx)(L.a,{checked:oe,label:Object(U.jsx)(s.Trans,{id:"Optimize for Pixel Art"}),onCheck:function(e,t){ie(t)},disabled:t}),Object(U.jsx)(L.a,{checked:ue,label:Object(U.jsx)(s.Trans,{id:"Allow players to authenticate in-game"}),onCheck:function(e,t){le(t)},disabled:t,tooltipOrHelperText:Object(U.jsx)(R.a,{translatableSource:{id:"Learn more about [player authentication](https://wiki.gdevelop.io/gdevelop5/all-features/player-authentication)."}})})]}),xe&&ye?Object(U.jsx)(A.a,{limits:xe,onUpgrade:function(){return M({reason:"Cloud Project limit reached"})}}):null]})})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n(3),a=n(17),o=n.n(a),i=n(905),s=n(8),c=o.a.memo((function(e){return Object(s.jsxs)(i.a,Object(r.a)(Object(r.a)({},e),{},{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[Object(s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.75 7C21.75 7.41421 21.4142 7.75 21 7.75H5C4.58579 7.75 4.25 7.41421 4.25 7C4.25 6.58579 4.58579 6.25 5 6.25H21C21.4142 6.25 21.75 6.58579 21.75 7Z",fill:"currentColor"}),Object(s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.75 17C21.75 17.4142 21.4142 17.75 21 17.75H5C4.58579 17.75 4.25 17.4142 4.25 17C4.25 16.5858 4.58579 16.25 5 16.25H21C21.4142 16.25 21.75 16.5858 21.75 17Z",fill:"currentColor"}),Object(s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.75 12C21.75 12.4142 21.4142 12.75 21 12.75H5C4.58579 12.75 4.25 12.4142 4.25 12C4.25 11.5858 4.58579 11.25 5 11.25H21C21.4142 11.25 21.75 11.5858 21.75 12Z",fill:"currentColor"})]}))})),u=n(310),l=n(350),d=n(306),b=n(12),p=n.n(b),j=n(101),h=n(26),f=n(314),g=p()("electron"),m="title-bar-draggable-part",O={container:{display:"flex",flexShrink:0,alignItems:"flex-end"},leftSideArea:{alignSelf:"stretch"},rightSideArea:{alignSelf:"stretch",flex:1},menuIcon:{marginLeft:4,marginRight:4}};function v(e){var t=e.children,n=e.onBuildMenuTemplate,o=Object(f.a)(),i=a.useContext(d.a).titlebar.backgroundColor;a.useEffect((function(){h.b.setTitleBarColor(i)}),[i]),Object(h.c)({onChanged:o});var b=!!g&&Object(j.e)()?76:0,p=!!g&&!Object(j.e)()?150:0,v=navigator.windowControlsOverlay;if(v&&v.visible){var x=v.getTitlebarAreaRect(),y=x.x,C=x.width;b=y,p=window.innerWidth-y-C}return Object(s.jsxs)("div",{style:Object(r.a)(Object(r.a)({},O.container),{},{backgroundColor:i}),children:[Object(s.jsx)("div",{style:Object(r.a)(Object(r.a)({},O.leftSideArea),{},{width:b}),className:m}),Object(s.jsx)(l.a,{element:Object(s.jsx)(u.a,{size:"small",id:"gdevelop-main-menu",style:O.menuIcon,color:"default",children:Object(s.jsx)(c,{})}),buildMenuTemplate:n}),t,Object(s.jsx)("div",{style:Object(r.a)(Object(r.a)({},O.rightSideArea),{},{minWidth:p+30}),className:m})]})}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return A}));var r=n(6),a=n(5),o=n(10),i=n(11),s=n(9),c=n(17),u=n(379),l=n(538),d=n(361),b=n(60),p=n(357),j=n(95),h=n(307),f=n(449),g=n(26),m=n(338),O=n(2593),v=n(397),x=n.n(v),y=n(295),C=n(328),k=n.n(C),w=n(586),T=n(8),E="Events Based Behavior",S={listContainer:{flex:1},tooltip:{marginRight:5,verticalAlign:"bottom"}},P=function(e){return e.isPrivate()?Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(O.a,{title:Object(T.jsx)(s.Trans,{id:"This behavior won't be visible in the events editor."}),children:Object(T.jsx)(x.a,{fontSize:"small",style:S.tooltip})}),Object(T.jsx)("span",{title:e.getName(),children:e.getName()})]}):e.getName()},I=function(e){return e.getName()},A=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={renamedEventsBasedBehavior:null,searchText:""},e._deleteEventsBasedBehavior=function(t,n){var r=n.askForConfirmation,a=e.props.eventsBasedBehaviorsList;if(r&&!g.b.showConfirmDialog("Are you sure you want to remove this behavior? This can't be undone."))return;e.props.onDeleteEventsBasedBehavior(t,(function(n){n&&(a.remove(t.getName()),e._onEventsBasedBehaviorModified())}))},e._editName=function(t){e.setState({renamedEventsBasedBehavior:t},(function(){e.sortableList&&e.sortableList.forceUpdateGrid()}))},e._rename=function(t,n){var r=e.props.eventsBasedBehaviorsList;e.setState({renamedEventsBasedBehavior:null}),t.getName()!==n&&(r.has(n)?Object(b.c)("Another behavior with this name already exists.",{delayToNextTick:!0}):e.props.onRenameEventsBasedBehavior(t,n,(function(r){r&&(t.setName(n),e._onEventsBasedBehaviorModified(),e.props.onEventsBasedBehaviorRenamed(t))})))},e._moveSelectionTo=function(t){var n=e.props,r=n.eventsBasedBehaviorsList,a=n.selectedEventsBasedBehavior;if(a){var o=r.getPosition(a),i=r.getPosition(t);r.move(o,i+(i<=o?0:-1)),e.forceUpdateList()}},e._togglePrivate=function(t){t.setPrivate(!t.isPrivate()),e.forceUpdate()},e.forceUpdateList=function(){e._onEventsBasedBehaviorModified(),e.sortableList&&e.sortableList.forceUpdateGrid()},e._copyEventsBasedBehavior=function(e){f.b.set(E,{eventsBasedBehavior:Object(m.b)(e),name:e.getName()})},e._cutEventsBasedBehavior=function(t){e._copyEventsBasedBehavior(t),e._deleteEventsBasedBehavior(t,{askForConfirmation:!1})},e._pasteEventsBasedBehavior=function(t){if(f.b.has(E)){var n=f.b.get(E),r=f.a.extractObjectProperty(n,"eventsBasedBehavior"),a=f.a.extractStringProperty(n,"name");if(a&&r){var o=e.props,i=o.project,s=o.eventsBasedBehaviorsList,c=Object(j.a)(a,(function(e){return s.has(e)})),u=s.insertNew(c,t);Object(m.c)(u,r,"unserializeFrom",i),u.setName(c),e._onEventsBasedBehaviorModified(),e.props.onSelectEventsBasedBehavior(u),e._editName(u)}}},e._renderEventsBasedBehaviorMenuTemplate=function(t){return function(n,r){return[{label:t._({id:"Properties"}),click:function(){return e.props.onEditProperties(n)}},{type:"separator"},{label:t._({id:"Rename"}),click:function(){return e._editName(n)}},{label:t._({id:"Delete"}),click:function(){return e._deleteEventsBasedBehavior(n,{askForConfirmation:!0})}},{label:n.isPrivate()?t._({id:"Make public"}):t._({id:"Make private"}),click:function(){return e._togglePrivate(n)}},{type:"separator"},{label:t._({id:"Copy"}),click:function(){return e._copyEventsBasedBehavior(n)}},{label:t._({id:"Cut"}),click:function(){return e._cutEventsBasedBehavior(n)}},{label:t._({id:"Paste"}),enabled:f.b.has(E),click:function(){return e._pasteEventsBasedBehavior(r+1)}}]}},e._addNewEventsBasedBehavior=function(){var t=e.props.eventsBasedBehaviorsList,n=Object(j.a)("MyBehavior",(function(e){return t.has(e)})),r=t.insertNew(n,t.getCount());e._onEventsBasedBehaviorModified(),e.props.onSelectEventsBasedBehavior(r),e._editName(r)},e}return Object(a.a)(n,[{key:"_onEventsBasedBehaviorModified",value:function(){this.props.unsavedChanges&&this.props.unsavedChanges.triggerUnsavedChanges(),this.forceUpdate()}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.project,a=n.eventsBasedBehaviorsList,o=n.selectedEventsBasedBehavior,i=n.onSelectEventsBasedBehavior,c=this.state.searchText,b=function(e,t){if(!t)return e;var n=t.toLowerCase();return e.filter((function(e){return-1!==e.getName().toLowerCase().indexOf(n)}))}((e=a,Object(h.mapVector)(e,(function(e){return e}))),c),j=r.ptr+";"+a.ptr;return Object(T.jsxs)(p.a,{children:[Object(T.jsx)(y.c,{children:Object(T.jsx)(y.a,{expand:!0,children:Object(T.jsx)(d.a,{value:c,onRequestSearch:function(){},onChange:function(e){return t.setState({searchText:e})},placeholder:{id:"Search behaviors"}})})}),Object(T.jsx)("div",{style:S.listContainer,children:Object(T.jsx)(u.a,{children:function(e){var n=e.height,r=e.width;return Object(T.jsx)(s.I18n,{children:function(e){var a=e.i18n;return Object(T.jsx)(l.a,{ref:function(e){return t.sortableList=e},fullList:b,width:r,height:n,renderItemLabel:P,getItemName:I,selectedItems:o?[o]:[],onItemSelected:i,renamedItem:t.state.renamedEventsBasedBehavior,onRename:t._rename,onMoveSelectionToItem:t._moveSelectionTo,buildMenuTemplate:t._renderEventsBasedBehaviorMenuTemplate(a),reactDndType:"GD_EVENTS_BASED_BEHAVIOR"},j)}})}})}),Object(T.jsx)(y.c,{children:Object(T.jsx)(y.a,{expand:!0,children:Object(T.jsx)(w.a,{label:Object(T.jsx)(s.Trans,{id:"Add a new behavior"}),primary:!0,onClick:this._addNewEventsBasedBehavior,icon:Object(T.jsx)(k.a,{})})})})]})}}]),n}(c.Component);A.defaultProps={onDeleteEventsBasedBehavior:function(e,t){return t(!0)},onRenameEventsBasedBehavior:function(e,t,n){return n(!0)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var r=n(6),a=n(5),o=n(10),i=n(11),s=n(9),c=n(17),u=n(379),l=n(538),d=n(361),b=n(60),p=n(357),j=n(95),h=n(307),f=n(449),g=n(26),m=n(338),O=n(295),v=n(328),x=n.n(v),y=n(586),C=n(8),k="Events Based Object",w={listContainer:{flex:1}},T=function(e){return e.getName()},E=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={renamedEventsBasedObject:null,searchText:""},e._deleteEventsBasedObject=function(t,n){var r=n.askForConfirmation,a=e.props.eventsBasedObjectsList;if(r&&!g.b.showConfirmDialog("Are you sure you want to remove this object? This can't be undone."))return;e.props.onDeleteEventsBasedObject(t,(function(n){n&&(a.remove(t.getName()),e._onEventsBasedObjectModified())}))},e._editName=function(t){e.setState({renamedEventsBasedObject:t},(function(){e.sortableList&&e.sortableList.forceUpdateGrid()}))},e._rename=function(t,n){var r=e.props.eventsBasedObjectsList;e.setState({renamedEventsBasedObject:null}),t.getName()!==n&&(r.has(n)?Object(b.c)("Another object with this name already exists.",{delayToNextTick:!0}):e.props.onRenameEventsBasedObject(t,n,(function(r){r&&(t.setName(n),e._onEventsBasedObjectModified(),e.props.onEventsBasedObjectRenamed(t))})))},e._moveSelectionTo=function(t){var n=e.props,r=n.eventsBasedObjectsList,a=n.selectedEventsBasedObject;if(a){var o=r.getPosition(a),i=r.getPosition(t);r.move(o,i+(i<=o?0:-1)),e.forceUpdateList()}},e.forceUpdateList=function(){e._onEventsBasedObjectModified(),e.sortableList&&e.sortableList.forceUpdateGrid()},e._copyEventsBasedObject=function(e){f.b.set(k,{eventsBasedObject:Object(m.b)(e),name:e.getName()})},e._cutEventsBasedObject=function(t){e._copyEventsBasedObject(t),e._deleteEventsBasedObject(t,{askForConfirmation:!1})},e._pasteEventsBasedObject=function(t){if(f.b.has(k)){var n=f.b.get(k),r=f.a.extractObjectProperty(n,"eventsBasedObject"),a=f.a.extractStringProperty(n,"name");if(a&&r){var o=e.props,i=o.project,s=o.eventsBasedObjectsList,c=Object(j.a)(a,(function(e){return s.has(e)})),u=s.insertNew(c,t);Object(m.c)(u,r,"unserializeFrom",i),u.setName(c),e._onEventsBasedObjectModified(),e.props.onSelectEventsBasedObject(u),e._editName(u)}}},e._renderEventsBasedObjectMenuTemplate=function(t){return function(n,r){return[{label:t._({id:"Properties"}),click:function(){return e.props.onEditProperties(n)}},{type:"separator"},{label:t._({id:"Rename"}),click:function(){return e._editName(n)}},{label:t._({id:"Delete"}),click:function(){return e._deleteEventsBasedObject(n,{askForConfirmation:!0})}},{type:"separator"},{label:t._({id:"Copy"}),click:function(){return e._copyEventsBasedObject(n)}},{label:t._({id:"Cut"}),click:function(){return e._cutEventsBasedObject(n)}},{label:t._({id:"Paste"}),enabled:f.b.has(k),click:function(){return e._pasteEventsBasedObject(r+1)}}]}},e._addNewEventsBasedObject=function(){var t=e.props.eventsBasedObjectsList,n=Object(j.a)("MyObject",(function(e){return t.has(e)})),r=t.insertNew(n,t.getCount());e._onEventsBasedObjectModified(),e.props.onSelectEventsBasedObject(r),e._editName(r)},e}return Object(a.a)(n,[{key:"_onEventsBasedObjectModified",value:function(){this.props.unsavedChanges&&this.props.unsavedChanges.triggerUnsavedChanges(),this.forceUpdate()}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,r=t.eventsBasedObjectsList,a=t.selectedEventsBasedObject,o=t.onSelectEventsBasedObject,i=this.state.searchText,c=function(e,t){if(!t)return e;var n=t.toLowerCase();return e.filter((function(e){return-1!==e.getName().toLowerCase().indexOf(n)}))}(function(e){return Object(h.mapVector)(e,(function(e){return e}))}(r),i),b=n.ptr+";"+r.ptr;return Object(C.jsxs)(p.a,{children:[Object(C.jsx)(O.c,{children:Object(C.jsx)(O.a,{expand:!0,children:Object(C.jsx)(d.a,{value:i,onRequestSearch:function(){},onChange:function(t){return e.setState({searchText:t})},placeholder:{id:"Search objects"}})})}),Object(C.jsx)("div",{style:w.listContainer,children:Object(C.jsx)(u.a,{children:function(t){var n=t.height,r=t.width;return Object(C.jsx)(s.I18n,{children:function(t){var i=t.i18n;return Object(C.jsx)(l.a,{ref:function(t){return e.sortableList=t},fullList:c,width:r,height:n,getItemName:T,selectedItems:a?[a]:[],onItemSelected:o,renamedItem:e.state.renamedEventsBasedObject,onRename:e._rename,onMoveSelectionToItem:e._moveSelectionTo,buildMenuTemplate:e._renderEventsBasedObjectMenuTemplate(i),reactDndType:"GD_EVENTS_BASED_OBJECT"},b)}})}})}),Object(C.jsx)(O.c,{children:Object(C.jsx)(O.a,{expand:!0,children:Object(C.jsx)(y.a,{label:Object(C.jsx)(s.Trans,{id:"Add a new object"}),primary:!0,onClick:this._addNewEventsBasedObject,icon:Object(C.jsx)(x.a,{})})})})]})}}]),n}(c.Component);E.defaultProps={onDeleteEventsBasedObject:function(e,t){return t(!0)},onRenameEventsBasedObject:function(e,t,n){return n(!0)}}},function(e,t,n){"use strict";var r=n(6),a=n(5),o=n(10),i=n(11),s=n(17),c=n.n(s),u=n(3),l=n(905),d=n(8),b=c.a.memo((function(e){return Object(d.jsxs)(l.a,Object(u.a)(Object(u.a)({},e),{},{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[Object(d.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 7.75C4 7.33579 4.33579 7 4.75 7H17.25C18.7688 7 20 8.23122 20 9.75V17.25C20 18.7688 18.7688 20 17.25 20H6.75C5.23122 20 4 18.7688 4 17.25V7.75ZM5.5 8.5V17.25C5.5 17.9404 6.05964 18.5 6.75 18.5H17.25C17.9404 18.5 18.5 17.9404 18.5 17.25V9.75C18.5 9.05964 17.9404 8.5 17.25 8.5H5.5Z",fill:"currentColor"}),Object(d.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 6.75C4 5.23122 5.23122 4 6.75 4H10.8127C11.819 4 12.7451 4.54965 13.227 5.43322L14.1584 7.14085C14.3568 7.50449 14.2228 7.96007 13.8591 8.15842C13.4955 8.35677 13.0399 8.22278 12.8416 7.85915L11.9101 6.15145C11.6911 5.74995 11.2702 5.5 10.8127 5.5H6.75C6.05964 5.5 5.5 6.05964 5.5 6.75V11C5.5 11.4142 5.16421 11.75 4.75 11.75C4.33579 11.75 4 11.4142 4 11V6.75Z",fill:"currentColor"})]}))})),p=n(827),j=n(1233),h=n(500),f=n(826),g=n(310),m=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e=this.props.canDelete;return Object(d.jsxs)(h.b,{lastChild:!0,children:[Object(d.jsx)(g.a,{size:"small",color:"default",onClick:this.props.onOpenProjectFolder,tooltip:{id:"Open the project folder"},children:Object(d.jsx)(b,{})}),Object(d.jsx)(f.a,{}),Object(d.jsx)(g.a,{size:"small",color:"default",onClick:this.props.onOpenProperties,tooltip:{id:"Open the properties panel"},children:Object(d.jsx)(j.a,{})}),Object(d.jsx)(g.a,{size:"small",color:"default",onClick:this.props.onDeleteSelection,disabled:!e,tooltip:{id:"Delete the selected resource"},children:Object(d.jsx)(p.a,{})})]})}}]),n}(s.PureComponent);t.a=m},,,,function(e,t,n){"use strict";var r=n(1),a=n(6),o=n(5),i=n(10),s=n(11),c=n(17),u=n(317),l=n.n(u),d=n(349),b=n(8),p=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e;return Object(b.jsx)("p",{className:l()((e={},Object(r.a)(e,d.o,!0),Object(r.a)(e,d.p,this.props.selected),e)),children:"Unknown event of type "+this.props.event.getType()})}}]),n}(c.Component),j=n(1879),h=n(1957),f=n(1958),g=n(1959),m=n(1960),O=n(1961),v=n(1962),x=n(1963),y=n(1965),C={components:{unknownEvent:p,"BuiltinCommonInstructions::Standard":j.a,"BuiltinCommonInstructions::Group":h.a,"BuiltinCommonInstructions::Comment":f.a,"BuiltinCommonInstructions::ForEach":g.a,"BuiltinCommonInstructions::ForEachChildVariable":m.a,"BuiltinCommonInstructions::Repeat":O.a,"BuiltinCommonInstructions::While":v.a,"BuiltinCommonInstructions::Link":x.a,"BuiltinCommonInstructions::JsCode":y.a},getEventComponent:function(e){return this.components.hasOwnProperty(e.getType())?this.components[e.getType()]:this.components.unknownEvent},registerEvent:function(e,t){this.components.hasOwnProperty(e)?this.components[e]=t:console.warn('Tried to register renderer for events "'+e+'", but a renderer already exists.')}};t.a=C},function(e,t,n){"use strict";n.d(t,"b",(function(){return I}));var r=n(3),a=n(34),o=n(2),i=n(0),s=n.n(i),c=n(17),u=n.n(c),l=n(9),d=n(469),b=n.n(d),p=n(322),j=n(321),h=n(297),f=n(452),g=n(648),m=n(1272),O=n(303),v=n(298),x=n(318),y=n(8),C=function(e){var t=e.onClose,n=e.open,r=e.project,o=e.leaderboardId,i=u.a.useState(!1),s=Object(a.a)(i,2),c=s[0],d=s[1];return Object(y.jsx)(O.c,{title:Object(y.jsx)(l.Trans,{id:"Leaderboards"}),id:"leaderboard-admin-dialog",actions:[Object(y.jsx)(v.a,{id:"close-button",label:Object(y.jsx)(l.Trans,{id:"Close"}),disabled:c,onClick:t},"Close")],secondaryActions:[Object(y.jsx)(x.a,{helpPagePath:"/interface/games-dashboard/leaderboard-administration"},"help")],open:n,cannotBeDismissed:c,onRequestClose:t,flexBody:!0,fullHeight:!0,children:Object(y.jsx)(m.a,{onLoading:d,project:r,leaderboardIdToSelectAtOpening:o})})},k=n(356),w=n(454),T=n(647),E=function(e,t){if(!e)return t;var n=e.find((function(e){return'"'.concat(e.id,'"')===t}));return n?n.name:t},S=function(){var e=u.a.useContext(g.a),t=e.leaderboards,n=e.listLeaderboards,r=u.a.useCallback(Object(o.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n();case 2:case"end":return e.stop()}}),e)}))),[n]);return u.a.useEffect((function(){t||r()}),[r,t]),t},P=(t.a=u.a.forwardRef((function(e,t){var n=Object(T.a)(),o=S(),i=u.a.useState(!1),s=Object(a.a)(i,2),c=s[0],d=s[1],g=u.a.useRef(null);u.a.useImperativeHandle(t,(function(){return{focus:function(){g.current&&g.current.focus()}}}));var m=o&&!!o.find((function(t){return'"'.concat(t.id,'"')===e.value})),O=u.a.useState(!o||!!e.value&&!m),v=Object(a.a)(O,2),x=v[0],E=v[1],P=function(t,n){e.onChange(t.target.value)},I=function(t){e.onChange(t)},A=e.parameterMetadata?e.parameterMetadata.getDescription():void 0,D=o&&o.length>0,F=u.a.useMemo((function(){return o&&D?o.map((function(e){return Object(y.jsx)(j.a,{value:'"'.concat(e.id,'"'),primaryText:"".concat(e.name," ").concat(e.id?"(".concat(Object(w.m)(e.id),")"):"")},e.id)})):[Object(y.jsx)(j.a,{disabled:!0,value:"empty",primaryText:""},"empty")]}),[o,D]);return Object(y.jsx)(l.I18n,{children:function(t){var a=t.i18n;return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(h.d,{renderTextField:function(){return x?Object(y.jsx)(k.a,Object(r.a)(Object(r.a)({ref:g,expressionType:"string"},e),{},{onChange:I,onExtractAdditionalErrors:function(e,t){if(!o)return n?"Your game may not be registered, create one in the leaderboard manager.":"Unable to fetch leaderboards as you are offline."}})):Object(y.jsx)(p.a,{ref:g,value:e.value,onChange:P,margin:e.isInline?"none":"dense",fullWidth:!0,floatingLabelText:A,translatableHintText:D?e.parameterMetadata&&e.parameterMetadata.isOptional()?{id:"Choose a leaderboard (optional)"}:{id:"Choose a leaderboard"}:{id:"No leaderboards"},helperMarkdownText:D?e.parameterMetadata&&e.parameterMetadata.getLongDescription()||null:a._({id:"There are currently no leaderboards created for this game. Open the leaderboards manager to create one."}),children:F})},renderButton:function(e){return Object(y.jsx)(f.a,{id:"open-leaderboard-admin-button",icon:Object(y.jsx)(b.a,{}),style:e,primary:!0,onClick:function(){return d(!0)},buildMenuTemplate:function(e){return[{label:x?e._({id:"Select the leaderboard from a list"}):e._({id:"Enter the leaderboard id as a text or an expression"}),disabled:!o,click:function(){return E(!x)}}]}})}}),c&&!!e.project&&Object(y.jsx)(C,{onClose:function(){return d(!1)},open:c,project:e.project,leaderboardId:m?e.value.replace(/"/g,""):void 0})]})}})})),function(e){var t=e.value,n=e.parameterMetadata,r=e.InvalidParameterValue,a=S();return t?Object(y.jsx)("span",{children:E(a,t)}):n.isOptional()?Object(y.jsx)("span",{children:Object(y.jsx)(l.Trans,{id:"No leaderboard chosen"})}):Object(y.jsx)(r,{isEmpty:!0,children:Object(y.jsx)(l.Trans,{id:"Choose a leaderboard"})})}),I=function(e){return Object(y.jsx)(P,Object(r.a)({},e))}},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var r=n(3),a=n(6),o=n(5),i=n(10),s=n(11),c=n(9),u=n(17),l=n(417),d=n(12),b=n.n(d),p=b()("fs"),j=b()("path"),h=function(e){var t=function(t){return p.readdir(t,(function(n,r){n?console.error("Unable to read GDJS files for setting up autocompletions:",n):r.forEach((function(n){if(n.endsWith(".ts")||n.endsWith(".js")){var r=j.join(t,n);p.readFile(r,"utf8",(function(t,n){t?console.error("Unable to read ".concat(r," for setting up autocompletions:"),t):e.languages.typescript.javascriptDefaults.addExtraLib(n,r)}))}}))}))};Object(l.findGDJS)().then((function(n){var r=n.gdjsRoot,a=j.join(r,"Runtime-sources"),o=j.join(a,"types"),i=j.join(a,"libs"),s=j.join(a,"pixi-renderers"),c=j.join(a,"cocos-renderers"),u=j.join(a,"howler-sound-manager"),l=j.join(a,"cocos-sound-manager"),d=j.join(a,"fontfaceobserver-font-manager"),b=j.join(a,"Extensions"),h=j.join(a,"events-tools");t(a),t(o),t(i),t(s),t(c),t(u),t(l),t(d),t(h),p.readdir(b,(function(e,n){e?console.error("Unable to read Extensions folders for setting up autocompletions:",e):n.filter((function(e){return!e.endsWith(".txt")&&!e.endsWith(".md")&&!e.endsWith(".flow.js")&&!e.endsWith(".gitignore")})).forEach((function(e){return t(j.join(b,e))}))})),e.languages.typescript.javascriptDefaults.addExtraLib("\n/** Represents the scene being played. */\nvar runtimeScene = new gdjs.RuntimeScene();\n\n/**\n * The instances of objects that are passed to your JavaScript function.\n * @type {gdjs.RuntimeObject[]}\n */\nvar objects = [];\n\n/**\n * @type {EventsFunctionContext}\n */\nvar eventsFunctionContext = {};\n","this-mock-the-context-of-events.js")}))},f=n(323),g=n(305),m=n(296),O=n(39),v=n(1268),x=n(8),y={scrollBeyondLastLine:!1,minimap:{enabled:!1}},C=!1,k=!1,w=function(e){Object(i.a)(l,e);var t=Object(s.a)(l);function l(){var e;Object(a.a)(this,l);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={MonacoEditor:null,error:null},e.setupEditorThemes=function(e){k||(k=!0,Object(v.a)().forEach((function(t){t.themeData&&e.editor.defineTheme(t.themeName,t.themeData)})))},e.setUpSaveOnEditorBlur=function(t){t.onDidBlurEditorText(e.props.onBlur)},e.setUpEditorFocus=function(t){t.onDidFocusEditorText(e.props.onFocus)},e.setupEditorCompletions=function(t,n){e.setUpEditorFocus(t),e.setUpSaveOnEditorBlur(t),C||(C=!0,n.languages.typescript.javascriptDefaults.setCompilerOptions({target:n.languages.typescript.ScriptTarget.ES6,allowNonTsExtensions:!0,allowJs:!0,checkJs:!0}),h(n)),e.props.onEditorMounted&&e.props.onEditorMounted()},e._handleContextMenu=function(e){e.preventDefault(),e.stopPropagation()},e}return Object(o.a)(l,[{key:"componentDidMount",value:function(){this.loadMonacoEditor()}},{key:"handleLoadError",value:function(e){this.setState({error:e})}},{key:"loadMonacoEditor",value:function(){var e=this;this.setState({error:null}),window.MonacoEnvironment={getWorkerUrl:function(e,t){return"external/monaco-editor-min/vs/base/worker/workerMain.js"}},n.e(67).then(n.t.bind(null,2665,7)).then((function(t){return e.setState({MonacoEditor:t.default})})).catch(this.handleLoadError)}},{key:"render",value:function(){var e=this,t=this.state,n=t.MonacoEditor;return t.error?Object(x.jsxs)(u.Fragment,{children:[Object(x.jsx)(m.a,{children:Object(x.jsx)(c.Trans,{id:"Unable to load the code editor"})}),Object(x.jsx)(g.a,{label:Object(x.jsx)(c.Trans,{id:"Retry"}),onClick:this.loadMonacoEditor})]}):n?Object(x.jsx)("div",{onContextMenu:this._handleContextMenu,children:Object(x.jsx)(O.a.Consumer,{children:function(t){var a=t.values;return Object(x.jsx)(n,{width:e.props.width||600,height:e.props.height||200,language:"javascript",theme:a.codeEditorThemeName,value:e.props.value,onChange:e.props.onChange,editorWillMount:e.setupEditorThemes,editorDidMount:e.setupEditorCompletions,options:Object(r.a)(Object(r.a)({},y),{},{fontSize:a.eventsSheetZoomLevel,wordWrap:"on"})})}})}):Object(x.jsx)(f.a,{})}}]),l}(u.Component)}])]);
//# sourceMappingURL=1.8743441a.chunk.js.map